import{d as commonjsGlobal,g as getDefaultExportFromCjs$1,e as getAccountTransactionSignDigest,B as Buffer$1,s as signAsync,T as TypedJsonDiscriminator,f as secondsSinceEpoch,h as serializeCredentialDeploymentPayload$1,i as generateBakerKeys$1,t as toBase58,_ as _assert,u as utils$o,j as _md,k as sha256$3,l as isHex$4,m as getAccountSigningKey,n as getAccountPublicKey,o as getCredentialId,p as getPrfKey,q as getIdCredSec,r as getSignatureBlindingRandomness,v as getAttributeCommitmentRandomness,w as getVerifiableCredentialSigningKey,x as getVerifiableCredentialPublicKey,y as getVerifiableCredentialBackupEncryptionKey,z as getAugmentedNamespace,A as dist$6,C as minimalisticAssert,D as inherits_browserExports,E as Buffer$2,F as hash$6,G as bs58,H as hash$7,I as bs58check$2,J as _default,K as global$19,L as sha256_1$3,M as bs58check$3,N as unwrap,O as fromProto$1,P as AccountInfoType,Q as fromBuffer$2,R as fromMicroCcd,S as DelegationTargetType,U as StakePendingChangeType,V as OpenStatus,W as OpenStatusText,X as AttributesKeys,Y as signCredentialTransaction,Z as fromBase58,$ as AccountTransactionType,a0 as getAccountTransactionHandler,a1 as serializeAccountTransactionPayload,a2 as calculateEnergyCost,a3 as toProto$2,a4 as getAccountAddress,__tla as __tla_0}from"./bundle2.js";Promise.all([(()=>{try{return __tla_0}catch{}})()]).then(async()=>{function _mergeNamespaces(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var jsonBigint={exports:{}},stringify={exports:{}},bignumber={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,o=Math.floor,u="[BigNumber Error] ",p=u+"Number primitive has more than 15 significant digits: ",b=1e14,m=14,y=9007199254740991,A=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],I=1e7,M=1e9;function C(J){var ce,oe,Z,ie=V.prototype={constructor:V,toString:null,valueOf:null},s=new V(1),d=20,l=4,v=-7,S=21,O=-1e7,T=1e7,_=!1,c=1,w=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},F="0123456789abcdefghijklmnopqrstuvwxyz",q=!0;function V(W,U){var j,ee,X,ne,de,re,ae,ue,se=this;if(!(se instanceof V))return new V(W,U);if(U==null){if(W&&W._isBigNumber===!0){se.s=W.s,!W.c||W.e>T?se.c=se.e=null:W.e<O?se.c=[se.e=0]:(se.e=W.e,se.c=W.c.slice());return}if((re=typeof W=="number")&&W*0==0){if(se.s=1/W<0?(W=-W,-1):1,W===~~W){for(ne=0,de=W;de>=10;de/=10,ne++);ne>T?se.c=se.e=null:(se.e=ne,se.c=[W]);return}ue=String(W)}else{if(!n.test(ue=String(W)))return Z(se,ue,re);se.s=ue.charCodeAt(0)==45?(ue=ue.slice(1),-1):1}(ne=ue.indexOf("."))>-1&&(ue=ue.replace(".","")),(de=ue.search(/e/i))>0?(ne<0&&(ne=de),ne+=+ue.slice(de+1),ue=ue.substring(0,de)):ne<0&&(ne=ue.length)}else{if(N(U,2,F.length,"Base"),U==10&&q)return se=new V(W),H(se,d+se.e+1,l);if(ue=String(W),re=typeof W=="number"){if(W*0!=0)return Z(se,ue,re,U);if(se.s=1/W<0?(ue=ue.slice(1),-1):1,V.DEBUG&&ue.replace(/^0\.0*|\./,"").length>15)throw Error(p+W)}else se.s=ue.charCodeAt(0)===45?(ue=ue.slice(1),-1):1;for(j=F.slice(0,U),ne=de=0,ae=ue.length;de<ae;de++)if(j.indexOf(ee=ue.charAt(de))<0){if(ee=="."){if(de>ne){ne=ae;continue}}else if(!X&&(ue==ue.toUpperCase()&&(ue=ue.toLowerCase())||ue==ue.toLowerCase()&&(ue=ue.toUpperCase()))){X=!0,de=-1,ne=0;continue}return Z(se,String(W),re,U)}re=!1,ue=oe(ue,U,10,se.s),(ne=ue.indexOf("."))>-1?ue=ue.replace(".",""):ne=ue.length}for(de=0;ue.charCodeAt(de)===48;de++);for(ae=ue.length;ue.charCodeAt(--ae)===48;);if(ue=ue.slice(de,++ae)){if(ae-=de,re&&V.DEBUG&&ae>15&&(W>y||W!==o(W)))throw Error(p+se.s*W);if((ne=ne-de-1)>T)se.c=se.e=null;else if(ne<O)se.c=[se.e=0];else{if(se.e=ne,se.c=[],de=(ne+1)%m,ne<0&&(de+=m),de<ae){for(de&&se.c.push(+ue.slice(0,de)),ae-=m;de<ae;)se.c.push(+ue.slice(de,de+=m));de=m-(ue=ue.slice(de)).length}else de-=ae;for(;de--;ue+="0");se.c.push(+ue)}}else se.c=[se.e=0]}V.clone=C,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(W){var U,j;if(W!=null)if(typeof W=="object"){if(W.hasOwnProperty(U="DECIMAL_PLACES")&&(j=W[U],N(j,0,M,U),d=j),W.hasOwnProperty(U="ROUNDING_MODE")&&(j=W[U],N(j,0,8,U),l=j),W.hasOwnProperty(U="EXPONENTIAL_AT")&&(j=W[U],j&&j.pop?(N(j[0],-M,0,U),N(j[1],0,M,U),v=j[0],S=j[1]):(N(j,-M,M,U),v=-(S=j<0?-j:j))),W.hasOwnProperty(U="RANGE"))if(j=W[U],j&&j.pop)N(j[0],-M,-1,U),N(j[1],1,M,U),O=j[0],T=j[1];else if(N(j,-M,M,U),j)O=-(T=j<0?-j:j);else throw Error(u+U+" cannot be zero: "+j);if(W.hasOwnProperty(U="CRYPTO"))if(j=W[U],j===!!j)if(j)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))_=j;else throw _=!j,Error(u+"crypto unavailable");else _=j;else throw Error(u+U+" not true or false: "+j);if(W.hasOwnProperty(U="MODULO_MODE")&&(j=W[U],N(j,0,9,U),c=j),W.hasOwnProperty(U="POW_PRECISION")&&(j=W[U],N(j,0,M,U),w=j),W.hasOwnProperty(U="FORMAT"))if(j=W[U],typeof j=="object")x=j;else throw Error(u+U+" not an object: "+j);if(W.hasOwnProperty(U="ALPHABET"))if(j=W[U],typeof j=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(j))q=j.slice(0,10)=="0123456789",F=j;else throw Error(u+U+" invalid: "+j)}else throw Error(u+"Object expected: "+W);return{DECIMAL_PLACES:d,ROUNDING_MODE:l,EXPONENTIAL_AT:[v,S],RANGE:[O,T],CRYPTO:_,MODULO_MODE:c,POW_PRECISION:w,FORMAT:x,ALPHABET:F}},V.isBigNumber=function(W){if(!W||W._isBigNumber!==!0)return!1;if(!V.DEBUG)return!0;var U,j,ee=W.c,X=W.e,ne=W.s;e:if({}.toString.call(ee)=="[object Array]"){if((ne===1||ne===-1)&&X>=-M&&X<=M&&X===o(X)){if(ee[0]===0){if(X===0&&ee.length===1)return!0;break e}if(U=(X+1)%m,U<1&&(U+=m),String(ee[0]).length==U){for(U=0;U<ee.length;U++)if(j=ee[U],j<0||j>=b||j!==o(j))break e;if(j!==0)return!0}}}else if(ee===null&&X===null&&(ne===null||ne===1||ne===-1))return!0;throw Error(u+"Invalid BigNumber: "+W)},V.maximum=V.max=function(){return Q(arguments,-1)},V.minimum=V.min=function(){return Q(arguments,1)},V.random=function(){var W=9007199254740992,U=Math.random()*W&2097151?function(){return o(Math.random()*W)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(j){var ee,X,ne,de,re,ae=0,ue=[],se=new V(s);if(j==null?j=d:N(j,0,M),de=a(j/m),_)if(crypto.getRandomValues){for(ee=crypto.getRandomValues(new Uint32Array(de*=2));ae<de;)re=ee[ae]*131072+(ee[ae+1]>>>11),re>=9e15?(X=crypto.getRandomValues(new Uint32Array(2)),ee[ae]=X[0],ee[ae+1]=X[1]):(ue.push(re%1e14),ae+=2);ae=de/2}else if(crypto.randomBytes){for(ee=crypto.randomBytes(de*=7);ae<de;)re=(ee[ae]&31)*281474976710656+ee[ae+1]*1099511627776+ee[ae+2]*4294967296+ee[ae+3]*16777216+(ee[ae+4]<<16)+(ee[ae+5]<<8)+ee[ae+6],re>=9e15?crypto.randomBytes(7).copy(ee,ae):(ue.push(re%1e14),ae+=7);ae=de/7}else throw _=!1,Error(u+"crypto unavailable");if(!_)for(;ae<de;)re=U(),re<9e15&&(ue[ae++]=re%1e14);for(de=ue[--ae],j%=m,de&&j&&(re=A[m-j],ue[ae]=o(de/re)*re);ue[ae]===0;ue.pop(),ae--);if(ae<0)ue=[ne=0];else{for(ne=-1;ue[0]===0;ue.splice(0,1),ne-=m);for(ae=1,re=ue[0];re>=10;re/=10,ae++);ae<m&&(ne-=m-ae)}return se.e=ne,se.c=ue,se}}(),V.sum=function(){for(var W=1,U=arguments,j=new V(U[0]);W<U.length;)j=j.plus(U[W++]);return j},oe=function(){var W="0123456789";function U(j,ee,X,ne){for(var de,re=[0],ae,ue=0,se=j.length;ue<se;){for(ae=re.length;ae--;re[ae]*=ee);for(re[0]+=ne.indexOf(j.charAt(ue++)),de=0;de<re.length;de++)re[de]>X-1&&(re[de+1]==null&&(re[de+1]=0),re[de+1]+=re[de]/X|0,re[de]%=X)}return re.reverse()}return function(j,ee,X,ne,de){var re,ae,ue,se,le,Re,he,fe,Fe=j.indexOf("."),me=d,pe=l;for(Fe>=0&&(se=w,w=0,j=j.replace(".",""),fe=new V(ee),Re=fe.pow(j.length-Fe),w=se,fe.c=U(K(B(Re.c),Re.e,"0"),10,X,W),fe.e=fe.c.length),he=U(j,ee,X,de?(re=F,W):(re=W,F)),ue=se=he.length;he[--se]==0;he.pop());if(!he[0])return re.charAt(0);if(Fe<0?--ue:(Re.c=he,Re.e=ue,Re.s=ne,Re=ce(Re,fe,me,pe,X),he=Re.c,le=Re.r,ue=Re.e),ae=ue+me+1,Fe=he[ae],se=X/2,le=le||ae<0||he[ae+1]!=null,le=pe<4?(Fe!=null||le)&&(pe==0||pe==(Re.s<0?3:2)):Fe>se||Fe==se&&(pe==4||le||pe==6&&he[ae-1]&1||pe==(Re.s<0?8:7)),ae<1||!he[0])j=le?K(re.charAt(1),-me,re.charAt(0)):re.charAt(0);else{if(he.length=ae,le)for(--X;++he[--ae]>X;)he[ae]=0,ae||(++ue,he=[1].concat(he));for(se=he.length;!he[--se];);for(Fe=0,j="";Fe<=se;j+=re.charAt(he[Fe++]));j=K(j,ue,re.charAt(0))}return j}}(),ce=function(){function W(ee,X,ne){var de,re,ae,ue,se=0,le=ee.length,Re=X%I,he=X/I|0;for(ee=ee.slice();le--;)ae=ee[le]%I,ue=ee[le]/I|0,de=he*ae+ue*Re,re=Re*ae+de%I*I+se,se=(re/ne|0)+(de/I|0)+he*ue,ee[le]=re%ne;return se&&(ee=[se].concat(ee)),ee}function U(ee,X,ne,de){var re,ae;if(ne!=de)ae=ne>de?1:-1;else for(re=ae=0;re<ne;re++)if(ee[re]!=X[re]){ae=ee[re]>X[re]?1:-1;break}return ae}function j(ee,X,ne,de){for(var re=0;ne--;)ee[ne]-=re,re=ee[ne]<X[ne]?1:0,ee[ne]=re*de+ee[ne]-X[ne];for(;!ee[0]&&ee.length>1;ee.splice(0,1));}return function(ee,X,ne,de,re){var ae,ue,se,le,Re,he,fe,Fe,me,pe,Ue,ye,be,He,$e,Me,qe,ge=ee.s==X.s?1:-1,Oe=ee.c,je=X.c;if(!Oe||!Oe[0]||!je||!je[0])return new V(!ee.s||!X.s||(Oe?je&&Oe[0]==je[0]:!je)?NaN:Oe&&Oe[0]==0||!je?ge*0:ge/0);for(Fe=new V(ge),me=Fe.c=[],ue=ee.e-X.e,ge=ne+ue+1,re||(re=b,ue=P(ee.e/m)-P(X.e/m),ge=ge/m|0),se=0;je[se]==(Oe[se]||0);se++);if(je[se]>(Oe[se]||0)&&ue--,ge<0)me.push(1),le=!0;else{for(He=Oe.length,Me=je.length,se=0,ge+=2,Re=o(re/(je[0]+1)),Re>1&&(je=W(je,Re,re),Oe=W(Oe,Re,re),Me=je.length,He=Oe.length),be=Me,pe=Oe.slice(0,Me),Ue=pe.length;Ue<Me;pe[Ue++]=0);qe=je.slice(),qe=[0].concat(qe),$e=je[0],je[1]>=re/2&&$e++;do{if(Re=0,ae=U(je,pe,Me,Ue),ae<0){if(ye=pe[0],Me!=Ue&&(ye=ye*re+(pe[1]||0)),Re=o(ye/$e),Re>1)for(Re>=re&&(Re=re-1),he=W(je,Re,re),fe=he.length,Ue=pe.length;U(he,pe,fe,Ue)==1;)Re--,j(he,Me<fe?qe:je,fe,re),fe=he.length,ae=1;else Re==0&&(ae=Re=1),he=je.slice(),fe=he.length;if(fe<Ue&&(he=[0].concat(he)),j(pe,he,Ue,re),Ue=pe.length,ae==-1)for(;U(je,pe,Me,Ue)<1;)Re++,j(pe,Me<Ue?qe:je,Ue,re),Ue=pe.length}else ae===0&&(Re++,pe=[0]);me[se++]=Re,pe[0]?pe[Ue++]=Oe[be]||0:(pe=[Oe[be]],Ue=1)}while((be++<He||pe[0]!=null)&&ge--);le=pe[0]!=null,me[0]||me.splice(0,1)}if(re==b){for(se=1,ge=me[0];ge>=10;ge/=10,se++);H(Fe,ne+(Fe.e=se+ue*m-1)+1,de,le)}else Fe.e=ue,Fe.r=+le;return Fe}}();function Y(W,U,j,ee){var X,ne,de,re,ae;if(j==null?j=l:N(j,0,8),!W.c)return W.toString();if(X=W.c[0],de=W.e,U==null)ae=B(W.c),ae=ee==1||ee==2&&(de<=v||de>=S)?L(ae,de):K(ae,de,"0");else if(W=H(new V(W),U,j),ne=W.e,ae=B(W.c),re=ae.length,ee==1||ee==2&&(U<=ne||ne<=v)){for(;re<U;ae+="0",re++);ae=L(ae,ne)}else if(U-=de,ae=K(ae,ne,"0"),ne+1>re){if(--U>0)for(ae+=".";U--;ae+="0");}else if(U+=ne-re,U>0)for(ne+1==re&&(ae+=".");U--;ae+="0");return W.s<0&&X?"-"+ae:ae}function Q(W,U){for(var j,ee,X=1,ne=new V(W[0]);X<W.length;X++)ee=new V(W[X]),(!ee.s||(j=k(ne,ee))===U||j===0&&ne.s===U)&&(ne=ee);return ne}function G(W,U,j){for(var ee=1,X=U.length;!U[--X];U.pop());for(X=U[0];X>=10;X/=10,ee++);return(j=ee+j*m-1)>T?W.c=W.e=null:j<O?W.c=[W.e=0]:(W.e=j,W.c=U),W}Z=function(){var W=/^(-?)0([xbo])(?=\w[\w.]*$)/i,U=/^([^.]+)\.$/,j=/^\.([^.]+)$/,ee=/^-?(Infinity|NaN)$/,X=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ne,de,re,ae){var ue,se=re?de:de.replace(X,"");if(ee.test(se))ne.s=isNaN(se)?null:se<0?-1:1;else{if(!re&&(se=se.replace(W,function(le,Re,he){return ue=(he=he.toLowerCase())=="x"?16:he=="b"?2:8,!ae||ae==ue?Re:le}),ae&&(ue=ae,se=se.replace(U,"$1").replace(j,"0.$1")),de!=se))return new V(se,ue);if(V.DEBUG)throw Error(u+"Not a"+(ae?" base "+ae:"")+" number: "+de);ne.s=null}ne.c=ne.e=null}}();function H(W,U,j,ee){var X,ne,de,re,ae,ue,se,le=W.c,Re=A;if(le){e:{for(X=1,re=le[0];re>=10;re/=10,X++);if(ne=U-X,ne<0)ne+=m,de=U,ae=le[ue=0],se=o(ae/Re[X-de-1]%10);else if(ue=a((ne+1)/m),ue>=le.length)if(ee){for(;le.length<=ue;le.push(0));ae=se=0,X=1,ne%=m,de=ne-m+1}else break e;else{for(ae=re=le[ue],X=1;re>=10;re/=10,X++);ne%=m,de=ne-m+X,se=de<0?0:o(ae/Re[X-de-1]%10)}if(ee=ee||U<0||le[ue+1]!=null||(de<0?ae:ae%Re[X-de-1]),ee=j<4?(se||ee)&&(j==0||j==(W.s<0?3:2)):se>5||se==5&&(j==4||ee||j==6&&(ne>0?de>0?ae/Re[X-de]:0:le[ue-1])%10&1||j==(W.s<0?8:7)),U<1||!le[0])return le.length=0,ee?(U-=W.e+1,le[0]=Re[(m-U%m)%m],W.e=-U||0):le[0]=W.e=0,W;if(ne==0?(le.length=ue,re=1,ue--):(le.length=ue+1,re=Re[m-ne],le[ue]=de>0?o(ae/Re[X-de]%Re[de])*re:0),ee)for(;;)if(ue==0){for(ne=1,de=le[0];de>=10;de/=10,ne++);for(de=le[0]+=re,re=1;de>=10;de/=10,re++);ne!=re&&(W.e++,le[0]==b&&(le[0]=1));break}else{if(le[ue]+=re,le[ue]!=b)break;le[ue--]=0,re=1}for(ne=le.length;le[--ne]===0;le.pop());}W.e>T?W.c=W.e=null:W.e<O&&(W.c=[W.e=0])}return W}function te(W){var U,j=W.e;return j===null?W.toString():(U=B(W.c),U=j<=v||j>=S?L(U,j):K(U,j,"0"),W.s<0?"-"+U:U)}return ie.absoluteValue=ie.abs=function(){var W=new V(this);return W.s<0&&(W.s=1),W},ie.comparedTo=function(W,U){return k(this,new V(W,U))},ie.decimalPlaces=ie.dp=function(W,U){var j,ee,X,ne=this;if(W!=null)return N(W,0,M),U==null?U=l:N(U,0,8),H(new V(ne),W+ne.e+1,U);if(!(j=ne.c))return null;if(ee=((X=j.length-1)-P(this.e/m))*m,X=j[X])for(;X%10==0;X/=10,ee--);return ee<0&&(ee=0),ee},ie.dividedBy=ie.div=function(W,U){return ce(this,new V(W,U),d,l)},ie.dividedToIntegerBy=ie.idiv=function(W,U){return ce(this,new V(W,U),0,1)},ie.exponentiatedBy=ie.pow=function(W,U){var j,ee,X,ne,de,re,ae,ue,se,le=this;if(W=new V(W),W.c&&!W.isInteger())throw Error(u+"Exponent not an integer: "+te(W));if(U!=null&&(U=new V(U)),re=W.e>14,!le.c||!le.c[0]||le.c[0]==1&&!le.e&&le.c.length==1||!W.c||!W.c[0])return se=new V(Math.pow(+te(le),re?W.s*(2-D(W)):+te(W))),U?se.mod(U):se;if(ae=W.s<0,U){if(U.c?!U.c[0]:!U.s)return new V(NaN);ee=!ae&&le.isInteger()&&U.isInteger(),ee&&(le=le.mod(U))}else{if(W.e>9&&(le.e>0||le.e<-1||(le.e==0?le.c[0]>1||re&&le.c[1]>=24e7:le.c[0]<8e13||re&&le.c[0]<=9999975e7)))return ne=le.s<0&&D(W)?-0:0,le.e>-1&&(ne=1/ne),new V(ae?1/ne:ne);w&&(ne=a(w/m+2))}for(re?(j=new V(.5),ae&&(W.s=1),ue=D(W)):(X=Math.abs(+te(W)),ue=X%2),se=new V(s);;){if(ue){if(se=se.times(le),!se.c)break;ne?se.c.length>ne&&(se.c.length=ne):ee&&(se=se.mod(U))}if(X){if(X=o(X/2),X===0)break;ue=X%2}else if(W=W.times(j),H(W,W.e+1,1),W.e>14)ue=D(W);else{if(X=+te(W),X===0)break;ue=X%2}le=le.times(le),ne?le.c&&le.c.length>ne&&(le.c.length=ne):ee&&(le=le.mod(U))}return ee?se:(ae&&(se=s.div(se)),U?se.mod(U):ne?H(se,w,l,de):se)},ie.integerValue=function(W){var U=new V(this);return W==null?W=l:N(W,0,8),H(U,U.e+1,W)},ie.isEqualTo=ie.eq=function(W,U){return k(this,new V(W,U))===0},ie.isFinite=function(){return!!this.c},ie.isGreaterThan=ie.gt=function(W,U){return k(this,new V(W,U))>0},ie.isGreaterThanOrEqualTo=ie.gte=function(W,U){return(U=k(this,new V(W,U)))===1||U===0},ie.isInteger=function(){return!!this.c&&P(this.e/m)>this.c.length-2},ie.isLessThan=ie.lt=function(W,U){return k(this,new V(W,U))<0},ie.isLessThanOrEqualTo=ie.lte=function(W,U){return(U=k(this,new V(W,U)))===-1||U===0},ie.isNaN=function(){return!this.s},ie.isNegative=function(){return this.s<0},ie.isPositive=function(){return this.s>0},ie.isZero=function(){return!!this.c&&this.c[0]==0},ie.minus=function(W,U){var j,ee,X,ne,de=this,re=de.s;if(W=new V(W,U),U=W.s,!re||!U)return new V(NaN);if(re!=U)return W.s=-U,de.plus(W);var ae=de.e/m,ue=W.e/m,se=de.c,le=W.c;if(!ae||!ue){if(!se||!le)return se?(W.s=-U,W):new V(le?de:NaN);if(!se[0]||!le[0])return le[0]?(W.s=-U,W):new V(se[0]?de:l==3?-0:0)}if(ae=P(ae),ue=P(ue),se=se.slice(),re=ae-ue){for((ne=re<0)?(re=-re,X=se):(ue=ae,X=le),X.reverse(),U=re;U--;X.push(0));X.reverse()}else for(ee=(ne=(re=se.length)<(U=le.length))?re:U,re=U=0;U<ee;U++)if(se[U]!=le[U]){ne=se[U]<le[U];break}if(ne&&(X=se,se=le,le=X,W.s=-W.s),U=(ee=le.length)-(j=se.length),U>0)for(;U--;se[j++]=0);for(U=b-1;ee>re;){if(se[--ee]<le[ee]){for(j=ee;j&&!se[--j];se[j]=U);--se[j],se[ee]+=b}se[ee]-=le[ee]}for(;se[0]==0;se.splice(0,1),--ue);return se[0]?G(W,se,ue):(W.s=l==3?-1:1,W.c=[W.e=0],W)},ie.modulo=ie.mod=function(W,U){var j,ee,X=this;return W=new V(W,U),!X.c||!W.s||W.c&&!W.c[0]?new V(NaN):!W.c||X.c&&!X.c[0]?new V(X):(c==9?(ee=W.s,W.s=1,j=ce(X,W,0,3),W.s=ee,j.s*=ee):j=ce(X,W,0,c),W=X.minus(j.times(W)),!W.c[0]&&c==1&&(W.s=X.s),W)},ie.multipliedBy=ie.times=function(W,U){var j,ee,X,ne,de,re,ae,ue,se,le,Re,he,fe,Fe,me,pe=this,Ue=pe.c,ye=(W=new V(W,U)).c;if(!Ue||!ye||!Ue[0]||!ye[0])return!pe.s||!W.s||Ue&&!Ue[0]&&!ye||ye&&!ye[0]&&!Ue?W.c=W.e=W.s=null:(W.s*=pe.s,!Ue||!ye?W.c=W.e=null:(W.c=[0],W.e=0)),W;for(ee=P(pe.e/m)+P(W.e/m),W.s*=pe.s,ae=Ue.length,le=ye.length,ae<le&&(fe=Ue,Ue=ye,ye=fe,X=ae,ae=le,le=X),X=ae+le,fe=[];X--;fe.push(0));for(Fe=b,me=I,X=le;--X>=0;){for(j=0,Re=ye[X]%me,he=ye[X]/me|0,de=ae,ne=X+de;ne>X;)ue=Ue[--de]%me,se=Ue[de]/me|0,re=he*ue+se*Re,ue=Re*ue+re%me*me+fe[ne]+j,j=(ue/Fe|0)+(re/me|0)+he*se,fe[ne--]=ue%Fe;fe[ne]=j}return j?++ee:fe.splice(0,1),G(W,fe,ee)},ie.negated=function(){var W=new V(this);return W.s=-W.s||null,W},ie.plus=function(W,U){var j,ee=this,X=ee.s;if(W=new V(W,U),U=W.s,!X||!U)return new V(NaN);if(X!=U)return W.s=-U,ee.minus(W);var ne=ee.e/m,de=W.e/m,re=ee.c,ae=W.c;if(!ne||!de){if(!re||!ae)return new V(X/0);if(!re[0]||!ae[0])return ae[0]?W:new V(re[0]?ee:X*0)}if(ne=P(ne),de=P(de),re=re.slice(),X=ne-de){for(X>0?(de=ne,j=ae):(X=-X,j=re),j.reverse();X--;j.push(0));j.reverse()}for(X=re.length,U=ae.length,X-U<0&&(j=ae,ae=re,re=j,U=X),X=0;U;)X=(re[--U]=re[U]+ae[U]+X)/b|0,re[U]=b===re[U]?0:re[U]%b;return X&&(re=[X].concat(re),++de),G(W,re,de)},ie.precision=ie.sd=function(W,U){var j,ee,X,ne=this;if(W!=null&&W!==!!W)return N(W,1,M),U==null?U=l:N(U,0,8),H(new V(ne),W,U);if(!(j=ne.c))return null;if(X=j.length-1,ee=X*m+1,X=j[X]){for(;X%10==0;X/=10,ee--);for(X=j[0];X>=10;X/=10,ee++);}return W&&ne.e+1>ee&&(ee=ne.e+1),ee},ie.shiftedBy=function(W){return N(W,-y,y),this.times("1e"+W)},ie.squareRoot=ie.sqrt=function(){var W,U,j,ee,X,ne=this,de=ne.c,re=ne.s,ae=ne.e,ue=d+4,se=new V("0.5");if(re!==1||!de||!de[0])return new V(!re||re<0&&(!de||de[0])?NaN:de?ne:1/0);if(re=Math.sqrt(+te(ne)),re==0||re==1/0?(U=B(de),(U.length+ae)%2==0&&(U+="0"),re=Math.sqrt(+U),ae=P((ae+1)/2)-(ae<0||ae%2),re==1/0?U="5e"+ae:(U=re.toExponential(),U=U.slice(0,U.indexOf("e")+1)+ae),j=new V(U)):j=new V(re+""),j.c[0]){for(ae=j.e,re=ae+ue,re<3&&(re=0);;)if(X=j,j=se.times(X.plus(ce(ne,X,ue,1))),B(X.c).slice(0,re)===(U=B(j.c)).slice(0,re))if(j.e<ae&&--re,U=U.slice(re-3,re+1),U=="9999"||!ee&&U=="4999"){if(!ee&&(H(X,X.e+d+2,0),X.times(X).eq(ne))){j=X;break}ue+=4,re+=4,ee=1}else{(!+U||!+U.slice(1)&&U.charAt(0)=="5")&&(H(j,j.e+d+2,1),W=!j.times(j).eq(ne));break}}return H(j,j.e+d+1,l,W)},ie.toExponential=function(W,U){return W!=null&&(N(W,0,M),W++),Y(this,W,U,1)},ie.toFixed=function(W,U){return W!=null&&(N(W,0,M),W=W+this.e+1),Y(this,W,U)},ie.toFormat=function(W,U,j){var ee,X=this;if(j==null)W!=null&&U&&typeof U=="object"?(j=U,U=null):W&&typeof W=="object"?(j=W,W=U=null):j=x;else if(typeof j!="object")throw Error(u+"Argument not an object: "+j);if(ee=X.toFixed(W,U),X.c){var ne,de=ee.split("."),re=+j.groupSize,ae=+j.secondaryGroupSize,ue=j.groupSeparator||"",se=de[0],le=de[1],Re=X.s<0,he=Re?se.slice(1):se,fe=he.length;if(ae&&(ne=re,re=ae,ae=ne,fe-=ne),re>0&&fe>0){for(ne=fe%re||re,se=he.substr(0,ne);ne<fe;ne+=re)se+=ue+he.substr(ne,re);ae>0&&(se+=ue+he.slice(ne)),Re&&(se="-"+se)}ee=le?se+(j.decimalSeparator||"")+((ae=+j.fractionGroupSize)?le.replace(new RegExp("\\d{"+ae+"}\\B","g"),"$&"+(j.fractionGroupSeparator||"")):le):se}return(j.prefix||"")+ee+(j.suffix||"")},ie.toFraction=function(W){var U,j,ee,X,ne,de,re,ae,ue,se,le,Re,he=this,fe=he.c;if(W!=null&&(re=new V(W),!re.isInteger()&&(re.c||re.s!==1)||re.lt(s)))throw Error(u+"Argument "+(re.isInteger()?"out of range: ":"not an integer: ")+te(re));if(!fe)return new V(he);for(U=new V(s),ue=j=new V(s),ee=ae=new V(s),Re=B(fe),ne=U.e=Re.length-he.e-1,U.c[0]=A[(de=ne%m)<0?m+de:de],W=!W||re.comparedTo(U)>0?ne>0?U:ue:re,de=T,T=1/0,re=new V(Re),ae.c[0]=0;se=ce(re,U,0,1),X=j.plus(se.times(ee)),X.comparedTo(W)!=1;)j=ee,ee=X,ue=ae.plus(se.times(X=ue)),ae=X,U=re.minus(se.times(X=U)),re=X;return X=ce(W.minus(j),ee,0,1),ae=ae.plus(X.times(ue)),j=j.plus(X.times(ee)),ae.s=ue.s=he.s,ne=ne*2,le=ce(ue,ee,ne,l).minus(he).abs().comparedTo(ce(ae,j,ne,l).minus(he).abs())<1?[ue,ee]:[ae,j],T=de,le},ie.toNumber=function(){return+te(this)},ie.toPrecision=function(W,U){return W!=null&&N(W,1,M),Y(this,W,U,2)},ie.toString=function(W){var U,j=this,ee=j.s,X=j.e;return X===null?ee?(U="Infinity",ee<0&&(U="-"+U)):U="NaN":(W==null?U=X<=v||X>=S?L(B(j.c),X):K(B(j.c),X,"0"):W===10&&q?(j=H(new V(j),d+X+1,l),U=K(B(j.c),j.e,"0")):(N(W,2,F.length,"Base"),U=oe(K(B(j.c),X,"0"),10,W,ee,!0)),ee<0&&j.c[0]&&(U="-"+U)),U},ie.valueOf=ie.toJSON=function(){return te(this)},ie._isBigNumber=!0,J!=null&&V.set(J),V}function P(J){var ce=J|0;return J>0||J===ce?ce:ce-1}function B(J){for(var ce,oe,Z=1,ie=J.length,s=J[0]+"";Z<ie;){for(ce=J[Z++]+"",oe=m-ce.length;oe--;ce="0"+ce);s+=ce}for(ie=s.length;s.charCodeAt(--ie)===48;);return s.slice(0,ie+1||1)}function k(J,ce){var oe,Z,ie=J.c,s=ce.c,d=J.s,l=ce.s,v=J.e,S=ce.e;if(!d||!l)return null;if(oe=ie&&!ie[0],Z=s&&!s[0],oe||Z)return oe?Z?0:-l:d;if(d!=l)return d;if(oe=d<0,Z=v==S,!ie||!s)return Z?0:!ie^oe?1:-1;if(!Z)return v>S^oe?1:-1;for(l=(v=ie.length)<(S=s.length)?v:S,d=0;d<l;d++)if(ie[d]!=s[d])return ie[d]>s[d]^oe?1:-1;return v==S?0:v>S^oe?1:-1}function N(J,ce,oe,Z){if(J<ce||J>oe||J!==o(J))throw Error(u+(Z||"Argument")+(typeof J=="number"?J<ce||J>oe?" out of range: ":" not an integer: ":" not a primitive number: ")+String(J))}function D(J){var ce=J.c.length-1;return P(J.e/m)==ce&&J.c[ce]%2!=0}function L(J,ce){return(J.length>1?J.charAt(0)+"."+J.slice(1):J)+(ce<0?"e":"e+")+ce}function K(J,ce,oe){var Z,ie;if(ce<0){for(ie=oe+".";++ce;ie+=oe);J=ie+J}else if(Z=J.length,++ce>Z){for(ie=oe,ce-=Z;--ce;ie+=oe);J+=ie}else ce<Z&&(J=J.slice(0,ce)+"."+J.slice(ce));return J}r=C(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports;(function(e){var t=bignumberExports,r=e.exports;(function(){var n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,o,u={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;function b(y){return n.lastIndex=0,n.test(y)?'"'+y.replace(n,function(A){var I=u[A];return typeof I=="string"?I:"\\u"+("0000"+A.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+y+'"'}function m(y,A){var I,M,C,P,B=a,k,N=A[y],D=N!=null&&(N instanceof t||t.isBigNumber(N));switch(N&&typeof N=="object"&&typeof N.toJSON=="function"&&(N=N.toJSON(y)),typeof p=="function"&&(N=p.call(A,y,N)),typeof N){case"string":return D?N:b(N);case"number":return isFinite(N)?String(N):"null";case"boolean":case"null":case"bigint":return String(N);case"object":if(!N)return"null";if(a+=o,k=[],Object.prototype.toString.apply(N)==="[object Array]"){for(P=N.length,I=0;I<P;I+=1)k[I]=m(I,N)||"null";return C=k.length===0?"[]":a?`[
`+a+k.join(`,
`+a)+`
`+B+"]":"["+k.join(",")+"]",a=B,C}if(p&&typeof p=="object")for(P=p.length,I=0;I<P;I+=1)typeof p[I]=="string"&&(M=p[I],C=m(M,N),C&&k.push(b(M)+(a?": ":":")+C));else Object.keys(N).forEach(function(L){var K=m(L,N);K&&k.push(b(L)+(a?": ":":")+K)});return C=k.length===0?"{}":a?`{
`+a+k.join(`,
`+a)+`
`+B+"}":"{"+k.join(",")+"}",a=B,C}}typeof r.stringify!="function"&&(r.stringify=function(y,A,I){var M;if(a="",o="",typeof I=="number")for(M=0;M<I;M+=1)o+=" ";else typeof I=="string"&&(o=I);if(p=A,A&&typeof A!="function"&&(typeof A!="object"||typeof A.length!="number"))throw new Error("JSON.stringify");return m("",{"":y})})})()})(stringify);var stringifyExports=stringify.exports,BigNumber=null;const suspectProtoRx=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,suspectConstructorRx=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var json_parse$1=function(e){var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(e!=null){if(e.strict===!0&&(t.strict=!0),e.storeAsString===!0&&(t.storeAsString=!0),t.alwaysParseAsBig=e.alwaysParseAsBig===!0?e.alwaysParseAsBig:!1,t.useNativeBigInt=e.useNativeBigInt===!0?e.useNativeBigInt:!1,typeof e.constructorAction<"u")if(e.constructorAction==="error"||e.constructorAction==="ignore"||e.constructorAction==="preserve")t.constructorAction=e.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);if(typeof e.protoAction<"u")if(e.protoAction==="error"||e.protoAction==="ignore"||e.protoAction==="preserve")t.protoAction=e.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`)}var r,n,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},o,u=function(P){throw{name:"SyntaxError",message:P,at:r,text:o}},p=function(P){return P&&P!==n&&u("Expected '"+P+"' instead of '"+n+"'"),n=o.charAt(r),r+=1,n},b=function(){var P,B="";for(n==="-"&&(B="-",p("-"));n>="0"&&n<="9";)B+=n,p();if(n===".")for(B+=".";p()&&n>="0"&&n<="9";)B+=n;if(n==="e"||n==="E")for(B+=n,p(),(n==="-"||n==="+")&&(B+=n,p());n>="0"&&n<="9";)B+=n,p();if(P=+B,!isFinite(P))u("Bad number");else return BigNumber==null&&(BigNumber=bignumberExports),B.length>15?t.storeAsString?B:t.useNativeBigInt?BigInt(B):new BigNumber(B):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(P):new BigNumber(P):P},m=function(){var P,B,k="",N;if(n==='"')for(var D=r;p();){if(n==='"')return r-1>D&&(k+=o.substring(D,r-1)),p(),k;if(n==="\\"){if(r-1>D&&(k+=o.substring(D,r-1)),p(),n==="u"){for(N=0,B=0;B<4&&(P=parseInt(p(),16),!!isFinite(P));B+=1)N=N*16+P;k+=String.fromCharCode(N)}else if(typeof a[n]=="string")k+=a[n];else break;D=r}}u("Bad string")},y=function(){for(;n&&n<=" ";)p()},A=function(){switch(n){case"t":return p("t"),p("r"),p("u"),p("e"),!0;case"f":return p("f"),p("a"),p("l"),p("s"),p("e"),!1;case"n":return p("n"),p("u"),p("l"),p("l"),null}u("Unexpected '"+n+"'")},I,M=function(){var P=[];if(n==="["){if(p("["),y(),n==="]")return p("]"),P;for(;n;){if(P.push(I()),y(),n==="]")return p("]"),P;p(","),y()}}u("Bad array")},C=function(){var P,B=Object.create(null);if(n==="{"){if(p("{"),y(),n==="}")return p("}"),B;for(;n;){if(P=m(),y(),p(":"),t.strict===!0&&Object.hasOwnProperty.call(B,P)&&u('Duplicate key "'+P+'"'),suspectProtoRx.test(P)===!0?t.protoAction==="error"?u("Object contains forbidden prototype property"):t.protoAction==="ignore"?I():B[P]=I():suspectConstructorRx.test(P)===!0?t.constructorAction==="error"?u("Object contains forbidden constructor property"):t.constructorAction==="ignore"?I():B[P]=I():B[P]=I(),y(),n==="}")return p("}"),B;p(","),y()}}u("Bad object")};return I=function(){switch(y(),n){case"{":return C();case"[":return M();case'"':return m();case"-":return b();default:return n>="0"&&n<="9"?b():A()}},function(P,B){var k;return o=P+"",r=0,n=" ",k=I(),y(),n&&u("Syntax error"),typeof B=="function"?function N(D,L){var K,J=D[L];return J&&typeof J=="object"&&Object.keys(J).forEach(function(ce){K=N(J,ce),K!==void 0?J[ce]=K:delete J[ce]}),B.call(D,L,J)}({"":k},""):k}},parse$2=json_parse$1,json_stringify=stringifyExports.stringify,json_parse=parse$2;jsonBigint.exports=function(e){return{parse:json_parse(e),stringify:json_stringify}},jsonBigint.exports.parse=json_parse(),jsonBigint.exports.stringify=json_stringify;var jsonBigintExports=jsonBigint.exports;const JSONbig=getDefaultExportFromCjs$1(jsonBigintExports),getSignature=async(e,t)=>Buffer$1.from(await signAsync(new Uint8Array(e),t));function buildBasicAccountSigner(e){return{getSignatureCount(){return 1n},async sign(t){return{0:{0:(await getSignature(t,e)).toString("hex")}}}}}function signTransaction$5(e,t){const r=getAccountTransactionSignDigest(e,t.getSignatureCount());return t.sign(r)}const JSON_DISCRIMINATOR$2=TypedJsonDiscriminator.TransactionExpiry;let TransactionExpiry$1=class{constructor(e){this.expiryEpochSeconds=e,this.__type=JSON_DISCRIMINATOR$2}toString(){return this.expiryEpochSeconds.toString()}toJSON(){if(this.expiryEpochSeconds>Number.MAX_SAFE_INTEGER||this.expiryEpochSeconds<Number.MIN_SAFE_INTEGER)throw new Error("Transaction expiry is too large to be represented as a number.");return Number(this.expiryEpochSeconds)}};function fromEpochSeconds(e){if(e<0n)throw new Error("Invalid transaction expiry: Expiry cannot be before unix epoch.");return new TransactionExpiry$1(BigInt(e))}function fromDate(e){return fromEpochSeconds(secondsSinceEpoch(e))}function toDate(e){return new Date(Number(e.expiryEpochSeconds)*1e3)}function toProto$1(e){return{value:e.expiryEpochSeconds}}const JSON_DISCRIMINATOR$1=TypedJsonDiscriminator.SequenceNumber;class SequenceNumber{constructor(t){this.value=t,this.__type=JSON_DISCRIMINATOR$1}toString(){return this.value.toString()}toJSON(){return this.value}}function create$k(e){if(e<1)throw new Error("Invalid account sequence number: Must be 1 or higher.");return new SequenceNumber(BigInt(e))}function fromProto(e){return create$k(e.value)}function toProto(e){return{value:e.value}}const JSON_DISCRIMINATOR=TypedJsonDiscriminator.TransactionHash,TRANSACTION_HASH_BYTE_LENGTH=32;class TransactionHash{constructor(t){this.buffer=t,this.__type=JSON_DISCRIMINATOR}toString(){return toHexString(this)}toJSON(){return toHexString(this)}}function fromBuffer$1(e){if(e.byteLength!==TRANSACTION_HASH_BYTE_LENGTH)throw new Error(`Invalid transaction hash provided: Expected a buffer containing 32 bytes, instead got '${Buffer$1.from(e).toString("hex")}'.`);return new TransactionHash(new Uint8Array(e))}function toHexString(e){return Buffer$1.from(e.buffer).toString("hex")}function serializeCredentialDeploymentPayload(e,t){const r=serializeCredentialDeploymentPayload$1(e,JSONbig.stringify(t.unsignedCdi));return Buffer$1.from(r)}function generateBakerKeys(e){const t=generateBakerKeys$1(toBase58(e));try{return JSON.parse(t)}catch{throw new Error(t)}}var bip39={},pbkdf2$2={},hmac$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=_assert,r=utils$o;class n extends r.Hash{constructor(u,p){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(u);const b=(0,r.toBytes)(p);if(this.iHash=u.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const m=this.blockLen,y=new Uint8Array(m);y.set(b.length>m?u.create().update(b).digest():b);for(let A=0;A<y.length;A++)y[A]^=54;this.iHash.update(y),this.oHash=u.create();for(let A=0;A<y.length;A++)y[A]^=106;this.oHash.update(y),y.fill(0)}update(u){return(0,t.exists)(this),this.iHash.update(u),this}digestInto(u){(0,t.exists)(this),(0,t.bytes)(u,this.outputLen),this.finished=!0,this.iHash.digestInto(u),this.oHash.update(u),this.oHash.digestInto(u),this.destroy()}digest(){const u=new Uint8Array(this.oHash.outputLen);return this.digestInto(u),u}_cloneInto(u){u||(u=Object.create(Object.getPrototypeOf(this),{}));const{oHash:p,iHash:b,finished:m,destroyed:y,blockLen:A,outputLen:I}=this;return u=u,u.finished=m,u.destroyed=y,u.blockLen=A,u.outputLen=I,u.oHash=p._cloneInto(u.oHash),u.iHash=b._cloneInto(u.iHash),u}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;const a=(o,u,p)=>new n(o,u).update(p).digest();e.hmac=a,e.hmac.create=(o,u)=>new n(o,u)})(hmac$1),Object.defineProperty(pbkdf2$2,"__esModule",{value:!0}),pbkdf2$2.pbkdf2Async=pbkdf2_2=pbkdf2$2.pbkdf2=void 0;const _assert_js_1=_assert,hmac_js_1=hmac$1,utils_js_1$8=utils$o;function pbkdf2Init$1(e,t,r,n){(0,_assert_js_1.hash)(e);const a=(0,utils_js_1$8.checkOpts)({dkLen:32,asyncTick:10},n),{c:o,dkLen:u,asyncTick:p}=a;if((0,_assert_js_1.number)(o),(0,_assert_js_1.number)(u),(0,_assert_js_1.number)(p),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const b=(0,utils_js_1$8.toBytes)(t),m=(0,utils_js_1$8.toBytes)(r),y=new Uint8Array(u),A=hmac_js_1.hmac.create(e,b),I=A._cloneInto().update(m);return{c:o,dkLen:u,asyncTick:p,DK:y,PRF:A,PRFSalt:I}}function pbkdf2Output$1(e,t,r,n,a){return e.destroy(),t.destroy(),n&&n.destroy(),a.fill(0),r}function pbkdf2$1(e,t,r,n){const{c:a,dkLen:o,DK:u,PRF:p,PRFSalt:b}=pbkdf2Init$1(e,t,r,n);let m;const y=new Uint8Array(4),A=(0,utils_js_1$8.createView)(y),I=new Uint8Array(p.outputLen);for(let M=1,C=0;C<o;M++,C+=p.outputLen){const P=u.subarray(C,C+p.outputLen);A.setInt32(0,M,!1),(m=b._cloneInto(m)).update(y).digestInto(I),P.set(I.subarray(0,P.length));for(let B=1;B<a;B++){p._cloneInto(m).update(I).digestInto(I);for(let k=0;k<P.length;k++)P[k]^=I[k]}}return pbkdf2Output$1(p,b,u,m,I)}var pbkdf2_2=pbkdf2$2.pbkdf2=pbkdf2$1;async function pbkdf2Async(e,t,r,n){const{c:a,dkLen:o,asyncTick:u,DK:p,PRF:b,PRFSalt:m}=pbkdf2Init$1(e,t,r,n);let y;const A=new Uint8Array(4),I=(0,utils_js_1$8.createView)(A),M=new Uint8Array(b.outputLen);for(let C=1,P=0;P<o;C++,P+=b.outputLen){const B=p.subarray(P,P+b.outputLen);I.setInt32(0,C,!1),(y=m._cloneInto(y)).update(A).digestInto(M),B.set(M.subarray(0,B.length)),await(0,utils_js_1$8.asyncLoop)(a-1,u,()=>{b._cloneInto(y).update(M).digestInto(M);for(let k=0;k<B.length;k++)B[k]^=M[k]})}return pbkdf2Output$1(b,m,p,y,M)}pbkdf2$2.pbkdf2Async=pbkdf2Async;var sha512$2={},_u64={};Object.defineProperty(_u64,"__esModule",{value:!0}),_u64.add5L=_u64.add5H=_u64.add4H=_u64.add4L=_u64.add3H=_u64.add3L=_u64.add=_u64.rotlBL=_u64.rotlBH=_u64.rotlSL=_u64.rotlSH=_u64.rotr32L=_u64.rotr32H=_u64.rotrBL=_u64.rotrBH=_u64.rotrSL=_u64.rotrSH=_u64.shrSL=_u64.shrSH=_u64.toBig=_u64.split=_u64.fromBig=void 0;const U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(e,t=!1){return t?{h:Number(e&U32_MASK64$1),l:Number(e>>_32n$1&U32_MASK64$1)}:{h:Number(e>>_32n$1&U32_MASK64$1)|0,l:Number(e&U32_MASK64$1)|0}}_u64.fromBig=fromBig$1;function split$8(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:o,l:u}=fromBig$1(e[a],t);[r[a],n[a]]=[o,u]}return[r,n]}_u64.split=split$8;const toBig=(e,t)=>BigInt(e>>>0)<<_32n$1|BigInt(t>>>0);_u64.toBig=toBig;const shrSH=(e,t,r)=>e>>>r;_u64.shrSH=shrSH;const shrSL=(e,t,r)=>e<<32-r|t>>>r;_u64.shrSL=shrSL;const rotrSH=(e,t,r)=>e>>>r|t<<32-r;_u64.rotrSH=rotrSH;const rotrSL=(e,t,r)=>e<<32-r|t>>>r;_u64.rotrSL=rotrSL;const rotrBH=(e,t,r)=>e<<64-r|t>>>r-32;_u64.rotrBH=rotrBH;const rotrBL=(e,t,r)=>e>>>r-32|t<<64-r;_u64.rotrBL=rotrBL;const rotr32H=(e,t)=>t;_u64.rotr32H=rotr32H;const rotr32L=(e,t)=>e;_u64.rotr32L=rotr32L;const rotlSH$1=(e,t,r)=>e<<r|t>>>32-r;_u64.rotlSH=rotlSH$1;const rotlSL$1=(e,t,r)=>t<<r|e>>>32-r;_u64.rotlSL=rotlSL$1;const rotlBH$1=(e,t,r)=>t<<r-32|e>>>64-r;_u64.rotlBH=rotlBH$1;const rotlBL$1=(e,t,r)=>e<<r-32|t>>>64-r;_u64.rotlBL=rotlBL$1;function add$8(e,t,r,n){const a=(t>>>0)+(n>>>0);return{h:e+r+(a/2**32|0)|0,l:a|0}}_u64.add=add$8;const add3L=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);_u64.add3L=add3L;const add3H=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;_u64.add3H=add3H;const add4L=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);_u64.add4L=add4L;const add4H=(e,t,r,n,a)=>t+r+n+a+(e/2**32|0)|0;_u64.add4H=add4H;const add5L=(e,t,r,n,a)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(a>>>0);_u64.add5L=add5L;const add5H=(e,t,r,n,a,o)=>t+r+n+a+o+(e/2**32|0)|0;_u64.add5H=add5H;const u64={fromBig:fromBig$1,split:split$8,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH:rotlSH$1,rotlSL:rotlSL$1,rotlBH:rotlBH$1,rotlBL:rotlBL$1,add:add$8,add3L,add3H,add4L,add4H,add5H,add5L};_u64.default=u64,Object.defineProperty(sha512$2,"__esModule",{value:!0}),sha512$2.sha384=sha512$2.sha512_256=sha512$2.sha512_224=sha512$2.sha512=sha512$2.SHA512=void 0;const _md_js_1$2=_md,_u64_js_1=_u64,utils_js_1$7=utils$o,[SHA512_Kh,SHA512_Kl]=_u64_js_1.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends _md_js_1$2.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:a,Ch:o,Cl:u,Dh:p,Dl:b,Eh:m,El:y,Fh:A,Fl:I,Gh:M,Gl:C,Hh:P,Hl:B}=this;return[t,r,n,a,o,u,p,b,m,y,A,I,M,C,P,B]}set(t,r,n,a,o,u,p,b,m,y,A,I,M,C,P,B){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=a|0,this.Ch=o|0,this.Cl=u|0,this.Dh=p|0,this.Dl=b|0,this.Eh=m|0,this.El=y|0,this.Fh=A|0,this.Fl=I|0,this.Gh=M|0,this.Gl=C|0,this.Hh=P|0,this.Hl=B|0}process(t,r){for(let D=0;D<16;D++,r+=4)SHA512_W_H[D]=t.getUint32(r),SHA512_W_L[D]=t.getUint32(r+=4);for(let D=16;D<80;D++){const L=SHA512_W_H[D-15]|0,K=SHA512_W_L[D-15]|0,J=_u64_js_1.default.rotrSH(L,K,1)^_u64_js_1.default.rotrSH(L,K,8)^_u64_js_1.default.shrSH(L,K,7),ce=_u64_js_1.default.rotrSL(L,K,1)^_u64_js_1.default.rotrSL(L,K,8)^_u64_js_1.default.shrSL(L,K,7),oe=SHA512_W_H[D-2]|0,Z=SHA512_W_L[D-2]|0,ie=_u64_js_1.default.rotrSH(oe,Z,19)^_u64_js_1.default.rotrBH(oe,Z,61)^_u64_js_1.default.shrSH(oe,Z,6),s=_u64_js_1.default.rotrSL(oe,Z,19)^_u64_js_1.default.rotrBL(oe,Z,61)^_u64_js_1.default.shrSL(oe,Z,6),d=_u64_js_1.default.add4L(ce,s,SHA512_W_L[D-7],SHA512_W_L[D-16]),l=_u64_js_1.default.add4H(d,J,ie,SHA512_W_H[D-7],SHA512_W_H[D-16]);SHA512_W_H[D]=l|0,SHA512_W_L[D]=d|0}let{Ah:n,Al:a,Bh:o,Bl:u,Ch:p,Cl:b,Dh:m,Dl:y,Eh:A,El:I,Fh:M,Fl:C,Gh:P,Gl:B,Hh:k,Hl:N}=this;for(let D=0;D<80;D++){const L=_u64_js_1.default.rotrSH(A,I,14)^_u64_js_1.default.rotrSH(A,I,18)^_u64_js_1.default.rotrBH(A,I,41),K=_u64_js_1.default.rotrSL(A,I,14)^_u64_js_1.default.rotrSL(A,I,18)^_u64_js_1.default.rotrBL(A,I,41),J=A&M^~A&P,ce=I&C^~I&B,oe=_u64_js_1.default.add5L(N,K,ce,SHA512_Kl[D],SHA512_W_L[D]),Z=_u64_js_1.default.add5H(oe,k,L,J,SHA512_Kh[D],SHA512_W_H[D]),ie=oe|0,s=_u64_js_1.default.rotrSH(n,a,28)^_u64_js_1.default.rotrBH(n,a,34)^_u64_js_1.default.rotrBH(n,a,39),d=_u64_js_1.default.rotrSL(n,a,28)^_u64_js_1.default.rotrBL(n,a,34)^_u64_js_1.default.rotrBL(n,a,39),l=n&o^n&p^o&p,v=a&u^a&b^u&b;k=P|0,N=B|0,P=M|0,B=C|0,M=A|0,C=I|0,{h:A,l:I}=_u64_js_1.default.add(m|0,y|0,Z|0,ie|0),m=p|0,y=b|0,p=o|0,b=u|0,o=n|0,u=a|0;const S=_u64_js_1.default.add3L(ie,d,v);n=_u64_js_1.default.add3H(S,Z,s,l),a=S|0}({h:n,l:a}=_u64_js_1.default.add(this.Ah|0,this.Al|0,n|0,a|0)),{h:o,l:u}=_u64_js_1.default.add(this.Bh|0,this.Bl|0,o|0,u|0),{h:p,l:b}=_u64_js_1.default.add(this.Ch|0,this.Cl|0,p|0,b|0),{h:m,l:y}=_u64_js_1.default.add(this.Dh|0,this.Dl|0,m|0,y|0),{h:A,l:I}=_u64_js_1.default.add(this.Eh|0,this.El|0,A|0,I|0),{h:M,l:C}=_u64_js_1.default.add(this.Fh|0,this.Fl|0,M|0,C|0),{h:P,l:B}=_u64_js_1.default.add(this.Gh|0,this.Gl|0,P|0,B|0),{h:k,l:N}=_u64_js_1.default.add(this.Hh|0,this.Hl|0,k|0,N|0),this.set(n,a,o,u,p,b,m,y,A,I,M,C,P,B,k,N)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}sha512$2.SHA512=SHA512;class SHA512_224 extends SHA512{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}sha512$2.sha512=(0,utils_js_1$7.wrapConstructor)(()=>new SHA512),sha512$2.sha512_224=(0,utils_js_1$7.wrapConstructor)(()=>new SHA512_224),sha512$2.sha512_256=(0,utils_js_1$7.wrapConstructor)(()=>new SHA512_256),sha512$2.sha384=(0,utils_js_1$7.wrapConstructor)(()=>new SHA384);var lib$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hexnopad=e.base32hex=e.base32nopad=e.base32=e.base16=e.utils=e.assertNumber=void 0;function t(d){if(!Number.isSafeInteger(d))throw new Error(`Wrong integer: ${d}`)}e.assertNumber=t;function r(d){return d instanceof Uint8Array||d!=null&&typeof d=="object"&&d.constructor.name==="Uint8Array"}function n(...d){const l=T=>T,v=(T,_)=>c=>T(_(c)),S=d.map(T=>T.encode).reduceRight(v,l),O=d.map(T=>T.decode).reduce(v,l);return{encode:S,decode:O}}function a(d){return{encode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return l.map(v=>{if(v<0||v>=d.length)throw new Error(`Digit index outside alphabet: ${v} (alphabet: ${d.length})`);return d[v]})},decode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("alphabet.decode input should be array of strings");return l.map(v=>{if(typeof v!="string")throw new Error(`alphabet.decode: not string element=${v}`);const S=d.indexOf(v);if(S===-1)throw new Error(`Unknown letter: "${v}". Allowed: ${d}`);return S})}}}function o(d=""){if(typeof d!="string")throw new Error("join separator should be string");return{encode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="string")throw new Error("join.encode input should be array of strings");for(let v of l)if(typeof v!="string")throw new Error(`join.encode: non-string input=${v}`);return l.join(d)},decode:l=>{if(typeof l!="string")throw new Error("join.decode input should be string");return l.split(d)}}}function u(d,l="="){if(typeof l!="string")throw new Error("padding chr should be string");return{encode(v){if(!Array.isArray(v)||v.length&&typeof v[0]!="string")throw new Error("padding.encode input should be array of strings");for(let S of v)if(typeof S!="string")throw new Error(`padding.encode: non-string input=${S}`);for(;v.length*d%8;)v.push(l);return v},decode(v){if(!Array.isArray(v)||v.length&&typeof v[0]!="string")throw new Error("padding.encode input should be array of strings");for(let O of v)if(typeof O!="string")throw new Error(`padding.decode: non-string input=${O}`);let S=v.length;if(S*d%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;S>0&&v[S-1]===l;S--)if(!((S-1)*d%8))throw new Error("Invalid padding: string has too much padding");return v.slice(0,S)}}}function p(d){if(typeof d!="function")throw new Error("normalize fn should be function");return{encode:l=>l,decode:l=>d(l)}}function b(d,l,v){if(l<2)throw new Error(`convertRadix: wrong from=${l}, base cannot be less than 2`);if(v<2)throw new Error(`convertRadix: wrong to=${v}, base cannot be less than 2`);if(!Array.isArray(d))throw new Error("convertRadix: data should be array");if(!d.length)return[];let S=0;const O=[],T=Array.from(d);for(T.forEach(_=>{if(_<0||_>=l)throw new Error(`Wrong integer: ${_}`)});;){let _=0,c=!0;for(let w=S;w<T.length;w++){const x=T[w],F=l*_+x;if(!Number.isSafeInteger(F)||l*_/l!==_||F-x!==l*_)throw new Error("convertRadix: carry overflow");_=F%v;const q=Math.floor(F/v);if(T[w]=q,!Number.isSafeInteger(q)||q*v+_!==F)throw new Error("convertRadix: carry overflow");if(c)q?c=!1:S=w;else continue}if(O.push(_),c)break}for(let _=0;_<d.length-1&&d[_]===0;_++)O.push(0);return O.reverse()}const m=(d,l)=>l?m(l,d%l):d,y=(d,l)=>d+(l-m(d,l));function A(d,l,v,S){if(!Array.isArray(d))throw new Error("convertRadix2: data should be array");if(l<=0||l>32)throw new Error(`convertRadix2: wrong from=${l}`);if(v<=0||v>32)throw new Error(`convertRadix2: wrong to=${v}`);if(y(l,v)>32)throw new Error(`convertRadix2: carry overflow from=${l} to=${v} carryBits=${y(l,v)}`);let O=0,T=0;const _=2**v-1,c=[];for(const w of d){if(w>=2**l)throw new Error(`convertRadix2: invalid data word=${w} from=${l}`);if(O=O<<l|w,T+l>32)throw new Error(`convertRadix2: carry overflow pos=${T} from=${l}`);for(T+=l;T>=v;T-=v)c.push((O>>T-v&_)>>>0);O&=2**T-1}if(O=O<<v-T&_,!S&&T>=l)throw new Error("Excess padding");if(!S&&O)throw new Error(`Non-zero padding: ${O}`);return S&&T>0&&c.push(O>>>0),c}function I(d){return{encode:l=>{if(!r(l))throw new Error("radix.encode input should be Uint8Array");return b(Array.from(l),2**8,d)},decode:l=>{if(!Array.isArray(l)||l.length&&typeof l[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(b(l,d,2**8))}}}function M(d,l=!1){if(d<=0||d>32)throw new Error("radix2: bits should be in (0..32]");if(y(8,d)>32||y(d,8)>32)throw new Error("radix2: carry overflow");return{encode:v=>{if(!r(v))throw new Error("radix2.encode input should be Uint8Array");return A(Array.from(v),8,d,!l)},decode:v=>{if(!Array.isArray(v)||v.length&&typeof v[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(A(v,d,8,l))}}}function C(d){if(typeof d!="function")throw new Error("unsafeWrapper fn should be function");return function(...l){try{return d.apply(null,l)}catch{}}}function P(d,l){if(typeof l!="function")throw new Error("checksum fn should be function");return{encode(v){if(!r(v))throw new Error("checksum.encode: input should be Uint8Array");const S=l(v).slice(0,d),O=new Uint8Array(v.length+d);return O.set(v),O.set(S,v.length),O},decode(v){if(!r(v))throw new Error("checksum.decode: input should be Uint8Array");const S=v.slice(0,-d),O=l(S).slice(0,d),T=v.slice(-d);for(let _=0;_<d;_++)if(O[_]!==T[_])throw new Error("Invalid checksum");return S}}}e.utils={alphabet:a,chain:n,checksum:P,convertRadix:b,convertRadix2:A,radix:I,radix2:M,join:o,padding:u},e.base16=n(M(4),a("0123456789ABCDEF"),o("")),e.base32=n(M(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),u(5),o("")),e.base32nopad=n(M(5),a("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),e.base32hex=n(M(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),u(5),o("")),e.base32hexnopad=n(M(5),a("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),e.base32crockford=n(M(5),a("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),p(d=>d.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(M(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),u(6),o("")),e.base64nopad=n(M(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),e.base64url=n(M(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),u(6),o("")),e.base64urlnopad=n(M(6),a("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const B=d=>n(I(58),a(d),o(""));e.base58=B("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=B("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=B("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const k=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(d){let l="";for(let v=0;v<d.length;v+=8){const S=d.subarray(v,v+8);l+=e.base58.encode(S).padStart(k[S.length],"1")}return l},decode(d){let l=[];for(let v=0;v<d.length;v+=11){const S=d.slice(v,v+11),O=k.indexOf(S.length),T=e.base58.decode(S);for(let _=0;_<T.length-O;_++)if(T[_]!==0)throw new Error("base58xmr: wrong padding");l=l.concat(Array.from(T.slice(T.length-O)))}return Uint8Array.from(l)}};const N=d=>n(P(4,l=>d(d(l))),e.base58);e.createBase58check=N,e.base58check=e.createBase58check;const D=n(a("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),L=[996825010,642813549,513874426,1027748829,705979059];function K(d){const l=d>>25;let v=(d&33554431)<<5;for(let S=0;S<L.length;S++)(l>>S&1)===1&&(v^=L[S]);return v}function J(d,l,v=1){const S=d.length;let O=1;for(let T=0;T<S;T++){const _=d.charCodeAt(T);if(_<33||_>126)throw new Error(`Invalid prefix (${d})`);O=K(O)^_>>5}O=K(O);for(let T=0;T<S;T++)O=K(O)^d.charCodeAt(T)&31;for(let T of l)O=K(O)^T;for(let T=0;T<6;T++)O=K(O);return O^=v,D.encode(A([O%2**30],30,5,!1))}function ce(d){const l=d==="bech32"?1:734539939,v=M(5),S=v.decode,O=v.encode,T=C(S);function _(F,q,V=90){if(typeof F!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof F}`);if(!Array.isArray(q)||q.length&&typeof q[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof q}`);if(F.length===0)throw new TypeError(`Invalid prefix length ${F.length}`);const Y=F.length+7+q.length;if(V!==!1&&Y>V)throw new TypeError(`Length ${Y} exceeds limit ${V}`);const Q=F.toLowerCase(),G=J(Q,q,l);return`${Q}1${D.encode(q)}${G}`}function c(F,q=90){if(typeof F!="string")throw new Error(`bech32.decode input should be string, not ${typeof F}`);if(F.length<8||q!==!1&&F.length>q)throw new TypeError(`Wrong string length: ${F.length} (${F}). Expected (8..${q})`);const V=F.toLowerCase();if(F!==V&&F!==F.toUpperCase())throw new Error("String must be lowercase or uppercase");const Y=V.lastIndexOf("1");if(Y===0||Y===-1)throw new Error('Letter "1" must be present between prefix and data only');const Q=V.slice(0,Y),G=V.slice(Y+1);if(G.length<6)throw new Error("Data must be at least 6 characters long");const H=D.decode(G).slice(0,-6),te=J(Q,H,l);if(!G.endsWith(te))throw new Error(`Invalid checksum in ${F}: expected "${te}"`);return{prefix:Q,words:H}}const w=C(c);function x(F){const{prefix:q,words:V}=c(F,!1);return{prefix:q,words:V,bytes:S(V)}}return{encode:_,decode:c,decodeToBytes:x,decodeUnsafe:w,fromWords:S,fromWordsUnsafe:T,toWords:O}}e.bech32=ce("bech32"),e.bech32m=ce("bech32m"),e.utf8={encode:d=>new TextDecoder().decode(d),decode:d=>new TextEncoder().encode(d)},e.hex=n(M(4),a("0123456789abcdef"),o(""),p(d=>{if(typeof d!="string"||d.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof d} with length ${d.length}`);return d.toLowerCase()}));const oe={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},Z="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",ie=(d,l)=>{if(typeof d!="string"||!oe.hasOwnProperty(d))throw new TypeError(Z);if(!r(l))throw new TypeError("bytesToString() expects Uint8Array");return oe[d].encode(l)};e.bytesToString=ie,e.str=e.bytesToString;const s=(d,l)=>{if(!oe.hasOwnProperty(d))throw new TypeError(Z);if(typeof l!="string")throw new TypeError("stringToBytes() expects string");return oe[d].decode(l)};e.stringToBytes=s,e.bytes=e.stringToBytes})(lib$1),Object.defineProperty(bip39,"__esModule",{value:!0});var mnemonicToSeedSync_1=bip39.mnemonicToSeedSync=bip39.mnemonicToSeed=validateMnemonic_1=bip39.validateMnemonic=bip39.entropyToMnemonic=bip39.mnemonicToEntropy=bip39.generateMnemonic=void 0;const _assert_1=_assert,pbkdf2_1=pbkdf2$2,sha256_1$2=sha256$3,sha512_1$4=sha512$2,utils_1$I=utils$o,base_1$1=lib$1,isJapanese=e=>e[0]==="\u3042\u3044\u3053\u304F\u3057\u3093";function nfkd(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function normalize$2(e){const t=nfkd(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}function assertEntropy(e){(0,_assert_1.bytes)(e,16,20,24,28,32)}function generateMnemonic(e,t=128){if((0,_assert_1.number)(t),t%32!==0||t>256)throw new TypeError("Invalid entropy");return entropyToMnemonic((0,utils_1$I.randomBytes)(t/8),e)}bip39.generateMnemonic=generateMnemonic;const calcChecksum=e=>{const t=8-e.length/4;return new Uint8Array([(0,sha256_1$2.sha256)(e)[0]>>t<<t])};function getCoder(e){if(!Array.isArray(e)||e.length!==2048||typeof e[0]!="string")throw new Error("Wordlist: expected array of 2048 strings");return e.forEach(t=>{if(typeof t!="string")throw new Error(`Wordlist: non-string element: ${t}`)}),base_1$1.utils.chain(base_1$1.utils.checksum(1,calcChecksum),base_1$1.utils.radix2(11,!0),base_1$1.utils.alphabet(e))}function mnemonicToEntropy(e,t){const{words:r}=normalize$2(e),n=getCoder(t).decode(r);return assertEntropy(n),n}bip39.mnemonicToEntropy=mnemonicToEntropy;function entropyToMnemonic(e,t){return assertEntropy(e),getCoder(t).encode(e).join(isJapanese(t)?"\u3000":" ")}bip39.entropyToMnemonic=entropyToMnemonic;function validateMnemonic(e,t){try{mnemonicToEntropy(e,t)}catch{return!1}return!0}var validateMnemonic_1=bip39.validateMnemonic=validateMnemonic;const salt=e=>nfkd(`mnemonic${e}`);function mnemonicToSeed(e,t=""){return(0,pbkdf2_1.pbkdf2Async)(sha512_1$4.sha512,normalize$2(e).nfkd,salt(t),{c:2048,dkLen:64})}bip39.mnemonicToSeed=mnemonicToSeed;function mnemonicToSeedSync(e,t=""){return(0,pbkdf2_1.pbkdf2)(sha512_1$4.sha512,normalize$2(e).nfkd,salt(t),{c:2048,dkLen:64})}mnemonicToSeedSync_1=bip39.mnemonicToSeedSync=mnemonicToSeedSync;var english={};Object.defineProperty(english,"__esModule",{value:!0});var wordlist=english.wordlist=void 0;wordlist=english.wordlist=`abandon
ability
able
about
above
absent
absorb
abstract
absurd
abuse
access
accident
account
accuse
achieve
acid
acoustic
acquire
across
act
action
actor
actress
actual
adapt
add
addict
address
adjust
admit
adult
advance
advice
aerobic
affair
afford
afraid
again
age
agent
agree
ahead
aim
air
airport
aisle
alarm
album
alcohol
alert
alien
all
alley
allow
almost
alone
alpha
already
also
alter
always
amateur
amazing
among
amount
amused
analyst
anchor
ancient
anger
angle
angry
animal
ankle
announce
annual
another
answer
antenna
antique
anxiety
any
apart
apology
appear
apple
approve
april
arch
arctic
area
arena
argue
arm
armed
armor
army
around
arrange
arrest
arrive
arrow
art
artefact
artist
artwork
ask
aspect
assault
asset
assist
assume
asthma
athlete
atom
attack
attend
attitude
attract
auction
audit
august
aunt
author
auto
autumn
average
avocado
avoid
awake
aware
away
awesome
awful
awkward
axis
baby
bachelor
bacon
badge
bag
balance
balcony
ball
bamboo
banana
banner
bar
barely
bargain
barrel
base
basic
basket
battle
beach
bean
beauty
because
become
beef
before
begin
behave
behind
believe
below
belt
bench
benefit
best
betray
better
between
beyond
bicycle
bid
bike
bind
biology
bird
birth
bitter
black
blade
blame
blanket
blast
bleak
bless
blind
blood
blossom
blouse
blue
blur
blush
board
boat
body
boil
bomb
bone
bonus
book
boost
border
boring
borrow
boss
bottom
bounce
box
boy
bracket
brain
brand
brass
brave
bread
breeze
brick
bridge
brief
bright
bring
brisk
broccoli
broken
bronze
broom
brother
brown
brush
bubble
buddy
budget
buffalo
build
bulb
bulk
bullet
bundle
bunker
burden
burger
burst
bus
business
busy
butter
buyer
buzz
cabbage
cabin
cable
cactus
cage
cake
call
calm
camera
camp
can
canal
cancel
candy
cannon
canoe
canvas
canyon
capable
capital
captain
car
carbon
card
cargo
carpet
carry
cart
case
cash
casino
castle
casual
cat
catalog
catch
category
cattle
caught
cause
caution
cave
ceiling
celery
cement
census
century
cereal
certain
chair
chalk
champion
change
chaos
chapter
charge
chase
chat
cheap
check
cheese
chef
cherry
chest
chicken
chief
child
chimney
choice
choose
chronic
chuckle
chunk
churn
cigar
cinnamon
circle
citizen
city
civil
claim
clap
clarify
claw
clay
clean
clerk
clever
click
client
cliff
climb
clinic
clip
clock
clog
close
cloth
cloud
clown
club
clump
cluster
clutch
coach
coast
coconut
code
coffee
coil
coin
collect
color
column
combine
come
comfort
comic
common
company
concert
conduct
confirm
congress
connect
consider
control
convince
cook
cool
copper
copy
coral
core
corn
correct
cost
cotton
couch
country
couple
course
cousin
cover
coyote
crack
cradle
craft
cram
crane
crash
crater
crawl
crazy
cream
credit
creek
crew
cricket
crime
crisp
critic
crop
cross
crouch
crowd
crucial
cruel
cruise
crumble
crunch
crush
cry
crystal
cube
culture
cup
cupboard
curious
current
curtain
curve
cushion
custom
cute
cycle
dad
damage
damp
dance
danger
daring
dash
daughter
dawn
day
deal
debate
debris
decade
december
decide
decline
decorate
decrease
deer
defense
define
defy
degree
delay
deliver
demand
demise
denial
dentist
deny
depart
depend
deposit
depth
deputy
derive
describe
desert
design
desk
despair
destroy
detail
detect
develop
device
devote
diagram
dial
diamond
diary
dice
diesel
diet
differ
digital
dignity
dilemma
dinner
dinosaur
direct
dirt
disagree
discover
disease
dish
dismiss
disorder
display
distance
divert
divide
divorce
dizzy
doctor
document
dog
doll
dolphin
domain
donate
donkey
donor
door
dose
double
dove
draft
dragon
drama
drastic
draw
dream
dress
drift
drill
drink
drip
drive
drop
drum
dry
duck
dumb
dune
during
dust
dutch
duty
dwarf
dynamic
eager
eagle
early
earn
earth
easily
east
easy
echo
ecology
economy
edge
edit
educate
effort
egg
eight
either
elbow
elder
electric
elegant
element
elephant
elevator
elite
else
embark
embody
embrace
emerge
emotion
employ
empower
empty
enable
enact
end
endless
endorse
enemy
energy
enforce
engage
engine
enhance
enjoy
enlist
enough
enrich
enroll
ensure
enter
entire
entry
envelope
episode
equal
equip
era
erase
erode
erosion
error
erupt
escape
essay
essence
estate
eternal
ethics
evidence
evil
evoke
evolve
exact
example
excess
exchange
excite
exclude
excuse
execute
exercise
exhaust
exhibit
exile
exist
exit
exotic
expand
expect
expire
explain
expose
express
extend
extra
eye
eyebrow
fabric
face
faculty
fade
faint
faith
fall
false
fame
family
famous
fan
fancy
fantasy
farm
fashion
fat
fatal
father
fatigue
fault
favorite
feature
february
federal
fee
feed
feel
female
fence
festival
fetch
fever
few
fiber
fiction
field
figure
file
film
filter
final
find
fine
finger
finish
fire
firm
first
fiscal
fish
fit
fitness
fix
flag
flame
flash
flat
flavor
flee
flight
flip
float
flock
floor
flower
fluid
flush
fly
foam
focus
fog
foil
fold
follow
food
foot
force
forest
forget
fork
fortune
forum
forward
fossil
foster
found
fox
fragile
frame
frequent
fresh
friend
fringe
frog
front
frost
frown
frozen
fruit
fuel
fun
funny
furnace
fury
future
gadget
gain
galaxy
gallery
game
gap
garage
garbage
garden
garlic
garment
gas
gasp
gate
gather
gauge
gaze
general
genius
genre
gentle
genuine
gesture
ghost
giant
gift
giggle
ginger
giraffe
girl
give
glad
glance
glare
glass
glide
glimpse
globe
gloom
glory
glove
glow
glue
goat
goddess
gold
good
goose
gorilla
gospel
gossip
govern
gown
grab
grace
grain
grant
grape
grass
gravity
great
green
grid
grief
grit
grocery
group
grow
grunt
guard
guess
guide
guilt
guitar
gun
gym
habit
hair
half
hammer
hamster
hand
happy
harbor
hard
harsh
harvest
hat
have
hawk
hazard
head
health
heart
heavy
hedgehog
height
hello
helmet
help
hen
hero
hidden
high
hill
hint
hip
hire
history
hobby
hockey
hold
hole
holiday
hollow
home
honey
hood
hope
horn
horror
horse
hospital
host
hotel
hour
hover
hub
huge
human
humble
humor
hundred
hungry
hunt
hurdle
hurry
hurt
husband
hybrid
ice
icon
idea
identify
idle
ignore
ill
illegal
illness
image
imitate
immense
immune
impact
impose
improve
impulse
inch
include
income
increase
index
indicate
indoor
industry
infant
inflict
inform
inhale
inherit
initial
inject
injury
inmate
inner
innocent
input
inquiry
insane
insect
inside
inspire
install
intact
interest
into
invest
invite
involve
iron
island
isolate
issue
item
ivory
jacket
jaguar
jar
jazz
jealous
jeans
jelly
jewel
job
join
joke
journey
joy
judge
juice
jump
jungle
junior
junk
just
kangaroo
keen
keep
ketchup
key
kick
kid
kidney
kind
kingdom
kiss
kit
kitchen
kite
kitten
kiwi
knee
knife
knock
know
lab
label
labor
ladder
lady
lake
lamp
language
laptop
large
later
latin
laugh
laundry
lava
law
lawn
lawsuit
layer
lazy
leader
leaf
learn
leave
lecture
left
leg
legal
legend
leisure
lemon
lend
length
lens
leopard
lesson
letter
level
liar
liberty
library
license
life
lift
light
like
limb
limit
link
lion
liquid
list
little
live
lizard
load
loan
lobster
local
lock
logic
lonely
long
loop
lottery
loud
lounge
love
loyal
lucky
luggage
lumber
lunar
lunch
luxury
lyrics
machine
mad
magic
magnet
maid
mail
main
major
make
mammal
man
manage
mandate
mango
mansion
manual
maple
marble
march
margin
marine
market
marriage
mask
mass
master
match
material
math
matrix
matter
maximum
maze
meadow
mean
measure
meat
mechanic
medal
media
melody
melt
member
memory
mention
menu
mercy
merge
merit
merry
mesh
message
metal
method
middle
midnight
milk
million
mimic
mind
minimum
minor
minute
miracle
mirror
misery
miss
mistake
mix
mixed
mixture
mobile
model
modify
mom
moment
monitor
monkey
monster
month
moon
moral
more
morning
mosquito
mother
motion
motor
mountain
mouse
move
movie
much
muffin
mule
multiply
muscle
museum
mushroom
music
must
mutual
myself
mystery
myth
naive
name
napkin
narrow
nasty
nation
nature
near
neck
need
negative
neglect
neither
nephew
nerve
nest
net
network
neutral
never
news
next
nice
night
noble
noise
nominee
noodle
normal
north
nose
notable
note
nothing
notice
novel
now
nuclear
number
nurse
nut
oak
obey
object
oblige
obscure
observe
obtain
obvious
occur
ocean
october
odor
off
offer
office
often
oil
okay
old
olive
olympic
omit
once
one
onion
online
only
open
opera
opinion
oppose
option
orange
orbit
orchard
order
ordinary
organ
orient
original
orphan
ostrich
other
outdoor
outer
output
outside
oval
oven
over
own
owner
oxygen
oyster
ozone
pact
paddle
page
pair
palace
palm
panda
panel
panic
panther
paper
parade
parent
park
parrot
party
pass
patch
path
patient
patrol
pattern
pause
pave
payment
peace
peanut
pear
peasant
pelican
pen
penalty
pencil
people
pepper
perfect
permit
person
pet
phone
photo
phrase
physical
piano
picnic
picture
piece
pig
pigeon
pill
pilot
pink
pioneer
pipe
pistol
pitch
pizza
place
planet
plastic
plate
play
please
pledge
pluck
plug
plunge
poem
poet
point
polar
pole
police
pond
pony
pool
popular
portion
position
possible
post
potato
pottery
poverty
powder
power
practice
praise
predict
prefer
prepare
present
pretty
prevent
price
pride
primary
print
priority
prison
private
prize
problem
process
produce
profit
program
project
promote
proof
property
prosper
protect
proud
provide
public
pudding
pull
pulp
pulse
pumpkin
punch
pupil
puppy
purchase
purity
purpose
purse
push
put
puzzle
pyramid
quality
quantum
quarter
question
quick
quit
quiz
quote
rabbit
raccoon
race
rack
radar
radio
rail
rain
raise
rally
ramp
ranch
random
range
rapid
rare
rate
rather
raven
raw
razor
ready
real
reason
rebel
rebuild
recall
receive
recipe
record
recycle
reduce
reflect
reform
refuse
region
regret
regular
reject
relax
release
relief
rely
remain
remember
remind
remove
render
renew
rent
reopen
repair
repeat
replace
report
require
rescue
resemble
resist
resource
response
result
retire
retreat
return
reunion
reveal
review
reward
rhythm
rib
ribbon
rice
rich
ride
ridge
rifle
right
rigid
ring
riot
ripple
risk
ritual
rival
river
road
roast
robot
robust
rocket
romance
roof
rookie
room
rose
rotate
rough
round
route
royal
rubber
rude
rug
rule
run
runway
rural
sad
saddle
sadness
safe
sail
salad
salmon
salon
salt
salute
same
sample
sand
satisfy
satoshi
sauce
sausage
save
say
scale
scan
scare
scatter
scene
scheme
school
science
scissors
scorpion
scout
scrap
screen
script
scrub
sea
search
season
seat
second
secret
section
security
seed
seek
segment
select
sell
seminar
senior
sense
sentence
series
service
session
settle
setup
seven
shadow
shaft
shallow
share
shed
shell
sheriff
shield
shift
shine
ship
shiver
shock
shoe
shoot
shop
short
shoulder
shove
shrimp
shrug
shuffle
shy
sibling
sick
side
siege
sight
sign
silent
silk
silly
silver
similar
simple
since
sing
siren
sister
situate
six
size
skate
sketch
ski
skill
skin
skirt
skull
slab
slam
sleep
slender
slice
slide
slight
slim
slogan
slot
slow
slush
small
smart
smile
smoke
smooth
snack
snake
snap
sniff
snow
soap
soccer
social
sock
soda
soft
solar
soldier
solid
solution
solve
someone
song
soon
sorry
sort
soul
sound
soup
source
south
space
spare
spatial
spawn
speak
special
speed
spell
spend
sphere
spice
spider
spike
spin
spirit
split
spoil
sponsor
spoon
sport
spot
spray
spread
spring
spy
square
squeeze
squirrel
stable
stadium
staff
stage
stairs
stamp
stand
start
state
stay
steak
steel
stem
step
stereo
stick
still
sting
stock
stomach
stone
stool
story
stove
strategy
street
strike
strong
struggle
student
stuff
stumble
style
subject
submit
subway
success
such
sudden
suffer
sugar
suggest
suit
summer
sun
sunny
sunset
super
supply
supreme
sure
surface
surge
surprise
surround
survey
suspect
sustain
swallow
swamp
swap
swarm
swear
sweet
swift
swim
swing
switch
sword
symbol
symptom
syrup
system
table
tackle
tag
tail
talent
talk
tank
tape
target
task
taste
tattoo
taxi
teach
team
tell
ten
tenant
tennis
tent
term
test
text
thank
that
theme
then
theory
there
they
thing
this
thought
three
thrive
throw
thumb
thunder
ticket
tide
tiger
tilt
timber
time
tiny
tip
tired
tissue
title
toast
tobacco
today
toddler
toe
together
toilet
token
tomato
tomorrow
tone
tongue
tonight
tool
tooth
top
topic
topple
torch
tornado
tortoise
toss
total
tourist
toward
tower
town
toy
track
trade
traffic
tragic
train
transfer
trap
trash
travel
tray
treat
tree
trend
trial
tribe
trick
trigger
trim
trip
trophy
trouble
truck
true
truly
trumpet
trust
truth
try
tube
tuition
tumble
tuna
tunnel
turkey
turn
turtle
twelve
twenty
twice
twin
twist
two
type
typical
ugly
umbrella
unable
unaware
uncle
uncover
under
undo
unfair
unfold
unhappy
uniform
unique
unit
universe
unknown
unlock
until
unusual
unveil
update
upgrade
uphold
upon
upper
upset
urban
urge
usage
use
used
useful
useless
usual
utility
vacant
vacuum
vague
valid
valley
valve
van
vanish
vapor
various
vast
vault
vehicle
velvet
vendor
venture
venue
verb
verify
version
very
vessel
veteran
viable
vibrant
vicious
victory
video
view
village
vintage
violin
virtual
virus
visa
visit
visual
vital
vivid
vocal
voice
void
volcano
volume
vote
voyage
wage
wagon
wait
walk
wall
walnut
want
warfare
warm
warrior
wash
wasp
waste
water
wave
way
wealth
weapon
wear
weasel
weather
web
wedding
weekend
weird
welcome
west
wet
whale
what
wheat
wheel
when
where
whip
whisper
wide
width
wife
wild
will
win
window
wine
wing
wink
winner
winter
wire
wisdom
wise
wish
witness
wolf
woman
wonder
wood
wool
word
work
world
worry
worth
wrap
wreck
wrestle
wrist
write
wrong
yard
year
yellow
you
young
youth
zebra
zero
zone
zoo`.split(`
`);class ConcordiumHdWallet{static fromSeedPhrase(t,r){if(!validateMnemonic_1(t,wordlist))throw new Error("Invalid seed phrase.");const n=Buffer$1.from(mnemonicToSeedSync_1(t)).toString("hex");return new ConcordiumHdWallet(n,r)}static fromHex(t,r){if(t.length!==128)throw new Error("The provided seed "+t+" is invalid as its length was not 128");if(!isHex$4(t))throw new Error("The provided seed "+t+" does not represent a hexidecimal value");return new ConcordiumHdWallet(t,r)}constructor(t,r){this.seedAsHex=t,this.network=r}getAccountSigningKey(t,r,n){return Buffer$1.from(getAccountSigningKey(this.seedAsHex,this.network,t,r,n),"hex")}getAccountPublicKey(t,r,n){return Buffer$1.from(getAccountPublicKey(this.seedAsHex,this.network,t,r,n),"hex")}getCredentialId(t,r,n,{onChainCommitmentKey:a}){return Buffer$1.from(getCredentialId(this.seedAsHex,this.network,t,r,n,a),"hex")}getPrfKey(t,r){return Buffer$1.from(getPrfKey(this.seedAsHex,this.network,t,r),"hex")}getIdCredSec(t,r){return Buffer$1.from(getIdCredSec(this.seedAsHex,this.network,t,r),"hex")}getSignatureBlindingRandomness(t,r){return Buffer$1.from(getSignatureBlindingRandomness(this.seedAsHex,this.network,t,r),"hex")}getAttributeCommitmentRandomness(t,r,n,a){return Buffer$1.from(getAttributeCommitmentRandomness(this.seedAsHex,this.network,t,r,n,a),"hex")}getVerifiableCredentialSigningKey(t,r){return Buffer$1.from(getVerifiableCredentialSigningKey(this.seedAsHex,this.network,t.index,t.subindex,r),"hex")}getVerifiableCredentialPublicKey(t,r){return Buffer$1.from(getVerifiableCredentialPublicKey(this.seedAsHex,this.network,t.index,t.subindex,r),"hex")}getVerifiableCredentialBackupEncryptionKey(){return Buffer$1.from(getVerifiableCredentialBackupEncryptionKey(this.seedAsHex,this.network),"hex")}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var browser$h={exports:{}},process$4=browser$h.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch{try{return cachedSetTimeout.call(null,e,0)}catch{return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch{try{return cachedClearTimeout.call(null,e)}catch{return cachedClearTimeout.call(this,e)}}}var queue$3=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$3=currentQueue.concat(queue$3):queueIndex=-1,queue$3.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue$3.length;t;){for(currentQueue=queue$3,queue$3=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue$3.length}currentQueue=null,draining=!1,runClearTimeout(e)}}process$4.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue$3.push(new Item(e,t)),queue$3.length===1&&!draining&&runTimeout(drainQueue)};function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)},process$4.title="browser",process$4.browser=!0,process$4.env={},process$4.argv=[],process$4.version="",process$4.versions={};function noop$3(){}process$4.on=noop$3,process$4.addListener=noop$3,process$4.once=noop$3,process$4.off=noop$3,process$4.removeListener=noop$3,process$4.removeAllListeners=noop$3,process$4.emit=noop$3,process$4.prependListener=noop$3,process$4.prependOnceListener=noop$3,process$4.listeners=function(e){return[]},process$4.binding=function(e){throw new Error("process.binding is not supported")},process$4.cwd=function(){return"/"},process$4.chdir=function(e){throw new Error("process.chdir is not supported")},process$4.umask=function(){return 0};var browserExports=browser$h.exports;const process$1$1=getDefaultExportFromCjs(browserExports);window.Buffer=Buffer$1,window.process=process$1$1;var check$e=function(e){return e&&e.Math===Math&&e},global$18=check$e(typeof globalThis=="object"&&globalThis)||check$e(typeof window=="object"&&window)||check$e(typeof self=="object"&&self)||check$e(typeof commonjsGlobal=="object"&&commonjsGlobal)||check$e(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),objectGetOwnPropertyDescriptor={},fails$1z=function(e){try{return!!e()}catch{return!0}},fails$1y=fails$1z,descriptors=!fails$1y(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),fails$1x=fails$1z,functionBindNative=!fails$1x(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),NATIVE_BIND$4=functionBindNative,call$1m=Function.prototype.call,functionCall=NATIVE_BIND$4?call$1m.bind(call$1m):function(){return call$1m.apply(call$1m,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable$2={}.propertyIsEnumerable,getOwnPropertyDescriptor$d=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$d&&!$propertyIsEnumerable$2.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(e){var t=getOwnPropertyDescriptor$d(this,e);return!!t&&t.enumerable}:$propertyIsEnumerable$2;var createPropertyDescriptor$d=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},NATIVE_BIND$3=functionBindNative,FunctionPrototype$5=Function.prototype,call$1l=FunctionPrototype$5.call,uncurryThisWithBind=NATIVE_BIND$3&&FunctionPrototype$5.bind.bind(call$1l,call$1l),functionUncurryThis=NATIVE_BIND$3?uncurryThisWithBind:function(e){return function(){return call$1l.apply(e,arguments)}},uncurryThis$1Y=functionUncurryThis,toString$M=uncurryThis$1Y({}.toString),stringSlice$n=uncurryThis$1Y("".slice),classofRaw$2=function(e){return stringSlice$n(toString$M(e),8,-1)},uncurryThis$1X=functionUncurryThis,fails$1w=fails$1z,classof$r=classofRaw$2,$Object$9=Object,split$7=uncurryThis$1X("".split),indexedObject=fails$1w(function(){return!$Object$9("z").propertyIsEnumerable(0)})?function(e){return classof$r(e)==="String"?split$7(e,""):$Object$9(e)}:$Object$9,isNullOrUndefined$j=function(e){return e==null},isNullOrUndefined$i=isNullOrUndefined$j,$TypeError$P=TypeError,requireObjectCoercible$q=function(e){if(isNullOrUndefined$i(e))throw new $TypeError$P("Can't call method on "+e);return e},IndexedObject$7=indexedObject,requireObjectCoercible$p=requireObjectCoercible$q,toIndexedObject$k=function(e){return IndexedObject$7(requireObjectCoercible$p(e))},documentAll=typeof document=="object"&&document.all,isCallable$K=typeof documentAll>"u"&&documentAll!==void 0?function(e){return typeof e=="function"||e===documentAll}:function(e){return typeof e=="function"},isCallable$J=isCallable$K,isObject$O=function(e){return typeof e=="object"?e!==null:isCallable$J(e)},global$17=global$18,isCallable$I=isCallable$K,aFunction=function(e){return isCallable$I(e)?e:void 0},getBuiltIn$N=function(e,t){return arguments.length<2?aFunction(global$17[e]):global$17[e]&&global$17[e][t]},uncurryThis$1W=functionUncurryThis,objectIsPrototypeOf=uncurryThis$1W({}.isPrototypeOf),engineUserAgent=typeof navigator<"u"&&String(navigator.userAgent)||"",global$16=global$18,userAgent$6=engineUserAgent,process$3=global$16.process,Deno$1=global$16.Deno,versions=process$3&&process$3.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version$2;v8&&(match=v8.split("."),version$2=match[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version$2&&userAgent$6&&(match=userAgent$6.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$6.match(/Chrome\/(\d+)/),match&&(version$2=+match[1])));var engineV8Version=version$2,V8_VERSION$3=engineV8Version,fails$1v=fails$1z,global$15=global$18,$String$a=global$15.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$1v(function(){var e=Symbol("symbol detection");return!$String$a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&V8_VERSION$3&&V8_VERSION$3<41}),NATIVE_SYMBOL$7=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$7&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$M=getBuiltIn$N,isCallable$H=isCallable$K,isPrototypeOf$f=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$8=Object,isSymbol$8=USE_SYMBOL_AS_UID$1?function(e){return typeof e=="symbol"}:function(e){var t=getBuiltIn$M("Symbol");return isCallable$H(t)&&isPrototypeOf$f(t.prototype,$Object$8(e))},$String$9=String,tryToString$7=function(e){try{return $String$9(e)}catch{return"Object"}},isCallable$G=isCallable$K,tryToString$6=tryToString$7,$TypeError$O=TypeError,aCallable$N=function(e){if(isCallable$G(e))return e;throw new $TypeError$O(tryToString$6(e)+" is not a function")},aCallable$M=aCallable$N,isNullOrUndefined$h=isNullOrUndefined$j,getMethod$l=function(e,t){var r=e[t];return isNullOrUndefined$h(r)?void 0:aCallable$M(r)},call$1k=functionCall,isCallable$F=isCallable$K,isObject$N=isObject$O,$TypeError$N=TypeError,ordinaryToPrimitive$2=function(e,t){var r,n;if(t==="string"&&isCallable$F(r=e.toString)&&!isObject$N(n=call$1k(r,e))||isCallable$F(r=e.valueOf)&&!isObject$N(n=call$1k(r,e))||t!=="string"&&isCallable$F(r=e.toString)&&!isObject$N(n=call$1k(r,e)))return n;throw new $TypeError$N("Can't convert object to primitive value")},sharedStore={exports:{}},isPure=!1,global$14=global$18,defineProperty$i=Object.defineProperty,defineGlobalProperty$3=function(e,t){try{defineProperty$i(global$14,e,{value:t,configurable:!0,writable:!0})}catch{global$14[e]=t}return t},globalThis$3=global$18,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$5=sharedStore.exports=globalThis$3[SHARED]||defineGlobalProperty$2(SHARED,{});(store$5.versions||(store$5.versions=[])).push({version:"3.37.1",mode:"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var sharedStoreExports=sharedStore.exports,store$4=sharedStoreExports,shared$b=function(e,t){return store$4[e]||(store$4[e]=t||{})},requireObjectCoercible$o=requireObjectCoercible$q,$Object$7=Object,toObject$E=function(e){return $Object$7(requireObjectCoercible$o(e))},uncurryThis$1V=functionUncurryThis,toObject$D=toObject$E,hasOwnProperty$1=uncurryThis$1V({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(e,t){return hasOwnProperty$1(toObject$D(e),t)},uncurryThis$1U=functionUncurryThis,id$2=0,postfix=Math.random(),toString$L=uncurryThis$1U(1 .toString),uid$7=function(e){return"Symbol("+(e===void 0?"":e)+")_"+toString$L(++id$2+postfix,36)},global$13=global$18,shared$a=shared$b,hasOwn$G=hasOwnProperty_1,uid$6=uid$7,NATIVE_SYMBOL$6=symbolConstructorDetection,USE_SYMBOL_AS_UID=useSymbolAsUid,Symbol$7=global$13.Symbol,WellKnownSymbolsStore$2=shared$a("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$7.for||Symbol$7:Symbol$7&&Symbol$7.withoutSetter||uid$6,wellKnownSymbol$S=function(e){return hasOwn$G(WellKnownSymbolsStore$2,e)||(WellKnownSymbolsStore$2[e]=NATIVE_SYMBOL$6&&hasOwn$G(Symbol$7,e)?Symbol$7[e]:createWellKnownSymbol("Symbol."+e)),WellKnownSymbolsStore$2[e]},call$1j=functionCall,isObject$M=isObject$O,isSymbol$7=isSymbol$8,getMethod$k=getMethod$l,ordinaryToPrimitive$1=ordinaryToPrimitive$2,wellKnownSymbol$R=wellKnownSymbol$S,$TypeError$M=TypeError,TO_PRIMITIVE$1=wellKnownSymbol$R("toPrimitive"),toPrimitive$4=function(e,t){if(!isObject$M(e)||isSymbol$7(e))return e;var r=getMethod$k(e,TO_PRIMITIVE$1),n;if(r){if(t===void 0&&(t="default"),n=call$1j(r,e,t),!isObject$M(n)||isSymbol$7(n))return n;throw new $TypeError$M("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive$1(e,t)},toPrimitive$3=toPrimitive$4,isSymbol$6=isSymbol$8,toPropertyKey$9=function(e){var t=toPrimitive$3(e,"string");return isSymbol$6(t)?t:t+""},global$12=global$18,isObject$L=isObject$O,document$3=global$12.document,EXISTS$1=isObject$L(document$3)&&isObject$L(document$3.createElement),documentCreateElement$2=function(e){return EXISTS$1?document$3.createElement(e):{}},DESCRIPTORS$W=descriptors,fails$1u=fails$1z,createElement$1=documentCreateElement$2,ie8DomDefine=!DESCRIPTORS$W&&!fails$1u(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!==7}),DESCRIPTORS$V=descriptors,call$1i=functionCall,propertyIsEnumerableModule$2=objectPropertyIsEnumerable,createPropertyDescriptor$c=createPropertyDescriptor$d,toIndexedObject$j=toIndexedObject$k,toPropertyKey$8=toPropertyKey$9,hasOwn$F=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$V?$getOwnPropertyDescriptor$2:function(e,t){if(e=toIndexedObject$j(e),t=toPropertyKey$8(t),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$2(e,t)}catch{}if(hasOwn$F(e,t))return createPropertyDescriptor$c(!call$1i(propertyIsEnumerableModule$2.f,e,t),e[t])};var objectDefineProperty={},DESCRIPTORS$U=descriptors,fails$1t=fails$1z,v8PrototypeDefineBug=DESCRIPTORS$U&&fails$1t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),isObject$K=isObject$O,$String$8=String,$TypeError$L=TypeError,anObject$1h=function(e){if(isObject$K(e))return e;throw new $TypeError$L($String$8(e)+" is not an object")},DESCRIPTORS$T=descriptors,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$1g=anObject$1h,toPropertyKey$7=toPropertyKey$9,$TypeError$K=TypeError,$defineProperty$3=Object.defineProperty,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$T?V8_PROTOTYPE_DEFINE_BUG$1?function(e,t,r){if(anObject$1g(e),t=toPropertyKey$7(t),anObject$1g(r),typeof e=="function"&&t==="prototype"&&"value"in r&&WRITABLE in r&&!r[WRITABLE]){var n=$getOwnPropertyDescriptor$1(e,t);n&&n[WRITABLE]&&(e[t]=r.value,r={configurable:CONFIGURABLE$1 in r?r[CONFIGURABLE$1]:n[CONFIGURABLE$1],enumerable:ENUMERABLE in r?r[ENUMERABLE]:n[ENUMERABLE],writable:!1})}return $defineProperty$3(e,t,r)}:$defineProperty$3:function(e,t,r){if(anObject$1g(e),t=toPropertyKey$7(t),anObject$1g(r),IE8_DOM_DEFINE)try{return $defineProperty$3(e,t,r)}catch{}if("get"in r||"set"in r)throw new $TypeError$K("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var DESCRIPTORS$S=descriptors,definePropertyModule$b=objectDefineProperty,createPropertyDescriptor$b=createPropertyDescriptor$d,createNonEnumerableProperty$j=DESCRIPTORS$S?function(e,t,r){return definePropertyModule$b.f(e,t,createPropertyDescriptor$b(1,r))}:function(e,t,r){return e[t]=r,e},makeBuiltIn$5={exports:{}},DESCRIPTORS$R=descriptors,hasOwn$E=hasOwnProperty_1,FunctionPrototype$4=Function.prototype,getDescriptor=DESCRIPTORS$R&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$E(FunctionPrototype$4,"name"),PROPER=EXISTS&&(function(){}).name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS$R||DESCRIPTORS$R&&getDescriptor(FunctionPrototype$4,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},uncurryThis$1T=functionUncurryThis,isCallable$E=isCallable$K,store$3=sharedStoreExports,functionToString$1=uncurryThis$1T(Function.toString);isCallable$E(store$3.inspectSource)||(store$3.inspectSource=function(e){return functionToString$1(e)});var inspectSource$4=store$3.inspectSource,global$11=global$18,isCallable$D=isCallable$K,WeakMap$4=global$11.WeakMap,weakMapBasicDetection=isCallable$D(WeakMap$4)&&/native code/.test(String(WeakMap$4)),shared$9=shared$b,uid$5=uid$7,keys$2=shared$9("keys"),sharedKey$4=function(e){return keys$2[e]||(keys$2[e]=uid$5(e))},hiddenKeys$6={},NATIVE_WEAK_MAP$1=weakMapBasicDetection,global$10=global$18,isObject$J=isObject$O,createNonEnumerableProperty$i=createNonEnumerableProperty$j,hasOwn$D=hasOwnProperty_1,shared$8=sharedStoreExports,sharedKey$3=sharedKey$4,hiddenKeys$5=hiddenKeys$6,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$9=global$10.TypeError,WeakMap$3=global$10.WeakMap,set$b,get$6,has$d,enforce=function(e){return has$d(e)?get$6(e):set$b(e,{})},getterFor$2=function(e){return function(t){var r;if(!isObject$J(t)||(r=get$6(t)).type!==e)throw new TypeError$9("Incompatible receiver, "+e+" required");return r}};if(NATIVE_WEAK_MAP$1||shared$8.state){var store$2=shared$8.state||(shared$8.state=new WeakMap$3);store$2.get=store$2.get,store$2.has=store$2.has,store$2.set=store$2.set,set$b=function(e,t){if(store$2.has(e))throw new TypeError$9(OBJECT_ALREADY_INITIALIZED);return t.facade=e,store$2.set(e,t),t},get$6=function(e){return store$2.get(e)||{}},has$d=function(e){return store$2.has(e)}}else{var STATE=sharedKey$3("state");hiddenKeys$5[STATE]=!0,set$b=function(e,t){if(hasOwn$D(e,STATE))throw new TypeError$9(OBJECT_ALREADY_INITIALIZED);return t.facade=e,createNonEnumerableProperty$i(e,STATE,t),t},get$6=function(e){return hasOwn$D(e,STATE)?e[STATE]:{}},has$d=function(e){return hasOwn$D(e,STATE)}}var internalState={set:set$b,get:get$6,has:has$d,enforce,getterFor:getterFor$2},uncurryThis$1S=functionUncurryThis,fails$1s=fails$1z,isCallable$C=isCallable$K,hasOwn$C=hasOwnProperty_1,DESCRIPTORS$Q=descriptors,CONFIGURABLE_FUNCTION_NAME$2=functionName.CONFIGURABLE,inspectSource$3=inspectSource$4,InternalStateModule$n=internalState,enforceInternalState$4=InternalStateModule$n.enforce,getInternalState$g=InternalStateModule$n.get,$String$7=String,defineProperty$h=Object.defineProperty,stringSlice$m=uncurryThis$1S("".slice),replace$e=uncurryThis$1S("".replace),join$9=uncurryThis$1S([].join),CONFIGURABLE_LENGTH=DESCRIPTORS$Q&&!fails$1s(function(){return defineProperty$h(function(){},"length",{value:8}).length!==8}),TEMPLATE=String(String).split("String"),makeBuiltIn$4=makeBuiltIn$5.exports=function(e,t,r){stringSlice$m($String$7(t),0,7)==="Symbol("&&(t="["+replace$e($String$7(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!hasOwn$C(e,"name")||CONFIGURABLE_FUNCTION_NAME$2&&e.name!==t)&&(DESCRIPTORS$Q?defineProperty$h(e,"name",{value:t,configurable:!0}):e.name=t),CONFIGURABLE_LENGTH&&r&&hasOwn$C(r,"arity")&&e.length!==r.arity&&defineProperty$h(e,"length",{value:r.arity});try{r&&hasOwn$C(r,"constructor")&&r.constructor?DESCRIPTORS$Q&&defineProperty$h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=enforceInternalState$4(e);return hasOwn$C(n,"source")||(n.source=join$9(TEMPLATE,typeof t=="string"?t:"")),e};Function.prototype.toString=makeBuiltIn$4(function(){return isCallable$C(this)&&getInternalState$g(this).source||inspectSource$3(this)},"toString");var makeBuiltInExports=makeBuiltIn$5.exports,isCallable$B=isCallable$K,definePropertyModule$a=objectDefineProperty,makeBuiltIn$3=makeBuiltInExports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$u=function(e,t,r,n){n||(n={});var a=n.enumerable,o=n.name!==void 0?n.name:t;if(isCallable$B(r)&&makeBuiltIn$3(r,o,n),n.global)a?e[t]=r:defineGlobalProperty$1(t,r);else{try{n.unsafe?e[t]&&(a=!0):delete e[t]}catch{}a?e[t]=r:definePropertyModule$a.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},objectGetOwnPropertyNames={},ceil$1=Math.ceil,floor$a=Math.floor,mathTrunc=Math.trunc||function(e){var t=+e;return(t>0?floor$a:ceil$1)(t)},trunc$1=mathTrunc,toIntegerOrInfinity$p=function(e){var t=+e;return t!==t||t===0?0:trunc$1(t)},toIntegerOrInfinity$o=toIntegerOrInfinity$p,max$a=Math.max,min$e=Math.min,toAbsoluteIndex$a=function(e,t){var r=toIntegerOrInfinity$o(e);return r<0?max$a(r+t,0):min$e(r,t)},toIntegerOrInfinity$n=toIntegerOrInfinity$p,min$d=Math.min,toLength$d=function(e){var t=toIntegerOrInfinity$n(e);return t>0?min$d(t,9007199254740991):0},toLength$c=toLength$d,lengthOfArrayLike$B=function(e){return toLength$c(e.length)},toIndexedObject$i=toIndexedObject$k,toAbsoluteIndex$9=toAbsoluteIndex$a,lengthOfArrayLike$A=lengthOfArrayLike$B,createMethod$8=function(e){return function(t,r,n){var a=toIndexedObject$i(t),o=lengthOfArrayLike$A(a);if(o===0)return!e&&-1;var u=toAbsoluteIndex$9(n,o),p;if(e&&r!==r){for(;o>u;)if(p=a[u++],p!==p)return!0}else for(;o>u;u++)if((e||u in a)&&a[u]===r)return e||u||0;return!e&&-1}},arrayIncludes={includes:createMethod$8(!0),indexOf:createMethod$8(!1)},uncurryThis$1R=functionUncurryThis,hasOwn$B=hasOwnProperty_1,toIndexedObject$h=toIndexedObject$k,indexOf$2=arrayIncludes.indexOf,hiddenKeys$4=hiddenKeys$6,push$t=uncurryThis$1R([].push),objectKeysInternal=function(e,t){var r=toIndexedObject$h(e),n=0,a=[],o;for(o in r)!hasOwn$B(hiddenKeys$4,o)&&hasOwn$B(r,o)&&push$t(a,o);for(;t.length>n;)hasOwn$B(r,o=t[n++])&&(~indexOf$2(a,o)||push$t(a,o));return a},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$3=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(e){return internalObjectKeys$1(e,hiddenKeys$3)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$L=getBuiltIn$N,uncurryThis$1Q=functionUncurryThis,getOwnPropertyNamesModule$2=objectGetOwnPropertyNames,getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols,anObject$1f=anObject$1h,concat$5=uncurryThis$1Q([].concat),ownKeys$3=getBuiltIn$L("Reflect","ownKeys")||function(e){var t=getOwnPropertyNamesModule$2.f(anObject$1f(e)),r=getOwnPropertySymbolsModule$3.f;return r?concat$5(t,r(e)):t},hasOwn$A=hasOwnProperty_1,ownKeys$2=ownKeys$3,getOwnPropertyDescriptorModule$6=objectGetOwnPropertyDescriptor,definePropertyModule$9=objectDefineProperty,copyConstructorProperties$7=function(e,t,r){for(var n=ownKeys$2(t),a=definePropertyModule$9.f,o=getOwnPropertyDescriptorModule$6.f,u=0;u<n.length;u++){var p=n[u];!hasOwn$A(e,p)&&!(r&&hasOwn$A(r,p))&&a(e,p,o(t,p))}},fails$1r=fails$1z,isCallable$A=isCallable$K,replacement=/#|\.prototype\./,isForced$5=function(e,t){var r=data[normalize$1(e)];return r===POLYFILL?!0:r===NATIVE$1?!1:isCallable$A(t)?fails$1r(t):!!t},normalize$1=isForced$5.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced$5.data={},NATIVE$1=isForced$5.NATIVE="N",POLYFILL=isForced$5.POLYFILL="P",isForced_1=isForced$5,global$$=global$18,getOwnPropertyDescriptor$c=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$h=createNonEnumerableProperty$j,defineBuiltIn$t=defineBuiltIn$u,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties$6=copyConstructorProperties$7,isForced$4=isForced_1,_export=function(e,t){var r=e.target,n=e.global,a=e.stat,o,u,p,b,m,y;if(n?u=global$$:a?u=global$$[r]||defineGlobalProperty(r,{}):u=global$$[r]&&global$$[r].prototype,u)for(p in t){if(m=t[p],e.dontCallGetSet?(y=getOwnPropertyDescriptor$c(u,p),b=y&&y.value):b=u[p],o=isForced$4(n?p:r+(a?".":"#")+p,e.forced),!o&&b!==void 0){if(typeof m==typeof b)continue;copyConstructorProperties$6(m,b)}(e.sham||b&&b.sham)&&createNonEnumerableProperty$h(m,"sham",!0),defineBuiltIn$t(u,p,m,e)}},wellKnownSymbol$Q=wellKnownSymbol$S,TO_STRING_TAG$b=wellKnownSymbol$Q("toStringTag"),test$3={};test$3[TO_STRING_TAG$b]="z";var toStringTagSupport=String(test$3)==="[object z]",TO_STRING_TAG_SUPPORT$2=toStringTagSupport,isCallable$z=isCallable$K,classofRaw$1=classofRaw$2,wellKnownSymbol$P=wellKnownSymbol$S,TO_STRING_TAG$a=wellKnownSymbol$P("toStringTag"),$Object$6=Object,CORRECT_ARGUMENTS=classofRaw$1(function(){return arguments}())==="Arguments",tryGet=function(e,t){try{return e[t]}catch{}},classof$q=TO_STRING_TAG_SUPPORT$2?classofRaw$1:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=tryGet(t=$Object$6(e),TO_STRING_TAG$a))=="string"?r:CORRECT_ARGUMENTS?classofRaw$1(t):(n=classofRaw$1(t))==="Object"&&isCallable$z(t.callee)?"Arguments":n},classof$p=classof$q,$String$6=String,toString$K=function(e){if(classof$p(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String$6(e)},objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$6=Object.keys||function(e){return internalObjectKeys(e,enumBugKeys$1)},DESCRIPTORS$P=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$8=objectDefineProperty,anObject$1e=anObject$1h,toIndexedObject$g=toIndexedObject$k,objectKeys$5=objectKeys$6;objectDefineProperties.f=DESCRIPTORS$P&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(e,t){anObject$1e(e);for(var r=toIndexedObject$g(t),n=objectKeys$5(t),a=n.length,o=0,u;a>o;)definePropertyModule$8.f(e,u=n[o++],r[u]);return e};var getBuiltIn$K=getBuiltIn$N,html$2=getBuiltIn$K("document","documentElement"),anObject$1d=anObject$1h,definePropertiesModule$1=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys$2=hiddenKeys$6,html$1=html$2,documentCreateElement$1=documentCreateElement$2,sharedKey$2=sharedKey$4,GT=">",LT="<",PROTOTYPE$2="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$2("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame=function(){var e=documentCreateElement$1("iframe"),t="java"+SCRIPT+":",r;return e.style.display="none",html$1.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(scriptTag("document.F=Object")),r.close(),r.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var e=enumBugKeys.length;e--;)delete NullProtoObject[PROTOTYPE$2][enumBugKeys[e]];return NullProtoObject()};hiddenKeys$2[IE_PROTO$1]=!0;var objectCreate$1=Object.create||function(e,t){var r;return e!==null?(EmptyConstructor[PROTOTYPE$2]=anObject$1d(e),r=new EmptyConstructor,EmptyConstructor[PROTOTYPE$2]=null,r[IE_PROTO$1]=e):r=NullProtoObject(),t===void 0?r:definePropertiesModule$1.f(r,t)},objectGetOwnPropertyNamesExternal={},uncurryThis$1P=functionUncurryThis,arraySlice$a=uncurryThis$1P([].slice),classof$o=classofRaw$2,toIndexedObject$f=toIndexedObject$k,$getOwnPropertyNames$1=objectGetOwnPropertyNames.f,arraySlice$9=arraySlice$a,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(e){try{return $getOwnPropertyNames$1(e)}catch{return arraySlice$9(windowNames)}};objectGetOwnPropertyNamesExternal.f=function(e){return windowNames&&classof$o(e)==="Window"?getWindowNames(e):$getOwnPropertyNames$1(toIndexedObject$f(e))};var makeBuiltIn$2=makeBuiltInExports,defineProperty$g=objectDefineProperty,defineBuiltInAccessor$p=function(e,t,r){return r.get&&makeBuiltIn$2(r.get,t,{getter:!0}),r.set&&makeBuiltIn$2(r.set,t,{setter:!0}),defineProperty$g.f(e,t,r)},wellKnownSymbolWrapped={},wellKnownSymbol$O=wellKnownSymbol$S;wellKnownSymbolWrapped.f=wellKnownSymbol$O;var global$_=global$18,path$2=global$_,path$1=path$2,hasOwn$z=hasOwnProperty_1,wrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped,defineProperty$f=objectDefineProperty.f,wellKnownSymbolDefine=function(e){var t=path$1.Symbol||(path$1.Symbol={});hasOwn$z(t,e)||defineProperty$f(t,e,{value:wrappedWellKnownSymbolModule$1.f(e)})},call$1h=functionCall,getBuiltIn$J=getBuiltIn$N,wellKnownSymbol$N=wellKnownSymbol$S,defineBuiltIn$s=defineBuiltIn$u,symbolDefineToPrimitive=function(){var e=getBuiltIn$J("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,n=wellKnownSymbol$N("toPrimitive");t&&!t[n]&&defineBuiltIn$s(t,n,function(a){return call$1h(r,this)},{arity:1})},defineProperty$e=objectDefineProperty.f,hasOwn$y=hasOwnProperty_1,wellKnownSymbol$M=wellKnownSymbol$S,TO_STRING_TAG$9=wellKnownSymbol$M("toStringTag"),setToStringTag$e=function(e,t,r){e&&!r&&(e=e.prototype),e&&!hasOwn$y(e,TO_STRING_TAG$9)&&defineProperty$e(e,TO_STRING_TAG$9,{configurable:!0,value:t})},classofRaw=classofRaw$2,uncurryThis$1O=functionUncurryThis,functionUncurryThisClause=function(e){if(classofRaw(e)==="Function")return uncurryThis$1O(e)},uncurryThis$1N=functionUncurryThisClause,aCallable$L=aCallable$N,NATIVE_BIND$2=functionBindNative,bind$x=uncurryThis$1N(uncurryThis$1N.bind),functionBindContext=function(e,t){return aCallable$L(e),t===void 0?e:NATIVE_BIND$2?bind$x(e,t):function(){return e.apply(t,arguments)}},classof$n=classofRaw$2,isArray$b=Array.isArray||function(e){return classof$n(e)==="Array"},uncurryThis$1M=functionUncurryThis,fails$1q=fails$1z,isCallable$y=isCallable$K,classof$m=classof$q,getBuiltIn$I=getBuiltIn$N,inspectSource$2=inspectSource$4,noop$2=function(){},construct$1=getBuiltIn$I("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$g=uncurryThis$1M(constructorRegExp.exec),INCORRECT_TO_STRING$2=!constructorRegExp.test(noop$2),isConstructorModern=function(e){if(!isCallable$y(e))return!1;try{return construct$1(noop$2,[],e),!0}catch{return!1}},isConstructorLegacy=function(e){if(!isCallable$y(e))return!1;switch(classof$m(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$2||!!exec$g(constructorRegExp,inspectSource$2(e))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor$a=!construct$1||fails$1q(function(){var e;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){e=!0})||e})?isConstructorLegacy:isConstructorModern,isArray$a=isArray$b,isConstructor$9=isConstructor$a,isObject$I=isObject$O,wellKnownSymbol$L=wellKnownSymbol$S,SPECIES$6=wellKnownSymbol$L("species"),$Array$b=Array,arraySpeciesConstructor$1=function(e){var t;return isArray$a(e)&&(t=e.constructor,isConstructor$9(t)&&(t===$Array$b||isArray$a(t.prototype))?t=void 0:isObject$I(t)&&(t=t[SPECIES$6],t===null&&(t=void 0))),t===void 0?$Array$b:t},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$5=function(e,t){return new(arraySpeciesConstructor(e))(t===0?0:t)},bind$w=functionBindContext,uncurryThis$1L=functionUncurryThis,IndexedObject$6=indexedObject,toObject$C=toObject$E,lengthOfArrayLike$z=lengthOfArrayLike$B,arraySpeciesCreate$4=arraySpeciesCreate$5,push$s=uncurryThis$1L([].push),createMethod$7=function(e){var t=e===1,r=e===2,n=e===3,a=e===4,o=e===6,u=e===7,p=e===5||o;return function(b,m,y,A){for(var I=toObject$C(b),M=IndexedObject$6(I),C=lengthOfArrayLike$z(M),P=bind$w(m,y),B=0,k=A||arraySpeciesCreate$4,N=t?k(b,C):r||u?k(b,0):void 0,D,L;C>B;B++)if((p||B in M)&&(D=M[B],L=P(D,B,I),e))if(t)N[B]=L;else if(L)switch(e){case 3:return!0;case 5:return D;case 6:return B;case 2:push$s(N,D)}else switch(e){case 4:return!1;case 7:push$s(N,D)}return o?-1:n||a?a:N}},arrayIteration={forEach:createMethod$7(0),map:createMethod$7(1),filter:createMethod$7(2),some:createMethod$7(3),every:createMethod$7(4),find:createMethod$7(5),findIndex:createMethod$7(6),filterReject:createMethod$7(7)},$$5x=_export,global$Z=global$18,call$1g=functionCall,uncurryThis$1K=functionUncurryThis,DESCRIPTORS$O=descriptors,NATIVE_SYMBOL$5=symbolConstructorDetection,fails$1p=fails$1z,hasOwn$x=hasOwnProperty_1,isPrototypeOf$e=objectIsPrototypeOf,anObject$1c=anObject$1h,toIndexedObject$e=toIndexedObject$k,toPropertyKey$6=toPropertyKey$9,$toString$5=toString$K,createPropertyDescriptor$a=createPropertyDescriptor$d,nativeObjectCreate=objectCreate$1,objectKeys$4=objectKeys$6,getOwnPropertyNamesModule$1=objectGetOwnPropertyNames,getOwnPropertyNamesExternal=objectGetOwnPropertyNamesExternal,getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols,getOwnPropertyDescriptorModule$5=objectGetOwnPropertyDescriptor,definePropertyModule$7=objectDefineProperty,definePropertiesModule=objectDefineProperties,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,defineBuiltIn$r=defineBuiltIn$u,defineBuiltInAccessor$o=defineBuiltInAccessor$p,shared$7=shared$b,sharedKey$1=sharedKey$4,hiddenKeys$1=hiddenKeys$6,uid$4=uid$7,wellKnownSymbol$K=wellKnownSymbol$S,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineWellKnownSymbol$m=wellKnownSymbolDefine,defineSymbolToPrimitive$1=symbolDefineToPrimitive,setToStringTag$d=setToStringTag$e,InternalStateModule$m=internalState,$forEach$3=arrayIteration.forEach,HIDDEN=sharedKey$1("hidden"),SYMBOL="Symbol",PROTOTYPE$1="prototype",setInternalState$m=InternalStateModule$m.set,getInternalState$f=InternalStateModule$m.getterFor(SYMBOL),ObjectPrototype$5=Object[PROTOTYPE$1],$Symbol=global$Z.Symbol,SymbolPrototype$1=$Symbol&&$Symbol[PROTOTYPE$1],RangeError$4=global$Z.RangeError,TypeError$8=global$Z.TypeError,QObject=global$Z.QObject,nativeGetOwnPropertyDescriptor$2=getOwnPropertyDescriptorModule$5.f,nativeDefineProperty$1=definePropertyModule$7.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule$1.f,push$r=uncurryThis$1K([].push),AllSymbols=shared$7("symbols"),ObjectPrototypeSymbols=shared$7("op-symbols"),WellKnownSymbolsStore$1=shared$7("wks"),USE_SETTER=!QObject||!QObject[PROTOTYPE$1]||!QObject[PROTOTYPE$1].findChild,fallbackDefineProperty=function(e,t,r){var n=nativeGetOwnPropertyDescriptor$2(ObjectPrototype$5,t);n&&delete ObjectPrototype$5[t],nativeDefineProperty$1(e,t,r),n&&e!==ObjectPrototype$5&&nativeDefineProperty$1(ObjectPrototype$5,t,n)},setSymbolDescriptor=DESCRIPTORS$O&&fails$1p(function(){return nativeObjectCreate(nativeDefineProperty$1({},"a",{get:function(){return nativeDefineProperty$1(this,"a",{value:7}).a}})).a!==7})?fallbackDefineProperty:nativeDefineProperty$1,wrap=function(e,t){var r=AllSymbols[e]=nativeObjectCreate(SymbolPrototype$1);return setInternalState$m(r,{type:SYMBOL,tag:e,description:t}),DESCRIPTORS$O||(r.description=t),r},$defineProperty$2=function(e,t,r){e===ObjectPrototype$5&&$defineProperty$2(ObjectPrototypeSymbols,t,r),anObject$1c(e);var n=toPropertyKey$6(t);return anObject$1c(r),hasOwn$x(AllSymbols,n)?(r.enumerable?(hasOwn$x(e,HIDDEN)&&e[HIDDEN][n]&&(e[HIDDEN][n]=!1),r=nativeObjectCreate(r,{enumerable:createPropertyDescriptor$a(0,!1)})):(hasOwn$x(e,HIDDEN)||nativeDefineProperty$1(e,HIDDEN,createPropertyDescriptor$a(1,nativeObjectCreate(null))),e[HIDDEN][n]=!0),setSymbolDescriptor(e,n,r)):nativeDefineProperty$1(e,n,r)},$defineProperties=function(e,t){anObject$1c(e);var r=toIndexedObject$e(t),n=objectKeys$4(r).concat($getOwnPropertySymbols(r));return $forEach$3(n,function(a){(!DESCRIPTORS$O||call$1g($propertyIsEnumerable$1,r,a))&&$defineProperty$2(e,a,r[a])}),e},$create=function(e,t){return t===void 0?nativeObjectCreate(e):$defineProperties(nativeObjectCreate(e),t)},$propertyIsEnumerable$1=function(e){var t=toPropertyKey$6(e),r=call$1g(nativePropertyIsEnumerable,this,t);return this===ObjectPrototype$5&&hasOwn$x(AllSymbols,t)&&!hasOwn$x(ObjectPrototypeSymbols,t)?!1:r||!hasOwn$x(this,t)||!hasOwn$x(AllSymbols,t)||hasOwn$x(this,HIDDEN)&&this[HIDDEN][t]?r:!0},$getOwnPropertyDescriptor=function(e,t){var r=toIndexedObject$e(e),n=toPropertyKey$6(t);if(!(r===ObjectPrototype$5&&hasOwn$x(AllSymbols,n)&&!hasOwn$x(ObjectPrototypeSymbols,n))){var a=nativeGetOwnPropertyDescriptor$2(r,n);return a&&hasOwn$x(AllSymbols,n)&&!(hasOwn$x(r,HIDDEN)&&r[HIDDEN][n])&&(a.enumerable=!0),a}},$getOwnPropertyNames=function(e){var t=nativeGetOwnPropertyNames(toIndexedObject$e(e)),r=[];return $forEach$3(t,function(n){!hasOwn$x(AllSymbols,n)&&!hasOwn$x(hiddenKeys$1,n)&&push$r(r,n)}),r},$getOwnPropertySymbols=function(e){var t=e===ObjectPrototype$5,r=nativeGetOwnPropertyNames(t?ObjectPrototypeSymbols:toIndexedObject$e(e)),n=[];return $forEach$3(r,function(a){hasOwn$x(AllSymbols,a)&&(!t||hasOwn$x(ObjectPrototype$5,a))&&push$r(n,AllSymbols[a])}),n};NATIVE_SYMBOL$5||($Symbol=function(){if(isPrototypeOf$e(SymbolPrototype$1,this))throw new TypeError$8("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:$toString$5(arguments[0]),t=uid$4(e),r=function(n){var a=this===void 0?global$Z:this;a===ObjectPrototype$5&&call$1g(r,ObjectPrototypeSymbols,n),hasOwn$x(a,HIDDEN)&&hasOwn$x(a[HIDDEN],t)&&(a[HIDDEN][t]=!1);var o=createPropertyDescriptor$a(1,n);try{setSymbolDescriptor(a,t,o)}catch(u){if(!(u instanceof RangeError$4))throw u;fallbackDefineProperty(a,t,o)}};return DESCRIPTORS$O&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype$5,t,{configurable:!0,set:r}),wrap(t,e)},SymbolPrototype$1=$Symbol[PROTOTYPE$1],defineBuiltIn$r(SymbolPrototype$1,"toString",function(){return getInternalState$f(this).tag}),defineBuiltIn$r($Symbol,"withoutSetter",function(e){return wrap(uid$4(e),e)}),propertyIsEnumerableModule$1.f=$propertyIsEnumerable$1,definePropertyModule$7.f=$defineProperty$2,definePropertiesModule.f=$defineProperties,getOwnPropertyDescriptorModule$5.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule$1.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule$2.f=$getOwnPropertySymbols,wrappedWellKnownSymbolModule.f=function(e){return wrap(wellKnownSymbol$K(e),e)},DESCRIPTORS$O&&(defineBuiltInAccessor$o(SymbolPrototype$1,"description",{configurable:!0,get:function(){return getInternalState$f(this).description}}),defineBuiltIn$r(ObjectPrototype$5,"propertyIsEnumerable",$propertyIsEnumerable$1,{unsafe:!0}))),$$5x({global:!0,constructor:!0,wrap:!0,forced:!NATIVE_SYMBOL$5,sham:!NATIVE_SYMBOL$5},{Symbol:$Symbol}),$forEach$3(objectKeys$4(WellKnownSymbolsStore$1),function(e){defineWellKnownSymbol$m(e)}),$$5x({target:SYMBOL,stat:!0,forced:!NATIVE_SYMBOL$5},{useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}}),$$5x({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$5,sham:!DESCRIPTORS$O},{create:$create,defineProperty:$defineProperty$2,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),$$5x({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$5},{getOwnPropertyNames:$getOwnPropertyNames}),defineSymbolToPrimitive$1(),setToStringTag$d($Symbol,SYMBOL),hiddenKeys$1[HIDDEN]=!0;var NATIVE_SYMBOL$4=symbolConstructorDetection,symbolRegistryDetection=NATIVE_SYMBOL$4&&!!Symbol.for&&!!Symbol.keyFor,$$5w=_export,getBuiltIn$H=getBuiltIn$N,hasOwn$w=hasOwnProperty_1,toString$J=toString$K,shared$6=shared$b,NATIVE_SYMBOL_REGISTRY$1=symbolRegistryDetection,StringToSymbolRegistry=shared$6("string-to-symbol-registry"),SymbolToStringRegistry$1=shared$6("symbol-to-string-registry");$$5w({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY$1},{for:function(e){var t=toString$J(e);if(hasOwn$w(StringToSymbolRegistry,t))return StringToSymbolRegistry[t];var r=getBuiltIn$H("Symbol")(t);return StringToSymbolRegistry[t]=r,SymbolToStringRegistry$1[r]=t,r}});var $$5v=_export,hasOwn$v=hasOwnProperty_1,isSymbol$5=isSymbol$8,tryToString$5=tryToString$7,shared$5=shared$b,NATIVE_SYMBOL_REGISTRY=symbolRegistryDetection,SymbolToStringRegistry=shared$5("symbol-to-string-registry");$$5v({target:"Symbol",stat:!0,forced:!NATIVE_SYMBOL_REGISTRY},{keyFor:function(e){if(!isSymbol$5(e))throw new TypeError(tryToString$5(e)+" is not a symbol");if(hasOwn$v(SymbolToStringRegistry,e))return SymbolToStringRegistry[e]}});var NATIVE_BIND$1=functionBindNative,FunctionPrototype$3=Function.prototype,apply$e=FunctionPrototype$3.apply,call$1f=FunctionPrototype$3.call,functionApply$1=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1?call$1f.bind(apply$e):function(){return call$1f.apply(apply$e,arguments)}),uncurryThis$1J=functionUncurryThis,isArray$9=isArray$b,isCallable$x=isCallable$K,classof$l=classofRaw$2,toString$I=toString$K,push$q=uncurryThis$1J([].push),getJsonReplacerFunction=function(e){if(isCallable$x(e))return e;if(isArray$9(e)){for(var t=e.length,r=[],n=0;n<t;n++){var a=e[n];typeof a=="string"?push$q(r,a):(typeof a=="number"||classof$l(a)==="Number"||classof$l(a)==="String")&&push$q(r,toString$I(a))}var o=r.length,u=!0;return function(p,b){if(u)return u=!1,b;if(isArray$9(this))return b;for(var m=0;m<o;m++)if(r[m]===p)return b}}},$$5u=_export,getBuiltIn$G=getBuiltIn$N,apply$d=functionApply$1,call$1e=functionCall,uncurryThis$1I=functionUncurryThis,fails$1o=fails$1z,isCallable$w=isCallable$K,isSymbol$4=isSymbol$8,arraySlice$8=arraySlice$a,getReplacerFunction$1=getJsonReplacerFunction,NATIVE_SYMBOL$3=symbolConstructorDetection,$String$5=String,$stringify$1=getBuiltIn$G("JSON","stringify"),exec$f=uncurryThis$1I(/./.exec),charAt$m=uncurryThis$1I("".charAt),charCodeAt$9=uncurryThis$1I("".charCodeAt),replace$d=uncurryThis$1I("".replace),numberToString$5=uncurryThis$1I(1 .toString),tester=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi=/^[\uDC00-\uDFFF]$/,WRONG_SYMBOLS_CONVERSION=!NATIVE_SYMBOL$3||fails$1o(function(){var e=getBuiltIn$G("Symbol")("stringify detection");return $stringify$1([e])!=="[null]"||$stringify$1({a:e})!=="{}"||$stringify$1(Object(e))!=="{}"}),ILL_FORMED_UNICODE=fails$1o(function(){return $stringify$1("\uDF06\uD834")!=='"\uDF06\uD834"'||$stringify$1("\uDEAD")!=='"\uDEAD"'}),stringifyWithSymbolsFix=function(e,t){var r=arraySlice$8(arguments),n=getReplacerFunction$1(t);if(!(!isCallable$w(n)&&(e===void 0||isSymbol$4(e))))return r[1]=function(a,o){if(isCallable$w(n)&&(o=call$1e(n,this,$String$5(a),o)),!isSymbol$4(o))return o},apply$d($stringify$1,null,r)},fixIllFormed=function(e,t,r){var n=charAt$m(r,t-1),a=charAt$m(r,t+1);return exec$f(low,e)&&!exec$f(hi,a)||exec$f(hi,e)&&!exec$f(low,n)?"\\u"+numberToString$5(charCodeAt$9(e,0),16):e};$stringify$1&&$$5u({target:"JSON",stat:!0,arity:3,forced:WRONG_SYMBOLS_CONVERSION||ILL_FORMED_UNICODE},{stringify:function(e,t,r){var n=arraySlice$8(arguments),a=apply$d(WRONG_SYMBOLS_CONVERSION?stringifyWithSymbolsFix:$stringify$1,null,n);return ILL_FORMED_UNICODE&&typeof a=="string"?replace$d(a,tester,fixIllFormed):a}});var $$5t=_export,NATIVE_SYMBOL$2=symbolConstructorDetection,fails$1n=fails$1z,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,toObject$B=toObject$E,FORCED$F=!NATIVE_SYMBOL$2||fails$1n(function(){getOwnPropertySymbolsModule$1.f(1)});$$5t({target:"Object",stat:!0,forced:FORCED$F},{getOwnPropertySymbols:function(e){var t=getOwnPropertySymbolsModule$1.f;return t?t(toObject$B(e)):[]}});var $$5s=_export,DESCRIPTORS$N=descriptors,global$Y=global$18,uncurryThis$1H=functionUncurryThis,hasOwn$u=hasOwnProperty_1,isCallable$v=isCallable$K,isPrototypeOf$d=objectIsPrototypeOf,toString$H=toString$K,defineBuiltInAccessor$n=defineBuiltInAccessor$p,copyConstructorProperties$5=copyConstructorProperties$7,NativeSymbol=global$Y.Symbol,SymbolPrototype=NativeSymbol&&NativeSymbol.prototype;if(DESCRIPTORS$N&&isCallable$v(NativeSymbol)&&(!("description"in SymbolPrototype)||NativeSymbol().description!==void 0)){var EmptyStringDescriptionStore={},SymbolWrapper=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:toString$H(arguments[0]),t=isPrototypeOf$d(SymbolPrototype,this)?new NativeSymbol(e):e===void 0?NativeSymbol():NativeSymbol(e);return e===""&&(EmptyStringDescriptionStore[t]=!0),t};copyConstructorProperties$5(SymbolWrapper,NativeSymbol),SymbolWrapper.prototype=SymbolPrototype,SymbolPrototype.constructor=SymbolWrapper;var NATIVE_SYMBOL$1=String(NativeSymbol("description detection"))==="Symbol(description detection)",thisSymbolValue$2=uncurryThis$1H(SymbolPrototype.valueOf),symbolDescriptiveString=uncurryThis$1H(SymbolPrototype.toString),regexp=/^Symbol\((.*)\)[^)]+$/,replace$c=uncurryThis$1H("".replace),stringSlice$l=uncurryThis$1H("".slice);defineBuiltInAccessor$n(SymbolPrototype,"description",{configurable:!0,get:function(){var e=thisSymbolValue$2(this);if(hasOwn$u(EmptyStringDescriptionStore,e))return"";var t=symbolDescriptiveString(e),r=NATIVE_SYMBOL$1?stringSlice$l(t,7,-1):replace$c(t,regexp,"$1");return r===""?void 0:r}}),$$5s({global:!0,constructor:!0,forced:!0},{Symbol:SymbolWrapper})}var defineWellKnownSymbol$l=wellKnownSymbolDefine;defineWellKnownSymbol$l("asyncIterator");var defineWellKnownSymbol$k=wellKnownSymbolDefine;defineWellKnownSymbol$k("hasInstance");var defineWellKnownSymbol$j=wellKnownSymbolDefine;defineWellKnownSymbol$j("isConcatSpreadable");var defineWellKnownSymbol$i=wellKnownSymbolDefine;defineWellKnownSymbol$i("iterator");var defineWellKnownSymbol$h=wellKnownSymbolDefine;defineWellKnownSymbol$h("match");var defineWellKnownSymbol$g=wellKnownSymbolDefine;defineWellKnownSymbol$g("matchAll");var defineWellKnownSymbol$f=wellKnownSymbolDefine;defineWellKnownSymbol$f("replace");var defineWellKnownSymbol$e=wellKnownSymbolDefine;defineWellKnownSymbol$e("search");var defineWellKnownSymbol$d=wellKnownSymbolDefine;defineWellKnownSymbol$d("species");var defineWellKnownSymbol$c=wellKnownSymbolDefine;defineWellKnownSymbol$c("split");var defineWellKnownSymbol$b=wellKnownSymbolDefine,defineSymbolToPrimitive=symbolDefineToPrimitive;defineWellKnownSymbol$b("toPrimitive"),defineSymbolToPrimitive();var getBuiltIn$F=getBuiltIn$N,defineWellKnownSymbol$a=wellKnownSymbolDefine,setToStringTag$c=setToStringTag$e;defineWellKnownSymbol$a("toStringTag"),setToStringTag$c(getBuiltIn$F("Symbol"),"Symbol");var defineWellKnownSymbol$9=wellKnownSymbolDefine;defineWellKnownSymbol$9("unscopables");var uncurryThis$1G=functionUncurryThis,aCallable$K=aCallable$N,functionUncurryThisAccessor=function(e,t,r){try{return uncurryThis$1G(aCallable$K(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}},isObject$H=isObject$O,isPossiblePrototype$2=function(e){return isObject$H(e)||e===null},isPossiblePrototype$1=isPossiblePrototype$2,$String$4=String,$TypeError$J=TypeError,aPossiblePrototype$2=function(e){if(isPossiblePrototype$1(e))return e;throw new $TypeError$J("Can't set "+$String$4(e)+" as a prototype")},uncurryThisAccessor$3=functionUncurryThisAccessor,isObject$G=isObject$O,requireObjectCoercible$n=requireObjectCoercible$q,aPossiblePrototype$1=aPossiblePrototype$2,objectSetPrototypeOf$1=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=uncurryThisAccessor$3(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(n,a){return requireObjectCoercible$n(n),aPossiblePrototype$1(a),isObject$G(n)&&(e?r(n,a):n.__proto__=a),n}}():void 0),defineProperty$d=objectDefineProperty.f,proxyAccessor$2=function(e,t,r){r in e||defineProperty$d(e,r,{configurable:!0,get:function(){return t[r]},set:function(n){t[r]=n}})},isCallable$u=isCallable$K,isObject$F=isObject$O,setPrototypeOf$a=objectSetPrototypeOf$1,inheritIfRequired$7=function(e,t,r){var n,a;return setPrototypeOf$a&&isCallable$u(n=t.constructor)&&n!==r&&isObject$F(a=n.prototype)&&a!==r.prototype&&setPrototypeOf$a(e,a),e},toString$G=toString$K,normalizeStringArgument$6=function(e,t){return e===void 0?arguments.length<2?"":t:toString$G(e)},isObject$E=isObject$O,createNonEnumerableProperty$g=createNonEnumerableProperty$j,installErrorCause$2=function(e,t){isObject$E(t)&&"cause"in t&&createNonEnumerableProperty$g(e,"cause",t.cause)},uncurryThis$1F=functionUncurryThis,$Error$3=Error,replace$b=uncurryThis$1F("".replace),TEST=function(e){return String(new $Error$3(e).stack)}("zxcasd"),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(e,t){if(IS_V8_OR_CHAKRA_STACK&&typeof e=="string"&&!$Error$3.prepareStackTrace)for(;t--;)e=replace$b(e,V8_OR_CHAKRA_STACK_ENTRY,"");return e},fails$1m=fails$1z,createPropertyDescriptor$9=createPropertyDescriptor$d,errorStackInstallable=!fails$1m(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",createPropertyDescriptor$9(1,7)),e.stack!==7):!0}),createNonEnumerableProperty$f=createNonEnumerableProperty$j,clearErrorStack$2=errorStackClear,ERROR_STACK_INSTALLABLE$1=errorStackInstallable,captureStackTrace$1=Error.captureStackTrace,errorStackInstall=function(e,t,r,n){ERROR_STACK_INSTALLABLE$1&&(captureStackTrace$1?captureStackTrace$1(e,t):createNonEnumerableProperty$f(e,"stack",clearErrorStack$2(r,n)))},getBuiltIn$E=getBuiltIn$N,hasOwn$t=hasOwnProperty_1,createNonEnumerableProperty$e=createNonEnumerableProperty$j,isPrototypeOf$c=objectIsPrototypeOf,setPrototypeOf$9=objectSetPrototypeOf$1,copyConstructorProperties$4=copyConstructorProperties$7,proxyAccessor$1=proxyAccessor$2,inheritIfRequired$6=inheritIfRequired$7,normalizeStringArgument$5=normalizeStringArgument$6,installErrorCause$1=installErrorCause$2,installErrorStack$2=errorStackInstall,DESCRIPTORS$M=descriptors,wrapErrorConstructorWithCause$2=function(e,t,r,n){var a="stackTraceLimit",o=n?2:1,u=e.split("."),p=u[u.length-1],b=getBuiltIn$E.apply(null,u);if(b){var m=b.prototype;if(hasOwn$t(m,"cause")&&delete m.cause,!r)return b;var y=getBuiltIn$E("Error"),A=t(function(I,M){var C=normalizeStringArgument$5(n?M:I,void 0),P=n?new b(I):new b;return C!==void 0&&createNonEnumerableProperty$e(P,"message",C),installErrorStack$2(P,A,P.stack,2),this&&isPrototypeOf$c(m,this)&&inheritIfRequired$6(P,this,A),arguments.length>o&&installErrorCause$1(P,arguments[o]),P});A.prototype=m,p!=="Error"?setPrototypeOf$9?setPrototypeOf$9(A,y):copyConstructorProperties$4(A,y,{name:!0}):DESCRIPTORS$M&&a in b&&(proxyAccessor$1(A,b,a),proxyAccessor$1(A,b,"prepareStackTrace")),copyConstructorProperties$4(A,b);try{m.name!==p&&createNonEnumerableProperty$e(m,"name",p),m.constructor=A}catch{}return A}},$$5r=_export,global$X=global$18,apply$c=functionApply$1,wrapErrorConstructorWithCause$1=wrapErrorConstructorWithCause$2,WEB_ASSEMBLY="WebAssembly",WebAssembly=global$X[WEB_ASSEMBLY],FORCED$E=new Error("e",{cause:7}).cause!==7,exportGlobalErrorCauseWrapper=function(e,t){var r={};r[e]=wrapErrorConstructorWithCause$1(e,t,FORCED$E),$$5r({global:!0,constructor:!0,arity:1,forced:FORCED$E},r)},exportWebAssemblyErrorCauseWrapper=function(e,t){if(WebAssembly&&WebAssembly[e]){var r={};r[e]=wrapErrorConstructorWithCause$1(WEB_ASSEMBLY+"."+e,t,FORCED$E),$$5r({target:WEB_ASSEMBLY,stat:!0,constructor:!0,arity:1,forced:FORCED$E},r)}};exportGlobalErrorCauseWrapper("Error",function(e){return function(t){return apply$c(e,this,arguments)}}),exportGlobalErrorCauseWrapper("EvalError",function(e){return function(t){return apply$c(e,this,arguments)}}),exportGlobalErrorCauseWrapper("RangeError",function(e){return function(t){return apply$c(e,this,arguments)}}),exportGlobalErrorCauseWrapper("ReferenceError",function(e){return function(t){return apply$c(e,this,arguments)}}),exportGlobalErrorCauseWrapper("SyntaxError",function(e){return function(t){return apply$c(e,this,arguments)}}),exportGlobalErrorCauseWrapper("TypeError",function(e){return function(t){return apply$c(e,this,arguments)}}),exportGlobalErrorCauseWrapper("URIError",function(e){return function(t){return apply$c(e,this,arguments)}}),exportWebAssemblyErrorCauseWrapper("CompileError",function(e){return function(t){return apply$c(e,this,arguments)}}),exportWebAssemblyErrorCauseWrapper("LinkError",function(e){return function(t){return apply$c(e,this,arguments)}}),exportWebAssemblyErrorCauseWrapper("RuntimeError",function(e){return function(t){return apply$c(e,this,arguments)}});var DESCRIPTORS$L=descriptors,fails$1l=fails$1z,anObject$1b=anObject$1h,normalizeStringArgument$4=normalizeStringArgument$6,nativeErrorToString=Error.prototype.toString,INCORRECT_TO_STRING$1=fails$1l(function(){if(DESCRIPTORS$L){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if(nativeErrorToString.call(e)!=="true")return!0}return nativeErrorToString.call({message:1,name:2})!=="2: 1"||nativeErrorToString.call({})!=="Error"}),errorToString$2=INCORRECT_TO_STRING$1?function(){var e=anObject$1b(this),t=normalizeStringArgument$4(e.name,"Error"),r=normalizeStringArgument$4(e.message);return t?r?t+": "+r:t:r}:nativeErrorToString,defineBuiltIn$q=defineBuiltIn$u,errorToString$1=errorToString$2,ErrorPrototype$1=Error.prototype;ErrorPrototype$1.toString!==errorToString$1&&defineBuiltIn$q(ErrorPrototype$1,"toString",errorToString$1);var fails$1k=fails$1z,correctPrototypeGetter=!fails$1k(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),hasOwn$s=hasOwnProperty_1,isCallable$t=isCallable$K,toObject$A=toObject$E,sharedKey=sharedKey$4,CORRECT_PROTOTYPE_GETTER$2=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),$Object$5=Object,ObjectPrototype$4=$Object$5.prototype,objectGetPrototypeOf$2=CORRECT_PROTOTYPE_GETTER$2?$Object$5.getPrototypeOf:function(e){var t=toObject$A(e);if(hasOwn$s(t,IE_PROTO))return t[IE_PROTO];var r=t.constructor;return isCallable$t(r)&&t instanceof r?r.prototype:t instanceof $Object$5?ObjectPrototype$4:null},iterators={},wellKnownSymbol$J=wellKnownSymbol$S,Iterators$5=iterators,ITERATOR$c=wellKnownSymbol$J("iterator"),ArrayPrototype$1=Array.prototype,isArrayIteratorMethod$3=function(e){return e!==void 0&&(Iterators$5.Array===e||ArrayPrototype$1[ITERATOR$c]===e)},classof$k=classof$q,getMethod$j=getMethod$l,isNullOrUndefined$g=isNullOrUndefined$j,Iterators$4=iterators,wellKnownSymbol$I=wellKnownSymbol$S,ITERATOR$b=wellKnownSymbol$I("iterator"),getIteratorMethod$8=function(e){if(!isNullOrUndefined$g(e))return getMethod$j(e,ITERATOR$b)||getMethod$j(e,"@@iterator")||Iterators$4[classof$k(e)]},call$1d=functionCall,aCallable$J=aCallable$N,anObject$1a=anObject$1h,tryToString$4=tryToString$7,getIteratorMethod$7=getIteratorMethod$8,$TypeError$I=TypeError,getIterator$7=function(e,t){var r=arguments.length<2?getIteratorMethod$7(e):t;if(aCallable$J(r))return anObject$1a(call$1d(r,e));throw new $TypeError$I(tryToString$4(e)+" is not iterable")},call$1c=functionCall,anObject$19=anObject$1h,getMethod$i=getMethod$l,iteratorClose$8=function(e,t,r){var n,a;anObject$19(e);try{if(n=getMethod$i(e,"return"),!n){if(t==="throw")throw r;return r}n=call$1c(n,e)}catch(o){a=!0,n=o}if(t==="throw")throw r;if(a)throw n;return anObject$19(n),r},bind$v=functionBindContext,call$1b=functionCall,anObject$18=anObject$1h,tryToString$3=tryToString$7,isArrayIteratorMethod$2=isArrayIteratorMethod$3,lengthOfArrayLike$y=lengthOfArrayLike$B,isPrototypeOf$b=objectIsPrototypeOf,getIterator$6=getIterator$7,getIteratorMethod$6=getIteratorMethod$8,iteratorClose$7=iteratorClose$8,$TypeError$H=TypeError,Result=function(e,t){this.stopped=e,this.result=t},ResultPrototype=Result.prototype,iterate$H=function(e,t,r){var n=r&&r.that,a=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),u=!!(r&&r.IS_ITERATOR),p=!!(r&&r.INTERRUPTED),b=bind$v(t,n),m,y,A,I,M,C,P,B=function(N){return m&&iteratorClose$7(m,"normal",N),new Result(!0,N)},k=function(N){return a?(anObject$18(N),p?b(N[0],N[1],B):b(N[0],N[1])):p?b(N,B):b(N)};if(o)m=e.iterator;else if(u)m=e;else{if(y=getIteratorMethod$6(e),!y)throw new $TypeError$H(tryToString$3(e)+" is not iterable");if(isArrayIteratorMethod$2(y)){for(A=0,I=lengthOfArrayLike$y(e);I>A;A++)if(M=k(e[A]),M&&isPrototypeOf$b(ResultPrototype,M))return M;return new Result(!1)}m=getIterator$6(e,y)}for(C=o?e.next:m.next;!(P=call$1b(C,m)).done;){try{M=k(P.value)}catch(N){iteratorClose$7(m,"throw",N)}if(typeof M=="object"&&M&&isPrototypeOf$b(ResultPrototype,M))return M}return new Result(!1)},$$5q=_export,isPrototypeOf$a=objectIsPrototypeOf,getPrototypeOf$h=objectGetPrototypeOf$2,setPrototypeOf$8=objectSetPrototypeOf$1,copyConstructorProperties$3=copyConstructorProperties$7,create$j=objectCreate$1,createNonEnumerableProperty$d=createNonEnumerableProperty$j,createPropertyDescriptor$8=createPropertyDescriptor$d,installErrorCause=installErrorCause$2,installErrorStack$1=errorStackInstall,iterate$G=iterate$H,normalizeStringArgument$3=normalizeStringArgument$6,wellKnownSymbol$H=wellKnownSymbol$S,TO_STRING_TAG$8=wellKnownSymbol$H("toStringTag"),$Error$2=Error,push$p=[].push,$AggregateError$1=function(e,t){var r=isPrototypeOf$a(AggregateErrorPrototype,this),n;setPrototypeOf$8?n=setPrototypeOf$8(new $Error$2,r?getPrototypeOf$h(this):AggregateErrorPrototype):(n=r?this:create$j(AggregateErrorPrototype),createNonEnumerableProperty$d(n,TO_STRING_TAG$8,"Error")),t!==void 0&&createNonEnumerableProperty$d(n,"message",normalizeStringArgument$3(t)),installErrorStack$1(n,$AggregateError$1,n.stack,1),arguments.length>2&&installErrorCause(n,arguments[2]);var a=[];return iterate$G(e,push$p,{that:a}),createNonEnumerableProperty$d(n,"errors",a),n};setPrototypeOf$8?setPrototypeOf$8($AggregateError$1,$Error$2):copyConstructorProperties$3($AggregateError$1,$Error$2,{name:!0});var AggregateErrorPrototype=$AggregateError$1.prototype=create$j($Error$2.prototype,{constructor:createPropertyDescriptor$8(1,$AggregateError$1),message:createPropertyDescriptor$8(1,""),name:createPropertyDescriptor$8(1,"AggregateError")});$$5q({global:!0,constructor:!0,arity:2},{AggregateError:$AggregateError$1});var $$5p=_export,getBuiltIn$D=getBuiltIn$N,apply$b=functionApply$1,fails$1j=fails$1z,wrapErrorConstructorWithCause=wrapErrorConstructorWithCause$2,AGGREGATE_ERROR="AggregateError",$AggregateError=getBuiltIn$D(AGGREGATE_ERROR),FORCED$D=!fails$1j(function(){return $AggregateError([1]).errors[0]!==1})&&fails$1j(function(){return $AggregateError([1],AGGREGATE_ERROR,{cause:7}).cause!==7});$$5p({global:!0,constructor:!0,arity:2,forced:FORCED$D},{AggregateError:wrapErrorConstructorWithCause(AGGREGATE_ERROR,function(e){return function(t,r){return apply$b(e,this,arguments)}},FORCED$D,!0)});var wellKnownSymbol$G=wellKnownSymbol$S,create$i=objectCreate$1,defineProperty$c=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$G("unscopables"),ArrayPrototype=Array.prototype;ArrayPrototype[UNSCOPABLES]===void 0&&defineProperty$c(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:create$i(null)});var addToUnscopables$n=function(e){ArrayPrototype[UNSCOPABLES][e]=!0},$$5o=_export,toObject$z=toObject$E,lengthOfArrayLike$x=lengthOfArrayLike$B,toIntegerOrInfinity$m=toIntegerOrInfinity$p,addToUnscopables$m=addToUnscopables$n;$$5o({target:"Array",proto:!0},{at:function(e){var t=toObject$z(this),r=lengthOfArrayLike$x(t),n=toIntegerOrInfinity$m(e),a=n>=0?n:r+n;return a<0||a>=r?void 0:t[a]}}),addToUnscopables$m("at");var $TypeError$G=TypeError,MAX_SAFE_INTEGER$3=9007199254740991,doesNotExceedSafeInteger$7=function(e){if(e>MAX_SAFE_INTEGER$3)throw $TypeError$G("Maximum allowed index exceeded");return e},DESCRIPTORS$K=descriptors,definePropertyModule$6=objectDefineProperty,createPropertyDescriptor$7=createPropertyDescriptor$d,createProperty$b=function(e,t,r){DESCRIPTORS$K?definePropertyModule$6.f(e,t,createPropertyDescriptor$7(0,r)):e[t]=r},fails$1i=fails$1z,wellKnownSymbol$F=wellKnownSymbol$S,V8_VERSION$2=engineV8Version,SPECIES$5=wellKnownSymbol$F("species"),arrayMethodHasSpeciesSupport$5=function(e){return V8_VERSION$2>=51||!fails$1i(function(){var t=[],r=t.constructor={};return r[SPECIES$5]=function(){return{foo:1}},t[e](Boolean).foo!==1})},$$5n=_export,fails$1h=fails$1z,isArray$8=isArray$b,isObject$D=isObject$O,toObject$y=toObject$E,lengthOfArrayLike$w=lengthOfArrayLike$B,doesNotExceedSafeInteger$6=doesNotExceedSafeInteger$7,createProperty$a=createProperty$b,arraySpeciesCreate$3=arraySpeciesCreate$5,arrayMethodHasSpeciesSupport$4=arrayMethodHasSpeciesSupport$5,wellKnownSymbol$E=wellKnownSymbol$S,V8_VERSION$1=engineV8Version,IS_CONCAT_SPREADABLE=wellKnownSymbol$E("isConcatSpreadable"),IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION$1>=51||!fails$1h(function(){var e=[];return e[IS_CONCAT_SPREADABLE]=!1,e.concat()[0]!==e}),isConcatSpreadable=function(e){if(!isObject$D(e))return!1;var t=e[IS_CONCAT_SPREADABLE];return t!==void 0?!!t:isArray$8(e)},FORCED$C=!IS_CONCAT_SPREADABLE_SUPPORT||!arrayMethodHasSpeciesSupport$4("concat");$$5n({target:"Array",proto:!0,arity:1,forced:FORCED$C},{concat:function(e){var t=toObject$y(this),r=arraySpeciesCreate$3(t,0),n=0,a,o,u,p,b;for(a=-1,u=arguments.length;a<u;a++)if(b=a===-1?t:arguments[a],isConcatSpreadable(b))for(p=lengthOfArrayLike$w(b),doesNotExceedSafeInteger$6(n+p),o=0;o<p;o++,n++)o in b&&createProperty$a(r,n,b[o]);else doesNotExceedSafeInteger$6(n+1),createProperty$a(r,n++,b);return r.length=n,r}});var tryToString$2=tryToString$7,$TypeError$F=TypeError,deletePropertyOrThrow$4=function(e,t){if(!delete e[t])throw new $TypeError$F("Cannot delete property "+tryToString$2(t)+" of "+tryToString$2(e))},toObject$x=toObject$E,toAbsoluteIndex$8=toAbsoluteIndex$a,lengthOfArrayLike$v=lengthOfArrayLike$B,deletePropertyOrThrow$3=deletePropertyOrThrow$4,min$c=Math.min,arrayCopyWithin=[].copyWithin||function(e,t){var r=toObject$x(this),n=lengthOfArrayLike$v(r),a=toAbsoluteIndex$8(e,n),o=toAbsoluteIndex$8(t,n),u=arguments.length>2?arguments[2]:void 0,p=min$c((u===void 0?n:toAbsoluteIndex$8(u,n))-o,n-a),b=1;for(o<a&&a<o+p&&(b=-1,o+=p-1,a+=p-1);p-- >0;)o in r?r[a]=r[o]:deletePropertyOrThrow$3(r,a),a+=b,o+=b;return r},$$5m=_export,copyWithin=arrayCopyWithin,addToUnscopables$l=addToUnscopables$n;$$5m({target:"Array",proto:!0},{copyWithin}),addToUnscopables$l("copyWithin");var fails$1g=fails$1z,arrayMethodIsStrict$b=function(e,t){var r=[][e];return!!r&&fails$1g(function(){r.call(null,t||function(){return 1},1)})},$$5l=_export,$every$2=arrayIteration.every,arrayMethodIsStrict$a=arrayMethodIsStrict$b,STRICT_METHOD$4=arrayMethodIsStrict$a("every");$$5l({target:"Array",proto:!0,forced:!STRICT_METHOD$4},{every:function(e){return $every$2(this,e,arguments.length>1?arguments[1]:void 0)}});var toObject$w=toObject$E,toAbsoluteIndex$7=toAbsoluteIndex$a,lengthOfArrayLike$u=lengthOfArrayLike$B,arrayFill$1=function(e){for(var t=toObject$w(this),r=lengthOfArrayLike$u(t),n=arguments.length,a=toAbsoluteIndex$7(n>1?arguments[1]:void 0,r),o=n>2?arguments[2]:void 0,u=o===void 0?r:toAbsoluteIndex$7(o,r);u>a;)t[a++]=e;return t},$$5k=_export,fill$1=arrayFill$1,addToUnscopables$k=addToUnscopables$n;$$5k({target:"Array",proto:!0},{fill:fill$1}),addToUnscopables$k("fill");var $$5j=_export,$filter$1=arrayIteration.filter,arrayMethodHasSpeciesSupport$3=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport$3("filter");$$5j({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3},{filter:function(e){return $filter$1(this,e,arguments.length>1?arguments[1]:void 0)}});var $$5i=_export,$find$2=arrayIteration.find,addToUnscopables$j=addToUnscopables$n,FIND="find",SKIPS_HOLES$1=!0;FIND in[]&&Array(1)[FIND](function(){SKIPS_HOLES$1=!1}),$$5i({target:"Array",proto:!0,forced:SKIPS_HOLES$1},{find:function(e){return $find$2(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$j(FIND);var $$5h=_export,$findIndex$1=arrayIteration.findIndex,addToUnscopables$i=addToUnscopables$n,FIND_INDEX="findIndex",SKIPS_HOLES=!0;FIND_INDEX in[]&&Array(1)[FIND_INDEX](function(){SKIPS_HOLES=!1}),$$5h({target:"Array",proto:!0,forced:SKIPS_HOLES},{findIndex:function(e){return $findIndex$1(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$i(FIND_INDEX);var bind$u=functionBindContext,IndexedObject$5=indexedObject,toObject$v=toObject$E,lengthOfArrayLike$t=lengthOfArrayLike$B,createMethod$6=function(e){var t=e===1;return function(r,n,a){for(var o=toObject$v(r),u=IndexedObject$5(o),p=lengthOfArrayLike$t(u),b=bind$u(n,a),m,y;p-- >0;)if(m=u[p],y=b(m,p,o),y)switch(e){case 0:return m;case 1:return p}return t?-1:void 0}},arrayIterationFromLast={findLast:createMethod$6(0),findLastIndex:createMethod$6(1)},$$5g=_export,$findLast$1=arrayIterationFromLast.findLast,addToUnscopables$h=addToUnscopables$n;$$5g({target:"Array",proto:!0},{findLast:function(e){return $findLast$1(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$h("findLast");var $$5f=_export,$findLastIndex$1=arrayIterationFromLast.findLastIndex,addToUnscopables$g=addToUnscopables$n;$$5f({target:"Array",proto:!0},{findLastIndex:function(e){return $findLastIndex$1(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$g("findLastIndex");var isArray$7=isArray$b,lengthOfArrayLike$s=lengthOfArrayLike$B,doesNotExceedSafeInteger$5=doesNotExceedSafeInteger$7,bind$t=functionBindContext,flattenIntoArray$2=function(e,t,r,n,a,o,u,p){for(var b=a,m=0,y=u?bind$t(u,p):!1,A,I;m<n;)m in r&&(A=y?y(r[m],m,t):r[m],o>0&&isArray$7(A)?(I=lengthOfArrayLike$s(A),b=flattenIntoArray$2(e,t,A,I,b,o-1)-1):(doesNotExceedSafeInteger$5(b+1),e[b]=A),b++),m++;return b},flattenIntoArray_1=flattenIntoArray$2,$$5e=_export,flattenIntoArray$1=flattenIntoArray_1,toObject$u=toObject$E,lengthOfArrayLike$r=lengthOfArrayLike$B,toIntegerOrInfinity$l=toIntegerOrInfinity$p,arraySpeciesCreate$2=arraySpeciesCreate$5;$$5e({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=toObject$u(this),r=lengthOfArrayLike$r(t),n=arraySpeciesCreate$2(t,0);return n.length=flattenIntoArray$1(n,t,t,r,0,e===void 0?1:toIntegerOrInfinity$l(e)),n}});var $$5d=_export,flattenIntoArray=flattenIntoArray_1,aCallable$I=aCallable$N,toObject$t=toObject$E,lengthOfArrayLike$q=lengthOfArrayLike$B,arraySpeciesCreate$1=arraySpeciesCreate$5;$$5d({target:"Array",proto:!0},{flatMap:function(e){var t=toObject$t(this),r=lengthOfArrayLike$q(t),n;return aCallable$I(e),n=arraySpeciesCreate$1(t,0),n.length=flattenIntoArray(n,t,t,r,0,1,e,arguments.length>1?arguments[1]:void 0),n}});var $forEach$2=arrayIteration.forEach,arrayMethodIsStrict$9=arrayMethodIsStrict$b,STRICT_METHOD$3=arrayMethodIsStrict$9("forEach"),arrayForEach=STRICT_METHOD$3?[].forEach:function(e){return $forEach$2(this,e,arguments.length>1?arguments[1]:void 0)},$$5c=_export,forEach$8=arrayForEach;$$5c({target:"Array",proto:!0,forced:[].forEach!==forEach$8},{forEach:forEach$8});var anObject$17=anObject$1h,iteratorClose$6=iteratorClose$8,callWithSafeIterationClosing$3=function(e,t,r,n){try{return n?t(anObject$17(r)[0],r[1]):t(r)}catch(a){iteratorClose$6(e,"throw",a)}},bind$s=functionBindContext,call$1a=functionCall,toObject$s=toObject$E,callWithSafeIterationClosing$2=callWithSafeIterationClosing$3,isArrayIteratorMethod$1=isArrayIteratorMethod$3,isConstructor$8=isConstructor$a,lengthOfArrayLike$p=lengthOfArrayLike$B,createProperty$9=createProperty$b,getIterator$5=getIterator$7,getIteratorMethod$5=getIteratorMethod$8,$Array$a=Array,arrayFrom$1=function(e){var t=toObject$s(e),r=isConstructor$8(this),n=arguments.length,a=n>1?arguments[1]:void 0,o=a!==void 0;o&&(a=bind$s(a,n>2?arguments[2]:void 0));var u=getIteratorMethod$5(t),p=0,b,m,y,A,I,M;if(u&&!(this===$Array$a&&isArrayIteratorMethod$1(u)))for(m=r?new this:[],A=getIterator$5(t,u),I=A.next;!(y=call$1a(I,A)).done;p++)M=o?callWithSafeIterationClosing$2(A,a,[y.value,p],!0):y.value,createProperty$9(m,p,M);else for(b=lengthOfArrayLike$p(t),m=r?new this(b):$Array$a(b);b>p;p++)M=o?a(t[p],p):t[p],createProperty$9(m,p,M);return m.length=p,m},wellKnownSymbol$D=wellKnownSymbol$S,ITERATOR$a=wellKnownSymbol$D("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$a]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch{}var checkCorrectnessOfIteration$4=function(e,t){try{if(!t&&!SAFE_CLOSING)return!1}catch{return!1}var r=!1;try{var n={};n[ITERATOR$a]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch{}return r},$$5b=_export,from=arrayFrom$1,checkCorrectnessOfIteration$3=checkCorrectnessOfIteration$4,INCORRECT_ITERATION=!checkCorrectnessOfIteration$3(function(e){Array.from(e)});$$5b({target:"Array",stat:!0,forced:INCORRECT_ITERATION},{from});var $$5a=_export,$includes$1=arrayIncludes.includes,fails$1f=fails$1z,addToUnscopables$f=addToUnscopables$n,BROKEN_ON_SPARSE=fails$1f(function(){return!Array(1).includes()});$$5a({target:"Array",proto:!0,forced:BROKEN_ON_SPARSE},{includes:function(e){return $includes$1(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$f("includes");var $$59=_export,uncurryThis$1E=functionUncurryThisClause,$indexOf$3=arrayIncludes.indexOf,arrayMethodIsStrict$8=arrayMethodIsStrict$b,nativeIndexOf=uncurryThis$1E([].indexOf),NEGATIVE_ZERO$1=!!nativeIndexOf&&1/nativeIndexOf([1],1,-0)<0,FORCED$B=NEGATIVE_ZERO$1||!arrayMethodIsStrict$8("indexOf");$$59({target:"Array",proto:!0,forced:FORCED$B},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO$1?nativeIndexOf(this,e,t)||0:$indexOf$3(this,e,t)}});var $$58=_export,isArray$6=isArray$b;$$58({target:"Array",stat:!0},{isArray:isArray$6});var fails$1e=fails$1z,isCallable$s=isCallable$K,isObject$C=isObject$O,getPrototypeOf$g=objectGetPrototypeOf$2,defineBuiltIn$p=defineBuiltIn$u,wellKnownSymbol$C=wellKnownSymbol$S,ITERATOR$9=wellKnownSymbol$C("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$6,PrototypeOfArrayIteratorPrototype,arrayIterator$1;[].keys&&(arrayIterator$1=[].keys(),"next"in arrayIterator$1?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$g(getPrototypeOf$g(arrayIterator$1)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$6=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=!isObject$C(IteratorPrototype$6)||fails$1e(function(){var e={};return IteratorPrototype$6[ITERATOR$9].call(e)!==e});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$6={}),isCallable$s(IteratorPrototype$6[ITERATOR$9])||defineBuiltIn$p(IteratorPrototype$6,ITERATOR$9,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$6,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},IteratorPrototype$5=iteratorsCore.IteratorPrototype,create$h=objectCreate$1,createPropertyDescriptor$6=createPropertyDescriptor$d,setToStringTag$b=setToStringTag$e,Iterators$3=iterators,returnThis$1=function(){return this},iteratorCreateConstructor=function(e,t,r,n){var a=t+" Iterator";return e.prototype=create$h(IteratorPrototype$5,{next:createPropertyDescriptor$6(+!n,r)}),setToStringTag$b(e,a,!1),Iterators$3[a]=returnThis$1,e},$$57=_export,call$19=functionCall,FunctionName$1=functionName,isCallable$r=isCallable$K,createIteratorConstructor$6=iteratorCreateConstructor,getPrototypeOf$f=objectGetPrototypeOf$2,setPrototypeOf$7=objectSetPrototypeOf$1,setToStringTag$a=setToStringTag$e,createNonEnumerableProperty$c=createNonEnumerableProperty$j,defineBuiltIn$o=defineBuiltIn$u,wellKnownSymbol$B=wellKnownSymbol$S,Iterators$2=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME$3=FunctionName$1.PROPER,CONFIGURABLE_FUNCTION_NAME$1=FunctionName$1.CONFIGURABLE,IteratorPrototype$4=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$8=wellKnownSymbol$B("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},iteratorDefine=function(e,t,r,n,a,o,u){createIteratorConstructor$6(r,t,n);var p=function(k){if(k===a&&I)return I;if(!BUGGY_SAFARI_ITERATORS&&k&&k in y)return y[k];switch(k){case KEYS:return function(){return new r(this,k)};case VALUES:return function(){return new r(this,k)};case ENTRIES:return function(){return new r(this,k)}}return function(){return new r(this)}},b=t+" Iterator",m=!1,y=e.prototype,A=y[ITERATOR$8]||y["@@iterator"]||a&&y[a],I=!BUGGY_SAFARI_ITERATORS&&A||p(a),M=t==="Array"&&y.entries||A,C,P,B;if(M&&(C=getPrototypeOf$f(M.call(new e)),C!==Object.prototype&&C.next&&(getPrototypeOf$f(C)!==IteratorPrototype$4&&(setPrototypeOf$7?setPrototypeOf$7(C,IteratorPrototype$4):isCallable$r(C[ITERATOR$8])||defineBuiltIn$o(C,ITERATOR$8,returnThis)),setToStringTag$a(C,b,!0))),PROPER_FUNCTION_NAME$3&&a===VALUES&&A&&A.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME$1?createNonEnumerableProperty$c(y,"name",VALUES):(m=!0,I=function(){return call$19(A,this)})),a)if(P={values:p(VALUES),keys:o?I:p(KEYS),entries:p(ENTRIES)},u)for(B in P)(BUGGY_SAFARI_ITERATORS||m||!(B in y))&&defineBuiltIn$o(y,B,P[B]);else $$57({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS||m},P);return y[ITERATOR$8]!==I&&defineBuiltIn$o(y,ITERATOR$8,I,{name:a}),Iterators$2[t]=I,P},createIterResultObject$h=function(e,t){return{value:e,done:t}},toIndexedObject$d=toIndexedObject$k,addToUnscopables$e=addToUnscopables$n,Iterators$1=iterators,InternalStateModule$l=internalState,defineProperty$b=objectDefineProperty.f,defineIterator$2=iteratorDefine,createIterResultObject$g=createIterResultObject$h,DESCRIPTORS$J=descriptors,ARRAY_ITERATOR="Array Iterator",setInternalState$l=InternalStateModule$l.set,getInternalState$e=InternalStateModule$l.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator$2(Array,"Array",function(e,t){setInternalState$l(this,{type:ARRAY_ITERATOR,target:toIndexedObject$d(e),index:0,kind:t})},function(){var e=getInternalState$e(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,createIterResultObject$g(void 0,!0);switch(e.kind){case"keys":return createIterResultObject$g(r,!1);case"values":return createIterResultObject$g(t[r],!1)}return createIterResultObject$g([r,t[r]],!1)},"values"),values=Iterators$1.Arguments=Iterators$1.Array;if(addToUnscopables$e("keys"),addToUnscopables$e("values"),addToUnscopables$e("entries"),DESCRIPTORS$J&&values.name!=="values")try{defineProperty$b(values,"name",{value:"values"})}catch{}var $$56=_export,uncurryThis$1D=functionUncurryThis,IndexedObject$4=indexedObject,toIndexedObject$c=toIndexedObject$k,arrayMethodIsStrict$7=arrayMethodIsStrict$b,nativeJoin=uncurryThis$1D([].join),ES3_STRINGS=IndexedObject$4!==Object,FORCED$A=ES3_STRINGS||!arrayMethodIsStrict$7("join",",");$$56({target:"Array",proto:!0,forced:FORCED$A},{join:function(e){return nativeJoin(toIndexedObject$c(this),e===void 0?",":e)}});var apply$a=functionApply$1,toIndexedObject$b=toIndexedObject$k,toIntegerOrInfinity$k=toIntegerOrInfinity$p,lengthOfArrayLike$o=lengthOfArrayLike$B,arrayMethodIsStrict$6=arrayMethodIsStrict$b,min$b=Math.min,$lastIndexOf$1=[].lastIndexOf,NEGATIVE_ZERO=!!$lastIndexOf$1&&1/[1].lastIndexOf(1,-0)<0,STRICT_METHOD$2=arrayMethodIsStrict$6("lastIndexOf"),FORCED$z=NEGATIVE_ZERO||!STRICT_METHOD$2,arrayLastIndexOf=FORCED$z?function(e){if(NEGATIVE_ZERO)return apply$a($lastIndexOf$1,this,arguments)||0;var t=toIndexedObject$b(this),r=lengthOfArrayLike$o(t);if(r===0)return-1;var n=r-1;for(arguments.length>1&&(n=min$b(n,toIntegerOrInfinity$k(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}:$lastIndexOf$1,$$55=_export,lastIndexOf=arrayLastIndexOf;$$55({target:"Array",proto:!0,forced:lastIndexOf!==[].lastIndexOf},{lastIndexOf});var $$54=_export,$map$1=arrayIteration.map,arrayMethodHasSpeciesSupport$2=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport$2("map");$$54({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2},{map:function(e){return $map$1(this,e,arguments.length>1?arguments[1]:void 0)}});var $$53=_export,fails$1d=fails$1z,isConstructor$7=isConstructor$a,createProperty$8=createProperty$b,$Array$9=Array,ISNT_GENERIC=fails$1d(function(){function e(){}return!($Array$9.of.call(e)instanceof e)});$$53({target:"Array",stat:!0,forced:ISNT_GENERIC},{of:function(){for(var e=0,t=arguments.length,r=new(isConstructor$7(this)?this:$Array$9)(t);t>e;)createProperty$8(r,e,arguments[e++]);return r.length=t,r}});var DESCRIPTORS$I=descriptors,isArray$5=isArray$b,$TypeError$E=TypeError,getOwnPropertyDescriptor$b=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$I&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(e,t){if(isArray$5(e)&&!getOwnPropertyDescriptor$b(e,"length").writable)throw new $TypeError$E("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},$$52=_export,toObject$r=toObject$E,lengthOfArrayLike$n=lengthOfArrayLike$B,setArrayLength$2=arraySetLength,doesNotExceedSafeInteger$4=doesNotExceedSafeInteger$7,fails$1c=fails$1z,INCORRECT_TO_LENGTH=fails$1c(function(){return[].push.call({length:4294967296},1)!==4294967297}),properErrorOnNonWritableLength$1=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},FORCED$y=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength$1();$$52({target:"Array",proto:!0,arity:1,forced:FORCED$y},{push:function(e){var t=toObject$r(this),r=lengthOfArrayLike$n(t),n=arguments.length;doesNotExceedSafeInteger$4(r+n);for(var a=0;a<n;a++)t[r]=arguments[a],r++;return setArrayLength$2(t,r),r}});var aCallable$H=aCallable$N,toObject$q=toObject$E,IndexedObject$3=indexedObject,lengthOfArrayLike$m=lengthOfArrayLike$B,$TypeError$D=TypeError,REDUCE_EMPTY="Reduce of empty array with no initial value",createMethod$5=function(e){return function(t,r,n,a){var o=toObject$q(t),u=IndexedObject$3(o),p=lengthOfArrayLike$m(o);if(aCallable$H(r),p===0&&n<2)throw new $TypeError$D(REDUCE_EMPTY);var b=e?p-1:0,m=e?-1:1;if(n<2)for(;;){if(b in u){a=u[b],b+=m;break}if(b+=m,e?b<0:p<=b)throw new $TypeError$D(REDUCE_EMPTY)}for(;e?b>=0:p>b;b+=m)b in u&&(a=r(a,u[b],b,o));return a}},arrayReduce={left:createMethod$5(!1),right:createMethod$5(!0)},global$W=global$18,classof$j=classofRaw$2,engineIsNode=classof$j(global$W.process)==="process",$$51=_export,$reduce$1=arrayReduce.left,arrayMethodIsStrict$5=arrayMethodIsStrict$b,CHROME_VERSION$1=engineV8Version,IS_NODE$7=engineIsNode,CHROME_BUG$1=!IS_NODE$7&&CHROME_VERSION$1>79&&CHROME_VERSION$1<83,FORCED$x=CHROME_BUG$1||!arrayMethodIsStrict$5("reduce");$$51({target:"Array",proto:!0,forced:FORCED$x},{reduce:function(e){var t=arguments.length;return $reduce$1(this,e,t,t>1?arguments[1]:void 0)}});var $$50=_export,$reduceRight$1=arrayReduce.right,arrayMethodIsStrict$4=arrayMethodIsStrict$b,CHROME_VERSION=engineV8Version,IS_NODE$6=engineIsNode,CHROME_BUG=!IS_NODE$6&&CHROME_VERSION>79&&CHROME_VERSION<83,FORCED$w=CHROME_BUG||!arrayMethodIsStrict$4("reduceRight");$$50({target:"Array",proto:!0,forced:FORCED$w},{reduceRight:function(e){return $reduceRight$1(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var $$4$=_export,uncurryThis$1C=functionUncurryThis,isArray$4=isArray$b,nativeReverse=uncurryThis$1C([].reverse),test$2=[1,2];$$4$({target:"Array",proto:!0,forced:String(test$2)===String(test$2.reverse())},{reverse:function(){return isArray$4(this)&&(this.length=this.length),nativeReverse(this)}});var $$4_=_export,isArray$3=isArray$b,isConstructor$6=isConstructor$a,isObject$B=isObject$O,toAbsoluteIndex$6=toAbsoluteIndex$a,lengthOfArrayLike$l=lengthOfArrayLike$B,toIndexedObject$a=toIndexedObject$k,createProperty$7=createProperty$b,wellKnownSymbol$A=wellKnownSymbol$S,arrayMethodHasSpeciesSupport$1=arrayMethodHasSpeciesSupport$5,nativeSlice=arraySlice$a,HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$1("slice"),SPECIES$4=wellKnownSymbol$A("species"),$Array$8=Array,max$9=Math.max;$$4_({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1},{slice:function(e,t){var r=toIndexedObject$a(this),n=lengthOfArrayLike$l(r),a=toAbsoluteIndex$6(e,n),o=toAbsoluteIndex$6(t===void 0?n:t,n),u,p,b;if(isArray$3(r)&&(u=r.constructor,isConstructor$6(u)&&(u===$Array$8||isArray$3(u.prototype))?u=void 0:isObject$B(u)&&(u=u[SPECIES$4],u===null&&(u=void 0)),u===$Array$8||u===void 0))return nativeSlice(r,a,o);for(p=new(u===void 0?$Array$8:u)(max$9(o-a,0)),b=0;a<o;a++,b++)a in r&&createProperty$7(p,b,r[a]);return p.length=b,p}});var $$4Z=_export,$some$2=arrayIteration.some,arrayMethodIsStrict$3=arrayMethodIsStrict$b,STRICT_METHOD$1=arrayMethodIsStrict$3("some");$$4Z({target:"Array",proto:!0,forced:!STRICT_METHOD$1},{some:function(e){return $some$2(this,e,arguments.length>1?arguments[1]:void 0)}});var arraySlice$7=arraySlice$a,floor$9=Math.floor,sort$2=function(e,t){var r=e.length;if(r<8)for(var n=1,a,o;n<r;){for(o=n,a=e[n];o&&t(e[o-1],a)>0;)e[o]=e[--o];o!==n++&&(e[o]=a)}else for(var u=floor$9(r/2),p=sort$2(arraySlice$7(e,0,u),t),b=sort$2(arraySlice$7(e,u),t),m=p.length,y=b.length,A=0,I=0;A<m||I<y;)e[A+I]=A<m&&I<y?t(p[A],b[I])<=0?p[A++]:b[I++]:A<m?p[A++]:b[I++];return e},arraySort$1=sort$2,userAgent$5=engineUserAgent,firefox=userAgent$5.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],UA=engineUserAgent,engineIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent$4=engineUserAgent,webkit=userAgent$4.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit&&+webkit[1],$$4Y=_export,uncurryThis$1B=functionUncurryThis,aCallable$G=aCallable$N,toObject$p=toObject$E,lengthOfArrayLike$k=lengthOfArrayLike$B,deletePropertyOrThrow$2=deletePropertyOrThrow$4,toString$F=toString$K,fails$1b=fails$1z,internalSort$1=arraySort$1,arrayMethodIsStrict$2=arrayMethodIsStrict$b,FF$1=engineFfVersion,IE_OR_EDGE$1=engineIsIeOrEdge,V8$2=engineV8Version,WEBKIT$2=engineWebkitVersion,test$1=[],nativeSort$1=uncurryThis$1B(test$1.sort),push$o=uncurryThis$1B(test$1.push),FAILS_ON_UNDEFINED=fails$1b(function(){test$1.sort(void 0)}),FAILS_ON_NULL=fails$1b(function(){test$1.sort(null)}),STRICT_METHOD=arrayMethodIsStrict$2("sort"),STABLE_SORT$1=!fails$1b(function(){if(V8$2)return V8$2<70;if(!(FF$1&&FF$1>3)){if(IE_OR_EDGE$1)return!0;if(WEBKIT$2)return WEBKIT$2<603;var e="",t,r,n,a;for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)test$1.push({k:r+a,v:n})}for(test$1.sort(function(o,u){return u.v-o.v}),a=0;a<test$1.length;a++)r=test$1[a].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return e!=="DGBEFHACIJK"}}),FORCED$v=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD||!STABLE_SORT$1,getSortCompare$1=function(e){return function(t,r){return r===void 0?-1:t===void 0?1:e!==void 0?+e(t,r)||0:toString$F(t)>toString$F(r)?1:-1}};$$4Y({target:"Array",proto:!0,forced:FORCED$v},{sort:function(e){e!==void 0&&aCallable$G(e);var t=toObject$p(this);if(STABLE_SORT$1)return e===void 0?nativeSort$1(t):nativeSort$1(t,e);var r=[],n=lengthOfArrayLike$k(t),a,o;for(o=0;o<n;o++)o in t&&push$o(r,t[o]);for(internalSort$1(r,getSortCompare$1(e)),a=lengthOfArrayLike$k(r),o=0;o<a;)t[o]=r[o++];for(;o<n;)deletePropertyOrThrow$2(t,o++);return t}});var getBuiltIn$C=getBuiltIn$N,defineBuiltInAccessor$m=defineBuiltInAccessor$p,wellKnownSymbol$z=wellKnownSymbol$S,DESCRIPTORS$H=descriptors,SPECIES$3=wellKnownSymbol$z("species"),setSpecies$7=function(e){var t=getBuiltIn$C(e);DESCRIPTORS$H&&t&&!t[SPECIES$3]&&defineBuiltInAccessor$m(t,SPECIES$3,{configurable:!0,get:function(){return this}})},setSpecies$6=setSpecies$7;setSpecies$6("Array");var $$4X=_export,toObject$o=toObject$E,toAbsoluteIndex$5=toAbsoluteIndex$a,toIntegerOrInfinity$j=toIntegerOrInfinity$p,lengthOfArrayLike$j=lengthOfArrayLike$B,setArrayLength$1=arraySetLength,doesNotExceedSafeInteger$3=doesNotExceedSafeInteger$7,arraySpeciesCreate=arraySpeciesCreate$5,createProperty$6=createProperty$b,deletePropertyOrThrow$1=deletePropertyOrThrow$4,arrayMethodHasSpeciesSupport=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("splice"),max$8=Math.max,min$a=Math.min;$$4X({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{splice:function(e,t){var r=toObject$o(this),n=lengthOfArrayLike$j(r),a=toAbsoluteIndex$5(e,n),o=arguments.length,u,p,b,m,y,A;for(o===0?u=p=0:o===1?(u=0,p=n-a):(u=o-2,p=min$a(max$8(toIntegerOrInfinity$j(t),0),n-a)),doesNotExceedSafeInteger$3(n+u-p),b=arraySpeciesCreate(r,p),m=0;m<p;m++)y=a+m,y in r&&createProperty$6(b,m,r[y]);if(b.length=p,u<p){for(m=a;m<n-p;m++)y=m+p,A=m+u,y in r?r[A]=r[y]:deletePropertyOrThrow$1(r,A);for(m=n;m>n-p+u;m--)deletePropertyOrThrow$1(r,m-1)}else if(u>p)for(m=n-p;m>a;m--)y=m+p-1,A=m+u-1,y in r?r[A]=r[y]:deletePropertyOrThrow$1(r,A);for(m=0;m<u;m++)r[m+a]=arguments[m+2];return setArrayLength$1(r,n-p+u),b}});var lengthOfArrayLike$i=lengthOfArrayLike$B,arrayToReversed$2=function(e,t){for(var r=lengthOfArrayLike$i(e),n=new t(r),a=0;a<r;a++)n[a]=e[r-a-1];return n},$$4W=_export,arrayToReversed$1=arrayToReversed$2,toIndexedObject$9=toIndexedObject$k,addToUnscopables$d=addToUnscopables$n,$Array$7=Array;$$4W({target:"Array",proto:!0},{toReversed:function(){return arrayToReversed$1(toIndexedObject$9(this),$Array$7)}}),addToUnscopables$d("toReversed");var lengthOfArrayLike$h=lengthOfArrayLike$B,arrayFromConstructorAndList$8=function(e,t,r){for(var n=0,a=arguments.length>2?r:lengthOfArrayLike$h(t),o=new e(a);a>n;)o[n]=t[n++];return o},global$V=global$18,getBuiltInPrototypeMethod$2=function(e,t){var r=global$V[e],n=r&&r.prototype;return n&&n[t]},$$4V=_export,uncurryThis$1A=functionUncurryThis,aCallable$F=aCallable$N,toIndexedObject$8=toIndexedObject$k,arrayFromConstructorAndList$7=arrayFromConstructorAndList$8,getBuiltInPrototypeMethod$1=getBuiltInPrototypeMethod$2,addToUnscopables$c=addToUnscopables$n,$Array$6=Array,sort$1=uncurryThis$1A(getBuiltInPrototypeMethod$1("Array","sort"));$$4V({target:"Array",proto:!0},{toSorted:function(e){e!==void 0&&aCallable$F(e);var t=toIndexedObject$8(this),r=arrayFromConstructorAndList$7($Array$6,t);return sort$1(r,e)}}),addToUnscopables$c("toSorted");var $$4U=_export,addToUnscopables$b=addToUnscopables$n,doesNotExceedSafeInteger$2=doesNotExceedSafeInteger$7,lengthOfArrayLike$g=lengthOfArrayLike$B,toAbsoluteIndex$4=toAbsoluteIndex$a,toIndexedObject$7=toIndexedObject$k,toIntegerOrInfinity$i=toIntegerOrInfinity$p,$Array$5=Array,max$7=Math.max,min$9=Math.min;$$4U({target:"Array",proto:!0},{toSpliced:function(e,t){var r=toIndexedObject$7(this),n=lengthOfArrayLike$g(r),a=toAbsoluteIndex$4(e,n),o=arguments.length,u=0,p,b,m,y;for(o===0?p=b=0:o===1?(p=0,b=n-a):(p=o-2,b=min$9(max$7(toIntegerOrInfinity$i(t),0),n-a)),m=doesNotExceedSafeInteger$2(n+p-b),y=$Array$5(m);u<a;u++)y[u]=r[u];for(;u<a+p;u++)y[u]=arguments[u-a+2];for(;u<m;u++)y[u]=r[u+b-p];return y}}),addToUnscopables$b("toSpliced");var addToUnscopables$a=addToUnscopables$n;addToUnscopables$a("flat");var addToUnscopables$9=addToUnscopables$n;addToUnscopables$9("flatMap");var $$4T=_export,toObject$n=toObject$E,lengthOfArrayLike$f=lengthOfArrayLike$B,setArrayLength=arraySetLength,deletePropertyOrThrow=deletePropertyOrThrow$4,doesNotExceedSafeInteger$1=doesNotExceedSafeInteger$7,INCORRECT_RESULT=[].unshift(0)!==1,properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},FORCED$u=INCORRECT_RESULT||!properErrorOnNonWritableLength();$$4T({target:"Array",proto:!0,arity:1,forced:FORCED$u},{unshift:function(e){var t=toObject$n(this),r=lengthOfArrayLike$f(t),n=arguments.length;if(n){doesNotExceedSafeInteger$1(r+n);for(var a=r;a--;){var o=a+n;a in t?t[o]=t[a]:deletePropertyOrThrow(t,o)}for(var u=0;u<n;u++)t[u]=arguments[u]}return setArrayLength(t,r+n)}});var lengthOfArrayLike$e=lengthOfArrayLike$B,toIntegerOrInfinity$h=toIntegerOrInfinity$p,$RangeError$f=RangeError,arrayWith$2=function(e,t,r,n){var a=lengthOfArrayLike$e(e),o=toIntegerOrInfinity$h(r),u=o<0?a+o:o;if(u>=a||u<0)throw new $RangeError$f("Incorrect index");for(var p=new t(a),b=0;b<a;b++)p[b]=b===u?n:e[b];return p},$$4S=_export,arrayWith$1=arrayWith$2,toIndexedObject$6=toIndexedObject$k,$Array$4=Array;$$4S({target:"Array",proto:!0},{with:function(e,t){return arrayWith$1(toIndexedObject$6(this),$Array$4,e,t)}});var arrayBufferBasicDetection=typeof ArrayBuffer<"u"&&typeof DataView<"u",defineBuiltIn$n=defineBuiltIn$u,defineBuiltIns$b=function(e,t,r){for(var n in t)defineBuiltIn$n(e,n,t[n],r);return e},isPrototypeOf$9=objectIsPrototypeOf,$TypeError$C=TypeError,anInstance$f=function(e,t){if(isPrototypeOf$9(t,e))return e;throw new $TypeError$C("Incorrect invocation")},toIntegerOrInfinity$g=toIntegerOrInfinity$p,toLength$b=toLength$d,$RangeError$e=RangeError,toIndex$5=function(e){if(e===void 0)return 0;var t=toIntegerOrInfinity$g(e),r=toLength$b(t);if(t!==r)throw new $RangeError$e("Wrong length or index");return r},mathSign=Math.sign||function(e){var t=+e;return t===0||t!==t?t:t<0?-1:1},sign$8=mathSign,abs$9=Math.abs,EPSILON=2220446049250313e-31,INVERSE_EPSILON=1/EPSILON,roundTiesToEven=function(e){return e+INVERSE_EPSILON-INVERSE_EPSILON},mathFloatRound=function(e,t,r,n){var a=+e,o=abs$9(a),u=sign$8(a);if(o<n)return u*roundTiesToEven(o/n/t)*n*t;var p=(1+t/EPSILON)*o,b=p-(p-o);return b>r||b!==b?u*(1/0):u*b},floatRound$1=mathFloatRound,FLOAT32_EPSILON=11920928955078125e-23,FLOAT32_MAX_VALUE=3402823466385289e23,FLOAT32_MIN_VALUE=11754943508222875e-54,mathFround=Math.fround||function(e){return floatRound$1(e,FLOAT32_EPSILON,FLOAT32_MAX_VALUE,FLOAT32_MIN_VALUE)},$Array$3=Array,abs$8=Math.abs,pow$7=Math.pow,floor$8=Math.floor,log$8=Math.log,LN2$2=Math.LN2,pack=function(e,t,r){var n=$Array$3(r),a=r*8-t-1,o=(1<<a)-1,u=o>>1,p=t===23?pow$7(2,-24)-pow$7(2,-77):0,b=e<0||e===0&&1/e<0?1:0,m=0,y,A,I;for(e=abs$8(e),e!==e||e===1/0?(A=e!==e?1:0,y=o):(y=floor$8(log$8(e)/LN2$2),I=pow$7(2,-y),e*I<1&&(y--,I*=2),y+u>=1?e+=p/I:e+=p*pow$7(2,1-u),e*I>=2&&(y++,I/=2),y+u>=o?(A=0,y=o):y+u>=1?(A=(e*I-1)*pow$7(2,t),y+=u):(A=e*pow$7(2,u-1)*pow$7(2,t),y=0));t>=8;)n[m++]=A&255,A/=256,t-=8;for(y=y<<t|A,a+=t;a>0;)n[m++]=y&255,y/=256,a-=8;return n[--m]|=b*128,n},unpack=function(e,t){var r=e.length,n=r*8-t-1,a=(1<<n)-1,o=a>>1,u=n-7,p=r-1,b=e[p--],m=b&127,y;for(b>>=7;u>0;)m=m*256+e[p--],u-=8;for(y=m&(1<<-u)-1,m>>=-u,u+=t;u>0;)y=y*256+e[p--],u-=8;if(m===0)m=1-o;else{if(m===a)return y?NaN:b?-1/0:1/0;y+=pow$7(2,t),m-=o}return(b?-1:1)*y*pow$7(2,m-t)},ieee754={pack,unpack},global$U=global$18,uncurryThis$1z=functionUncurryThis,DESCRIPTORS$G=descriptors,NATIVE_ARRAY_BUFFER$2=arrayBufferBasicDetection,FunctionName=functionName,createNonEnumerableProperty$b=createNonEnumerableProperty$j,defineBuiltInAccessor$l=defineBuiltInAccessor$p,defineBuiltIns$a=defineBuiltIns$b,fails$1a=fails$1z,anInstance$e=anInstance$f,toIntegerOrInfinity$f=toIntegerOrInfinity$p,toLength$a=toLength$d,toIndex$4=toIndex$5,fround$2=mathFround,IEEE754=ieee754,getPrototypeOf$e=objectGetPrototypeOf$2,setPrototypeOf$6=objectSetPrototypeOf$1,arrayFill=arrayFill$1,arraySlice$6=arraySlice$a,inheritIfRequired$5=inheritIfRequired$7,copyConstructorProperties$2=copyConstructorProperties$7,setToStringTag$9=setToStringTag$e,InternalStateModule$k=internalState,PROPER_FUNCTION_NAME$2=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,ARRAY_BUFFER$1="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH$1="Wrong length",WRONG_INDEX="Wrong index",getInternalArrayBufferState=InternalStateModule$k.getterFor(ARRAY_BUFFER$1),getInternalDataViewState=InternalStateModule$k.getterFor(DATA_VIEW),setInternalState$k=InternalStateModule$k.set,NativeArrayBuffer$1=global$U[ARRAY_BUFFER$1],$ArrayBuffer$1=NativeArrayBuffer$1,ArrayBufferPrototype$3=$ArrayBuffer$1&&$ArrayBuffer$1[PROTOTYPE],$DataView=global$U[DATA_VIEW],DataViewPrototype$2=$DataView&&$DataView[PROTOTYPE],ObjectPrototype$3=Object.prototype,Array$3=global$U.Array,RangeError$3=global$U.RangeError,fill=uncurryThis$1z(arrayFill),reverse=uncurryThis$1z([].reverse),packIEEE754$1=IEEE754.pack,unpackIEEE754$1=IEEE754.unpack,packInt8=function(e){return[e&255]},packInt16=function(e){return[e&255,e>>8&255]},packInt32=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},unpackInt32=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},packFloat32=function(e){return packIEEE754$1(fround$2(e),23,4)},packFloat64=function(e){return packIEEE754$1(e,52,8)},addGetter$2=function(e,t,r){defineBuiltInAccessor$l(e[PROTOTYPE],t,{configurable:!0,get:function(){return r(this)[t]}})},get$5=function(e,t,r,n){var a=getInternalDataViewState(e),o=toIndex$4(r),u=!!n;if(o+t>a.byteLength)throw new RangeError$3(WRONG_INDEX);var p=a.bytes,b=o+a.byteOffset,m=arraySlice$6(p,b,b+t);return u?m:reverse(m)},set$a=function(e,t,r,n,a,o){var u=getInternalDataViewState(e),p=toIndex$4(r),b=n(+a),m=!!o;if(p+t>u.byteLength)throw new RangeError$3(WRONG_INDEX);for(var y=u.bytes,A=p+u.byteOffset,I=0;I<t;I++)y[A+I]=b[m?I:t-I-1]};if(!NATIVE_ARRAY_BUFFER$2)$ArrayBuffer$1=function(e){anInstance$e(this,ArrayBufferPrototype$3);var t=toIndex$4(e);setInternalState$k(this,{type:ARRAY_BUFFER$1,bytes:fill(Array$3(t),0),byteLength:t}),DESCRIPTORS$G||(this.byteLength=t,this.detached=!1)},ArrayBufferPrototype$3=$ArrayBuffer$1[PROTOTYPE],$DataView=function(e,t,r){anInstance$e(this,DataViewPrototype$2),anInstance$e(e,ArrayBufferPrototype$3);var n=getInternalArrayBufferState(e),a=n.byteLength,o=toIntegerOrInfinity$f(t);if(o<0||o>a)throw new RangeError$3("Wrong offset");if(r=r===void 0?a-o:toLength$a(r),o+r>a)throw new RangeError$3(WRONG_LENGTH$1);setInternalState$k(this,{type:DATA_VIEW,buffer:e,byteLength:r,byteOffset:o,bytes:n.bytes}),DESCRIPTORS$G||(this.buffer=e,this.byteLength=r,this.byteOffset=o)},DataViewPrototype$2=$DataView[PROTOTYPE],DESCRIPTORS$G&&(addGetter$2($ArrayBuffer$1,"byteLength",getInternalArrayBufferState),addGetter$2($DataView,"buffer",getInternalDataViewState),addGetter$2($DataView,"byteLength",getInternalDataViewState),addGetter$2($DataView,"byteOffset",getInternalDataViewState)),defineBuiltIns$a(DataViewPrototype$2,{getInt8:function(e){return get$5(this,1,e)[0]<<24>>24},getUint8:function(e){return get$5(this,1,e)[0]},getInt16:function(e){var t=get$5(this,2,e,arguments.length>1?arguments[1]:!1);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=get$5(this,2,e,arguments.length>1?arguments[1]:!1);return t[1]<<8|t[0]},getInt32:function(e){return unpackInt32(get$5(this,4,e,arguments.length>1?arguments[1]:!1))},getUint32:function(e){return unpackInt32(get$5(this,4,e,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(e){return unpackIEEE754$1(get$5(this,4,e,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(e){return unpackIEEE754$1(get$5(this,8,e,arguments.length>1?arguments[1]:!1),52)},setInt8:function(e,t){set$a(this,1,e,packInt8,t)},setUint8:function(e,t){set$a(this,1,e,packInt8,t)},setInt16:function(e,t){set$a(this,2,e,packInt16,t,arguments.length>2?arguments[2]:!1)},setUint16:function(e,t){set$a(this,2,e,packInt16,t,arguments.length>2?arguments[2]:!1)},setInt32:function(e,t){set$a(this,4,e,packInt32,t,arguments.length>2?arguments[2]:!1)},setUint32:function(e,t){set$a(this,4,e,packInt32,t,arguments.length>2?arguments[2]:!1)},setFloat32:function(e,t){set$a(this,4,e,packFloat32,t,arguments.length>2?arguments[2]:!1)},setFloat64:function(e,t){set$a(this,8,e,packFloat64,t,arguments.length>2?arguments[2]:!1)}});else{var INCORRECT_ARRAY_BUFFER_NAME=PROPER_FUNCTION_NAME$2&&NativeArrayBuffer$1.name!==ARRAY_BUFFER$1;!fails$1a(function(){NativeArrayBuffer$1(1)})||!fails$1a(function(){new NativeArrayBuffer$1(-1)})||fails$1a(function(){return new NativeArrayBuffer$1,new NativeArrayBuffer$1(1.5),new NativeArrayBuffer$1(NaN),NativeArrayBuffer$1.length!==1||INCORRECT_ARRAY_BUFFER_NAME&&!CONFIGURABLE_FUNCTION_NAME})?($ArrayBuffer$1=function(e){return anInstance$e(this,ArrayBufferPrototype$3),inheritIfRequired$5(new NativeArrayBuffer$1(toIndex$4(e)),this,$ArrayBuffer$1)},$ArrayBuffer$1[PROTOTYPE]=ArrayBufferPrototype$3,ArrayBufferPrototype$3.constructor=$ArrayBuffer$1,copyConstructorProperties$2($ArrayBuffer$1,NativeArrayBuffer$1)):INCORRECT_ARRAY_BUFFER_NAME&&CONFIGURABLE_FUNCTION_NAME&&createNonEnumerableProperty$b(NativeArrayBuffer$1,"name",ARRAY_BUFFER$1),setPrototypeOf$6&&getPrototypeOf$e(DataViewPrototype$2)!==ObjectPrototype$3&&setPrototypeOf$6(DataViewPrototype$2,ObjectPrototype$3);var testView=new $DataView(new $ArrayBuffer$1(2)),$setInt8=uncurryThis$1z(DataViewPrototype$2.setInt8);testView.setInt8(0,2147483648),testView.setInt8(1,2147483649),(testView.getInt8(0)||!testView.getInt8(1))&&defineBuiltIns$a(DataViewPrototype$2,{setInt8:function(e,t){$setInt8(this,e,t<<24>>24)},setUint8:function(e,t){$setInt8(this,e,t<<24>>24)}},{unsafe:!0})}setToStringTag$9($ArrayBuffer$1,ARRAY_BUFFER$1),setToStringTag$9($DataView,DATA_VIEW);var arrayBuffer={ArrayBuffer:$ArrayBuffer$1,DataView:$DataView},$$4R=_export,global$T=global$18,arrayBufferModule=arrayBuffer,setSpecies$5=setSpecies$7,ARRAY_BUFFER="ArrayBuffer",ArrayBuffer$5=arrayBufferModule[ARRAY_BUFFER],NativeArrayBuffer=global$T[ARRAY_BUFFER];$$4R({global:!0,constructor:!0,forced:NativeArrayBuffer!==ArrayBuffer$5},{ArrayBuffer:ArrayBuffer$5}),setSpecies$5(ARRAY_BUFFER);var NATIVE_ARRAY_BUFFER$1=arrayBufferBasicDetection,DESCRIPTORS$F=descriptors,global$S=global$18,isCallable$q=isCallable$K,isObject$A=isObject$O,hasOwn$r=hasOwnProperty_1,classof$i=classof$q,tryToString$1=tryToString$7,createNonEnumerableProperty$a=createNonEnumerableProperty$j,defineBuiltIn$m=defineBuiltIn$u,defineBuiltInAccessor$k=defineBuiltInAccessor$p,isPrototypeOf$8=objectIsPrototypeOf,getPrototypeOf$d=objectGetPrototypeOf$2,setPrototypeOf$5=objectSetPrototypeOf$1,wellKnownSymbol$y=wellKnownSymbol$S,uid$3=uid$7,InternalStateModule$j=internalState,enforceInternalState$3=InternalStateModule$j.enforce,getInternalState$d=InternalStateModule$j.get,Int8Array$4=global$S.Int8Array,Int8ArrayPrototype$1=Int8Array$4&&Int8Array$4.prototype,Uint8ClampedArray$1=global$S.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray$1&&Uint8ClampedArray$1.prototype,TypedArray$3=Int8Array$4&&getPrototypeOf$d(Int8Array$4),TypedArrayPrototype$2=Int8ArrayPrototype$1&&getPrototypeOf$d(Int8ArrayPrototype$1),ObjectPrototype$2=Object.prototype,TypeError$7=global$S.TypeError,TO_STRING_TAG$7=wellKnownSymbol$y("toStringTag"),TYPED_ARRAY_TAG$1=uid$3("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR="TypedArrayConstructor",NATIVE_ARRAY_BUFFER_VIEWS$3=NATIVE_ARRAY_BUFFER$1&&!!setPrototypeOf$5&&classof$i(global$S.opera)!=="Opera",TYPED_ARRAY_TAG_REQUIRED=!1,NAME$1,Constructor,Prototype,TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},isView=function(e){if(!isObject$A(e))return!1;var t=classof$i(e);return t==="DataView"||hasOwn$r(TypedArrayConstructorsList,t)||hasOwn$r(BigIntArrayConstructorsList,t)},getTypedArrayConstructor$6=function(e){var t=getPrototypeOf$d(e);if(isObject$A(t)){var r=getInternalState$d(t);return r&&hasOwn$r(r,TYPED_ARRAY_CONSTRUCTOR)?r[TYPED_ARRAY_CONSTRUCTOR]:getTypedArrayConstructor$6(t)}},isTypedArray$2=function(e){if(!isObject$A(e))return!1;var t=classof$i(e);return hasOwn$r(TypedArrayConstructorsList,t)||hasOwn$r(BigIntArrayConstructorsList,t)},aTypedArray$x=function(e){if(isTypedArray$2(e))return e;throw new TypeError$7("Target is not a typed array")},aTypedArrayConstructor$4=function(e){if(isCallable$q(e)&&(!setPrototypeOf$5||isPrototypeOf$8(TypedArray$3,e)))return e;throw new TypeError$7(tryToString$1(e)+" is not a typed array constructor")},exportTypedArrayMethod$y=function(e,t,r,n){if(DESCRIPTORS$F){if(r)for(var a in TypedArrayConstructorsList){var o=global$S[a];if(o&&hasOwn$r(o.prototype,e))try{delete o.prototype[e]}catch{try{o.prototype[e]=t}catch{}}}(!TypedArrayPrototype$2[e]||r)&&defineBuiltIn$m(TypedArrayPrototype$2,e,r?t:NATIVE_ARRAY_BUFFER_VIEWS$3&&Int8ArrayPrototype$1[e]||t,n)}},exportTypedArrayStaticMethod$3=function(e,t,r){var n,a;if(DESCRIPTORS$F){if(setPrototypeOf$5){if(r){for(n in TypedArrayConstructorsList)if(a=global$S[n],a&&hasOwn$r(a,e))try{delete a[e]}catch{}}if(!TypedArray$3[e]||r)try{return defineBuiltIn$m(TypedArray$3,e,r?t:NATIVE_ARRAY_BUFFER_VIEWS$3&&TypedArray$3[e]||t)}catch{}else return}for(n in TypedArrayConstructorsList)a=global$S[n],a&&(!a[e]||r)&&defineBuiltIn$m(a,e,t)}};for(NAME$1 in TypedArrayConstructorsList)Constructor=global$S[NAME$1],Prototype=Constructor&&Constructor.prototype,Prototype?enforceInternalState$3(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor:NATIVE_ARRAY_BUFFER_VIEWS$3=!1;for(NAME$1 in BigIntArrayConstructorsList)Constructor=global$S[NAME$1],Prototype=Constructor&&Constructor.prototype,Prototype&&(enforceInternalState$3(Prototype)[TYPED_ARRAY_CONSTRUCTOR]=Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS$3||!isCallable$q(TypedArray$3)||TypedArray$3===Function.prototype)&&(TypedArray$3=function(){throw new TypeError$7("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS$3))for(NAME$1 in TypedArrayConstructorsList)global$S[NAME$1]&&setPrototypeOf$5(global$S[NAME$1],TypedArray$3);if((!NATIVE_ARRAY_BUFFER_VIEWS$3||!TypedArrayPrototype$2||TypedArrayPrototype$2===ObjectPrototype$2)&&(TypedArrayPrototype$2=TypedArray$3.prototype,NATIVE_ARRAY_BUFFER_VIEWS$3))for(NAME$1 in TypedArrayConstructorsList)global$S[NAME$1]&&setPrototypeOf$5(global$S[NAME$1].prototype,TypedArrayPrototype$2);if(NATIVE_ARRAY_BUFFER_VIEWS$3&&getPrototypeOf$d(Uint8ClampedArrayPrototype)!==TypedArrayPrototype$2&&setPrototypeOf$5(Uint8ClampedArrayPrototype,TypedArrayPrototype$2),DESCRIPTORS$F&&!hasOwn$r(TypedArrayPrototype$2,TO_STRING_TAG$7)){TYPED_ARRAY_TAG_REQUIRED=!0,defineBuiltInAccessor$k(TypedArrayPrototype$2,TO_STRING_TAG$7,{configurable:!0,get:function(){return isObject$A(this)?this[TYPED_ARRAY_TAG$1]:void 0}});for(NAME$1 in TypedArrayConstructorsList)global$S[NAME$1]&&createNonEnumerableProperty$a(global$S[NAME$1],TYPED_ARRAY_TAG$1,NAME$1)}var arrayBufferViewCore={NATIVE_ARRAY_BUFFER_VIEWS:NATIVE_ARRAY_BUFFER_VIEWS$3,TYPED_ARRAY_TAG:TYPED_ARRAY_TAG_REQUIRED&&TYPED_ARRAY_TAG$1,aTypedArray:aTypedArray$x,aTypedArrayConstructor:aTypedArrayConstructor$4,exportTypedArrayMethod:exportTypedArrayMethod$y,exportTypedArrayStaticMethod:exportTypedArrayStaticMethod$3,getTypedArrayConstructor:getTypedArrayConstructor$6,isView,isTypedArray:isTypedArray$2,TypedArray:TypedArray$3,TypedArrayPrototype:TypedArrayPrototype$2},$$4Q=_export,ArrayBufferViewCore$B=arrayBufferViewCore,NATIVE_ARRAY_BUFFER_VIEWS$2=ArrayBufferViewCore$B.NATIVE_ARRAY_BUFFER_VIEWS;$$4Q({target:"ArrayBuffer",stat:!0,forced:!NATIVE_ARRAY_BUFFER_VIEWS$2},{isView:ArrayBufferViewCore$B.isView});var isConstructor$5=isConstructor$a,tryToString=tryToString$7,$TypeError$B=TypeError,aConstructor$4=function(e){if(isConstructor$5(e))return e;throw new $TypeError$B(tryToString(e)+" is not a constructor")},anObject$16=anObject$1h,aConstructor$3=aConstructor$4,isNullOrUndefined$f=isNullOrUndefined$j,wellKnownSymbol$x=wellKnownSymbol$S,SPECIES$2=wellKnownSymbol$x("species"),speciesConstructor$6=function(e,t){var r=anObject$16(e).constructor,n;return r===void 0||isNullOrUndefined$f(n=anObject$16(r)[SPECIES$2])?t:aConstructor$3(n)},$$4P=_export,uncurryThis$1y=functionUncurryThisClause,fails$19=fails$1z,ArrayBufferModule$2=arrayBuffer,anObject$15=anObject$1h,toAbsoluteIndex$3=toAbsoluteIndex$a,toLength$9=toLength$d,speciesConstructor$5=speciesConstructor$6,ArrayBuffer$4=ArrayBufferModule$2.ArrayBuffer,DataView$3=ArrayBufferModule$2.DataView,DataViewPrototype$1=DataView$3.prototype,nativeArrayBufferSlice=uncurryThis$1y(ArrayBuffer$4.prototype.slice),getUint8$1=uncurryThis$1y(DataViewPrototype$1.getUint8),setUint8$1=uncurryThis$1y(DataViewPrototype$1.setUint8),INCORRECT_SLICE=fails$19(function(){return!new ArrayBuffer$4(2).slice(1,void 0).byteLength});$$4P({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:INCORRECT_SLICE},{slice:function(e,t){if(nativeArrayBufferSlice&&t===void 0)return nativeArrayBufferSlice(anObject$15(this),e);for(var r=anObject$15(this).byteLength,n=toAbsoluteIndex$3(e,r),a=toAbsoluteIndex$3(t===void 0?r:t,r),o=new(speciesConstructor$5(this,ArrayBuffer$4))(toLength$9(a-n)),u=new DataView$3(this),p=new DataView$3(o),b=0;n<a;)setUint8$1(p,b++,getUint8$1(u,n++));return o}});var $$4O=_export,ArrayBufferModule$1=arrayBuffer,NATIVE_ARRAY_BUFFER=arrayBufferBasicDetection;$$4O({global:!0,constructor:!0,forced:!NATIVE_ARRAY_BUFFER},{DataView:ArrayBufferModule$1.DataView});var uncurryThisAccessor$2=functionUncurryThisAccessor,classof$h=classofRaw$2,$TypeError$A=TypeError,arrayBufferByteLength$2=uncurryThisAccessor$2(ArrayBuffer.prototype,"byteLength","get")||function(e){if(classof$h(e)!=="ArrayBuffer")throw new $TypeError$A("ArrayBuffer expected");return e.byteLength},uncurryThis$1x=functionUncurryThis,arrayBufferByteLength$1=arrayBufferByteLength$2,slice$7=uncurryThis$1x(ArrayBuffer.prototype.slice),arrayBufferIsDetached=function(e){if(arrayBufferByteLength$1(e)!==0)return!1;try{return slice$7(e,0,0),!1}catch{return!0}},DESCRIPTORS$E=descriptors,defineBuiltInAccessor$j=defineBuiltInAccessor$p,isDetached$1=arrayBufferIsDetached,ArrayBufferPrototype$2=ArrayBuffer.prototype;DESCRIPTORS$E&&!("detached"in ArrayBufferPrototype$2)&&defineBuiltInAccessor$j(ArrayBufferPrototype$2,"detached",{configurable:!0,get:function(){return isDetached$1(this)}});var IS_NODE$5=engineIsNode,tryNodeRequire$2=function(e){try{if(IS_NODE$5)return Function('return require("'+e+'")')()}catch{}},engineIsDeno=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",IS_DENO$2=engineIsDeno,IS_NODE$4=engineIsNode,engineIsBrowser=!IS_DENO$2&&!IS_NODE$4&&typeof window=="object"&&typeof document=="object",global$R=global$18,fails$18=fails$1z,V8$1=engineV8Version,IS_BROWSER$1=engineIsBrowser,IS_DENO$1=engineIsDeno,IS_NODE$3=engineIsNode,structuredClone$2=global$R.structuredClone,structuredCloneProperTransfer=!!structuredClone$2&&!fails$18(function(){if(IS_DENO$1&&V8$1>92||IS_NODE$3&&V8$1>94||IS_BROWSER$1&&V8$1>97)return!1;var e=new ArrayBuffer(8),t=structuredClone$2(e,{transfer:[e]});return e.byteLength!==0||t.byteLength!==8}),global$Q=global$18,tryNodeRequire$1=tryNodeRequire$2,PROPER_STRUCTURED_CLONE_TRANSFER$2=structuredCloneProperTransfer,structuredClone$1=global$Q.structuredClone,$ArrayBuffer=global$Q.ArrayBuffer,$MessageChannel=global$Q.MessageChannel,detach=!1,WorkerThreads,channel$1,buffer$1,$detach;if(PROPER_STRUCTURED_CLONE_TRANSFER$2)detach=function(e){structuredClone$1(e,{transfer:[e]})};else if($ArrayBuffer)try{$MessageChannel||(WorkerThreads=tryNodeRequire$1("worker_threads"),WorkerThreads&&($MessageChannel=WorkerThreads.MessageChannel)),$MessageChannel&&(channel$1=new $MessageChannel,buffer$1=new $ArrayBuffer(2),$detach=function(e){channel$1.port1.postMessage(null,[e])},buffer$1.byteLength===2&&($detach(buffer$1),buffer$1.byteLength===0&&(detach=$detach)))}catch{}var detachTransferable$2=detach,global$P=global$18,uncurryThis$1w=functionUncurryThis,uncurryThisAccessor$1=functionUncurryThisAccessor,toIndex$3=toIndex$5,isDetached=arrayBufferIsDetached,arrayBufferByteLength=arrayBufferByteLength$2,detachTransferable$1=detachTransferable$2,PROPER_STRUCTURED_CLONE_TRANSFER$1=structuredCloneProperTransfer,structuredClone=global$P.structuredClone,ArrayBuffer$3=global$P.ArrayBuffer,DataView$2=global$P.DataView,TypeError$6=global$P.TypeError,min$8=Math.min,ArrayBufferPrototype$1=ArrayBuffer$3.prototype,DataViewPrototype=DataView$2.prototype,slice$6=uncurryThis$1w(ArrayBufferPrototype$1.slice),isResizable=uncurryThisAccessor$1(ArrayBufferPrototype$1,"resizable","get"),maxByteLength=uncurryThisAccessor$1(ArrayBufferPrototype$1,"maxByteLength","get"),getInt8=uncurryThis$1w(DataViewPrototype.getInt8),setInt8=uncurryThis$1w(DataViewPrototype.setInt8),arrayBufferTransfer=(PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1)&&function(e,t,r){var n=arrayBufferByteLength(e),a=t===void 0?n:toIndex$3(t),o=!isResizable||!isResizable(e),u;if(isDetached(e))throw new TypeError$6("ArrayBuffer is detached");if(PROPER_STRUCTURED_CLONE_TRANSFER$1&&(e=structuredClone(e,{transfer:[e]}),n===a&&(r||o)))return e;if(n>=a&&(!r||o))u=slice$6(e,0,a);else{var p=r&&!o&&maxByteLength?{maxByteLength:maxByteLength(e)}:void 0;u=new ArrayBuffer$3(a,p);for(var b=new DataView$2(e),m=new DataView$2(u),y=min$8(a,n),A=0;A<y;A++)setInt8(m,A,getInt8(b,A))}return PROPER_STRUCTURED_CLONE_TRANSFER$1||detachTransferable$1(e),u},$$4N=_export,$transfer$1=arrayBufferTransfer;$transfer$1&&$$4N({target:"ArrayBuffer",proto:!0},{transfer:function(){return $transfer$1(this,arguments.length?arguments[0]:void 0,!0)}});var $$4M=_export,$transfer=arrayBufferTransfer;$transfer&&$$4M({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return $transfer(this,arguments.length?arguments[0]:void 0,!1)}});var $$4L=_export,uncurryThis$1v=functionUncurryThis,fails$17=fails$1z,FORCED$t=fails$17(function(){return new Date(16e11).getYear()!==120}),getFullYear=uncurryThis$1v(Date.prototype.getFullYear);$$4L({target:"Date",proto:!0,forced:FORCED$t},{getYear:function(){return getFullYear(this)-1900}});var $$4K=_export,uncurryThis$1u=functionUncurryThis,$Date=Date,thisTimeValue$4=uncurryThis$1u($Date.prototype.getTime);$$4K({target:"Date",stat:!0},{now:function(){return thisTimeValue$4(new $Date)}});var $$4J=_export,uncurryThis$1t=functionUncurryThis,toIntegerOrInfinity$e=toIntegerOrInfinity$p,DatePrototype$3=Date.prototype,thisTimeValue$3=uncurryThis$1t(DatePrototype$3.getTime),setFullYear=uncurryThis$1t(DatePrototype$3.setFullYear);$$4J({target:"Date",proto:!0},{setYear:function(e){thisTimeValue$3(this);var t=toIntegerOrInfinity$e(e),r=t>=0&&t<=99?t+1900:t;return setFullYear(this,r)}});var $$4I=_export;$$4I({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString});var toIntegerOrInfinity$d=toIntegerOrInfinity$p,toString$E=toString$K,requireObjectCoercible$m=requireObjectCoercible$q,$RangeError$d=RangeError,stringRepeat=function(e){var t=toString$E(requireObjectCoercible$m(this)),r="",n=toIntegerOrInfinity$d(e);if(n<0||n===1/0)throw new $RangeError$d("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))n&1&&(r+=t);return r},uncurryThis$1s=functionUncurryThis,toLength$8=toLength$d,toString$D=toString$K,$repeat$2=stringRepeat,requireObjectCoercible$l=requireObjectCoercible$q,repeat$3=uncurryThis$1s($repeat$2),stringSlice$k=uncurryThis$1s("".slice),ceil=Math.ceil,createMethod$4=function(e){return function(t,r,n){var a=toString$D(requireObjectCoercible$l(t)),o=toLength$8(r),u=a.length,p=n===void 0?" ":toString$D(n),b,m;return o<=u||p===""?a:(b=o-u,m=repeat$3(p,ceil(b/p.length)),m.length>b&&(m=stringSlice$k(m,0,b)),e?a+m:m+a)}},stringPad={start:createMethod$4(!1),end:createMethod$4(!0)},uncurryThis$1r=functionUncurryThis,fails$16=fails$1z,padStart$1=stringPad.start,$RangeError$c=RangeError,$isFinite$1=isFinite,abs$7=Math.abs,DatePrototype$2=Date.prototype,nativeDateToISOString=DatePrototype$2.toISOString,thisTimeValue$2=uncurryThis$1r(DatePrototype$2.getTime),getUTCDate=uncurryThis$1r(DatePrototype$2.getUTCDate),getUTCFullYear=uncurryThis$1r(DatePrototype$2.getUTCFullYear),getUTCHours=uncurryThis$1r(DatePrototype$2.getUTCHours),getUTCMilliseconds=uncurryThis$1r(DatePrototype$2.getUTCMilliseconds),getUTCMinutes=uncurryThis$1r(DatePrototype$2.getUTCMinutes),getUTCMonth=uncurryThis$1r(DatePrototype$2.getUTCMonth),getUTCSeconds=uncurryThis$1r(DatePrototype$2.getUTCSeconds),dateToIsoString=fails$16(function(){return nativeDateToISOString.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!fails$16(function(){nativeDateToISOString.call(new Date(NaN))})?function(){if(!$isFinite$1(thisTimeValue$2(this)))throw new $RangeError$c("Invalid time value");var e=this,t=getUTCFullYear(e),r=getUTCMilliseconds(e),n=t<0?"-":t>9999?"+":"";return n+padStart$1(abs$7(t),n?6:4,0)+"-"+padStart$1(getUTCMonth(e)+1,2,0)+"-"+padStart$1(getUTCDate(e),2,0)+"T"+padStart$1(getUTCHours(e),2,0)+":"+padStart$1(getUTCMinutes(e),2,0)+":"+padStart$1(getUTCSeconds(e),2,0)+"."+padStart$1(r,3,0)+"Z"}:nativeDateToISOString,$$4H=_export,toISOString=dateToIsoString;$$4H({target:"Date",proto:!0,forced:Date.prototype.toISOString!==toISOString},{toISOString});var $$4G=_export,fails$15=fails$1z,toObject$m=toObject$E,toPrimitive$2=toPrimitive$4,FORCED$s=fails$15(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});$$4G({target:"Date",proto:!0,arity:1,forced:FORCED$s},{toJSON:function(e){var t=toObject$m(this),r=toPrimitive$2(t,"number");return typeof r=="number"&&!isFinite(r)?null:t.toISOString()}});var anObject$14=anObject$1h,ordinaryToPrimitive=ordinaryToPrimitive$2,$TypeError$z=TypeError,dateToPrimitive$1=function(e){if(anObject$14(this),e==="string"||e==="default")e="string";else if(e!=="number")throw new $TypeError$z("Incorrect hint");return ordinaryToPrimitive(this,e)},hasOwn$q=hasOwnProperty_1,defineBuiltIn$l=defineBuiltIn$u,dateToPrimitive=dateToPrimitive$1,wellKnownSymbol$w=wellKnownSymbol$S,TO_PRIMITIVE=wellKnownSymbol$w("toPrimitive"),DatePrototype$1=Date.prototype;hasOwn$q(DatePrototype$1,TO_PRIMITIVE)||defineBuiltIn$l(DatePrototype$1,TO_PRIMITIVE,dateToPrimitive);var uncurryThis$1q=functionUncurryThis,defineBuiltIn$k=defineBuiltIn$u,DatePrototype=Date.prototype,INVALID_DATE="Invalid Date",TO_STRING$1="toString",nativeDateToString=uncurryThis$1q(DatePrototype[TO_STRING$1]),thisTimeValue$1=uncurryThis$1q(DatePrototype.getTime);String(new Date(NaN))!==INVALID_DATE&&defineBuiltIn$k(DatePrototype,TO_STRING$1,function(){var e=thisTimeValue$1(this);return e===e?nativeDateToString(this):INVALID_DATE});var $$4F=_export,uncurryThis$1p=functionUncurryThis,toString$C=toString$K,charAt$l=uncurryThis$1p("".charAt),charCodeAt$8=uncurryThis$1p("".charCodeAt),exec$e=uncurryThis$1p(/./.exec),numberToString$4=uncurryThis$1p(1 .toString),toUpperCase=uncurryThis$1p("".toUpperCase),raw=/[\w*+\-./@]/,hex$1=function(e,t){for(var r=numberToString$4(e,16);r.length<t;)r="0"+r;return r};$$4F({global:!0},{escape:function(e){for(var t=toString$C(e),r="",n=t.length,a=0,o,u;a<n;)o=charAt$l(t,a++),exec$e(raw,o)?r+=o:(u=charCodeAt$8(o,0),u<256?r+="%"+hex$1(u,2):r+="%u"+toUpperCase(hex$1(u,4)));return r}});var uncurryThis$1o=functionUncurryThis,aCallable$E=aCallable$N,isObject$z=isObject$O,hasOwn$p=hasOwnProperty_1,arraySlice$5=arraySlice$a,NATIVE_BIND=functionBindNative,$Function$1=Function,concat$4=uncurryThis$1o([].concat),join$8=uncurryThis$1o([].join),factories={},construct=function(e,t,r){if(!hasOwn$p(factories,t)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";factories[t]=$Function$1("C,a","return new C("+join$8(n,",")+")")}return factories[t](e,r)},functionBind$1=NATIVE_BIND?$Function$1.bind:function(e){var t=aCallable$E(this),r=t.prototype,n=arraySlice$5(arguments,1),a=function(){var o=concat$4(n,arraySlice$5(arguments));return this instanceof a?construct(t,o.length,o):t.apply(e,o)};return isObject$z(r)&&(a.prototype=r),a},$$4E=_export,bind$r=functionBind$1;$$4E({target:"Function",proto:!0,forced:Function.bind!==bind$r},{bind:bind$r});var isCallable$p=isCallable$K,isObject$y=isObject$O,definePropertyModule$5=objectDefineProperty,isPrototypeOf$7=objectIsPrototypeOf,wellKnownSymbol$v=wellKnownSymbol$S,makeBuiltIn$1=makeBuiltInExports,HAS_INSTANCE=wellKnownSymbol$v("hasInstance"),FunctionPrototype$2=Function.prototype;HAS_INSTANCE in FunctionPrototype$2||definePropertyModule$5.f(FunctionPrototype$2,HAS_INSTANCE,{value:makeBuiltIn$1(function(e){if(!isCallable$p(this)||!isObject$y(e))return!1;var t=this.prototype;return isObject$y(t)?isPrototypeOf$7(t,e):e instanceof this},HAS_INSTANCE)});var DESCRIPTORS$D=descriptors,FUNCTION_NAME_EXISTS=functionName.EXISTS,uncurryThis$1n=functionUncurryThis,defineBuiltInAccessor$i=defineBuiltInAccessor$p,FunctionPrototype$1=Function.prototype,functionToString=uncurryThis$1n(FunctionPrototype$1.toString),nameRE=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,regExpExec$5=uncurryThis$1n(nameRE.exec),NAME="name";DESCRIPTORS$D&&!FUNCTION_NAME_EXISTS&&defineBuiltInAccessor$i(FunctionPrototype$1,NAME,{configurable:!0,get:function(){try{return regExpExec$5(nameRE,functionToString(this))[1]}catch{return""}}});var $$4D=_export,global$O=global$18;$$4D({global:!0,forced:global$O.globalThis!==global$O},{globalThis:global$O});var global$N=global$18,setToStringTag$8=setToStringTag$e;setToStringTag$8(global$N.JSON,"JSON",!0);var internalMetadata={exports:{}},fails$14=fails$1z,arrayBufferNonExtensible=fails$14(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),fails$13=fails$1z,isObject$x=isObject$O,classof$g=classofRaw$2,ARRAY_BUFFER_NON_EXTENSIBLE$2=arrayBufferNonExtensible,$isExtensible$2=Object.isExtensible,FAILS_ON_PRIMITIVES$6=fails$13(function(){$isExtensible$2(1)}),objectIsExtensible=FAILS_ON_PRIMITIVES$6||ARRAY_BUFFER_NON_EXTENSIBLE$2?function(e){return!isObject$x(e)||ARRAY_BUFFER_NON_EXTENSIBLE$2&&classof$g(e)==="ArrayBuffer"?!1:$isExtensible$2?$isExtensible$2(e):!0}:$isExtensible$2,fails$12=fails$1z,freezing=!fails$12(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$4C=_export,uncurryThis$1m=functionUncurryThis,hiddenKeys=hiddenKeys$6,isObject$w=isObject$O,hasOwn$o=hasOwnProperty_1,defineProperty$a=objectDefineProperty.f,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertyNamesExternalModule=objectGetOwnPropertyNamesExternal,isExtensible$1=objectIsExtensible,uid$2=uid$7,FREEZING$7=freezing,REQUIRED=!1,METADATA$1=uid$2("meta"),id$1=0,setMetadata=function(e){defineProperty$a(e,METADATA$1,{value:{objectID:"O"+id$1++,weakData:{}}})},fastKey$1=function(e,t){if(!isObject$w(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!hasOwn$o(e,METADATA$1)){if(!isExtensible$1(e))return"F";if(!t)return"E";setMetadata(e)}return e[METADATA$1].objectID},getWeakData$1=function(e,t){if(!hasOwn$o(e,METADATA$1)){if(!isExtensible$1(e))return!0;if(!t)return!1;setMetadata(e)}return e[METADATA$1].weakData},onFreeze$3=function(e){return FREEZING$7&&REQUIRED&&isExtensible$1(e)&&!hasOwn$o(e,METADATA$1)&&setMetadata(e),e},enable=function(){meta.enable=function(){},REQUIRED=!0;var e=getOwnPropertyNamesModule.f,t=uncurryThis$1m([].splice),r={};r[METADATA$1]=1,e(r).length&&(getOwnPropertyNamesModule.f=function(n){for(var a=e(n),o=0,u=a.length;o<u;o++)if(a[o]===METADATA$1){t(a,o,1);break}return a},$$4C({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},meta=internalMetadata.exports={enable,fastKey:fastKey$1,getWeakData:getWeakData$1,onFreeze:onFreeze$3};hiddenKeys[METADATA$1]=!0;var internalMetadataExports=internalMetadata.exports,$$4B=_export,global$M=global$18,uncurryThis$1l=functionUncurryThis,isForced$3=isForced_1,defineBuiltIn$j=defineBuiltIn$u,InternalMetadataModule$1=internalMetadataExports,iterate$F=iterate$H,anInstance$d=anInstance$f,isCallable$o=isCallable$K,isNullOrUndefined$e=isNullOrUndefined$j,isObject$v=isObject$O,fails$11=fails$1z,checkCorrectnessOfIteration$2=checkCorrectnessOfIteration$4,setToStringTag$7=setToStringTag$e,inheritIfRequired$4=inheritIfRequired$7,collection$4=function(e,t,r){var n=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,o=n?"set":"add",u=global$M[e],p=u&&u.prototype,b=u,m={},y=function(k){var N=uncurryThis$1l(p[k]);defineBuiltIn$j(p,k,k==="add"?function(D){return N(this,D===0?0:D),this}:k==="delete"?function(D){return a&&!isObject$v(D)?!1:N(this,D===0?0:D)}:k==="get"?function(D){return a&&!isObject$v(D)?void 0:N(this,D===0?0:D)}:k==="has"?function(D){return a&&!isObject$v(D)?!1:N(this,D===0?0:D)}:function(D,L){return N(this,D===0?0:D,L),this})},A=isForced$3(e,!isCallable$o(u)||!(a||p.forEach&&!fails$11(function(){new u().entries().next()})));if(A)b=r.getConstructor(t,e,n,o),InternalMetadataModule$1.enable();else if(isForced$3(e,!0)){var I=new b,M=I[o](a?{}:-0,1)!==I,C=fails$11(function(){I.has(1)}),P=checkCorrectnessOfIteration$2(function(k){new u(k)}),B=!a&&fails$11(function(){for(var k=new u,N=5;N--;)k[o](N,N);return!k.has(-0)});P||(b=t(function(k,N){anInstance$d(k,p);var D=inheritIfRequired$4(new u,k,b);return isNullOrUndefined$e(N)||iterate$F(N,D[o],{that:D,AS_ENTRIES:n}),D}),b.prototype=p,p.constructor=b),(C||B)&&(y("delete"),y("has"),n&&y("get")),(B||M)&&y(o),a&&p.clear&&delete p.clear}return m[e]=b,$$4B({global:!0,constructor:!0,forced:b!==u},m),setToStringTag$7(b,e),a||r.setStrong(b,e,n),b},create$g=objectCreate$1,defineBuiltInAccessor$h=defineBuiltInAccessor$p,defineBuiltIns$9=defineBuiltIns$b,bind$q=functionBindContext,anInstance$c=anInstance$f,isNullOrUndefined$d=isNullOrUndefined$j,iterate$E=iterate$H,defineIterator$1=iteratorDefine,createIterResultObject$f=createIterResultObject$h,setSpecies$4=setSpecies$7,DESCRIPTORS$C=descriptors,fastKey=internalMetadataExports.fastKey,InternalStateModule$i=internalState,setInternalState$j=InternalStateModule$i.set,internalStateGetterFor$1=InternalStateModule$i.getterFor,collectionStrong$2={getConstructor:function(e,t,r,n){var a=e(function(m,y){anInstance$c(m,o),setInternalState$j(m,{type:t,index:create$g(null),first:void 0,last:void 0,size:0}),DESCRIPTORS$C||(m.size=0),isNullOrUndefined$d(y)||iterate$E(y,m[n],{that:m,AS_ENTRIES:r})}),o=a.prototype,u=internalStateGetterFor$1(t),p=function(m,y,A){var I=u(m),M=b(m,y),C,P;return M?M.value=A:(I.last=M={index:P=fastKey(y,!0),key:y,value:A,previous:C=I.last,next:void 0,removed:!1},I.first||(I.first=M),C&&(C.next=M),DESCRIPTORS$C?I.size++:m.size++,P!=="F"&&(I.index[P]=M)),m},b=function(m,y){var A=u(m),I=fastKey(y),M;if(I!=="F")return A.index[I];for(M=A.first;M;M=M.next)if(M.key===y)return M};return defineBuiltIns$9(o,{clear:function(){for(var m=this,y=u(m),A=y.first;A;)A.removed=!0,A.previous&&(A.previous=A.previous.next=void 0),A=A.next;y.first=y.last=void 0,y.index=create$g(null),DESCRIPTORS$C?y.size=0:m.size=0},delete:function(m){var y=this,A=u(y),I=b(y,m);if(I){var M=I.next,C=I.previous;delete A.index[I.index],I.removed=!0,C&&(C.next=M),M&&(M.previous=C),A.first===I&&(A.first=M),A.last===I&&(A.last=C),DESCRIPTORS$C?A.size--:y.size--}return!!I},forEach:function(m){for(var y=u(this),A=bind$q(m,arguments.length>1?arguments[1]:void 0),I;I=I?I.next:y.first;)for(A(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(m){return!!b(this,m)}}),defineBuiltIns$9(o,r?{get:function(m){var y=b(this,m);return y&&y.value},set:function(m,y){return p(this,m===0?0:m,y)}}:{add:function(m){return p(this,m=m===0?0:m,m)}}),DESCRIPTORS$C&&defineBuiltInAccessor$h(o,"size",{configurable:!0,get:function(){return u(this).size}}),a},setStrong:function(e,t,r){var n=t+" Iterator",a=internalStateGetterFor$1(t),o=internalStateGetterFor$1(n);defineIterator$1(e,t,function(u,p){setInternalState$j(this,{type:n,target:u,state:a(u),kind:p,last:void 0})},function(){for(var u=o(this),p=u.kind,b=u.last;b&&b.removed;)b=b.previous;return!u.target||!(u.last=b=b?b.next:u.state.first)?(u.target=void 0,createIterResultObject$f(void 0,!0)):createIterResultObject$f(p==="keys"?b.key:p==="values"?b.value:[b.key,b.value],!1)},r?"entries":"values",!r,!0),setSpecies$4(t)}},collection$3=collection$4,collectionStrong$1=collectionStrong$2;collection$3("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1);var uncurryThis$1k=functionUncurryThis,MapPrototype$1=Map.prototype,mapHelpers={Map,set:uncurryThis$1k(MapPrototype$1.set),get:uncurryThis$1k(MapPrototype$1.get),has:uncurryThis$1k(MapPrototype$1.has),remove:uncurryThis$1k(MapPrototype$1.delete),proto:MapPrototype$1},$$4A=_export,uncurryThis$1j=functionUncurryThis,aCallable$D=aCallable$N,requireObjectCoercible$k=requireObjectCoercible$q,iterate$D=iterate$H,MapHelpers$b=mapHelpers,fails$10=fails$1z,Map$b=MapHelpers$b.Map,has$c=MapHelpers$b.has,get$4=MapHelpers$b.get,set$9=MapHelpers$b.set,push$n=uncurryThis$1j([].push),DOES_NOT_WORK_WITH_PRIMITIVES$1=fails$10(function(){return Map$b.groupBy("ab",function(e){return e}).get("a").length!==1});$$4A({target:"Map",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES$1},{groupBy:function(e,t){requireObjectCoercible$k(e),aCallable$D(t);var r=new Map$b,n=0;return iterate$D(e,function(a){var o=t(a,n++);has$c(r,o)?push$n(get$4(r,o),a):set$9(r,o,[a])}),r}});var log$7=Math.log,mathLog1p=Math.log1p||function(e){var t=+e;return t>-1e-8&&t<1e-8?t-t*t/2:log$7(1+t)},$$4z=_export,log1p$1=mathLog1p,$acosh=Math.acosh,log$6=Math.log,sqrt$2=Math.sqrt,LN2$1=Math.LN2,FORCED$r=!$acosh||Math.floor($acosh(Number.MAX_VALUE))!==710||$acosh(1/0)!==1/0;$$4z({target:"Math",stat:!0,forced:FORCED$r},{acosh:function(e){var t=+e;return t<1?NaN:t>9490626562425156e-8?log$6(t)+LN2$1:log1p$1(t-1+sqrt$2(t-1)*sqrt$2(t+1))}});var $$4y=_export,$asinh=Math.asinh,log$5=Math.log,sqrt$1=Math.sqrt;function asinh(e){var t=+e;return!isFinite(t)||t===0?t:t<0?-asinh(-t):log$5(t+sqrt$1(t*t+1))}var FORCED$q=!($asinh&&1/$asinh(0)>0);$$4y({target:"Math",stat:!0,forced:FORCED$q},{asinh});var $$4x=_export,$atanh=Math.atanh,log$4=Math.log,FORCED$p=!($atanh&&1/$atanh(-0)<0);$$4x({target:"Math",stat:!0,forced:FORCED$p},{atanh:function(e){var t=+e;return t===0?t:log$4((1+t)/(1-t))/2}});var $$4w=_export,sign$7=mathSign,abs$6=Math.abs,pow$6=Math.pow;$$4w({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return sign$7(t)*pow$6(abs$6(t),1/3)}});var $$4v=_export,floor$7=Math.floor,log$3=Math.log,LOG2E=Math.LOG2E;$$4v({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-floor$7(log$3(t+.5)*LOG2E):32}});var $expm1=Math.expm1,exp$2=Math.exp,mathExpm1=!$expm1||$expm1(10)>22025.46579480672||$expm1(10)<22025.46579480672||$expm1(-2e-17)!==-2e-17?function(e){var t=+e;return t===0?t:t>-1e-6&&t<1e-6?t+t*t/2:exp$2(t)-1}:$expm1,$$4u=_export,expm1$3=mathExpm1,$cosh=Math.cosh,abs$5=Math.abs,E$1=Math.E,FORCED$o=!$cosh||$cosh(710)===1/0;$$4u({target:"Math",stat:!0,forced:FORCED$o},{cosh:function(e){var t=expm1$3(abs$5(e)-1)+1;return(t+1/(t*E$1*E$1))*(E$1/2)}});var $$4t=_export,expm1$2=mathExpm1;$$4t({target:"Math",stat:!0,forced:expm1$2!==Math.expm1},{expm1:expm1$2});var $$4s=_export,fround$1=mathFround;$$4s({target:"Math",stat:!0},{fround:fround$1});var $$4r=_export,$hypot=Math.hypot,abs$4=Math.abs,sqrt=Math.sqrt,FORCED$n=!!$hypot&&$hypot(1/0,NaN)!==1/0;$$4r({target:"Math",stat:!0,arity:2,forced:FORCED$n},{hypot:function(e,t){for(var r=0,n=0,a=arguments.length,o=0,u,p;n<a;)u=abs$4(arguments[n++]),o<u?(p=o/u,r=r*p*p+1,o=u):u>0?(p=u/o,r+=p*p):r+=u;return o===1/0?1/0:o*sqrt(r)}});var $$4q=_export,fails$$=fails$1z,$imul=Math.imul,FORCED$m=fails$$(function(){return $imul(4294967295,5)!==-5||$imul.length!==2});$$4q({target:"Math",stat:!0,forced:FORCED$m},{imul:function(e,t){var r=65535,n=+e,a=+t,o=r&n,u=r&a;return 0|o*u+((r&n>>>16)*u+o*(r&a>>>16)<<16>>>0)}});var log$2=Math.log,LOG10E=Math.LOG10E,mathLog10=Math.log10||function(e){return log$2(e)*LOG10E},$$4p=_export,log10$1=mathLog10;$$4p({target:"Math",stat:!0},{log10:log10$1});var $$4o=_export,log1p=mathLog1p;$$4o({target:"Math",stat:!0},{log1p});var $$4n=_export,log$1=Math.log,LN2=Math.LN2;$$4n({target:"Math",stat:!0},{log2:function(e){return log$1(e)/LN2}});var $$4m=_export,sign$6=mathSign;$$4m({target:"Math",stat:!0},{sign:sign$6});var $$4l=_export,fails$_=fails$1z,expm1$1=mathExpm1,abs$3=Math.abs,exp$1=Math.exp,E=Math.E,FORCED$l=fails$_(function(){return Math.sinh(-2e-17)!==-2e-17});$$4l({target:"Math",stat:!0,forced:FORCED$l},{sinh:function(e){var t=+e;return abs$3(t)<1?(expm1$1(t)-expm1$1(-t))/2:(exp$1(t-1)-exp$1(-t-1))*(E/2)}});var $$4k=_export,expm1=mathExpm1,exp=Math.exp;$$4k({target:"Math",stat:!0},{tanh:function(e){var t=+e,r=expm1(t),n=expm1(-t);return r===1/0?1:n===1/0?-1:(r-n)/(exp(t)+exp(-t))}});var setToStringTag$6=setToStringTag$e;setToStringTag$6(Math,"Math",!0);var $$4j=_export,trunc=mathTrunc;$$4j({target:"Math",stat:!0},{trunc});var uncurryThis$1i=functionUncurryThis,thisNumberValue$5=uncurryThis$1i(1 .valueOf),whitespaces$6=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,uncurryThis$1h=functionUncurryThis,requireObjectCoercible$j=requireObjectCoercible$q,toString$B=toString$K,whitespaces$5=whitespaces$6,replace$a=uncurryThis$1h("".replace),ltrim=RegExp("^["+whitespaces$5+"]+"),rtrim=RegExp("(^|[^"+whitespaces$5+"])["+whitespaces$5+"]+$"),createMethod$3=function(e){return function(t){var r=toString$B(requireObjectCoercible$j(t));return e&1&&(r=replace$a(r,ltrim,"")),e&2&&(r=replace$a(r,rtrim,"$1")),r}},stringTrim={start:createMethod$3(1),end:createMethod$3(2),trim:createMethod$3(3)},$$4i=_export,IS_PURE$i=isPure,DESCRIPTORS$B=descriptors,global$L=global$18,path=path$2,uncurryThis$1g=functionUncurryThis,isForced$2=isForced_1,hasOwn$n=hasOwnProperty_1,inheritIfRequired$3=inheritIfRequired$7,isPrototypeOf$6=objectIsPrototypeOf,isSymbol$3=isSymbol$8,toPrimitive$1=toPrimitive$4,fails$Z=fails$1z,getOwnPropertyNames$4=objectGetOwnPropertyNames.f,getOwnPropertyDescriptor$a=objectGetOwnPropertyDescriptor.f,defineProperty$9=objectDefineProperty.f,thisNumberValue$4=thisNumberValue$5,trim$2=stringTrim.trim,NUMBER="Number",NativeNumber=global$L[NUMBER];path[NUMBER];var NumberPrototype=NativeNumber.prototype,TypeError$5=global$L.TypeError,stringSlice$j=uncurryThis$1g("".slice),charCodeAt$7=uncurryThis$1g("".charCodeAt),toNumeric=function(e){var t=toPrimitive$1(e,"number");return typeof t=="bigint"?t:toNumber$1(t)},toNumber$1=function(e){var t=toPrimitive$1(e,"number"),r,n,a,o,u,p,b,m;if(isSymbol$3(t))throw new TypeError$5("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){if(t=trim$2(t),r=charCodeAt$7(t,0),r===43||r===45){if(n=charCodeAt$7(t,2),n===88||n===120)return NaN}else if(r===48){switch(charCodeAt$7(t,1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+t}for(u=stringSlice$j(t,2),p=u.length,b=0;b<p;b++)if(m=charCodeAt$7(u,b),m<48||m>o)return NaN;return parseInt(u,a)}}return+t},FORCED$k=isForced$2(NUMBER,!NativeNumber(" 0o1")||!NativeNumber("0b1")||NativeNumber("+0x1")),calledWithNew=function(e){return isPrototypeOf$6(NumberPrototype,e)&&fails$Z(function(){thisNumberValue$4(e)})},NumberWrapper=function(e){var t=arguments.length<1?0:NativeNumber(toNumeric(e));return calledWithNew(this)?inheritIfRequired$3(Object(t),this,NumberWrapper):t};NumberWrapper.prototype=NumberPrototype,FORCED$k&&!IS_PURE$i&&(NumberPrototype.constructor=NumberWrapper),$$4i({global:!0,constructor:!0,wrap:!0,forced:FORCED$k},{Number:NumberWrapper});var copyConstructorProperties$1=function(e,t){for(var r=DESCRIPTORS$B?getOwnPropertyNames$4(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,a;r.length>n;n++)hasOwn$n(t,a=r[n])&&!hasOwn$n(e,a)&&defineProperty$9(e,a,getOwnPropertyDescriptor$a(t,a))};(FORCED$k||IS_PURE$i)&&copyConstructorProperties$1(path[NUMBER],NativeNumber);var $$4h=_export;$$4h({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var global$K=global$18,globalIsFinite=global$K.isFinite,numberIsFinite$2=Number.isFinite||function(e){return typeof e=="number"&&globalIsFinite(e)},$$4g=_export,numberIsFinite$1=numberIsFinite$2;$$4g({target:"Number",stat:!0},{isFinite:numberIsFinite$1});var isObject$u=isObject$O,floor$6=Math.floor,isIntegralNumber$3=Number.isInteger||function(e){return!isObject$u(e)&&isFinite(e)&&floor$6(e)===e},$$4f=_export,isIntegralNumber$2=isIntegralNumber$3;$$4f({target:"Number",stat:!0},{isInteger:isIntegralNumber$2});var $$4e=_export;$$4e({target:"Number",stat:!0},{isNaN:function(e){return e!==e}});var $$4d=_export,isIntegralNumber$1=isIntegralNumber$3,abs$2=Math.abs;$$4d({target:"Number",stat:!0},{isSafeInteger:function(e){return isIntegralNumber$1(e)&&abs$2(e)<=9007199254740991}});var $$4c=_export;$$4c({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var $$4b=_export;$$4b({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var global$J=global$18,fails$Y=fails$1z,uncurryThis$1f=functionUncurryThis,toString$A=toString$K,trim$1=stringTrim.trim,whitespaces$4=whitespaces$6,charAt$k=uncurryThis$1f("".charAt),$parseFloat$1=global$J.parseFloat,Symbol$6=global$J.Symbol,ITERATOR$7=Symbol$6&&Symbol$6.iterator,FORCED$j=1/$parseFloat$1(whitespaces$4+"-0")!==-1/0||ITERATOR$7&&!fails$Y(function(){$parseFloat$1(Object(ITERATOR$7))}),numberParseFloat=FORCED$j?function(e){var t=trim$1(toString$A(e)),r=$parseFloat$1(t);return r===0&&charAt$k(t,0)==="-"?-0:r}:$parseFloat$1,$$4a=_export,parseFloat$1=numberParseFloat;$$4a({target:"Number",stat:!0,forced:Number.parseFloat!==parseFloat$1},{parseFloat:parseFloat$1});var global$I=global$18,fails$X=fails$1z,uncurryThis$1e=functionUncurryThis,toString$z=toString$K,trim=stringTrim.trim,whitespaces$3=whitespaces$6,$parseInt$3=global$I.parseInt,Symbol$5=global$I.Symbol,ITERATOR$6=Symbol$5&&Symbol$5.iterator,hex=/^[+-]?0x/i,exec$d=uncurryThis$1e(hex.exec),FORCED$i=$parseInt$3(whitespaces$3+"08")!==8||$parseInt$3(whitespaces$3+"0x16")!==22||ITERATOR$6&&!fails$X(function(){$parseInt$3(Object(ITERATOR$6))}),numberParseInt=FORCED$i?function(e,t){var r=trim(toString$z(e));return $parseInt$3(r,t>>>0||(exec$d(hex,r)?16:10))}:$parseInt$3,$$49=_export,parseInt$3=numberParseInt;$$49({target:"Number",stat:!0,forced:Number.parseInt!==parseInt$3},{parseInt:parseInt$3});var $$48=_export,uncurryThis$1d=functionUncurryThis,toIntegerOrInfinity$c=toIntegerOrInfinity$p,thisNumberValue$3=thisNumberValue$5,$repeat$1=stringRepeat,log10=mathLog10,fails$W=fails$1z,$RangeError$b=RangeError,$String$3=String,$isFinite=isFinite,abs$1=Math.abs,floor$5=Math.floor,pow$5=Math.pow,round$1=Math.round,nativeToExponential=uncurryThis$1d(1 .toExponential),repeat$2=uncurryThis$1d($repeat$1),stringSlice$i=uncurryThis$1d("".slice),ROUNDS_PROPERLY=nativeToExponential(-69e-12,4)==="-6.9000e-11"&&nativeToExponential(1.255,2)==="1.25e+0"&&nativeToExponential(12345,3)==="1.235e+4"&&nativeToExponential(25,0)==="3e+1",throwsOnInfinityFraction=function(){return fails$W(function(){nativeToExponential(1,1/0)})&&fails$W(function(){nativeToExponential(1,-1/0)})},properNonFiniteThisCheck=function(){return!fails$W(function(){nativeToExponential(1/0,1/0),nativeToExponential(NaN,1/0)})},FORCED$h=!ROUNDS_PROPERLY||!throwsOnInfinityFraction()||!properNonFiniteThisCheck();$$48({target:"Number",proto:!0,forced:FORCED$h},{toExponential:function(e){var t=thisNumberValue$3(this);if(e===void 0)return nativeToExponential(t);var r=toIntegerOrInfinity$c(e);if(!$isFinite(t))return String(t);if(r<0||r>20)throw new $RangeError$b("Incorrect fraction digits");if(ROUNDS_PROPERLY)return nativeToExponential(t,r);var n="",a="",o=0,u="",p="";if(t<0&&(n="-",t=-t),t===0)o=0,a=repeat$2("0",r+1);else{var b=log10(t);o=floor$5(b);var m=0,y=pow$5(10,o-r);m=round$1(t/y),2*t>=(2*m+1)*y&&(m+=1),m>=pow$5(10,r+1)&&(m/=10,o+=1),a=$String$3(m)}return r!==0&&(a=stringSlice$i(a,0,1)+"."+stringSlice$i(a,1)),o===0?(u="+",p="0"):(u=o>0?"+":"-",p=$String$3(abs$1(o))),a+="e"+u+p,n+a}});var $$47=_export,uncurryThis$1c=functionUncurryThis,toIntegerOrInfinity$b=toIntegerOrInfinity$p,thisNumberValue$2=thisNumberValue$5,$repeat=stringRepeat,fails$V=fails$1z,$RangeError$a=RangeError,$String$2=String,floor$4=Math.floor,repeat$1=uncurryThis$1c($repeat),stringSlice$h=uncurryThis$1c("".slice),nativeToFixed=uncurryThis$1c(1 .toFixed),pow$4=function(e,t,r){return t===0?r:t%2===1?pow$4(e,t-1,r*e):pow$4(e*e,t/2,r)},log=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},multiply=function(e,t,r){for(var n=-1,a=r;++n<6;)a+=t*e[n],e[n]=a%1e7,a=floor$4(a/1e7)},divide=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=floor$4(n/t),n=n%t*1e7},dataToString=function(e){for(var t=6,r="";--t>=0;)if(r!==""||t===0||e[t]!==0){var n=$String$2(e[t]);r=r===""?n:r+repeat$1("0",7-n.length)+n}return r},FORCED$g=fails$V(function(){return nativeToFixed(8e-5,3)!=="0.000"||nativeToFixed(.9,0)!=="1"||nativeToFixed(1.255,2)!=="1.25"||nativeToFixed(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!fails$V(function(){nativeToFixed({})});$$47({target:"Number",proto:!0,forced:FORCED$g},{toFixed:function(e){var t=thisNumberValue$2(this),r=toIntegerOrInfinity$b(e),n=[0,0,0,0,0,0],a="",o="0",u,p,b,m;if(r<0||r>20)throw new $RangeError$a("Incorrect fraction digits");if(t!==t)return"NaN";if(t<=-1e21||t>=1e21)return $String$2(t);if(t<0&&(a="-",t=-t),t>1e-21)if(u=log(t*pow$4(2,69,1))-69,p=u<0?t*pow$4(2,-u,1):t/pow$4(2,u,1),p*=4503599627370496,u=52-u,u>0){for(multiply(n,0,p),b=r;b>=7;)multiply(n,1e7,0),b-=7;for(multiply(n,pow$4(10,b,1),0),b=u-1;b>=23;)divide(n,1<<23),b-=23;divide(n,1<<b),multiply(n,1,1),divide(n,2),o=dataToString(n)}else multiply(n,0,p),multiply(n,1<<-u,0),o=dataToString(n)+repeat$1("0",r);return r>0?(m=o.length,o=a+(m<=r?"0."+repeat$1("0",r-m)+o:stringSlice$h(o,0,m-r)+"."+stringSlice$h(o,m-r))):o=a+o,o}});var $$46=_export,uncurryThis$1b=functionUncurryThis,fails$U=fails$1z,thisNumberValue$1=thisNumberValue$5,nativeToPrecision=uncurryThis$1b(1 .toPrecision),FORCED$f=fails$U(function(){return nativeToPrecision(1,void 0)!=="1"})||!fails$U(function(){nativeToPrecision({})});$$46({target:"Number",proto:!0,forced:FORCED$f},{toPrecision:function(e){return e===void 0?nativeToPrecision(thisNumberValue$1(this)):nativeToPrecision(thisNumberValue$1(this),e)}});var DESCRIPTORS$A=descriptors,uncurryThis$1a=functionUncurryThis,call$18=functionCall,fails$T=fails$1z,objectKeys$3=objectKeys$6,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,propertyIsEnumerableModule=objectPropertyIsEnumerable,toObject$l=toObject$E,IndexedObject$2=indexedObject,$assign=Object.assign,defineProperty$8=Object.defineProperty,concat$3=uncurryThis$1a([].concat),objectAssign=!$assign||fails$T(function(){if(DESCRIPTORS$A&&$assign({b:1},$assign(defineProperty$8({},"a",{enumerable:!0,get:function(){defineProperty$8(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(a){t[a]=a}),$assign({},e)[r]!==7||objectKeys$3($assign({},t)).join("")!==n})?function(e,t){for(var r=toObject$l(e),n=arguments.length,a=1,o=getOwnPropertySymbolsModule.f,u=propertyIsEnumerableModule.f;n>a;)for(var p=IndexedObject$2(arguments[a++]),b=o?concat$3(objectKeys$3(p),o(p)):objectKeys$3(p),m=b.length,y=0,A;m>y;)A=b[y++],(!DESCRIPTORS$A||call$18(u,p,A))&&(r[A]=p[A]);return r}:$assign,$$45=_export,assign$1=objectAssign;$$45({target:"Object",stat:!0,arity:2,forced:Object.assign!==assign$1},{assign:assign$1});var $$44=_export,DESCRIPTORS$z=descriptors,create$f=objectCreate$1;$$44({target:"Object",stat:!0,sham:!DESCRIPTORS$z},{create:create$f});var global$H=global$18,fails$S=fails$1z,WEBKIT$1=engineWebkitVersion,objectPrototypeAccessorsForced=!fails$S(function(){if(!(WEBKIT$1&&WEBKIT$1<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete global$H[e]}}),$$43=_export,DESCRIPTORS$y=descriptors,FORCED$e=objectPrototypeAccessorsForced,aCallable$C=aCallable$N,toObject$k=toObject$E,definePropertyModule$4=objectDefineProperty;DESCRIPTORS$y&&$$43({target:"Object",proto:!0,forced:FORCED$e},{__defineGetter__:function(e,t){definePropertyModule$4.f(toObject$k(this),e,{get:aCallable$C(t),enumerable:!0,configurable:!0})}});var $$42=_export,DESCRIPTORS$x=descriptors,defineProperties=objectDefineProperties.f;$$42({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties,sham:!DESCRIPTORS$x},{defineProperties});var $$41=_export,DESCRIPTORS$w=descriptors,defineProperty$7=objectDefineProperty.f;$$41({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty$7,sham:!DESCRIPTORS$w},{defineProperty:defineProperty$7});var $$40=_export,DESCRIPTORS$v=descriptors,FORCED$d=objectPrototypeAccessorsForced,aCallable$B=aCallable$N,toObject$j=toObject$E,definePropertyModule$3=objectDefineProperty;DESCRIPTORS$v&&$$40({target:"Object",proto:!0,forced:FORCED$d},{__defineSetter__:function(e,t){definePropertyModule$3.f(toObject$j(this),e,{set:aCallable$B(t),enumerable:!0,configurable:!0})}});var DESCRIPTORS$u=descriptors,fails$R=fails$1z,uncurryThis$19=functionUncurryThis,objectGetPrototypeOf$1=objectGetPrototypeOf$2,objectKeys$2=objectKeys$6,toIndexedObject$5=toIndexedObject$k,$propertyIsEnumerable=objectPropertyIsEnumerable.f,propertyIsEnumerable=uncurryThis$19($propertyIsEnumerable),push$m=uncurryThis$19([].push),IE_BUG=DESCRIPTORS$u&&fails$R(function(){var e=Object.create(null);return e[2]=2,!propertyIsEnumerable(e,2)}),createMethod$2=function(e){return function(t){for(var r=toIndexedObject$5(t),n=objectKeys$2(r),a=IE_BUG&&objectGetPrototypeOf$1(r)===null,o=n.length,u=0,p=[],b;o>u;)b=n[u++],(!DESCRIPTORS$u||(a?b in r:propertyIsEnumerable(r,b)))&&push$m(p,e?[b,r[b]]:r[b]);return p}},objectToArray={entries:createMethod$2(!0),values:createMethod$2(!1)},$$3$=_export,$entries=objectToArray.entries;$$3$({target:"Object",stat:!0},{entries:function(e){return $entries(e)}});var $$3_=_export,FREEZING$6=freezing,fails$Q=fails$1z,isObject$t=isObject$O,onFreeze$2=internalMetadataExports.onFreeze,$freeze=Object.freeze,FAILS_ON_PRIMITIVES$5=fails$Q(function(){$freeze(1)});$$3_({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$5,sham:!FREEZING$6},{freeze:function(e){return $freeze&&isObject$t(e)?$freeze(onFreeze$2(e)):e}});var $$3Z=_export,iterate$C=iterate$H,createProperty$5=createProperty$b;$$3Z({target:"Object",stat:!0},{fromEntries:function(e){var t={};return iterate$C(e,function(r,n){createProperty$5(t,r,n)},{AS_ENTRIES:!0}),t}});var $$3Y=_export,fails$P=fails$1z,toIndexedObject$4=toIndexedObject$k,nativeGetOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,DESCRIPTORS$t=descriptors,FORCED$c=!DESCRIPTORS$t||fails$P(function(){nativeGetOwnPropertyDescriptor$1(1)});$$3Y({target:"Object",stat:!0,forced:FORCED$c,sham:!DESCRIPTORS$t},{getOwnPropertyDescriptor:function(e,t){return nativeGetOwnPropertyDescriptor$1(toIndexedObject$4(e),t)}});var $$3X=_export,DESCRIPTORS$s=descriptors,ownKeys$1=ownKeys$3,toIndexedObject$3=toIndexedObject$k,getOwnPropertyDescriptorModule$4=objectGetOwnPropertyDescriptor,createProperty$4=createProperty$b;$$3X({target:"Object",stat:!0,sham:!DESCRIPTORS$s},{getOwnPropertyDescriptors:function(e){for(var t=toIndexedObject$3(e),r=getOwnPropertyDescriptorModule$4.f,n=ownKeys$1(t),a={},o=0,u,p;n.length>o;)p=r(t,u=n[o++]),p!==void 0&&createProperty$4(a,u,p);return a}});var $$3W=_export,fails$O=fails$1z,getOwnPropertyNames$3=objectGetOwnPropertyNamesExternal.f,FAILS_ON_PRIMITIVES$4=fails$O(function(){return!Object.getOwnPropertyNames(1)});$$3W({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$4},{getOwnPropertyNames:getOwnPropertyNames$3});var $$3V=_export,fails$N=fails$1z,toObject$i=toObject$E,nativeGetPrototypeOf=objectGetPrototypeOf$2,CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter,FAILS_ON_PRIMITIVES$3=fails$N(function(){nativeGetPrototypeOf(1)});$$3V({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$3,sham:!CORRECT_PROTOTYPE_GETTER$1},{getPrototypeOf:function(e){return nativeGetPrototypeOf(toObject$i(e))}});var $$3U=_export,getBuiltIn$B=getBuiltIn$N,uncurryThis$18=functionUncurryThis,aCallable$A=aCallable$N,requireObjectCoercible$i=requireObjectCoercible$q,toPropertyKey$5=toPropertyKey$9,iterate$B=iterate$H,fails$M=fails$1z,nativeGroupBy=Object.groupBy,create$e=getBuiltIn$B("Object","create"),push$l=uncurryThis$18([].push),DOES_NOT_WORK_WITH_PRIMITIVES=!nativeGroupBy||fails$M(function(){return nativeGroupBy("ab",function(e){return e}).a.length!==1});$$3U({target:"Object",stat:!0,forced:DOES_NOT_WORK_WITH_PRIMITIVES},{groupBy:function(e,t){requireObjectCoercible$i(e),aCallable$A(t);var r=create$e(null),n=0;return iterate$B(e,function(a){var o=toPropertyKey$5(t(a,n++));o in r?push$l(r[o],a):r[o]=[a]}),r}});var $$3T=_export,hasOwn$m=hasOwnProperty_1;$$3T({target:"Object",stat:!0},{hasOwn:hasOwn$m});var sameValue$1=Object.is||function(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t},$$3S=_export,is=sameValue$1;$$3S({target:"Object",stat:!0},{is});var $$3R=_export,$isExtensible$1=objectIsExtensible;$$3R({target:"Object",stat:!0,forced:Object.isExtensible!==$isExtensible$1},{isExtensible:$isExtensible$1});var $$3Q=_export,fails$L=fails$1z,isObject$s=isObject$O,classof$f=classofRaw$2,ARRAY_BUFFER_NON_EXTENSIBLE$1=arrayBufferNonExtensible,$isFrozen=Object.isFrozen,FORCED$b=ARRAY_BUFFER_NON_EXTENSIBLE$1||fails$L(function(){$isFrozen(1)});$$3Q({target:"Object",stat:!0,forced:FORCED$b},{isFrozen:function(e){return!isObject$s(e)||ARRAY_BUFFER_NON_EXTENSIBLE$1&&classof$f(e)==="ArrayBuffer"?!0:$isFrozen?$isFrozen(e):!1}});var $$3P=_export,fails$K=fails$1z,isObject$r=isObject$O,classof$e=classofRaw$2,ARRAY_BUFFER_NON_EXTENSIBLE=arrayBufferNonExtensible,$isSealed=Object.isSealed,FORCED$a=ARRAY_BUFFER_NON_EXTENSIBLE||fails$K(function(){$isSealed(1)});$$3P({target:"Object",stat:!0,forced:FORCED$a},{isSealed:function(e){return!isObject$r(e)||ARRAY_BUFFER_NON_EXTENSIBLE&&classof$e(e)==="ArrayBuffer"?!0:$isSealed?$isSealed(e):!1}});var $$3O=_export,toObject$h=toObject$E,nativeKeys=objectKeys$6,fails$J=fails$1z,FAILS_ON_PRIMITIVES$2=fails$J(function(){nativeKeys(1)});$$3O({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$2},{keys:function(e){return nativeKeys(toObject$h(e))}});var $$3N=_export,DESCRIPTORS$r=descriptors,FORCED$9=objectPrototypeAccessorsForced,toObject$g=toObject$E,toPropertyKey$4=toPropertyKey$9,getPrototypeOf$c=objectGetPrototypeOf$2,getOwnPropertyDescriptor$9=objectGetOwnPropertyDescriptor.f;DESCRIPTORS$r&&$$3N({target:"Object",proto:!0,forced:FORCED$9},{__lookupGetter__:function(e){var t=toObject$g(this),r=toPropertyKey$4(e),n;do if(n=getOwnPropertyDescriptor$9(t,r))return n.get;while(t=getPrototypeOf$c(t))}});var $$3M=_export,DESCRIPTORS$q=descriptors,FORCED$8=objectPrototypeAccessorsForced,toObject$f=toObject$E,toPropertyKey$3=toPropertyKey$9,getPrototypeOf$b=objectGetPrototypeOf$2,getOwnPropertyDescriptor$8=objectGetOwnPropertyDescriptor.f;DESCRIPTORS$q&&$$3M({target:"Object",proto:!0,forced:FORCED$8},{__lookupSetter__:function(e){var t=toObject$f(this),r=toPropertyKey$3(e),n;do if(n=getOwnPropertyDescriptor$8(t,r))return n.set;while(t=getPrototypeOf$b(t))}});var $$3L=_export,isObject$q=isObject$O,onFreeze$1=internalMetadataExports.onFreeze,FREEZING$5=freezing,fails$I=fails$1z,$preventExtensions=Object.preventExtensions,FAILS_ON_PRIMITIVES$1=fails$I(function(){$preventExtensions(1)});$$3L({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$1,sham:!FREEZING$5},{preventExtensions:function(e){return $preventExtensions&&isObject$q(e)?$preventExtensions(onFreeze$1(e)):e}});var DESCRIPTORS$p=descriptors,defineBuiltInAccessor$g=defineBuiltInAccessor$p,isObject$p=isObject$O,isPossiblePrototype=isPossiblePrototype$2,toObject$e=toObject$E,requireObjectCoercible$h=requireObjectCoercible$q,getPrototypeOf$a=Object.getPrototypeOf,setPrototypeOf$4=Object.setPrototypeOf,ObjectPrototype$1=Object.prototype,PROTO="__proto__";if(DESCRIPTORS$p&&getPrototypeOf$a&&setPrototypeOf$4&&!(PROTO in ObjectPrototype$1))try{defineBuiltInAccessor$g(ObjectPrototype$1,PROTO,{configurable:!0,get:function(){return getPrototypeOf$a(toObject$e(this))},set:function(e){var t=requireObjectCoercible$h(this);isPossiblePrototype(e)&&isObject$p(t)&&setPrototypeOf$4(t,e)}})}catch{}var $$3K=_export,isObject$o=isObject$O,onFreeze=internalMetadataExports.onFreeze,FREEZING$4=freezing,fails$H=fails$1z,$seal=Object.seal,FAILS_ON_PRIMITIVES=fails$H(function(){$seal(1)});$$3K({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES,sham:!FREEZING$4},{seal:function(e){return $seal&&isObject$o(e)?$seal(onFreeze(e)):e}});var $$3J=_export,setPrototypeOf$3=objectSetPrototypeOf$1;$$3J({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$3});var TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof$d=classof$q,objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function(){return"[object "+classof$d(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,defineBuiltIn$i=defineBuiltIn$u,toString$y=objectToString;TO_STRING_TAG_SUPPORT||defineBuiltIn$i(Object.prototype,"toString",toString$y,{unsafe:!0});var $$3I=_export,$values=objectToArray.values;$$3I({target:"Object",stat:!0},{values:function(e){return $values(e)}});var $$3H=_export,$parseFloat=numberParseFloat;$$3H({global:!0,forced:parseFloat!==$parseFloat},{parseFloat:$parseFloat});var $$3G=_export,$parseInt$2=numberParseInt;$$3G({global:!0,forced:parseInt!==$parseInt$2},{parseInt:$parseInt$2});var $TypeError$y=TypeError,validateArgumentsLength$c=function(e,t){if(e<t)throw new $TypeError$y("Not enough arguments");return e},userAgent$3=engineUserAgent,engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$3),global$G=global$18,apply$9=functionApply$1,bind$p=functionBindContext,isCallable$n=isCallable$K,hasOwn$l=hasOwnProperty_1,fails$G=fails$1z,html=html$2,arraySlice$4=arraySlice$a,createElement=documentCreateElement$2,validateArgumentsLength$b=validateArgumentsLength$c,IS_IOS$1=engineIsIos,IS_NODE$2=engineIsNode,set$8=global$G.setImmediate,clear=global$G.clearImmediate,process$2=global$G.process,Dispatch=global$G.Dispatch,Function$2=global$G.Function,MessageChannel$1=global$G.MessageChannel,String$1=global$G.String,counter=0,queue$2={},ONREADYSTATECHANGE="onreadystatechange",$location,defer,channel,port;fails$G(function(){$location=global$G.location});var run=function(e){if(hasOwn$l(queue$2,e)){var t=queue$2[e];delete queue$2[e],t()}},runner=function(e){return function(){run(e)}},eventListener=function(e){run(e.data)},globalPostMessageDefer=function(e){global$G.postMessage(String$1(e),$location.protocol+"//"+$location.host)};(!set$8||!clear)&&(set$8=function(e){validateArgumentsLength$b(arguments.length,1);var t=isCallable$n(e)?e:Function$2(e),r=arraySlice$4(arguments,1);return queue$2[++counter]=function(){apply$9(t,void 0,r)},defer(counter),counter},clear=function(e){delete queue$2[e]},IS_NODE$2?defer=function(e){process$2.nextTick(runner(e))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(runner(e))}:MessageChannel$1&&!IS_IOS$1?(channel=new MessageChannel$1,port=channel.port2,channel.port1.onmessage=eventListener,defer=bind$p(port.postMessage,port)):global$G.addEventListener&&isCallable$n(global$G.postMessage)&&!global$G.importScripts&&$location&&$location.protocol!=="file:"&&!fails$G(globalPostMessageDefer)?(defer=globalPostMessageDefer,global$G.addEventListener("message",eventListener,!1)):ONREADYSTATECHANGE in createElement("script")?defer=function(e){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(e)}}:defer=function(e){setTimeout(runner(e),0)});var task$1={set:set$8,clear},global$F=global$18,DESCRIPTORS$o=descriptors,getOwnPropertyDescriptor$7=Object.getOwnPropertyDescriptor,safeGetBuiltIn$2=function(e){if(!DESCRIPTORS$o)return global$F[e];var t=getOwnPropertyDescriptor$7(global$F,e);return t&&t.value},Queue$2=function(){this.head=null,this.tail=null};Queue$2.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}};var queue$1=Queue$2,userAgent$2=engineUserAgent,engineIsIosPebble=/ipad|iphone|ipod/i.test(userAgent$2)&&typeof Pebble<"u",userAgent$1=engineUserAgent,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(userAgent$1),global$E=global$18,safeGetBuiltIn$1=safeGetBuiltIn$2,bind$o=functionBindContext,macrotask=task$1.set,Queue$1=queue$1,IS_IOS=engineIsIos,IS_IOS_PEBBLE=engineIsIosPebble,IS_WEBOS_WEBKIT=engineIsWebosWebkit,IS_NODE$1=engineIsNode,MutationObserver$1=global$E.MutationObserver||global$E.WebKitMutationObserver,document$2=global$E.document,process$1=global$E.process,Promise$6=global$E.Promise,microtask$2=safeGetBuiltIn$1("queueMicrotask"),notify$1,toggle,node$2,promise,then;if(!microtask$2){var queue=new Queue$1,flush=function(){var e,t;for(IS_NODE$1&&(e=process$1.domain)&&e.exit();t=queue.get();)try{t()}catch(r){throw queue.head&&notify$1(),r}e&&e.enter()};!IS_IOS&&!IS_NODE$1&&!IS_WEBOS_WEBKIT&&MutationObserver$1&&document$2?(toggle=!0,node$2=document$2.createTextNode(""),new MutationObserver$1(flush).observe(node$2,{characterData:!0}),notify$1=function(){node$2.data=toggle=!toggle}):!IS_IOS_PEBBLE&&Promise$6&&Promise$6.resolve?(promise=Promise$6.resolve(void 0),promise.constructor=Promise$6,then=bind$o(promise.then,promise),notify$1=function(){then(flush)}):IS_NODE$1?notify$1=function(){process$1.nextTick(flush)}:(macrotask=bind$o(macrotask,global$E),notify$1=function(){macrotask(flush)}),microtask$2=function(e){queue.head||notify$1(),queue.add(e)}}var microtask_1=microtask$2,hostReportErrors$2=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}},perform$7=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},global$D=global$18,promiseNativeConstructor=global$D.Promise,global$C=global$18,NativePromiseConstructor$4=promiseNativeConstructor,isCallable$m=isCallable$K,isForced$1=isForced_1,inspectSource$1=inspectSource$4,wellKnownSymbol$u=wellKnownSymbol$S,IS_BROWSER=engineIsBrowser,IS_DENO=engineIsDeno,V8_VERSION=engineV8Version;NativePromiseConstructor$4&&NativePromiseConstructor$4.prototype;var SPECIES$1=wellKnownSymbol$u("species"),SUBCLASSING=!1,NATIVE_PROMISE_REJECTION_EVENT$1=isCallable$m(global$C.PromiseRejectionEvent),FORCED_PROMISE_CONSTRUCTOR$5=isForced$1("Promise",function(){var e=inspectSource$1(NativePromiseConstructor$4),t=e!==String(NativePromiseConstructor$4);if(!t&&V8_VERSION===66)return!0;if(!V8_VERSION||V8_VERSION<51||!/native code/.test(e)){var r=new NativePromiseConstructor$4(function(o){o(1)}),n=function(o){o(function(){},function(){})},a=r.constructor={};if(a[SPECIES$1]=n,SUBCLASSING=r.then(function(){})instanceof n,!SUBCLASSING)return!0}return!t&&(IS_BROWSER||IS_DENO)&&!NATIVE_PROMISE_REJECTION_EVENT$1}),promiseConstructorDetection={CONSTRUCTOR:FORCED_PROMISE_CONSTRUCTOR$5,REJECTION_EVENT:NATIVE_PROMISE_REJECTION_EVENT$1,SUBCLASSING},newPromiseCapability$2={},aCallable$z=aCallable$N,$TypeError$x=TypeError,PromiseCapability=function(e){var t,r;this.promise=new e(function(n,a){if(t!==void 0||r!==void 0)throw new $TypeError$x("Bad Promise constructor");t=n,r=a}),this.resolve=aCallable$z(t),this.reject=aCallable$z(r)};newPromiseCapability$2.f=function(e){return new PromiseCapability(e)};var $$3F=_export,IS_NODE=engineIsNode,global$B=global$18,call$17=functionCall,defineBuiltIn$h=defineBuiltIn$u,setPrototypeOf$2=objectSetPrototypeOf$1,setToStringTag$5=setToStringTag$e,setSpecies$3=setSpecies$7,aCallable$y=aCallable$N,isCallable$l=isCallable$K,isObject$n=isObject$O,anInstance$b=anInstance$f,speciesConstructor$4=speciesConstructor$6,task=task$1.set,microtask$1=microtask_1,hostReportErrors$1=hostReportErrors$2,perform$6=perform$7,Queue=queue$1,InternalStateModule$h=internalState,NativePromiseConstructor$3=promiseNativeConstructor,PromiseConstructorDetection=promiseConstructorDetection,newPromiseCapabilityModule$7=newPromiseCapability$2,PROMISE="Promise",FORCED_PROMISE_CONSTRUCTOR$4=PromiseConstructorDetection.CONSTRUCTOR,NATIVE_PROMISE_REJECTION_EVENT=PromiseConstructorDetection.REJECTION_EVENT,NATIVE_PROMISE_SUBCLASSING=PromiseConstructorDetection.SUBCLASSING,getInternalPromiseState=InternalStateModule$h.getterFor(PROMISE),setInternalState$i=InternalStateModule$h.set,NativePromisePrototype$2=NativePromiseConstructor$3&&NativePromiseConstructor$3.prototype,PromiseConstructor=NativePromiseConstructor$3,PromisePrototype=NativePromisePrototype$2,TypeError$4=global$B.TypeError,document$1=global$B.document,process=global$B.process,newPromiseCapability$1=newPromiseCapabilityModule$7.f,newGenericPromiseCapability=newPromiseCapability$1,DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$B.dispatchEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING$2=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,isThenable=function(e){var t;return isObject$n(e)&&isCallable$l(t=e.then)?t:!1},callReaction=function(e,t){var r=t.value,n=t.state===FULFILLED,a=n?e.ok:e.fail,o=e.resolve,u=e.reject,p=e.domain,b,m,y;try{a?(n||(t.rejection===UNHANDLED&&onHandleUnhandled(t),t.rejection=HANDLED),a===!0?b=r:(p&&p.enter(),b=a(r),p&&(p.exit(),y=!0)),b===e.promise?u(new TypeError$4("Promise-chain cycle")):(m=isThenable(b))?call$17(m,b,o,u):o(b)):u(r)}catch(A){p&&!y&&p.exit(),u(A)}},notify=function(e,t){e.notified||(e.notified=!0,microtask$1(function(){for(var r=e.reactions,n;n=r.get();)callReaction(n,e);e.notified=!1,t&&!e.rejection&&onUnhandled(e)}))},dispatchEvent=function(e,t,r){var n,a;DISPATCH_EVENT?(n=document$1.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),global$B.dispatchEvent(n)):n={promise:t,reason:r},!NATIVE_PROMISE_REJECTION_EVENT&&(a=global$B["on"+e])?a(n):e===UNHANDLED_REJECTION&&hostReportErrors$1("Unhandled promise rejection",r)},onUnhandled=function(e){call$17(task,global$B,function(){var t=e.facade,r=e.value,n=isUnhandled(e),a;if(n&&(a=perform$6(function(){IS_NODE?process.emit("unhandledRejection",r,t):dispatchEvent(UNHANDLED_REJECTION,t,r)}),e.rejection=IS_NODE||isUnhandled(e)?UNHANDLED:HANDLED,a.error))throw a.value})},isUnhandled=function(e){return e.rejection!==HANDLED&&!e.parent},onHandleUnhandled=function(e){call$17(task,global$B,function(){var t=e.facade;IS_NODE?process.emit("rejectionHandled",t):dispatchEvent(REJECTION_HANDLED,t,e.value)})},bind$n=function(e,t,r){return function(n){e(t,n,r)}},internalReject=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=REJECTED,notify(e,!0))},internalResolve=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new TypeError$4("Promise can't be resolved itself");var n=isThenable(t);n?microtask$1(function(){var a={done:!1};try{call$17(n,t,bind$n(internalResolve,a,e),bind$n(internalReject,a,e))}catch(o){internalReject(a,o,e)}}):(e.value=t,e.state=FULFILLED,notify(e,!1))}catch(a){internalReject({done:!1},a,e)}}};if(FORCED_PROMISE_CONSTRUCTOR$4&&(PromiseConstructor=function(e){anInstance$b(this,PromisePrototype),aCallable$y(e),call$17(Internal,this);var t=getInternalPromiseState(this);try{e(bind$n(internalResolve,t),bind$n(internalReject,t))}catch(r){internalReject(t,r)}},PromisePrototype=PromiseConstructor.prototype,Internal=function(e){setInternalState$i(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:new Queue,rejection:!1,state:PENDING$2,value:void 0})},Internal.prototype=defineBuiltIn$h(PromisePrototype,"then",function(e,t){var r=getInternalPromiseState(this),n=newPromiseCapability$1(speciesConstructor$4(this,PromiseConstructor));return r.parent=!0,n.ok=isCallable$l(e)?e:!0,n.fail=isCallable$l(t)&&t,n.domain=IS_NODE?process.domain:void 0,r.state===PENDING$2?r.reactions.add(n):microtask$1(function(){callReaction(n,r)}),n.promise}),OwnPromiseCapability=function(){var e=new Internal,t=getInternalPromiseState(e);this.promise=e,this.resolve=bind$n(internalResolve,t),this.reject=bind$n(internalReject,t)},newPromiseCapabilityModule$7.f=newPromiseCapability$1=function(e){return e===PromiseConstructor||e===PromiseWrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)},isCallable$l(NativePromiseConstructor$3)&&NativePromisePrototype$2!==Object.prototype)){nativeThen=NativePromisePrototype$2.then,NATIVE_PROMISE_SUBCLASSING||defineBuiltIn$h(NativePromisePrototype$2,"then",function(e,t){var r=this;return new PromiseConstructor(function(n,a){call$17(nativeThen,r,n,a)}).then(e,t)},{unsafe:!0});try{delete NativePromisePrototype$2.constructor}catch{}setPrototypeOf$2&&setPrototypeOf$2(NativePromisePrototype$2,PromisePrototype)}$$3F({global:!0,constructor:!0,wrap:!0,forced:FORCED_PROMISE_CONSTRUCTOR$4},{Promise:PromiseConstructor}),setToStringTag$5(PromiseConstructor,PROMISE,!1),setSpecies$3(PROMISE);var NativePromiseConstructor$2=promiseNativeConstructor,checkCorrectnessOfIteration$1=checkCorrectnessOfIteration$4,FORCED_PROMISE_CONSTRUCTOR$3=promiseConstructorDetection.CONSTRUCTOR,promiseStaticsIncorrectIteration=FORCED_PROMISE_CONSTRUCTOR$3||!checkCorrectnessOfIteration$1(function(e){NativePromiseConstructor$2.all(e).then(void 0,function(){})}),$$3E=_export,call$16=functionCall,aCallable$x=aCallable$N,newPromiseCapabilityModule$6=newPromiseCapability$2,perform$5=perform$7,iterate$A=iterate$H,PROMISE_STATICS_INCORRECT_ITERATION$3=promiseStaticsIncorrectIteration;$$3E({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$3},{all:function(e){var t=this,r=newPromiseCapabilityModule$6.f(t),n=r.resolve,a=r.reject,o=perform$5(function(){var u=aCallable$x(t.resolve),p=[],b=0,m=1;iterate$A(e,function(y){var A=b++,I=!1;m++,call$16(u,t,y).then(function(M){I||(I=!0,p[A]=M,--m||n(p))},a)}),--m||n(p)});return o.error&&a(o.value),r.promise}});var $$3D=_export,FORCED_PROMISE_CONSTRUCTOR$2=promiseConstructorDetection.CONSTRUCTOR,NativePromiseConstructor$1=promiseNativeConstructor,getBuiltIn$A=getBuiltIn$N,isCallable$k=isCallable$K,defineBuiltIn$g=defineBuiltIn$u,NativePromisePrototype$1=NativePromiseConstructor$1&&NativePromiseConstructor$1.prototype;if($$3D({target:"Promise",proto:!0,forced:FORCED_PROMISE_CONSTRUCTOR$2,real:!0},{catch:function(e){return this.then(void 0,e)}}),isCallable$k(NativePromiseConstructor$1)){var method$1=getBuiltIn$A("Promise").prototype.catch;NativePromisePrototype$1.catch!==method$1&&defineBuiltIn$g(NativePromisePrototype$1,"catch",method$1,{unsafe:!0})}var $$3C=_export,call$15=functionCall,aCallable$w=aCallable$N,newPromiseCapabilityModule$5=newPromiseCapability$2,perform$4=perform$7,iterate$z=iterate$H,PROMISE_STATICS_INCORRECT_ITERATION$2=promiseStaticsIncorrectIteration;$$3C({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$2},{race:function(e){var t=this,r=newPromiseCapabilityModule$5.f(t),n=r.reject,a=perform$4(function(){var o=aCallable$w(t.resolve);iterate$z(e,function(u){call$15(o,t,u).then(r.resolve,n)})});return a.error&&n(a.value),r.promise}});var $$3B=_export,newPromiseCapabilityModule$4=newPromiseCapability$2,FORCED_PROMISE_CONSTRUCTOR$1=promiseConstructorDetection.CONSTRUCTOR;$$3B({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR$1},{reject:function(e){var t=newPromiseCapabilityModule$4.f(this),r=t.reject;return r(e),t.promise}});var anObject$13=anObject$1h,isObject$m=isObject$O,newPromiseCapability=newPromiseCapability$2,promiseResolve$2=function(e,t){if(anObject$13(e),isObject$m(t)&&t.constructor===e)return t;var r=newPromiseCapability.f(e),n=r.resolve;return n(t),r.promise},$$3A=_export,getBuiltIn$z=getBuiltIn$N,FORCED_PROMISE_CONSTRUCTOR=promiseConstructorDetection.CONSTRUCTOR,promiseResolve$1=promiseResolve$2;getBuiltIn$z("Promise"),$$3A({target:"Promise",stat:!0,forced:FORCED_PROMISE_CONSTRUCTOR},{resolve:function(e){return promiseResolve$1(this,e)}});var $$3z=_export,call$14=functionCall,aCallable$v=aCallable$N,newPromiseCapabilityModule$3=newPromiseCapability$2,perform$3=perform$7,iterate$y=iterate$H,PROMISE_STATICS_INCORRECT_ITERATION$1=promiseStaticsIncorrectIteration;$$3z({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION$1},{allSettled:function(e){var t=this,r=newPromiseCapabilityModule$3.f(t),n=r.resolve,a=r.reject,o=perform$3(function(){var u=aCallable$v(t.resolve),p=[],b=0,m=1;iterate$y(e,function(y){var A=b++,I=!1;m++,call$14(u,t,y).then(function(M){I||(I=!0,p[A]={status:"fulfilled",value:M},--m||n(p))},function(M){I||(I=!0,p[A]={status:"rejected",reason:M},--m||n(p))})}),--m||n(p)});return o.error&&a(o.value),r.promise}});var $$3y=_export,call$13=functionCall,aCallable$u=aCallable$N,getBuiltIn$y=getBuiltIn$N,newPromiseCapabilityModule$2=newPromiseCapability$2,perform$2=perform$7,iterate$x=iterate$H,PROMISE_STATICS_INCORRECT_ITERATION=promiseStaticsIncorrectIteration,PROMISE_ANY_ERROR="No one promise resolved";$$3y({target:"Promise",stat:!0,forced:PROMISE_STATICS_INCORRECT_ITERATION},{any:function(e){var t=this,r=getBuiltIn$y("AggregateError"),n=newPromiseCapabilityModule$2.f(t),a=n.resolve,o=n.reject,u=perform$2(function(){var p=aCallable$u(t.resolve),b=[],m=0,y=1,A=!1;iterate$x(e,function(I){var M=m++,C=!1;y++,call$13(p,t,I).then(function(P){C||A||(A=!0,a(P))},function(P){C||A||(C=!0,b[M]=P,--y||o(new r(b,PROMISE_ANY_ERROR)))})}),--y||o(new r(b,PROMISE_ANY_ERROR))});return u.error&&o(u.value),n.promise}});var $$3x=_export,NativePromiseConstructor=promiseNativeConstructor,fails$F=fails$1z,getBuiltIn$x=getBuiltIn$N,isCallable$j=isCallable$K,speciesConstructor$3=speciesConstructor$6,promiseResolve=promiseResolve$2,defineBuiltIn$f=defineBuiltIn$u,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,NON_GENERIC=!!NativePromiseConstructor&&fails$F(function(){NativePromisePrototype.finally.call({then:function(){}},function(){})});if($$3x({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(e){var t=speciesConstructor$3(this,getBuiltIn$x("Promise")),r=isCallable$j(e);return this.then(r?function(n){return promiseResolve(t,e()).then(function(){return n})}:e,r?function(n){return promiseResolve(t,e()).then(function(){throw n})}:e)}}),isCallable$j(NativePromiseConstructor)){var method=getBuiltIn$x("Promise").prototype.finally;NativePromisePrototype.finally!==method&&defineBuiltIn$f(NativePromisePrototype,"finally",method,{unsafe:!0})}var $$3w=_export,newPromiseCapabilityModule$1=newPromiseCapability$2;$$3w({target:"Promise",stat:!0},{withResolvers:function(){var e=newPromiseCapabilityModule$1.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var $$3v=_export,functionApply=functionApply$1,aCallable$t=aCallable$N,anObject$12=anObject$1h,fails$E=fails$1z,OPTIONAL_ARGUMENTS_LIST=!fails$E(function(){Reflect.apply(function(){})});$$3v({target:"Reflect",stat:!0,forced:OPTIONAL_ARGUMENTS_LIST},{apply:function(e,t,r){return functionApply(aCallable$t(e),t,anObject$12(r))}});var $$3u=_export,getBuiltIn$w=getBuiltIn$N,apply$8=functionApply$1,bind$m=functionBind$1,aConstructor$2=aConstructor$4,anObject$11=anObject$1h,isObject$l=isObject$O,create$d=objectCreate$1,fails$D=fails$1z,nativeConstruct=getBuiltIn$w("Reflect","construct"),ObjectPrototype=Object.prototype,push$k=[].push,NEW_TARGET_BUG=fails$D(function(){function e(){}return!(nativeConstruct(function(){},[],e)instanceof e)}),ARGS_BUG=!fails$D(function(){nativeConstruct(function(){})}),FORCED$7=NEW_TARGET_BUG||ARGS_BUG;$$3u({target:"Reflect",stat:!0,forced:FORCED$7,sham:FORCED$7},{construct:function(e,t){aConstructor$2(e),anObject$11(t);var r=arguments.length<3?e:aConstructor$2(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(e,t,r);if(e===r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return apply$8(push$k,n,t),new(apply$8(bind$m,e,n))}var a=r.prototype,o=create$d(isObject$l(a)?a:ObjectPrototype),u=apply$8(e,o,t);return isObject$l(u)?u:o}});var $$3t=_export,DESCRIPTORS$n=descriptors,anObject$10=anObject$1h,toPropertyKey$2=toPropertyKey$9,definePropertyModule$2=objectDefineProperty,fails$C=fails$1z,ERROR_INSTEAD_OF_FALSE=fails$C(function(){Reflect.defineProperty(definePropertyModule$2.f({},1,{value:1}),1,{value:2})});$$3t({target:"Reflect",stat:!0,forced:ERROR_INSTEAD_OF_FALSE,sham:!DESCRIPTORS$n},{defineProperty:function(e,t,r){anObject$10(e);var n=toPropertyKey$2(t);anObject$10(r);try{return definePropertyModule$2.f(e,n,r),!0}catch{return!1}}});var $$3s=_export,anObject$$=anObject$1h,getOwnPropertyDescriptor$6=objectGetOwnPropertyDescriptor.f;$$3s({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var r=getOwnPropertyDescriptor$6(anObject$$(e),t);return r&&!r.configurable?!1:delete e[t]}});var hasOwn$k=hasOwnProperty_1,isDataDescriptor$2=function(e){return e!==void 0&&(hasOwn$k(e,"value")||hasOwn$k(e,"writable"))},$$3r=_export,call$12=functionCall,isObject$k=isObject$O,anObject$_=anObject$1h,isDataDescriptor$1=isDataDescriptor$2,getOwnPropertyDescriptorModule$3=objectGetOwnPropertyDescriptor,getPrototypeOf$9=objectGetPrototypeOf$2;function get$3(e,t){var r=arguments.length<3?e:arguments[2],n,a;if(anObject$_(e)===r)return e[t];if(n=getOwnPropertyDescriptorModule$3.f(e,t),n)return isDataDescriptor$1(n)?n.value:n.get===void 0?void 0:call$12(n.get,r);if(isObject$k(a=getPrototypeOf$9(e)))return get$3(a,t,r)}$$3r({target:"Reflect",stat:!0},{get:get$3});var $$3q=_export,DESCRIPTORS$m=descriptors,anObject$Z=anObject$1h,getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor;$$3q({target:"Reflect",stat:!0,sham:!DESCRIPTORS$m},{getOwnPropertyDescriptor:function(e,t){return getOwnPropertyDescriptorModule$2.f(anObject$Z(e),t)}});var $$3p=_export,anObject$Y=anObject$1h,objectGetPrototypeOf=objectGetPrototypeOf$2,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter;$$3p({target:"Reflect",stat:!0,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function(e){return objectGetPrototypeOf(anObject$Y(e))}});var $$3o=_export;$$3o({target:"Reflect",stat:!0},{has:function(e,t){return t in e}});var $$3n=_export,anObject$X=anObject$1h,$isExtensible=objectIsExtensible;$$3n({target:"Reflect",stat:!0},{isExtensible:function(e){return anObject$X(e),$isExtensible(e)}});var $$3m=_export,ownKeys=ownKeys$3;$$3m({target:"Reflect",stat:!0},{ownKeys});var $$3l=_export,getBuiltIn$v=getBuiltIn$N,anObject$W=anObject$1h,FREEZING$3=freezing;$$3l({target:"Reflect",stat:!0,sham:!FREEZING$3},{preventExtensions:function(e){anObject$W(e);try{var t=getBuiltIn$v("Object","preventExtensions");return t&&t(e),!0}catch{return!1}}});var $$3k=_export,call$11=functionCall,anObject$V=anObject$1h,isObject$j=isObject$O,isDataDescriptor=isDataDescriptor$2,fails$B=fails$1z,definePropertyModule$1=objectDefineProperty,getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor,getPrototypeOf$8=objectGetPrototypeOf$2,createPropertyDescriptor$5=createPropertyDescriptor$d;function set$7(e,t,r){var n=arguments.length<4?e:arguments[3],a=getOwnPropertyDescriptorModule$1.f(anObject$V(e),t),o,u,p;if(!a){if(isObject$j(u=getPrototypeOf$8(e)))return set$7(u,t,r,n);a=createPropertyDescriptor$5(0)}if(isDataDescriptor(a)){if(a.writable===!1||!isObject$j(n))return!1;if(o=getOwnPropertyDescriptorModule$1.f(n,t)){if(o.get||o.set||o.writable===!1)return!1;o.value=r,definePropertyModule$1.f(n,t,o)}else definePropertyModule$1.f(n,t,createPropertyDescriptor$5(0,r))}else{if(p=a.set,p===void 0)return!1;call$11(p,n,r)}return!0}var MS_EDGE_BUG=fails$B(function(){var e=function(){},t=definePropertyModule$1.f(new e,"a",{configurable:!0});return Reflect.set(e.prototype,"a",1,t)!==!1});$$3k({target:"Reflect",stat:!0,forced:MS_EDGE_BUG},{set:set$7});var $$3j=_export,anObject$U=anObject$1h,aPossiblePrototype=aPossiblePrototype$2,objectSetPrototypeOf=objectSetPrototypeOf$1;objectSetPrototypeOf&&$$3j({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){anObject$U(e),aPossiblePrototype(t);try{return objectSetPrototypeOf(e,t),!0}catch{return!1}}});var $$3i=_export,global$A=global$18,setToStringTag$4=setToStringTag$e;$$3i({global:!0},{Reflect:{}}),setToStringTag$4(global$A.Reflect,"Reflect",!0);var isObject$i=isObject$O,classof$c=classofRaw$2,wellKnownSymbol$t=wellKnownSymbol$S,MATCH$2=wellKnownSymbol$t("match"),isRegexp=function(e){var t;return isObject$i(e)&&((t=e[MATCH$2])!==void 0?!!t:classof$c(e)==="RegExp")},anObject$T=anObject$1h,regexpFlags$1=function(){var e=anObject$T(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},call$10=functionCall,hasOwn$j=hasOwnProperty_1,isPrototypeOf$5=objectIsPrototypeOf,regExpFlags$1=regexpFlags$1,RegExpPrototype$7=RegExp.prototype,regexpGetFlags=function(e){var t=e.flags;return t===void 0&&!("flags"in RegExpPrototype$7)&&!hasOwn$j(e,"flags")&&isPrototypeOf$5(RegExpPrototype$7,e)?call$10(regExpFlags$1,e):t},fails$A=fails$1z,global$z=global$18,$RegExp$2=global$z.RegExp,UNSUPPORTED_Y$3=fails$A(function(){var e=$RegExp$2("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),MISSED_STICKY$2=UNSUPPORTED_Y$3||fails$A(function(){return!$RegExp$2("a","y").sticky}),BROKEN_CARET=UNSUPPORTED_Y$3||fails$A(function(){var e=$RegExp$2("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),regexpStickyHelpers={BROKEN_CARET,MISSED_STICKY:MISSED_STICKY$2,UNSUPPORTED_Y:UNSUPPORTED_Y$3},fails$z=fails$1z,global$y=global$18,$RegExp$1=global$y.RegExp,regexpUnsupportedDotAll=fails$z(function(){var e=$RegExp$1(".","s");return!(e.dotAll&&e.test(`
`)&&e.flags==="s")}),fails$y=fails$1z,global$x=global$18,$RegExp=global$x.RegExp,regexpUnsupportedNcg=fails$y(function(){var e=$RegExp("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),DESCRIPTORS$l=descriptors,global$w=global$18,uncurryThis$17=functionUncurryThis,isForced=isForced_1,inheritIfRequired$2=inheritIfRequired$7,createNonEnumerableProperty$9=createNonEnumerableProperty$j,create$c=objectCreate$1,getOwnPropertyNames$2=objectGetOwnPropertyNames.f,isPrototypeOf$4=objectIsPrototypeOf,isRegExp$3=isRegexp,toString$x=toString$K,getRegExpFlags$4=regexpGetFlags,stickyHelpers$2=regexpStickyHelpers,proxyAccessor=proxyAccessor$2,defineBuiltIn$e=defineBuiltIn$u,fails$x=fails$1z,hasOwn$i=hasOwnProperty_1,enforceInternalState$2=internalState.enforce,setSpecies$2=setSpecies$7,wellKnownSymbol$s=wellKnownSymbol$S,UNSUPPORTED_DOT_ALL$2=regexpUnsupportedDotAll,UNSUPPORTED_NCG$1=regexpUnsupportedNcg,MATCH$1=wellKnownSymbol$s("match"),NativeRegExp=global$w.RegExp,RegExpPrototype$6=NativeRegExp.prototype,SyntaxError$4=global$w.SyntaxError,exec$c=uncurryThis$17(RegExpPrototype$6.exec),charAt$j=uncurryThis$17("".charAt),replace$9=uncurryThis$17("".replace),stringIndexOf$4=uncurryThis$17("".indexOf),stringSlice$g=uncurryThis$17("".slice),IS_NCG=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,re1=/a/g,re2=/a/g,CORRECT_NEW=new NativeRegExp(re1)!==re1,MISSED_STICKY$1=stickyHelpers$2.MISSED_STICKY,UNSUPPORTED_Y$2=stickyHelpers$2.UNSUPPORTED_Y,BASE_FORCED=DESCRIPTORS$l&&(!CORRECT_NEW||MISSED_STICKY$1||UNSUPPORTED_DOT_ALL$2||UNSUPPORTED_NCG$1||fails$x(function(){return re2[MATCH$1]=!1,NativeRegExp(re1)!==re1||NativeRegExp(re2)===re2||String(NativeRegExp(re1,"i"))!=="/a/i"})),handleDotAll=function(e){for(var t=e.length,r=0,n="",a=!1,o;r<=t;r++){if(o=charAt$j(e,r),o==="\\"){n+=o+charAt$j(e,++r);continue}!a&&o==="."?n+="[\\s\\S]":(o==="["?a=!0:o==="]"&&(a=!1),n+=o)}return n},handleNCG=function(e){for(var t=e.length,r=0,n="",a=[],o=create$c(null),u=!1,p=!1,b=0,m="",y;r<=t;r++){if(y=charAt$j(e,r),y==="\\")y+=charAt$j(e,++r);else if(y==="]")u=!1;else if(!u)switch(!0){case y==="[":u=!0;break;case y==="(":exec$c(IS_NCG,stringSlice$g(e,r+1))&&(r+=2,p=!0),n+=y,b++;continue;case(y===">"&&p):if(m===""||hasOwn$i(o,m))throw new SyntaxError$4("Invalid capture group name");o[m]=!0,a[a.length]=[m,b],p=!1,m="";continue}p?m+=y:n+=y}return[n,a]};if(isForced("RegExp",BASE_FORCED)){for(var RegExpWrapper=function(e,t){var r=isPrototypeOf$4(RegExpPrototype$6,this),n=isRegExp$3(e),a=t===void 0,o=[],u=e,p,b,m,y,A,I;if(!r&&n&&a&&e.constructor===RegExpWrapper)return e;if((n||isPrototypeOf$4(RegExpPrototype$6,e))&&(e=e.source,a&&(t=getRegExpFlags$4(u))),e=e===void 0?"":toString$x(e),t=t===void 0?"":toString$x(t),u=e,UNSUPPORTED_DOT_ALL$2&&"dotAll"in re1&&(b=!!t&&stringIndexOf$4(t,"s")>-1,b&&(t=replace$9(t,/s/g,""))),p=t,MISSED_STICKY$1&&"sticky"in re1&&(m=!!t&&stringIndexOf$4(t,"y")>-1,m&&UNSUPPORTED_Y$2&&(t=replace$9(t,/y/g,""))),UNSUPPORTED_NCG$1&&(y=handleNCG(e),e=y[0],o=y[1]),A=inheritIfRequired$2(NativeRegExp(e,t),r?this:RegExpPrototype$6,RegExpWrapper),(b||m||o.length)&&(I=enforceInternalState$2(A),b&&(I.dotAll=!0,I.raw=RegExpWrapper(handleDotAll(e),p)),m&&(I.sticky=!0),o.length&&(I.groups=o)),e!==u)try{createNonEnumerableProperty$9(A,"source",u===""?"(?:)":u)}catch{}return A},keys$1=getOwnPropertyNames$2(NativeRegExp),index$1=0;keys$1.length>index$1;)proxyAccessor(RegExpWrapper,NativeRegExp,keys$1[index$1++]);RegExpPrototype$6.constructor=RegExpWrapper,RegExpWrapper.prototype=RegExpPrototype$6,defineBuiltIn$e(global$w,"RegExp",RegExpWrapper,{constructor:!0})}setSpecies$2("RegExp");var DESCRIPTORS$k=descriptors,UNSUPPORTED_DOT_ALL$1=regexpUnsupportedDotAll,classof$b=classofRaw$2,defineBuiltInAccessor$f=defineBuiltInAccessor$p,getInternalState$c=internalState.get,RegExpPrototype$5=RegExp.prototype,$TypeError$w=TypeError;DESCRIPTORS$k&&UNSUPPORTED_DOT_ALL$1&&defineBuiltInAccessor$f(RegExpPrototype$5,"dotAll",{configurable:!0,get:function(){if(this!==RegExpPrototype$5){if(classof$b(this)==="RegExp")return!!getInternalState$c(this).dotAll;throw new $TypeError$w("Incompatible receiver, RegExp required")}}});var call$$=functionCall,uncurryThis$16=functionUncurryThis,toString$w=toString$K,regexpFlags=regexpFlags$1,stickyHelpers$1=regexpStickyHelpers,shared$4=shared$b,create$b=objectCreate$1,getInternalState$b=internalState.get,UNSUPPORTED_DOT_ALL=regexpUnsupportedDotAll,UNSUPPORTED_NCG=regexpUnsupportedNcg,nativeReplace=shared$4("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt$i=uncurryThis$16("".charAt),indexOf$1=uncurryThis$16("".indexOf),replace$8=uncurryThis$16("".replace),stringSlice$f=uncurryThis$16("".slice),UPDATES_LAST_INDEX_WRONG=function(){var e=/a/,t=/b*/g;return call$$(nativeExec,e,"a"),call$$(nativeExec,t,"a"),e.lastIndex!==0||t.lastIndex!==0}(),UNSUPPORTED_Y$1=stickyHelpers$1.BROKEN_CARET,NPCG_INCLUDED=/()??/.exec("")[1]!==void 0,PATCH$1=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y$1||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG;PATCH$1&&(patchedExec=function(e){var t=this,r=getInternalState$b(t),n=toString$w(e),a=r.raw,o,u,p,b,m,y,A;if(a)return a.lastIndex=t.lastIndex,o=call$$(patchedExec,a,n),t.lastIndex=a.lastIndex,o;var I=r.groups,M=UNSUPPORTED_Y$1&&t.sticky,C=call$$(regexpFlags,t),P=t.source,B=0,k=n;if(M&&(C=replace$8(C,"y",""),indexOf$1(C,"g")===-1&&(C+="g"),k=stringSlice$f(n,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&charAt$i(n,t.lastIndex-1)!==`
`)&&(P="(?: "+P+")",k=" "+k,B++),u=new RegExp("^(?:"+P+")",C)),NPCG_INCLUDED&&(u=new RegExp("^"+P+"$(?!\\s)",C)),UPDATES_LAST_INDEX_WRONG&&(p=t.lastIndex),b=call$$(nativeExec,M?u:t,k),M?b?(b.input=stringSlice$f(b.input,B),b[0]=stringSlice$f(b[0],B),b.index=t.lastIndex,t.lastIndex+=b[0].length):t.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&b&&(t.lastIndex=t.global?b.index+b[0].length:p),NPCG_INCLUDED&&b&&b.length>1&&call$$(nativeReplace,b[0],u,function(){for(m=1;m<arguments.length-2;m++)arguments[m]===void 0&&(b[m]=void 0)}),b&&I)for(b.groups=y=create$b(null),m=0;m<I.length;m++)A=I[m],y[A[0]]=b[A[1]];return b});var regexpExec$2=patchedExec,$$3h=_export,exec$b=regexpExec$2;$$3h({target:"RegExp",proto:!0,forced:/./.exec!==exec$b},{exec:exec$b});var global$v=global$18,DESCRIPTORS$j=descriptors,defineBuiltInAccessor$e=defineBuiltInAccessor$p,regExpFlags=regexpFlags$1,fails$w=fails$1z,RegExp$2=global$v.RegExp,RegExpPrototype$4=RegExp$2.prototype,FORCED$6=DESCRIPTORS$j&&fails$w(function(){var e=!0;try{RegExp$2(".","d")}catch{e=!1}var t={},r="",n=e?"dgimsy":"gimsy",a=function(b,m){Object.defineProperty(t,b,{get:function(){return r+=m,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};e&&(o.hasIndices="d");for(var u in o)a(u,o[u]);var p=Object.getOwnPropertyDescriptor(RegExpPrototype$4,"flags").get.call(t);return p!==n||r!==n});FORCED$6&&defineBuiltInAccessor$e(RegExpPrototype$4,"flags",{configurable:!0,get:regExpFlags});var DESCRIPTORS$i=descriptors,MISSED_STICKY=regexpStickyHelpers.MISSED_STICKY,classof$a=classofRaw$2,defineBuiltInAccessor$d=defineBuiltInAccessor$p,getInternalState$a=internalState.get,RegExpPrototype$3=RegExp.prototype,$TypeError$v=TypeError;DESCRIPTORS$i&&MISSED_STICKY&&defineBuiltInAccessor$d(RegExpPrototype$3,"sticky",{configurable:!0,get:function(){if(this!==RegExpPrototype$3){if(classof$a(this)==="RegExp")return!!getInternalState$a(this).sticky;throw new $TypeError$v("Incompatible receiver, RegExp required")}}});var $$3g=_export,call$_=functionCall,isCallable$i=isCallable$K,anObject$S=anObject$1h,toString$v=toString$K,DELEGATES_TO_EXEC=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},t.test("abc")===!0&&e}(),nativeTest=/./.test;$$3g({target:"RegExp",proto:!0,forced:!DELEGATES_TO_EXEC},{test:function(e){var t=anObject$S(this),r=toString$v(e),n=t.exec;if(!isCallable$i(n))return call$_(nativeTest,t,r);var a=call$_(n,t,r);return a===null?!1:(anObject$S(a),!0)}});var PROPER_FUNCTION_NAME$1=functionName.PROPER,defineBuiltIn$d=defineBuiltIn$u,anObject$R=anObject$1h,$toString$4=toString$K,fails$v=fails$1z,getRegExpFlags$3=regexpGetFlags,TO_STRING="toString",RegExpPrototype$2=RegExp.prototype,nativeToString=RegExpPrototype$2[TO_STRING],NOT_GENERIC=fails$v(function(){return nativeToString.call({source:"a",flags:"b"})!=="/a/b"}),INCORRECT_NAME=PROPER_FUNCTION_NAME$1&&nativeToString.name!==TO_STRING;(NOT_GENERIC||INCORRECT_NAME)&&defineBuiltIn$d(RegExpPrototype$2,TO_STRING,function(){var e=anObject$R(this),t=$toString$4(e.source),r=$toString$4(getRegExpFlags$3(e));return"/"+t+"/"+r},{unsafe:!0});var collection$2=collection$4,collectionStrong=collectionStrong$2;collection$2("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},collectionStrong);var uncurryThis$15=functionUncurryThis,SetPrototype$1=Set.prototype,setHelpers={Set,add:uncurryThis$15(SetPrototype$1.add),has:uncurryThis$15(SetPrototype$1.has),remove:uncurryThis$15(SetPrototype$1.delete),proto:SetPrototype$1},has$b=setHelpers.has,aSet$g=function(e){return has$b(e),e},call$Z=functionCall,iterateSimple$8=function(e,t,r){for(var n=r?e:e.iterator,a=e.next,o,u;!(o=call$Z(a,n)).done;)if(u=t(o.value),u!==void 0)return u},uncurryThis$14=functionUncurryThis,iterateSimple$7=iterateSimple$8,SetHelpers$a=setHelpers,Set$7=SetHelpers$a.Set,SetPrototype=SetHelpers$a.proto,forEach$7=uncurryThis$14(SetPrototype.forEach),keys=uncurryThis$14(SetPrototype.keys),next$1=keys(new Set$7).next,setIterate$1=function(e,t,r){return r?iterateSimple$7({iterator:keys(e),next:next$1},t):forEach$7(e,t)},SetHelpers$9=setHelpers,iterate$w=setIterate$1,Set$6=SetHelpers$9.Set,add$7=SetHelpers$9.add,setClone=function(e){var t=new Set$6;return iterate$w(e,function(r){add$7(t,r)}),t},uncurryThisAccessor=functionUncurryThisAccessor,SetHelpers$8=setHelpers,setSize=uncurryThisAccessor(SetHelpers$8.proto,"size","get")||function(e){return e.size},getIteratorDirect$o=function(e){return{iterator:e,next:e.next,done:!1}},aCallable$s=aCallable$N,anObject$Q=anObject$1h,call$Y=functionCall,toIntegerOrInfinity$a=toIntegerOrInfinity$p,getIteratorDirect$n=getIteratorDirect$o,INVALID_SIZE="Invalid size",$RangeError$9=RangeError,$TypeError$u=TypeError,max$6=Math.max,SetRecord=function(e,t){this.set=e,this.size=max$6(t,0),this.has=aCallable$s(e.has),this.keys=aCallable$s(e.keys)};SetRecord.prototype={getIterator:function(){return getIteratorDirect$n(anObject$Q(call$Y(this.keys,this.set)))},includes:function(e){return call$Y(this.has,this.set,e)}};var getSetRecord$7=function(e){anObject$Q(e);var t=+e.size;if(t!==t)throw new $TypeError$u(INVALID_SIZE);var r=toIntegerOrInfinity$a(t);if(r<0)throw new $RangeError$9(INVALID_SIZE);return new SetRecord(e,r)},aSet$f=aSet$g,SetHelpers$7=setHelpers,clone$2=setClone,size$4=setSize,getSetRecord$6=getSetRecord$7,iterateSet$2=setIterate$1,iterateSimple$6=iterateSimple$8,has$a=SetHelpers$7.has,remove$5=SetHelpers$7.remove,setDifference=function(e){var t=aSet$f(this),r=getSetRecord$6(e),n=clone$2(t);return size$4(t)<=r.size?iterateSet$2(t,function(a){r.includes(a)&&remove$5(n,a)}):iterateSimple$6(r.getIterator(),function(a){has$a(t,a)&&remove$5(n,a)}),n},getBuiltIn$u=getBuiltIn$N,createSetLike=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},setMethodAcceptSetLike$7=function(e){var t=getBuiltIn$u("Set");try{new t()[e](createSetLike(0));try{return new t()[e](createSetLike(-1)),!1}catch{return!0}}catch{return!1}},$$3f=_export,difference=setDifference,setMethodAcceptSetLike$6=setMethodAcceptSetLike$7;$$3f({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$6("difference")},{difference});var aSet$e=aSet$g,SetHelpers$6=setHelpers,size$3=setSize,getSetRecord$5=getSetRecord$7,iterateSet$1=setIterate$1,iterateSimple$5=iterateSimple$8,Set$5=SetHelpers$6.Set,add$6=SetHelpers$6.add,has$9=SetHelpers$6.has,setIntersection=function(e){var t=aSet$e(this),r=getSetRecord$5(e),n=new Set$5;return size$3(t)>r.size?iterateSimple$5(r.getIterator(),function(a){has$9(t,a)&&add$6(n,a)}):iterateSet$1(t,function(a){r.includes(a)&&add$6(n,a)}),n},$$3e=_export,fails$u=fails$1z,intersection=setIntersection,setMethodAcceptSetLike$5=setMethodAcceptSetLike$7,INCORRECT=!setMethodAcceptSetLike$5("intersection")||fails$u(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});$$3e({target:"Set",proto:!0,real:!0,forced:INCORRECT},{intersection});var aSet$d=aSet$g,has$8=setHelpers.has,size$2=setSize,getSetRecord$4=getSetRecord$7,iterateSet=setIterate$1,iterateSimple$4=iterateSimple$8,iteratorClose$5=iteratorClose$8,setIsDisjointFrom=function(e){var t=aSet$d(this),r=getSetRecord$4(e);if(size$2(t)<=r.size)return iterateSet(t,function(a){if(r.includes(a))return!1},!0)!==!1;var n=r.getIterator();return iterateSimple$4(n,function(a){if(has$8(t,a))return iteratorClose$5(n,"normal",!1)})!==!1},$$3d=_export,isDisjointFrom=setIsDisjointFrom,setMethodAcceptSetLike$4=setMethodAcceptSetLike$7;$$3d({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$4("isDisjointFrom")},{isDisjointFrom});var aSet$c=aSet$g,size$1=setSize,iterate$v=setIterate$1,getSetRecord$3=getSetRecord$7,setIsSubsetOf=function(e){var t=aSet$c(this),r=getSetRecord$3(e);return size$1(t)>r.size?!1:iterate$v(t,function(n){if(!r.includes(n))return!1},!0)!==!1},$$3c=_export,isSubsetOf=setIsSubsetOf,setMethodAcceptSetLike$3=setMethodAcceptSetLike$7;$$3c({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$3("isSubsetOf")},{isSubsetOf});var aSet$b=aSet$g,has$7=setHelpers.has,size=setSize,getSetRecord$2=getSetRecord$7,iterateSimple$3=iterateSimple$8,iteratorClose$4=iteratorClose$8,setIsSupersetOf=function(e){var t=aSet$b(this),r=getSetRecord$2(e);if(size(t)<r.size)return!1;var n=r.getIterator();return iterateSimple$3(n,function(a){if(!has$7(t,a))return iteratorClose$4(n,"normal",!1)})!==!1},$$3b=_export,isSupersetOf=setIsSupersetOf,setMethodAcceptSetLike$2=setMethodAcceptSetLike$7;$$3b({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$2("isSupersetOf")},{isSupersetOf});var aSet$a=aSet$g,SetHelpers$5=setHelpers,clone$1=setClone,getSetRecord$1=getSetRecord$7,iterateSimple$2=iterateSimple$8,add$5=SetHelpers$5.add,has$6=SetHelpers$5.has,remove$4=SetHelpers$5.remove,setSymmetricDifference=function(e){var t=aSet$a(this),r=getSetRecord$1(e).getIterator(),n=clone$1(t);return iterateSimple$2(r,function(a){has$6(t,a)?remove$4(n,a):add$5(n,a)}),n},$$3a=_export,symmetricDifference=setSymmetricDifference,setMethodAcceptSetLike$1=setMethodAcceptSetLike$7;$$3a({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$1("symmetricDifference")},{symmetricDifference});var aSet$9=aSet$g,add$4=setHelpers.add,clone=setClone,getSetRecord=getSetRecord$7,iterateSimple$1=iterateSimple$8,setUnion=function(e){var t=aSet$9(this),r=getSetRecord(e).getIterator(),n=clone(t);return iterateSimple$1(r,function(a){add$4(n,a)}),n},$$39=_export,union=setUnion,setMethodAcceptSetLike=setMethodAcceptSetLike$7;$$39({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike("union")},{union});var $$38=_export,uncurryThis$13=functionUncurryThis,requireObjectCoercible$g=requireObjectCoercible$q,toIntegerOrInfinity$9=toIntegerOrInfinity$p,toString$u=toString$K,fails$t=fails$1z,charAt$h=uncurryThis$13("".charAt),FORCED$5=fails$t(function(){return"\u{20BB7}".at(-2)!=="\uD842"});$$38({target:"String",proto:!0,forced:FORCED$5},{at:function(e){var t=toString$u(requireObjectCoercible$g(this)),r=t.length,n=toIntegerOrInfinity$9(e),a=n>=0?n:r+n;return a<0||a>=r?void 0:charAt$h(t,a)}});var uncurryThis$12=functionUncurryThis,toIntegerOrInfinity$8=toIntegerOrInfinity$p,toString$t=toString$K,requireObjectCoercible$f=requireObjectCoercible$q,charAt$g=uncurryThis$12("".charAt),charCodeAt$6=uncurryThis$12("".charCodeAt),stringSlice$e=uncurryThis$12("".slice),createMethod$1=function(e){return function(t,r){var n=toString$t(requireObjectCoercible$f(t)),a=toIntegerOrInfinity$8(r),o=n.length,u,p;return a<0||a>=o?e?"":void 0:(u=charCodeAt$6(n,a),u<55296||u>56319||a+1===o||(p=charCodeAt$6(n,a+1))<56320||p>57343?e?charAt$g(n,a):u:e?stringSlice$e(n,a,a+2):(u-55296<<10)+(p-56320)+65536)}},stringMultibyte={codeAt:createMethod$1(!1),charAt:createMethod$1(!0)},$$37=_export,codeAt$2=stringMultibyte.codeAt;$$37({target:"String",proto:!0},{codePointAt:function(e){return codeAt$2(this,e)}});var isRegExp$2=isRegexp,$TypeError$t=TypeError,notARegexp=function(e){if(isRegExp$2(e))throw new $TypeError$t("The method doesn't accept regular expressions");return e},wellKnownSymbol$r=wellKnownSymbol$S,MATCH=wellKnownSymbol$r("match"),correctIsRegexpLogic=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[MATCH]=!1,"/./"[e](t)}catch{}}return!1},$$36=_export,uncurryThis$11=functionUncurryThisClause,getOwnPropertyDescriptor$5=objectGetOwnPropertyDescriptor.f,toLength$7=toLength$d,toString$s=toString$K,notARegExp$2=notARegexp,requireObjectCoercible$e=requireObjectCoercible$q,correctIsRegExpLogic$2=correctIsRegexpLogic,slice$5=uncurryThis$11("".slice),min$7=Math.min,CORRECT_IS_REGEXP_LOGIC$1=correctIsRegExpLogic$2("endsWith"),MDN_POLYFILL_BUG$1=!CORRECT_IS_REGEXP_LOGIC$1&&!!function(){var e=getOwnPropertyDescriptor$5(String.prototype,"endsWith");return e&&!e.writable}();$$36({target:"String",proto:!0,forced:!MDN_POLYFILL_BUG$1&&!CORRECT_IS_REGEXP_LOGIC$1},{endsWith:function(e){var t=toString$s(requireObjectCoercible$e(this));notARegExp$2(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,a=r===void 0?n:min$7(toLength$7(r),n),o=toString$s(e);return slice$5(t,a-o.length,a)===o}});var $$35=_export,uncurryThis$10=functionUncurryThis,toAbsoluteIndex$2=toAbsoluteIndex$a,$RangeError$8=RangeError,fromCharCode$5=String.fromCharCode,$fromCodePoint=String.fromCodePoint,join$7=uncurryThis$10([].join),INCORRECT_LENGTH=!!$fromCodePoint&&$fromCodePoint.length!==1;$$35({target:"String",stat:!0,arity:1,forced:INCORRECT_LENGTH},{fromCodePoint:function(e){for(var t=[],r=arguments.length,n=0,a;r>n;){if(a=+arguments[n++],toAbsoluteIndex$2(a,1114111)!==a)throw new $RangeError$8(a+" is not a valid code point");t[n]=a<65536?fromCharCode$5(a):fromCharCode$5(((a-=65536)>>10)+55296,a%1024+56320)}return join$7(t,"")}});var $$34=_export,uncurryThis$$=functionUncurryThis,notARegExp$1=notARegexp,requireObjectCoercible$d=requireObjectCoercible$q,toString$r=toString$K,correctIsRegExpLogic$1=correctIsRegexpLogic,stringIndexOf$3=uncurryThis$$("".indexOf);$$34({target:"String",proto:!0,forced:!correctIsRegExpLogic$1("includes")},{includes:function(e){return!!~stringIndexOf$3(toString$r(requireObjectCoercible$d(this)),toString$r(notARegExp$1(e)),arguments.length>1?arguments[1]:void 0)}});var $$33=_export,uncurryThis$_=functionUncurryThis,requireObjectCoercible$c=requireObjectCoercible$q,toString$q=toString$K,charCodeAt$5=uncurryThis$_("".charCodeAt);$$33({target:"String",proto:!0},{isWellFormed:function(){for(var e=toString$q(requireObjectCoercible$c(this)),t=e.length,r=0;r<t;r++){var n=charCodeAt$5(e,r);if((n&63488)===55296&&(n>=56320||++r>=t||(charCodeAt$5(e,r)&64512)!==56320))return!1}return!0}});var charAt$f=stringMultibyte.charAt,toString$p=toString$K,InternalStateModule$g=internalState,defineIterator=iteratorDefine,createIterResultObject$e=createIterResultObject$h,STRING_ITERATOR$1="String Iterator",setInternalState$h=InternalStateModule$g.set,getInternalState$9=InternalStateModule$g.getterFor(STRING_ITERATOR$1);defineIterator(String,"String",function(e){setInternalState$h(this,{type:STRING_ITERATOR$1,string:toString$p(e),index:0})},function(){var e=getInternalState$9(this),t=e.string,r=e.index,n;return r>=t.length?createIterResultObject$e(void 0,!0):(n=charAt$f(t,r),e.index+=n.length,createIterResultObject$e(n,!1))});var call$X=functionCall,defineBuiltIn$c=defineBuiltIn$u,regexpExec$1=regexpExec$2,fails$s=fails$1z,wellKnownSymbol$q=wellKnownSymbol$S,createNonEnumerableProperty$8=createNonEnumerableProperty$j,SPECIES=wellKnownSymbol$q("species"),RegExpPrototype$1=RegExp.prototype,fixRegexpWellKnownSymbolLogic=function(e,t,r,n){var a=wellKnownSymbol$q(e),o=!fails$s(function(){var m={};return m[a]=function(){return 7},""[e](m)!==7}),u=o&&!fails$s(function(){var m=!1,y=/a/;return e==="split"&&(y={},y.constructor={},y.constructor[SPECIES]=function(){return y},y.flags="",y[a]=/./[a]),y.exec=function(){return m=!0,null},y[a](""),!m});if(!o||!u||r){var p=/./[a],b=t(a,""[e],function(m,y,A,I,M){var C=y.exec;return C===regexpExec$1||C===RegExpPrototype$1.exec?o&&!M?{done:!0,value:call$X(p,y,A,I)}:{done:!0,value:call$X(m,A,y,I)}:{done:!1}});defineBuiltIn$c(String.prototype,e,b[0]),defineBuiltIn$c(RegExpPrototype$1,a,b[1])}n&&createNonEnumerableProperty$8(RegExpPrototype$1[a],"sham",!0)},charAt$e=stringMultibyte.charAt,advanceStringIndex$4=function(e,t,r){return t+(r?charAt$e(e,t).length:1)},call$W=functionCall,anObject$P=anObject$1h,isCallable$h=isCallable$K,classof$9=classofRaw$2,regexpExec=regexpExec$2,$TypeError$s=TypeError,regexpExecAbstract=function(e,t){var r=e.exec;if(isCallable$h(r)){var n=call$W(r,e,t);return n!==null&&anObject$P(n),n}if(classof$9(e)==="RegExp")return call$W(regexpExec,e,t);throw new $TypeError$s("RegExp#exec called on incompatible receiver")},call$V=functionCall,fixRegExpWellKnownSymbolLogic$3=fixRegexpWellKnownSymbolLogic,anObject$O=anObject$1h,isNullOrUndefined$c=isNullOrUndefined$j,toLength$6=toLength$d,toString$o=toString$K,requireObjectCoercible$b=requireObjectCoercible$q,getMethod$h=getMethod$l,advanceStringIndex$3=advanceStringIndex$4,regExpExec$4=regexpExecAbstract;fixRegExpWellKnownSymbolLogic$3("match",function(e,t,r){return[function(n){var a=requireObjectCoercible$b(this),o=isNullOrUndefined$c(n)?void 0:getMethod$h(n,e);return o?call$V(o,n,a):new RegExp(n)[e](toString$o(a))},function(n){var a=anObject$O(this),o=toString$o(n),u=r(t,a,o);if(u.done)return u.value;if(!a.global)return regExpExec$4(a,o);var p=a.unicode;a.lastIndex=0;for(var b=[],m=0,y;(y=regExpExec$4(a,o))!==null;){var A=toString$o(y[0]);b[m]=A,A===""&&(a.lastIndex=advanceStringIndex$3(o,toLength$6(a.lastIndex),p)),m++}return m===0?null:b}]});var $$32=_export,call$U=functionCall,uncurryThis$Z=functionUncurryThisClause,createIteratorConstructor$5=iteratorCreateConstructor,createIterResultObject$d=createIterResultObject$h,requireObjectCoercible$a=requireObjectCoercible$q,toLength$5=toLength$d,toString$n=toString$K,anObject$N=anObject$1h,isNullOrUndefined$b=isNullOrUndefined$j,classof$8=classofRaw$2,isRegExp$1=isRegexp,getRegExpFlags$2=regexpGetFlags,getMethod$g=getMethod$l,defineBuiltIn$b=defineBuiltIn$u,fails$r=fails$1z,wellKnownSymbol$p=wellKnownSymbol$S,speciesConstructor$2=speciesConstructor$6,advanceStringIndex$2=advanceStringIndex$4,regExpExec$3=regexpExecAbstract,InternalStateModule$f=internalState,IS_PURE$h=isPure,MATCH_ALL=wellKnownSymbol$p("matchAll"),REGEXP_STRING="RegExp String",REGEXP_STRING_ITERATOR=REGEXP_STRING+" Iterator",setInternalState$g=InternalStateModule$f.set,getInternalState$8=InternalStateModule$f.getterFor(REGEXP_STRING_ITERATOR),RegExpPrototype=RegExp.prototype,$TypeError$r=TypeError,stringIndexOf$2=uncurryThis$Z("".indexOf),nativeMatchAll=uncurryThis$Z("".matchAll),WORKS_WITH_NON_GLOBAL_REGEX=!!nativeMatchAll&&!fails$r(function(){nativeMatchAll("a",/./)}),$RegExpStringIterator=createIteratorConstructor$5(function(e,t,r,n){setInternalState$g(this,{type:REGEXP_STRING_ITERATOR,regexp:e,string:t,global:r,unicode:n,done:!1})},REGEXP_STRING,function(){var e=getInternalState$8(this);if(e.done)return createIterResultObject$d(void 0,!0);var t=e.regexp,r=e.string,n=regExpExec$3(t,r);return n===null?(e.done=!0,createIterResultObject$d(void 0,!0)):e.global?(toString$n(n[0])===""&&(t.lastIndex=advanceStringIndex$2(r,toLength$5(t.lastIndex),e.unicode)),createIterResultObject$d(n,!1)):(e.done=!0,createIterResultObject$d(n,!1))}),$matchAll=function(e){var t=anObject$N(this),r=toString$n(e),n=speciesConstructor$2(t,RegExp),a=toString$n(getRegExpFlags$2(t)),o,u,p;return o=new n(n===RegExp?t.source:t,a),u=!!~stringIndexOf$2(a,"g"),p=!!~stringIndexOf$2(a,"u"),o.lastIndex=toLength$5(t.lastIndex),new $RegExpStringIterator(o,r,u,p)};$$32({target:"String",proto:!0,forced:WORKS_WITH_NON_GLOBAL_REGEX},{matchAll:function(e){var t=requireObjectCoercible$a(this),r,n,a,o;if(isNullOrUndefined$b(e)){if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(t,e)}else{if(isRegExp$1(e)&&(r=toString$n(requireObjectCoercible$a(getRegExpFlags$2(e))),!~stringIndexOf$2(r,"g")))throw new $TypeError$r("`.matchAll` does not allow non-global regexes");if(WORKS_WITH_NON_GLOBAL_REGEX)return nativeMatchAll(t,e);if(a=getMethod$g(e,MATCH_ALL),a===void 0&&IS_PURE$h&&classof$8(e)==="RegExp"&&(a=$matchAll),a)return call$U(a,e,t)}return n=toString$n(t),o=new RegExp(e,"g"),o[MATCH_ALL](n)}}),MATCH_ALL in RegExpPrototype||defineBuiltIn$b(RegExpPrototype,MATCH_ALL,$matchAll);var userAgent=engineUserAgent,stringPadWebkitBug=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(userAgent),$$31=_export,$padEnd=stringPad.end,WEBKIT_BUG$1=stringPadWebkitBug;$$31({target:"String",proto:!0,forced:WEBKIT_BUG$1},{padEnd:function(e){return $padEnd(this,e,arguments.length>1?arguments[1]:void 0)}});var $$30=_export,$padStart=stringPad.start,WEBKIT_BUG=stringPadWebkitBug;$$30({target:"String",proto:!0,forced:WEBKIT_BUG},{padStart:function(e){return $padStart(this,e,arguments.length>1?arguments[1]:void 0)}});var $$2$=_export,uncurryThis$Y=functionUncurryThis,toIndexedObject$2=toIndexedObject$k,toObject$d=toObject$E,toString$m=toString$K,lengthOfArrayLike$d=lengthOfArrayLike$B,push$j=uncurryThis$Y([].push),join$6=uncurryThis$Y([].join);$$2$({target:"String",stat:!0},{raw:function(e){var t=toIndexedObject$2(toObject$d(e).raw),r=lengthOfArrayLike$d(t);if(!r)return"";for(var n=arguments.length,a=[],o=0;;){if(push$j(a,toString$m(t[o++])),o===r)return join$6(a,"");o<n&&push$j(a,toString$m(arguments[o]))}}});var $$2_=_export,repeat=stringRepeat;$$2_({target:"String",proto:!0},{repeat});var uncurryThis$X=functionUncurryThis,toObject$c=toObject$E,floor$3=Math.floor,charAt$d=uncurryThis$X("".charAt),replace$7=uncurryThis$X("".replace),stringSlice$d=uncurryThis$X("".slice),SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d{1,2})/g,getSubstitution$2=function(e,t,r,n,a,o){var u=r+e.length,p=n.length,b=SUBSTITUTION_SYMBOLS_NO_NAMED;return a!==void 0&&(a=toObject$c(a),b=SUBSTITUTION_SYMBOLS),replace$7(o,b,function(m,y){var A;switch(charAt$d(y,0)){case"$":return"$";case"&":return e;case"`":return stringSlice$d(t,0,r);case"'":return stringSlice$d(t,u);case"<":A=a[stringSlice$d(y,1,-1)];break;default:var I=+y;if(I===0)return m;if(I>p){var M=floor$3(I/10);return M===0?m:M<=p?n[M-1]===void 0?charAt$d(y,1):n[M-1]+charAt$d(y,1):m}A=n[I-1]}return A===void 0?"":A})},apply$7=functionApply$1,call$T=functionCall,uncurryThis$W=functionUncurryThis,fixRegExpWellKnownSymbolLogic$2=fixRegexpWellKnownSymbolLogic,fails$q=fails$1z,anObject$M=anObject$1h,isCallable$g=isCallable$K,isNullOrUndefined$a=isNullOrUndefined$j,toIntegerOrInfinity$7=toIntegerOrInfinity$p,toLength$4=toLength$d,toString$l=toString$K,requireObjectCoercible$9=requireObjectCoercible$q,advanceStringIndex$1=advanceStringIndex$4,getMethod$f=getMethod$l,getSubstitution$1=getSubstitution$2,regExpExec$2=regexpExecAbstract,wellKnownSymbol$o=wellKnownSymbol$S,REPLACE$1=wellKnownSymbol$o("replace"),max$5=Math.max,min$6=Math.min,concat$2=uncurryThis$W([].concat),push$i=uncurryThis$W([].push),stringIndexOf$1=uncurryThis$W("".indexOf),stringSlice$c=uncurryThis$W("".slice),maybeToString=function(e){return e===void 0?e:String(e)},REPLACE_KEEPS_$0=function(){return"a".replace(/./,"$0")==="$0"}(),REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=function(){return/./[REPLACE$1]?/./[REPLACE$1]("a","$0")==="":!1}(),REPLACE_SUPPORTS_NAMED_GROUPS=!fails$q(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});fixRegExpWellKnownSymbolLogic$2("replace",function(e,t,r){var n=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function(a,o){var u=requireObjectCoercible$9(this),p=isNullOrUndefined$a(a)?void 0:getMethod$f(a,REPLACE$1);return p?call$T(p,a,u,o):call$T(t,toString$l(u),a,o)},function(a,o){var u=anObject$M(this),p=toString$l(a);if(typeof o=="string"&&stringIndexOf$1(o,n)===-1&&stringIndexOf$1(o,"$<")===-1){var b=r(t,u,p,o);if(b.done)return b.value}var m=isCallable$g(o);m||(o=toString$l(o));var y=u.global,A;y&&(A=u.unicode,u.lastIndex=0);for(var I=[],M;M=regExpExec$2(u,p),!(M===null||(push$i(I,M),!y));){var C=toString$l(M[0]);C===""&&(u.lastIndex=advanceStringIndex$1(p,toLength$4(u.lastIndex),A))}for(var P="",B=0,k=0;k<I.length;k++){M=I[k];for(var N=toString$l(M[0]),D=max$5(min$6(toIntegerOrInfinity$7(M.index),p.length),0),L=[],K,J=1;J<M.length;J++)push$i(L,maybeToString(M[J]));var ce=M.groups;if(m){var oe=concat$2([N],L,D,p);ce!==void 0&&push$i(oe,ce),K=toString$l(apply$7(o,void 0,oe))}else K=getSubstitution$1(N,p,D,L,ce,o);D>=B&&(P+=stringSlice$c(p,B,D)+K,B=D+N.length)}return P+stringSlice$c(p,B)}]},!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);var $$2Z=_export,call$S=functionCall,uncurryThis$V=functionUncurryThis,requireObjectCoercible$8=requireObjectCoercible$q,isCallable$f=isCallable$K,isNullOrUndefined$9=isNullOrUndefined$j,isRegExp=isRegexp,toString$k=toString$K,getMethod$e=getMethod$l,getRegExpFlags$1=regexpGetFlags,getSubstitution=getSubstitution$2,wellKnownSymbol$n=wellKnownSymbol$S,REPLACE=wellKnownSymbol$n("replace"),$TypeError$q=TypeError,indexOf=uncurryThis$V("".indexOf);uncurryThis$V("".replace);var stringSlice$b=uncurryThis$V("".slice),max$4=Math.max;$$2Z({target:"String",proto:!0},{replaceAll:function(e,t){var r=requireObjectCoercible$8(this),n,a,o,u,p,b,m,y,A,I=0,M=0,C="";if(!isNullOrUndefined$9(e)){if(n=isRegExp(e),n&&(a=toString$k(requireObjectCoercible$8(getRegExpFlags$1(e))),!~indexOf(a,"g")))throw new $TypeError$q("`.replaceAll` does not allow non-global regexes");if(o=getMethod$e(e,REPLACE),o)return call$S(o,e,r,t)}for(u=toString$k(r),p=toString$k(e),b=isCallable$f(t),b||(t=toString$k(t)),m=p.length,y=max$4(1,m),I=indexOf(u,p);I!==-1;)A=b?toString$k(t(p,I,u)):getSubstitution(p,u,I,[],void 0,t),C+=stringSlice$b(u,M,I)+A,M=I+m,I=I+y>u.length?-1:indexOf(u,p,I+y);return M<u.length&&(C+=stringSlice$b(u,M)),C}});var call$R=functionCall,fixRegExpWellKnownSymbolLogic$1=fixRegexpWellKnownSymbolLogic,anObject$L=anObject$1h,isNullOrUndefined$8=isNullOrUndefined$j,requireObjectCoercible$7=requireObjectCoercible$q,sameValue=sameValue$1,toString$j=toString$K,getMethod$d=getMethod$l,regExpExec$1=regexpExecAbstract;fixRegExpWellKnownSymbolLogic$1("search",function(e,t,r){return[function(n){var a=requireObjectCoercible$7(this),o=isNullOrUndefined$8(n)?void 0:getMethod$d(n,e);return o?call$R(o,n,a):new RegExp(n)[e](toString$j(a))},function(n){var a=anObject$L(this),o=toString$j(n),u=r(t,a,o);if(u.done)return u.value;var p=a.lastIndex;sameValue(p,0)||(a.lastIndex=0);var b=regExpExec$1(a,o);return sameValue(a.lastIndex,p)||(a.lastIndex=p),b===null?-1:b.index}]});var call$Q=functionCall,uncurryThis$U=functionUncurryThis,fixRegExpWellKnownSymbolLogic=fixRegexpWellKnownSymbolLogic,anObject$K=anObject$1h,isNullOrUndefined$7=isNullOrUndefined$j,requireObjectCoercible$6=requireObjectCoercible$q,speciesConstructor$1=speciesConstructor$6,advanceStringIndex=advanceStringIndex$4,toLength$3=toLength$d,toString$i=toString$K,getMethod$c=getMethod$l,regExpExec=regexpExecAbstract,stickyHelpers=regexpStickyHelpers,fails$p=fails$1z,UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y,MAX_UINT32=4294967295,min$5=Math.min,push$h=uncurryThis$U([].push),stringSlice$a=uncurryThis$U("".slice),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails$p(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),BUGGY="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;fixRegExpWellKnownSymbolLogic("split",function(e,t,r){var n="0".split(void 0,0).length?function(a,o){return a===void 0&&o===0?[]:call$Q(t,this,a,o)}:t;return[function(a,o){var u=requireObjectCoercible$6(this),p=isNullOrUndefined$7(a)?void 0:getMethod$c(a,e);return p?call$Q(p,a,u,o):call$Q(n,toString$i(u),a,o)},function(a,o){var u=anObject$K(this),p=toString$i(a);if(!BUGGY){var b=r(n,u,p,o,n!==t);if(b.done)return b.value}var m=speciesConstructor$1(u,RegExp),y=u.unicode,A=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(UNSUPPORTED_Y?"g":"y"),I=new m(UNSUPPORTED_Y?"^(?:"+u.source+")":u,A),M=o===void 0?MAX_UINT32:o>>>0;if(M===0)return[];if(p.length===0)return regExpExec(I,p)===null?[p]:[];for(var C=0,P=0,B=[];P<p.length;){I.lastIndex=UNSUPPORTED_Y?0:P;var k=regExpExec(I,UNSUPPORTED_Y?stringSlice$a(p,P):p),N;if(k===null||(N=min$5(toLength$3(I.lastIndex+(UNSUPPORTED_Y?P:0)),p.length))===C)P=advanceStringIndex(p,P,y);else{if(push$h(B,stringSlice$a(p,C,P)),B.length===M)return B;for(var D=1;D<=k.length-1;D++)if(push$h(B,k[D]),B.length===M)return B;P=C=N}}return push$h(B,stringSlice$a(p,C)),B}]},BUGGY||!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC,UNSUPPORTED_Y);var $$2Y=_export,uncurryThis$T=functionUncurryThisClause,getOwnPropertyDescriptor$4=objectGetOwnPropertyDescriptor.f,toLength$2=toLength$d,toString$h=toString$K,notARegExp=notARegexp,requireObjectCoercible$5=requireObjectCoercible$q,correctIsRegExpLogic=correctIsRegexpLogic,stringSlice$9=uncurryThis$T("".slice),min$4=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("startsWith"),MDN_POLYFILL_BUG=!CORRECT_IS_REGEXP_LOGIC&&!!function(){var e=getOwnPropertyDescriptor$4(String.prototype,"startsWith");return e&&!e.writable}();$$2Y({target:"String",proto:!0,forced:!MDN_POLYFILL_BUG&&!CORRECT_IS_REGEXP_LOGIC},{startsWith:function(e){var t=toString$h(requireObjectCoercible$5(this));notARegExp(e);var r=toLength$2(min$4(arguments.length>1?arguments[1]:void 0,t.length)),n=toString$h(e);return stringSlice$9(t,r,r+n.length)===n}});var $$2X=_export,uncurryThis$S=functionUncurryThis,requireObjectCoercible$4=requireObjectCoercible$q,toIntegerOrInfinity$6=toIntegerOrInfinity$p,toString$g=toString$K,stringSlice$8=uncurryThis$S("".slice),max$3=Math.max,min$3=Math.min,FORCED$4=!"".substr||"ab".substr(-1)!=="b";$$2X({target:"String",proto:!0,forced:FORCED$4},{substr:function(e,t){var r=toString$g(requireObjectCoercible$4(this)),n=r.length,a=toIntegerOrInfinity$6(e),o,u;return a===1/0&&(a=0),a<0&&(a=max$3(n+a,0)),o=t===void 0?n:toIntegerOrInfinity$6(t),o<=0||o===1/0?"":(u=min$3(a+o,n),a>=u?"":stringSlice$8(r,a,u))}});var $$2W=_export,call$P=functionCall,uncurryThis$R=functionUncurryThis,requireObjectCoercible$3=requireObjectCoercible$q,toString$f=toString$K,fails$o=fails$1z,$Array$2=Array,charAt$c=uncurryThis$R("".charAt),charCodeAt$4=uncurryThis$R("".charCodeAt),join$5=uncurryThis$R([].join),$toWellFormed="".toWellFormed,REPLACEMENT_CHARACTER="\uFFFD",TO_STRING_CONVERSION_BUG=$toWellFormed&&fails$o(function(){return call$P($toWellFormed,1)!=="1"});$$2W({target:"String",proto:!0,forced:TO_STRING_CONVERSION_BUG},{toWellFormed:function(){var e=toString$f(requireObjectCoercible$3(this));if(TO_STRING_CONVERSION_BUG)return call$P($toWellFormed,e);for(var t=e.length,r=$Array$2(t),n=0;n<t;n++){var a=charCodeAt$4(e,n);(a&63488)!==55296?r[n]=charAt$c(e,n):a>=56320||n+1>=t||(charCodeAt$4(e,n+1)&64512)!==56320?r[n]=REPLACEMENT_CHARACTER:(r[n]=charAt$c(e,n),r[++n]=charAt$c(e,n))}return join$5(r,"")}});var PROPER_FUNCTION_NAME=functionName.PROPER,fails$n=fails$1z,whitespaces$2=whitespaces$6,non="\u200B\x85\u180E",stringTrimForced=function(e){return fails$n(function(){return!!whitespaces$2[e]()||non[e]()!==non||PROPER_FUNCTION_NAME&&whitespaces$2[e].name!==e})},$$2V=_export,$trim=stringTrim.trim,forcedStringTrimMethod$2=stringTrimForced;$$2V({target:"String",proto:!0,forced:forcedStringTrimMethod$2("trim")},{trim:function(){return $trim(this)}});var $trimEnd=stringTrim.end,forcedStringTrimMethod$1=stringTrimForced,stringTrimEnd=forcedStringTrimMethod$1("trimEnd")?function(){return $trimEnd(this)}:"".trimEnd,$$2U=_export,trimEnd$1=stringTrimEnd;$$2U({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==trimEnd$1},{trimRight:trimEnd$1});var $$2T=_export,trimEnd=stringTrimEnd;$$2T({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==trimEnd},{trimEnd});var $trimStart=stringTrim.start,forcedStringTrimMethod=stringTrimForced,stringTrimStart=forcedStringTrimMethod("trimStart")?function(){return $trimStart(this)}:"".trimStart,$$2S=_export,trimStart$1=stringTrimStart;$$2S({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==trimStart$1},{trimLeft:trimStart$1});var $$2R=_export,trimStart=stringTrimStart;$$2R({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==trimStart},{trimStart});var uncurryThis$Q=functionUncurryThis,requireObjectCoercible$2=requireObjectCoercible$q,toString$e=toString$K,quot=/"/g,replace$6=uncurryThis$Q("".replace),createHtml=function(e,t,r,n){var a=toString$e(requireObjectCoercible$2(e)),o="<"+t;return r!==""&&(o+=" "+r+'="'+replace$6(toString$e(n),quot,"&quot;")+'"'),o+">"+a+"</"+t+">"},fails$m=fails$1z,stringHtmlForced=function(e){return fails$m(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})},$$2Q=_export,createHTML$c=createHtml,forcedStringHTMLMethod$c=stringHtmlForced;$$2Q({target:"String",proto:!0,forced:forcedStringHTMLMethod$c("anchor")},{anchor:function(e){return createHTML$c(this,"a","name",e)}});var $$2P=_export,createHTML$b=createHtml,forcedStringHTMLMethod$b=stringHtmlForced;$$2P({target:"String",proto:!0,forced:forcedStringHTMLMethod$b("big")},{big:function(){return createHTML$b(this,"big","","")}});var $$2O=_export,createHTML$a=createHtml,forcedStringHTMLMethod$a=stringHtmlForced;$$2O({target:"String",proto:!0,forced:forcedStringHTMLMethod$a("blink")},{blink:function(){return createHTML$a(this,"blink","","")}});var $$2N=_export,createHTML$9=createHtml,forcedStringHTMLMethod$9=stringHtmlForced;$$2N({target:"String",proto:!0,forced:forcedStringHTMLMethod$9("bold")},{bold:function(){return createHTML$9(this,"b","","")}});var $$2M=_export,createHTML$8=createHtml,forcedStringHTMLMethod$8=stringHtmlForced;$$2M({target:"String",proto:!0,forced:forcedStringHTMLMethod$8("fixed")},{fixed:function(){return createHTML$8(this,"tt","","")}});var $$2L=_export,createHTML$7=createHtml,forcedStringHTMLMethod$7=stringHtmlForced;$$2L({target:"String",proto:!0,forced:forcedStringHTMLMethod$7("fontcolor")},{fontcolor:function(e){return createHTML$7(this,"font","color",e)}});var $$2K=_export,createHTML$6=createHtml,forcedStringHTMLMethod$6=stringHtmlForced;$$2K({target:"String",proto:!0,forced:forcedStringHTMLMethod$6("fontsize")},{fontsize:function(e){return createHTML$6(this,"font","size",e)}});var $$2J=_export,createHTML$5=createHtml,forcedStringHTMLMethod$5=stringHtmlForced;$$2J({target:"String",proto:!0,forced:forcedStringHTMLMethod$5("italics")},{italics:function(){return createHTML$5(this,"i","","")}});var $$2I=_export,createHTML$4=createHtml,forcedStringHTMLMethod$4=stringHtmlForced;$$2I({target:"String",proto:!0,forced:forcedStringHTMLMethod$4("link")},{link:function(e){return createHTML$4(this,"a","href",e)}});var $$2H=_export,createHTML$3=createHtml,forcedStringHTMLMethod$3=stringHtmlForced;$$2H({target:"String",proto:!0,forced:forcedStringHTMLMethod$3("small")},{small:function(){return createHTML$3(this,"small","","")}});var $$2G=_export,createHTML$2=createHtml,forcedStringHTMLMethod$2=stringHtmlForced;$$2G({target:"String",proto:!0,forced:forcedStringHTMLMethod$2("strike")},{strike:function(){return createHTML$2(this,"strike","","")}});var $$2F=_export,createHTML$1=createHtml,forcedStringHTMLMethod$1=stringHtmlForced;$$2F({target:"String",proto:!0,forced:forcedStringHTMLMethod$1("sub")},{sub:function(){return createHTML$1(this,"sub","","")}});var $$2E=_export,createHTML=createHtml,forcedStringHTMLMethod=stringHtmlForced;$$2E({target:"String",proto:!0,forced:forcedStringHTMLMethod("sup")},{sup:function(){return createHTML(this,"sup","","")}});var typedArrayConstructor={exports:{}},global$u=global$18,fails$l=fails$1z,checkCorrectnessOfIteration=checkCorrectnessOfIteration$4,NATIVE_ARRAY_BUFFER_VIEWS$1=arrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS,ArrayBuffer$2=global$u.ArrayBuffer,Int8Array$3=global$u.Int8Array,typedArrayConstructorsRequireWrappers=!NATIVE_ARRAY_BUFFER_VIEWS$1||!fails$l(function(){Int8Array$3(1)})||!fails$l(function(){new Int8Array$3(-1)})||!checkCorrectnessOfIteration(function(e){new Int8Array$3,new Int8Array$3(null),new Int8Array$3(1.5),new Int8Array$3(e)},!0)||fails$l(function(){return new Int8Array$3(new ArrayBuffer$2(2),1,void 0).length!==1}),toIntegerOrInfinity$5=toIntegerOrInfinity$p,$RangeError$7=RangeError,toPositiveInteger$5=function(e){var t=toIntegerOrInfinity$5(e);if(t<0)throw new $RangeError$7("The argument can't be less than 0");return t},toPositiveInteger$4=toPositiveInteger$5,$RangeError$6=RangeError,toOffset$2=function(e,t){var r=toPositiveInteger$4(e);if(r%t)throw new $RangeError$6("Wrong offset");return r},round=Math.round,toUint8Clamped$2=function(e){var t=round(e);return t<0?0:t>255?255:t&255},classof$7=classof$q,isBigIntArray$3=function(e){var t=classof$7(e);return t==="BigInt64Array"||t==="BigUint64Array"},toPrimitive=toPrimitive$4,$TypeError$p=TypeError,toBigInt$5=function(e){var t=toPrimitive(e,"number");if(typeof t=="number")throw new $TypeError$p("Can't convert number to bigint");return BigInt(t)},bind$l=functionBindContext,call$O=functionCall,aConstructor$1=aConstructor$4,toObject$b=toObject$E,lengthOfArrayLike$c=lengthOfArrayLike$B,getIterator$4=getIterator$7,getIteratorMethod$4=getIteratorMethod$8,isArrayIteratorMethod=isArrayIteratorMethod$3,isBigIntArray$2=isBigIntArray$3,aTypedArrayConstructor$3=arrayBufferViewCore.aTypedArrayConstructor,toBigInt$4=toBigInt$5,typedArrayFrom$2=function(e){var t=aConstructor$1(this),r=toObject$b(e),n=arguments.length,a=n>1?arguments[1]:void 0,o=a!==void 0,u=getIteratorMethod$4(r),p,b,m,y,A,I,M,C;if(u&&!isArrayIteratorMethod(u))for(M=getIterator$4(r,u),C=M.next,r=[];!(I=call$O(C,M)).done;)r.push(I.value);for(o&&n>2&&(a=bind$l(a,arguments[2])),b=lengthOfArrayLike$c(r),m=new(aTypedArrayConstructor$3(t))(b),y=isBigIntArray$2(m),p=0;b>p;p++)A=o?a(r[p],p):r[p],m[p]=y?toBigInt$4(A):+A;return m},$$2D=_export,global$t=global$18,call$N=functionCall,DESCRIPTORS$h=descriptors,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$2=typedArrayConstructorsRequireWrappers,ArrayBufferViewCore$A=arrayBufferViewCore,ArrayBufferModule=arrayBuffer,anInstance$a=anInstance$f,createPropertyDescriptor$4=createPropertyDescriptor$d,createNonEnumerableProperty$7=createNonEnumerableProperty$j,isIntegralNumber=isIntegralNumber$3,toLength$1=toLength$d,toIndex$2=toIndex$5,toOffset$1=toOffset$2,toUint8Clamped$1=toUint8Clamped$2,toPropertyKey$1=toPropertyKey$9,hasOwn$h=hasOwnProperty_1,classof$6=classof$q,isObject$h=isObject$O,isSymbol$2=isSymbol$8,create$a=objectCreate$1,isPrototypeOf$3=objectIsPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf$1,getOwnPropertyNames$1=objectGetOwnPropertyNames.f,typedArrayFrom$1=typedArrayFrom$2,forEach$6=arrayIteration.forEach,setSpecies$1=setSpecies$7,defineBuiltInAccessor$c=defineBuiltInAccessor$p,definePropertyModule=objectDefineProperty,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,arrayFromConstructorAndList$6=arrayFromConstructorAndList$8,InternalStateModule$e=internalState,inheritIfRequired$1=inheritIfRequired$7,getInternalState$7=InternalStateModule$e.get,setInternalState$f=InternalStateModule$e.set,enforceInternalState$1=InternalStateModule$e.enforce,nativeDefineProperty=definePropertyModule.f,nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f,RangeError$2=global$t.RangeError,ArrayBuffer$1=ArrayBufferModule.ArrayBuffer,ArrayBufferPrototype=ArrayBuffer$1.prototype,DataView$1=ArrayBufferModule.DataView,NATIVE_ARRAY_BUFFER_VIEWS=ArrayBufferViewCore$A.NATIVE_ARRAY_BUFFER_VIEWS,TYPED_ARRAY_TAG=ArrayBufferViewCore$A.TYPED_ARRAY_TAG,TypedArray$2=ArrayBufferViewCore$A.TypedArray,TypedArrayPrototype$1=ArrayBufferViewCore$A.TypedArrayPrototype,isTypedArray$1=ArrayBufferViewCore$A.isTypedArray,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",WRONG_LENGTH="Wrong length",addGetter$1=function(e,t){defineBuiltInAccessor$c(e,t,{configurable:!0,get:function(){return getInternalState$7(this)[t]}})},isArrayBuffer=function(e){var t;return isPrototypeOf$3(ArrayBufferPrototype,e)||(t=classof$6(e))==="ArrayBuffer"||t==="SharedArrayBuffer"},isTypedArrayIndex=function(e,t){return isTypedArray$1(e)&&!isSymbol$2(t)&&t in e&&isIntegralNumber(+t)&&t>=0},wrappedGetOwnPropertyDescriptor=function(e,t){return t=toPropertyKey$1(t),isTypedArrayIndex(e,t)?createPropertyDescriptor$4(2,e[t]):nativeGetOwnPropertyDescriptor(e,t)},wrappedDefineProperty=function(e,t,r){return t=toPropertyKey$1(t),isTypedArrayIndex(e,t)&&isObject$h(r)&&hasOwn$h(r,"value")&&!hasOwn$h(r,"get")&&!hasOwn$h(r,"set")&&!r.configurable&&(!hasOwn$h(r,"writable")||r.writable)&&(!hasOwn$h(r,"enumerable")||r.enumerable)?(e[t]=r.value,e):nativeDefineProperty(e,t,r)};DESCRIPTORS$h?(NATIVE_ARRAY_BUFFER_VIEWS||(getOwnPropertyDescriptorModule.f=wrappedGetOwnPropertyDescriptor,definePropertyModule.f=wrappedDefineProperty,addGetter$1(TypedArrayPrototype$1,"buffer"),addGetter$1(TypedArrayPrototype$1,"byteOffset"),addGetter$1(TypedArrayPrototype$1,"byteLength"),addGetter$1(TypedArrayPrototype$1,"length")),$$2D({target:"Object",stat:!0,forced:!NATIVE_ARRAY_BUFFER_VIEWS},{getOwnPropertyDescriptor:wrappedGetOwnPropertyDescriptor,defineProperty:wrappedDefineProperty}),typedArrayConstructor.exports=function(e,t,r){var n=e.match(/\d+/)[0]/8,a=e+(r?"Clamped":"")+"Array",o="get"+e,u="set"+e,p=global$t[a],b=p,m=b&&b.prototype,y={},A=function(P,B){var k=getInternalState$7(P);return k.view[o](B*n+k.byteOffset,!0)},I=function(P,B,k){var N=getInternalState$7(P);N.view[u](B*n+N.byteOffset,r?toUint8Clamped$1(k):k,!0)},M=function(P,B){nativeDefineProperty(P,B,{get:function(){return A(this,B)},set:function(k){return I(this,B,k)},enumerable:!0})};NATIVE_ARRAY_BUFFER_VIEWS?TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$2&&(b=t(function(P,B,k,N){return anInstance$a(P,m),inheritIfRequired$1(function(){return isObject$h(B)?isArrayBuffer(B)?N!==void 0?new p(B,toOffset$1(k,n),N):k!==void 0?new p(B,toOffset$1(k,n)):new p(B):isTypedArray$1(B)?arrayFromConstructorAndList$6(b,B):call$N(typedArrayFrom$1,b,B):new p(toIndex$2(B))}(),P,b)}),setPrototypeOf$1&&setPrototypeOf$1(b,TypedArray$2),forEach$6(getOwnPropertyNames$1(p),function(P){P in b||createNonEnumerableProperty$7(b,P,p[P])}),b.prototype=m):(b=t(function(P,B,k,N){anInstance$a(P,m);var D=0,L=0,K,J,ce;if(!isObject$h(B))ce=toIndex$2(B),J=ce*n,K=new ArrayBuffer$1(J);else if(isArrayBuffer(B)){K=B,L=toOffset$1(k,n);var oe=B.byteLength;if(N===void 0){if(oe%n)throw new RangeError$2(WRONG_LENGTH);if(J=oe-L,J<0)throw new RangeError$2(WRONG_LENGTH)}else if(J=toLength$1(N)*n,J+L>oe)throw new RangeError$2(WRONG_LENGTH);ce=J/n}else return isTypedArray$1(B)?arrayFromConstructorAndList$6(b,B):call$N(typedArrayFrom$1,b,B);for(setInternalState$f(P,{buffer:K,byteOffset:L,byteLength:J,length:ce,view:new DataView$1(K)});D<ce;)M(P,D++)}),setPrototypeOf$1&&setPrototypeOf$1(b,TypedArray$2),m=b.prototype=create$a(TypedArrayPrototype$1)),m.constructor!==b&&createNonEnumerableProperty$7(m,"constructor",b),enforceInternalState$1(m).TypedArrayConstructor=b,TYPED_ARRAY_TAG&&createNonEnumerableProperty$7(m,TYPED_ARRAY_TAG,a);var C=b!==p;y[a]=b,$$2D({global:!0,constructor:!0,forced:C,sham:!NATIVE_ARRAY_BUFFER_VIEWS},y),BYTES_PER_ELEMENT in b||createNonEnumerableProperty$7(b,BYTES_PER_ELEMENT,n),BYTES_PER_ELEMENT in m||createNonEnumerableProperty$7(m,BYTES_PER_ELEMENT,n),setSpecies$1(a)}):typedArrayConstructor.exports=function(){};var typedArrayConstructorExports=typedArrayConstructor.exports,createTypedArrayConstructor$8=typedArrayConstructorExports;createTypedArrayConstructor$8("Float32",function(e){return function(t,r,n){return e(this,t,r,n)}});var createTypedArrayConstructor$7=typedArrayConstructorExports;createTypedArrayConstructor$7("Float64",function(e){return function(t,r,n){return e(this,t,r,n)}});var createTypedArrayConstructor$6=typedArrayConstructorExports;createTypedArrayConstructor$6("Int8",function(e){return function(t,r,n){return e(this,t,r,n)}});var createTypedArrayConstructor$5=typedArrayConstructorExports;createTypedArrayConstructor$5("Int16",function(e){return function(t,r,n){return e(this,t,r,n)}});var createTypedArrayConstructor$4=typedArrayConstructorExports;createTypedArrayConstructor$4("Int32",function(e){return function(t,r,n){return e(this,t,r,n)}});var createTypedArrayConstructor$3=typedArrayConstructorExports;createTypedArrayConstructor$3("Uint8",function(e){return function(t,r,n){return e(this,t,r,n)}});var createTypedArrayConstructor$2=typedArrayConstructorExports;createTypedArrayConstructor$2("Uint8",function(e){return function(t,r,n){return e(this,t,r,n)}},!0);var createTypedArrayConstructor$1=typedArrayConstructorExports;createTypedArrayConstructor$1("Uint16",function(e){return function(t,r,n){return e(this,t,r,n)}});var createTypedArrayConstructor=typedArrayConstructorExports;createTypedArrayConstructor("Uint32",function(e){return function(t,r,n){return e(this,t,r,n)}});var ArrayBufferViewCore$z=arrayBufferViewCore,lengthOfArrayLike$b=lengthOfArrayLike$B,toIntegerOrInfinity$4=toIntegerOrInfinity$p,aTypedArray$w=ArrayBufferViewCore$z.aTypedArray,exportTypedArrayMethod$x=ArrayBufferViewCore$z.exportTypedArrayMethod;exportTypedArrayMethod$x("at",function(e){var t=aTypedArray$w(this),r=lengthOfArrayLike$b(t),n=toIntegerOrInfinity$4(e),a=n>=0?n:r+n;return a<0||a>=r?void 0:t[a]});var uncurryThis$P=functionUncurryThis,ArrayBufferViewCore$y=arrayBufferViewCore,$ArrayCopyWithin=arrayCopyWithin,u$ArrayCopyWithin=uncurryThis$P($ArrayCopyWithin),aTypedArray$v=ArrayBufferViewCore$y.aTypedArray,exportTypedArrayMethod$w=ArrayBufferViewCore$y.exportTypedArrayMethod;exportTypedArrayMethod$w("copyWithin",function(e,t){return u$ArrayCopyWithin(aTypedArray$v(this),e,t,arguments.length>2?arguments[2]:void 0)});var ArrayBufferViewCore$x=arrayBufferViewCore,$every$1=arrayIteration.every,aTypedArray$u=ArrayBufferViewCore$x.aTypedArray,exportTypedArrayMethod$v=ArrayBufferViewCore$x.exportTypedArrayMethod;exportTypedArrayMethod$v("every",function(e){return $every$1(aTypedArray$u(this),e,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$w=arrayBufferViewCore,$fill=arrayFill$1,toBigInt$3=toBigInt$5,classof$5=classof$q,call$M=functionCall,uncurryThis$O=functionUncurryThis,fails$k=fails$1z,aTypedArray$t=ArrayBufferViewCore$w.aTypedArray,exportTypedArrayMethod$u=ArrayBufferViewCore$w.exportTypedArrayMethod,slice$4=uncurryThis$O("".slice),CONVERSION_BUG=fails$k(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),e!==1});exportTypedArrayMethod$u("fill",function(e){var t=arguments.length;aTypedArray$t(this);var r=slice$4(classof$5(this),0,3)==="Big"?toBigInt$3(e):+e;return call$M($fill,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)},CONVERSION_BUG);var ArrayBufferViewCore$v=arrayBufferViewCore,speciesConstructor=speciesConstructor$6,aTypedArrayConstructor$2=ArrayBufferViewCore$v.aTypedArrayConstructor,getTypedArrayConstructor$5=ArrayBufferViewCore$v.getTypedArrayConstructor,typedArraySpeciesConstructor$5=function(e){return aTypedArrayConstructor$2(speciesConstructor(e,getTypedArrayConstructor$5(e)))},arrayFromConstructorAndList$5=arrayFromConstructorAndList$8,typedArraySpeciesConstructor$4=typedArraySpeciesConstructor$5,typedArrayFromSpeciesAndList=function(e,t){return arrayFromConstructorAndList$5(typedArraySpeciesConstructor$4(e),t)},ArrayBufferViewCore$u=arrayBufferViewCore,$filter=arrayIteration.filter,fromSpeciesAndList$2=typedArrayFromSpeciesAndList,aTypedArray$s=ArrayBufferViewCore$u.aTypedArray,exportTypedArrayMethod$t=ArrayBufferViewCore$u.exportTypedArrayMethod;exportTypedArrayMethod$t("filter",function(e){var t=$filter(aTypedArray$s(this),e,arguments.length>1?arguments[1]:void 0);return fromSpeciesAndList$2(this,t)});var ArrayBufferViewCore$t=arrayBufferViewCore,$find$1=arrayIteration.find,aTypedArray$r=ArrayBufferViewCore$t.aTypedArray,exportTypedArrayMethod$s=ArrayBufferViewCore$t.exportTypedArrayMethod;exportTypedArrayMethod$s("find",function(e){return $find$1(aTypedArray$r(this),e,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$s=arrayBufferViewCore,$findIndex=arrayIteration.findIndex,aTypedArray$q=ArrayBufferViewCore$s.aTypedArray,exportTypedArrayMethod$r=ArrayBufferViewCore$s.exportTypedArrayMethod;exportTypedArrayMethod$r("findIndex",function(e){return $findIndex(aTypedArray$q(this),e,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$r=arrayBufferViewCore,$findLast=arrayIterationFromLast.findLast,aTypedArray$p=ArrayBufferViewCore$r.aTypedArray,exportTypedArrayMethod$q=ArrayBufferViewCore$r.exportTypedArrayMethod;exportTypedArrayMethod$q("findLast",function(e){return $findLast(aTypedArray$p(this),e,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$q=arrayBufferViewCore,$findLastIndex=arrayIterationFromLast.findLastIndex,aTypedArray$o=ArrayBufferViewCore$q.aTypedArray,exportTypedArrayMethod$p=ArrayBufferViewCore$q.exportTypedArrayMethod;exportTypedArrayMethod$p("findLastIndex",function(e){return $findLastIndex(aTypedArray$o(this),e,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$p=arrayBufferViewCore,$forEach$1=arrayIteration.forEach,aTypedArray$n=ArrayBufferViewCore$p.aTypedArray,exportTypedArrayMethod$o=ArrayBufferViewCore$p.exportTypedArrayMethod;exportTypedArrayMethod$o("forEach",function(e){$forEach$1(aTypedArray$n(this),e,arguments.length>1?arguments[1]:void 0)});var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1=typedArrayConstructorsRequireWrappers,exportTypedArrayStaticMethod$2=arrayBufferViewCore.exportTypedArrayStaticMethod,typedArrayFrom=typedArrayFrom$2;exportTypedArrayStaticMethod$2("from",typedArrayFrom,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS$1);var ArrayBufferViewCore$o=arrayBufferViewCore,$includes=arrayIncludes.includes,aTypedArray$m=ArrayBufferViewCore$o.aTypedArray,exportTypedArrayMethod$n=ArrayBufferViewCore$o.exportTypedArrayMethod;exportTypedArrayMethod$n("includes",function(e){return $includes(aTypedArray$m(this),e,arguments.length>1?arguments[1]:void 0)});var ArrayBufferViewCore$n=arrayBufferViewCore,$indexOf$2=arrayIncludes.indexOf,aTypedArray$l=ArrayBufferViewCore$n.aTypedArray,exportTypedArrayMethod$m=ArrayBufferViewCore$n.exportTypedArrayMethod;exportTypedArrayMethod$m("indexOf",function(e){return $indexOf$2(aTypedArray$l(this),e,arguments.length>1?arguments[1]:void 0)});var global$s=global$18,fails$j=fails$1z,uncurryThis$N=functionUncurryThis,ArrayBufferViewCore$m=arrayBufferViewCore,ArrayIterators=es_array_iterator,wellKnownSymbol$m=wellKnownSymbol$S,ITERATOR$5=wellKnownSymbol$m("iterator"),Uint8Array$6=global$s.Uint8Array,arrayValues=uncurryThis$N(ArrayIterators.values),arrayKeys=uncurryThis$N(ArrayIterators.keys),arrayEntries=uncurryThis$N(ArrayIterators.entries),aTypedArray$k=ArrayBufferViewCore$m.aTypedArray,exportTypedArrayMethod$l=ArrayBufferViewCore$m.exportTypedArrayMethod,TypedArrayPrototype=Uint8Array$6&&Uint8Array$6.prototype,GENERIC=!fails$j(function(){TypedArrayPrototype[ITERATOR$5].call([1])}),ITERATOR_IS_VALUES=!!TypedArrayPrototype&&TypedArrayPrototype.values&&TypedArrayPrototype[ITERATOR$5]===TypedArrayPrototype.values&&TypedArrayPrototype.values.name==="values",typedArrayValues=function(){return arrayValues(aTypedArray$k(this))};exportTypedArrayMethod$l("entries",function(){return arrayEntries(aTypedArray$k(this))},GENERIC),exportTypedArrayMethod$l("keys",function(){return arrayKeys(aTypedArray$k(this))},GENERIC),exportTypedArrayMethod$l("values",typedArrayValues,GENERIC||!ITERATOR_IS_VALUES,{name:"values"}),exportTypedArrayMethod$l(ITERATOR$5,typedArrayValues,GENERIC||!ITERATOR_IS_VALUES,{name:"values"});var ArrayBufferViewCore$l=arrayBufferViewCore,uncurryThis$M=functionUncurryThis,aTypedArray$j=ArrayBufferViewCore$l.aTypedArray,exportTypedArrayMethod$k=ArrayBufferViewCore$l.exportTypedArrayMethod,$join=uncurryThis$M([].join);exportTypedArrayMethod$k("join",function(e){return $join(aTypedArray$j(this),e)});var ArrayBufferViewCore$k=arrayBufferViewCore,apply$6=functionApply$1,$lastIndexOf=arrayLastIndexOf,aTypedArray$i=ArrayBufferViewCore$k.aTypedArray,exportTypedArrayMethod$j=ArrayBufferViewCore$k.exportTypedArrayMethod;exportTypedArrayMethod$j("lastIndexOf",function(e){var t=arguments.length;return apply$6($lastIndexOf,aTypedArray$i(this),t>1?[e,arguments[1]]:[e])});var ArrayBufferViewCore$j=arrayBufferViewCore,$map=arrayIteration.map,typedArraySpeciesConstructor$3=typedArraySpeciesConstructor$5,aTypedArray$h=ArrayBufferViewCore$j.aTypedArray,exportTypedArrayMethod$i=ArrayBufferViewCore$j.exportTypedArrayMethod;exportTypedArrayMethod$i("map",function(e){return $map(aTypedArray$h(this),e,arguments.length>1?arguments[1]:void 0,function(t,r){return new(typedArraySpeciesConstructor$3(t))(r)})});var ArrayBufferViewCore$i=arrayBufferViewCore,TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS=typedArrayConstructorsRequireWrappers,aTypedArrayConstructor$1=ArrayBufferViewCore$i.aTypedArrayConstructor,exportTypedArrayStaticMethod$1=ArrayBufferViewCore$i.exportTypedArrayStaticMethod;exportTypedArrayStaticMethod$1("of",function(){for(var e=0,t=arguments.length,r=new(aTypedArrayConstructor$1(this))(t);t>e;)r[e]=arguments[e++];return r},TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);var ArrayBufferViewCore$h=arrayBufferViewCore,$reduce=arrayReduce.left,aTypedArray$g=ArrayBufferViewCore$h.aTypedArray,exportTypedArrayMethod$h=ArrayBufferViewCore$h.exportTypedArrayMethod;exportTypedArrayMethod$h("reduce",function(e){var t=arguments.length;return $reduce(aTypedArray$g(this),e,t,t>1?arguments[1]:void 0)});var ArrayBufferViewCore$g=arrayBufferViewCore,$reduceRight=arrayReduce.right,aTypedArray$f=ArrayBufferViewCore$g.aTypedArray,exportTypedArrayMethod$g=ArrayBufferViewCore$g.exportTypedArrayMethod;exportTypedArrayMethod$g("reduceRight",function(e){var t=arguments.length;return $reduceRight(aTypedArray$f(this),e,t,t>1?arguments[1]:void 0)});var ArrayBufferViewCore$f=arrayBufferViewCore,aTypedArray$e=ArrayBufferViewCore$f.aTypedArray,exportTypedArrayMethod$f=ArrayBufferViewCore$f.exportTypedArrayMethod,floor$2=Math.floor;exportTypedArrayMethod$f("reverse",function(){for(var e=this,t=aTypedArray$e(e).length,r=floor$2(t/2),n=0,a;n<r;)a=e[n],e[n++]=e[--t],e[t]=a;return e});var global$r=global$18,call$L=functionCall,ArrayBufferViewCore$e=arrayBufferViewCore,lengthOfArrayLike$a=lengthOfArrayLike$B,toOffset=toOffset$2,toIndexedObject$1=toObject$E,fails$i=fails$1z,RangeError$1=global$r.RangeError,Int8Array$2=global$r.Int8Array,Int8ArrayPrototype=Int8Array$2&&Int8Array$2.prototype,$set=Int8ArrayPrototype&&Int8ArrayPrototype.set,aTypedArray$d=ArrayBufferViewCore$e.aTypedArray,exportTypedArrayMethod$e=ArrayBufferViewCore$e.exportTypedArrayMethod,WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS=!fails$i(function(){var e=new Uint8ClampedArray(2);return call$L($set,e,{length:1,0:3},1),e[1]!==3}),TO_OBJECT_BUG=WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS&&ArrayBufferViewCore$e.NATIVE_ARRAY_BUFFER_VIEWS&&fails$i(function(){var e=new Int8Array$2(2);return e.set(1),e.set("2",1),e[0]!==0||e[1]!==2});exportTypedArrayMethod$e("set",function(e){aTypedArray$d(this);var t=toOffset(arguments.length>1?arguments[1]:void 0,1),r=toIndexedObject$1(e);if(WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS)return call$L($set,this,r,t);var n=this.length,a=lengthOfArrayLike$a(r),o=0;if(a+t>n)throw new RangeError$1("Wrong length");for(;o<a;)this[t+o]=r[o++]},!WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS||TO_OBJECT_BUG);var ArrayBufferViewCore$d=arrayBufferViewCore,typedArraySpeciesConstructor$2=typedArraySpeciesConstructor$5,fails$h=fails$1z,arraySlice$3=arraySlice$a,aTypedArray$c=ArrayBufferViewCore$d.aTypedArray,exportTypedArrayMethod$d=ArrayBufferViewCore$d.exportTypedArrayMethod,FORCED$3=fails$h(function(){new Int8Array(1).slice()});exportTypedArrayMethod$d("slice",function(e,t){for(var r=arraySlice$3(aTypedArray$c(this),e,t),n=typedArraySpeciesConstructor$2(this),a=0,o=r.length,u=new n(o);o>a;)u[a]=r[a++];return u},FORCED$3);var ArrayBufferViewCore$c=arrayBufferViewCore,$some$1=arrayIteration.some,aTypedArray$b=ArrayBufferViewCore$c.aTypedArray,exportTypedArrayMethod$c=ArrayBufferViewCore$c.exportTypedArrayMethod;exportTypedArrayMethod$c("some",function(e){return $some$1(aTypedArray$b(this),e,arguments.length>1?arguments[1]:void 0)});var global$q=global$18,uncurryThis$L=functionUncurryThisClause,fails$g=fails$1z,aCallable$r=aCallable$N,internalSort=arraySort$1,ArrayBufferViewCore$b=arrayBufferViewCore,FF=engineFfVersion,IE_OR_EDGE=engineIsIeOrEdge,V8=engineV8Version,WEBKIT=engineWebkitVersion,aTypedArray$a=ArrayBufferViewCore$b.aTypedArray,exportTypedArrayMethod$b=ArrayBufferViewCore$b.exportTypedArrayMethod,Uint16Array$1=global$q.Uint16Array,nativeSort=Uint16Array$1&&uncurryThis$L(Uint16Array$1.prototype.sort),ACCEPT_INCORRECT_ARGUMENTS=!!nativeSort&&!(fails$g(function(){nativeSort(new Uint16Array$1(2),null)})&&fails$g(function(){nativeSort(new Uint16Array$1(2),{})})),STABLE_SORT=!!nativeSort&&!fails$g(function(){if(V8)return V8<74;if(FF)return FF<67;if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<602;var e=new Uint16Array$1(516),t=Array(516),r,n;for(r=0;r<516;r++)n=r%4,e[r]=515-r,t[r]=r-2*n+3;for(nativeSort(e,function(a,o){return(a/4|0)-(o/4|0)}),r=0;r<516;r++)if(e[r]!==t[r])return!0}),getSortCompare=function(e){return function(t,r){return e!==void 0?+e(t,r)||0:r!==r?-1:t!==t?1:t===0&&r===0?1/t>0&&1/r<0?1:-1:t>r}};exportTypedArrayMethod$b("sort",function(e){return e!==void 0&&aCallable$r(e),STABLE_SORT?nativeSort(this,e):internalSort(aTypedArray$a(this),getSortCompare(e))},!STABLE_SORT||ACCEPT_INCORRECT_ARGUMENTS);var ArrayBufferViewCore$a=arrayBufferViewCore,toLength=toLength$d,toAbsoluteIndex$1=toAbsoluteIndex$a,typedArraySpeciesConstructor$1=typedArraySpeciesConstructor$5,aTypedArray$9=ArrayBufferViewCore$a.aTypedArray,exportTypedArrayMethod$a=ArrayBufferViewCore$a.exportTypedArrayMethod;exportTypedArrayMethod$a("subarray",function(e,t){var r=aTypedArray$9(this),n=r.length,a=toAbsoluteIndex$1(e,n),o=typedArraySpeciesConstructor$1(r);return new o(r.buffer,r.byteOffset+a*r.BYTES_PER_ELEMENT,toLength((t===void 0?n:toAbsoluteIndex$1(t,n))-a))});var global$p=global$18,apply$5=functionApply$1,ArrayBufferViewCore$9=arrayBufferViewCore,fails$f=fails$1z,arraySlice$2=arraySlice$a,Int8Array$1=global$p.Int8Array,aTypedArray$8=ArrayBufferViewCore$9.aTypedArray,exportTypedArrayMethod$9=ArrayBufferViewCore$9.exportTypedArrayMethod,$toLocaleString=[].toLocaleString,TO_LOCALE_STRING_BUG=!!Int8Array$1&&fails$f(function(){$toLocaleString.call(new Int8Array$1(1))}),FORCED$2=fails$f(function(){return[1,2].toLocaleString()!==new Int8Array$1([1,2]).toLocaleString()})||!fails$f(function(){Int8Array$1.prototype.toLocaleString.call([1,2])});exportTypedArrayMethod$9("toLocaleString",function(){return apply$5($toLocaleString,TO_LOCALE_STRING_BUG?arraySlice$2(aTypedArray$8(this)):aTypedArray$8(this),arraySlice$2(arguments))},FORCED$2);var arrayToReversed=arrayToReversed$2,ArrayBufferViewCore$8=arrayBufferViewCore,aTypedArray$7=ArrayBufferViewCore$8.aTypedArray,exportTypedArrayMethod$8=ArrayBufferViewCore$8.exportTypedArrayMethod,getTypedArrayConstructor$4=ArrayBufferViewCore$8.getTypedArrayConstructor;exportTypedArrayMethod$8("toReversed",function(){return arrayToReversed(aTypedArray$7(this),getTypedArrayConstructor$4(this))});var ArrayBufferViewCore$7=arrayBufferViewCore,uncurryThis$K=functionUncurryThis,aCallable$q=aCallable$N,arrayFromConstructorAndList$4=arrayFromConstructorAndList$8,aTypedArray$6=ArrayBufferViewCore$7.aTypedArray,getTypedArrayConstructor$3=ArrayBufferViewCore$7.getTypedArrayConstructor,exportTypedArrayMethod$7=ArrayBufferViewCore$7.exportTypedArrayMethod,sort=uncurryThis$K(ArrayBufferViewCore$7.TypedArrayPrototype.sort);exportTypedArrayMethod$7("toSorted",function(e){e!==void 0&&aCallable$q(e);var t=aTypedArray$6(this),r=arrayFromConstructorAndList$4(getTypedArrayConstructor$3(t),t);return sort(r,e)});var exportTypedArrayMethod$6=arrayBufferViewCore.exportTypedArrayMethod,fails$e=fails$1z,global$o=global$18,uncurryThis$J=functionUncurryThis,Uint8Array$5=global$o.Uint8Array,Uint8ArrayPrototype=Uint8Array$5&&Uint8Array$5.prototype||{},arrayToString=[].toString,join$4=uncurryThis$J([].join);fails$e(function(){arrayToString.call({})})&&(arrayToString=function(){return join$4(this)});var IS_NOT_ARRAY_METHOD=Uint8ArrayPrototype.toString!==arrayToString;exportTypedArrayMethod$6("toString",arrayToString,IS_NOT_ARRAY_METHOD);var arrayWith=arrayWith$2,ArrayBufferViewCore$6=arrayBufferViewCore,isBigIntArray$1=isBigIntArray$3,toIntegerOrInfinity$3=toIntegerOrInfinity$p,toBigInt$2=toBigInt$5,aTypedArray$5=ArrayBufferViewCore$6.aTypedArray,getTypedArrayConstructor$2=ArrayBufferViewCore$6.getTypedArrayConstructor,exportTypedArrayMethod$5=ArrayBufferViewCore$6.exportTypedArrayMethod,PROPER_ORDER$1=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return e===8}}();exportTypedArrayMethod$5("with",function(e,t){var r=aTypedArray$5(this),n=toIntegerOrInfinity$3(e),a=isBigIntArray$1(r)?toBigInt$2(t):+t;return arrayWith(r,getTypedArrayConstructor$2(r),n,a)},!PROPER_ORDER$1);var $$2C=_export,uncurryThis$I=functionUncurryThis,toString$d=toString$K,fromCharCode$4=String.fromCharCode,charAt$b=uncurryThis$I("".charAt),exec$a=uncurryThis$I(/./.exec),stringSlice$7=uncurryThis$I("".slice),hex2=/^[\da-f]{2}$/i,hex4=/^[\da-f]{4}$/i;$$2C({global:!0},{unescape:function(e){for(var t=toString$d(e),r="",n=t.length,a=0,o,u;a<n;){if(o=charAt$b(t,a++),o==="%"){if(charAt$b(t,a)==="u"){if(u=stringSlice$7(t,a+1,a+5),exec$a(hex4,u)){r+=fromCharCode$4(parseInt(u,16)),a+=5;continue}}else if(u=stringSlice$7(t,a,a+2),exec$a(hex2,u)){r+=fromCharCode$4(parseInt(u,16)),a+=2;continue}}r+=o}return r}});var uncurryThis$H=functionUncurryThis,defineBuiltIns$8=defineBuiltIns$b,getWeakData=internalMetadataExports.getWeakData,anInstance$9=anInstance$f,anObject$J=anObject$1h,isNullOrUndefined$6=isNullOrUndefined$j,isObject$g=isObject$O,iterate$u=iterate$H,ArrayIterationModule=arrayIteration,hasOwn$g=hasOwnProperty_1,InternalStateModule$d=internalState,setInternalState$e=InternalStateModule$d.set,internalStateGetterFor=InternalStateModule$d.getterFor,find$1=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,splice$1=uncurryThis$H([].splice),id=0,uncaughtFrozenStore=function(e){return e.frozen||(e.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(e,t){return find$1(e.entries,function(r){return r[0]===t})};UncaughtFrozenStore.prototype={get:function(e){var t=findUncaughtFrozen(this,e);if(t)return t[1]},has:function(e){return!!findUncaughtFrozen(this,e)},set:function(e,t){var r=findUncaughtFrozen(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=findIndex(this.entries,function(r){return r[0]===e});return~t&&splice$1(this.entries,t,1),!!~t}};var collectionWeak$2={getConstructor:function(e,t,r,n){var a=e(function(b,m){anInstance$9(b,o),setInternalState$e(b,{type:t,id:id++,frozen:void 0}),isNullOrUndefined$6(m)||iterate$u(m,b[n],{that:b,AS_ENTRIES:r})}),o=a.prototype,u=internalStateGetterFor(t),p=function(b,m,y){var A=u(b),I=getWeakData(anObject$J(m),!0);return I===!0?uncaughtFrozenStore(A).set(m,y):I[A.id]=y,b};return defineBuiltIns$8(o,{delete:function(b){var m=u(this);if(!isObject$g(b))return!1;var y=getWeakData(b);return y===!0?uncaughtFrozenStore(m).delete(b):y&&hasOwn$g(y,m.id)&&delete y[m.id]},has:function(b){var m=u(this);if(!isObject$g(b))return!1;var y=getWeakData(b);return y===!0?uncaughtFrozenStore(m).has(b):y&&hasOwn$g(y,m.id)}}),defineBuiltIns$8(o,r?{get:function(b){var m=u(this);if(isObject$g(b)){var y=getWeakData(b);return y===!0?uncaughtFrozenStore(m).get(b):y?y[m.id]:void 0}},set:function(b,m){return p(this,b,m)}}:{add:function(b){return p(this,b,!0)}}),a}},FREEZING$2=freezing,global$n=global$18,uncurryThis$G=functionUncurryThis,defineBuiltIns$7=defineBuiltIns$b,InternalMetadataModule=internalMetadataExports,collection$1=collection$4,collectionWeak$1=collectionWeak$2,isObject$f=isObject$O,enforceInternalState=internalState.enforce,fails$d=fails$1z,NATIVE_WEAK_MAP=weakMapBasicDetection,$Object$4=Object,isArray$2=Array.isArray,isExtensible=$Object$4.isExtensible,isFrozen$2=$Object$4.isFrozen,isSealed=$Object$4.isSealed,freeze$2=$Object$4.freeze,seal=$Object$4.seal,IS_IE11=!global$n.ActiveXObject&&"ActiveXObject"in global$n,InternalWeakMap,wrapper=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},$WeakMap=collection$1("WeakMap",wrapper,collectionWeak$1),WeakMapPrototype$1=$WeakMap.prototype,nativeSet=uncurryThis$G(WeakMapPrototype$1.set),hasMSEdgeFreezingBug=function(){return FREEZING$2&&fails$d(function(){var e=freeze$2([]);return nativeSet(new $WeakMap,e,1),!isFrozen$2(e)})};if(NATIVE_WEAK_MAP)if(IS_IE11){InternalWeakMap=collectionWeak$1.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.enable();var nativeDelete=uncurryThis$G(WeakMapPrototype$1.delete),nativeHas=uncurryThis$G(WeakMapPrototype$1.has),nativeGet=uncurryThis$G(WeakMapPrototype$1.get);defineBuiltIns$7(WeakMapPrototype$1,{delete:function(e){if(isObject$f(e)&&!isExtensible(e)){var t=enforceInternalState(this);return t.frozen||(t.frozen=new InternalWeakMap),nativeDelete(this,e)||t.frozen.delete(e)}return nativeDelete(this,e)},has:function(e){if(isObject$f(e)&&!isExtensible(e)){var t=enforceInternalState(this);return t.frozen||(t.frozen=new InternalWeakMap),nativeHas(this,e)||t.frozen.has(e)}return nativeHas(this,e)},get:function(e){if(isObject$f(e)&&!isExtensible(e)){var t=enforceInternalState(this);return t.frozen||(t.frozen=new InternalWeakMap),nativeHas(this,e)?nativeGet(this,e):t.frozen.get(e)}return nativeGet(this,e)},set:function(e,t){if(isObject$f(e)&&!isExtensible(e)){var r=enforceInternalState(this);r.frozen||(r.frozen=new InternalWeakMap),nativeHas(this,e)?nativeSet(this,e,t):r.frozen.set(e,t)}else nativeSet(this,e,t);return this}})}else hasMSEdgeFreezingBug()&&defineBuiltIns$7(WeakMapPrototype$1,{set:function(e,t){var r;return isArray$2(e)&&(isFrozen$2(e)?r=freeze$2:isSealed(e)&&(r=seal)),nativeSet(this,e,t),r&&r(e),this}});var collection=collection$4,collectionWeak=collectionWeak$2;collection("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},collectionWeak);var $$2B=_export,globalThis$2=global$18,isPrototypeOf$2=objectIsPrototypeOf,getPrototypeOf$7=objectGetPrototypeOf$2,setPrototypeOf=objectSetPrototypeOf$1,copyConstructorProperties=copyConstructorProperties$7,create$9=objectCreate$1,createNonEnumerableProperty$6=createNonEnumerableProperty$j,createPropertyDescriptor$3=createPropertyDescriptor$d,installErrorStack=errorStackInstall,normalizeStringArgument$2=normalizeStringArgument$6,wellKnownSymbol$l=wellKnownSymbol$S,fails$c=fails$1z,IS_PURE$g=isPure,NativeSuppressedError=globalThis$2.SuppressedError,TO_STRING_TAG$6=wellKnownSymbol$l("toStringTag"),$Error$1=Error,WRONG_ARITY$4=!!NativeSuppressedError&&NativeSuppressedError.length!==3,EXTRA_ARGS_SUPPORT=!!NativeSuppressedError&&fails$c(function(){return new NativeSuppressedError(1,2,3,{cause:4}).cause===4}),PATCH=WRONG_ARITY$4||EXTRA_ARGS_SUPPORT,$SuppressedError=function(e,t,r){var n=isPrototypeOf$2(SuppressedErrorPrototype,this),a;return setPrototypeOf?a=PATCH&&(!n||getPrototypeOf$7(this)===SuppressedErrorPrototype)?new NativeSuppressedError:setPrototypeOf(new $Error$1,n?getPrototypeOf$7(this):SuppressedErrorPrototype):(a=n?this:create$9(SuppressedErrorPrototype),createNonEnumerableProperty$6(a,TO_STRING_TAG$6,"Error")),r!==void 0&&createNonEnumerableProperty$6(a,"message",normalizeStringArgument$2(r)),installErrorStack(a,$SuppressedError,a.stack,1),createNonEnumerableProperty$6(a,"error",e),createNonEnumerableProperty$6(a,"suppressed",t),a};setPrototypeOf?setPrototypeOf($SuppressedError,$Error$1):copyConstructorProperties($SuppressedError,$Error$1,{name:!0});var SuppressedErrorPrototype=$SuppressedError.prototype=PATCH?NativeSuppressedError.prototype:create$9($Error$1.prototype,{constructor:createPropertyDescriptor$3(1,$SuppressedError),message:createPropertyDescriptor$3(1,""),name:createPropertyDescriptor$3(1,"SuppressedError")});PATCH&&!IS_PURE$g&&(SuppressedErrorPrototype.constructor=$SuppressedError),$$2B({global:!0,constructor:!0,arity:3,forced:PATCH},{SuppressedError:$SuppressedError});var global$m=global$18,shared$3=sharedStoreExports,isCallable$e=isCallable$K,getPrototypeOf$6=objectGetPrototypeOf$2,defineBuiltIn$a=defineBuiltIn$u,wellKnownSymbol$k=wellKnownSymbol$S,USE_FUNCTION_CONSTRUCTOR="USE_FUNCTION_CONSTRUCTOR",ASYNC_ITERATOR$3=wellKnownSymbol$k("asyncIterator"),AsyncIterator=global$m.AsyncIterator,PassedAsyncIteratorPrototype=shared$3.AsyncIteratorPrototype,AsyncIteratorPrototype$5,prototype;if(PassedAsyncIteratorPrototype)AsyncIteratorPrototype$5=PassedAsyncIteratorPrototype;else if(isCallable$e(AsyncIterator))AsyncIteratorPrototype$5=AsyncIterator.prototype;else if(shared$3[USE_FUNCTION_CONSTRUCTOR]||global$m[USE_FUNCTION_CONSTRUCTOR])try{prototype=getPrototypeOf$6(getPrototypeOf$6(getPrototypeOf$6(Function("return async function*(){}()")()))),getPrototypeOf$6(prototype)===Object.prototype&&(AsyncIteratorPrototype$5=prototype)}catch{}AsyncIteratorPrototype$5||(AsyncIteratorPrototype$5={}),isCallable$e(AsyncIteratorPrototype$5[ASYNC_ITERATOR$3])||defineBuiltIn$a(AsyncIteratorPrototype$5,ASYNC_ITERATOR$3,function(){return this});var asyncIteratorPrototype=AsyncIteratorPrototype$5,call$K=functionCall,anObject$I=anObject$1h,create$8=objectCreate$1,getMethod$b=getMethod$l,defineBuiltIns$6=defineBuiltIns$b,InternalStateModule$c=internalState,getBuiltIn$t=getBuiltIn$N,AsyncIteratorPrototype$4=asyncIteratorPrototype,createIterResultObject$c=createIterResultObject$h,Promise$5=getBuiltIn$t("Promise"),ASYNC_FROM_SYNC_ITERATOR="AsyncFromSyncIterator",setInternalState$d=InternalStateModule$c.set,getInternalState$6=InternalStateModule$c.getterFor(ASYNC_FROM_SYNC_ITERATOR),asyncFromSyncIteratorContinuation=function(e,t,r){var n=e.done;Promise$5.resolve(e.value).then(function(a){t(createIterResultObject$c(a,n))},r)},AsyncFromSyncIterator$4=function(e){e.type=ASYNC_FROM_SYNC_ITERATOR,setInternalState$d(this,e)};AsyncFromSyncIterator$4.prototype=defineBuiltIns$6(create$8(AsyncIteratorPrototype$4),{next:function(){var e=getInternalState$6(this);return new Promise$5(function(t,r){var n=anObject$I(call$K(e.next,e.iterator));asyncFromSyncIteratorContinuation(n,t,r)})},return:function(){var e=getInternalState$6(this).iterator;return new Promise$5(function(t,r){var n=getMethod$b(e,"return");if(n===void 0)return t(createIterResultObject$c(void 0,!0));var a=anObject$I(call$K(n,e));asyncFromSyncIteratorContinuation(a,t,r)})}});var asyncFromSyncIterator=AsyncFromSyncIterator$4,call$J=functionCall,AsyncFromSyncIterator$3=asyncFromSyncIterator,anObject$H=anObject$1h,getIterator$3=getIterator$7,getIteratorDirect$m=getIteratorDirect$o,getMethod$a=getMethod$l,wellKnownSymbol$j=wellKnownSymbol$S,ASYNC_ITERATOR$2=wellKnownSymbol$j("asyncIterator"),getAsyncIterator$1=function(e,t){var r=arguments.length<2?getMethod$a(e,ASYNC_ITERATOR$2):t;return r?anObject$H(call$J(r,e)):new AsyncFromSyncIterator$3(getIteratorDirect$m(getIterator$3(e)))},call$I=functionCall,getBuiltIn$s=getBuiltIn$N,getMethod$9=getMethod$l,asyncIteratorClose=function(e,t,r,n){try{var a=getMethod$9(e,"return");if(a)return getBuiltIn$s("Promise").resolve(call$I(a,e)).then(function(){t(r)},function(o){n(o)})}catch(o){return n(o)}t(r)},call$H=functionCall,aCallable$p=aCallable$N,anObject$G=anObject$1h,isObject$e=isObject$O,doesNotExceedSafeInteger=doesNotExceedSafeInteger$7,getBuiltIn$r=getBuiltIn$N,getIteratorDirect$l=getIteratorDirect$o,closeAsyncIteration$4=asyncIteratorClose,createMethod=function(e){var t=e===0,r=e===1,n=e===2,a=e===3;return function(o,u,p){anObject$G(o);var b=u!==void 0;(b||!t)&&aCallable$p(u);var m=getIteratorDirect$l(o),y=getBuiltIn$r("Promise"),A=m.iterator,I=m.next,M=0;return new y(function(C,P){var B=function(N){closeAsyncIteration$4(A,P,N,P)},k=function(){try{if(b)try{doesNotExceedSafeInteger(M)}catch(N){B(N)}y.resolve(anObject$G(call$H(I,A))).then(function(N){try{if(anObject$G(N).done)t?(p.length=M,C(p)):C(a?!1:n||void 0);else{var D=N.value;try{if(b){var L=u(D,M),K=function(J){if(r)k();else if(n)J?k():closeAsyncIteration$4(A,C,!1,P);else if(t)try{p[M++]=J,k()}catch(ce){B(ce)}else J?closeAsyncIteration$4(A,C,a||D,P):k()};isObject$e(L)?y.resolve(L).then(K,B):K(L)}else p[M++]=D,k()}catch(J){B(J)}}}catch(J){P(J)}},P)}catch(N){P(N)}};k()})}},asyncIteratorIteration={toArray:createMethod(0),forEach:createMethod(1),every:createMethod(2),some:createMethod(3),find:createMethod(4)},bind$k=functionBindContext,uncurryThis$F=functionUncurryThis,toObject$a=toObject$E,isConstructor$4=isConstructor$a,getAsyncIterator=getAsyncIterator$1,getIterator$2=getIterator$7,getIteratorDirect$k=getIteratorDirect$o,getIteratorMethod$3=getIteratorMethod$8,getMethod$8=getMethod$l,getBuiltIn$q=getBuiltIn$N,getBuiltInPrototypeMethod=getBuiltInPrototypeMethod$2,wellKnownSymbol$i=wellKnownSymbol$S,AsyncFromSyncIterator$2=asyncFromSyncIterator,toArray=asyncIteratorIteration.toArray,ASYNC_ITERATOR$1=wellKnownSymbol$i("asyncIterator"),arrayIterator=uncurryThis$F(getBuiltInPrototypeMethod("Array","values")),arrayIteratorNext=uncurryThis$F(arrayIterator([]).next),safeArrayIterator=function(){return new SafeArrayIterator(this)},SafeArrayIterator=function(e){this.iterator=arrayIterator(e)};SafeArrayIterator.prototype.next=function(){return arrayIteratorNext(this.iterator)};var arrayFromAsync$1=function(e){var t=this,r=arguments.length,n=r>1?arguments[1]:void 0,a=r>2?arguments[2]:void 0;return new(getBuiltIn$q("Promise"))(function(o){var u=toObject$a(e);n!==void 0&&(n=bind$k(n,a));var p=getMethod$8(u,ASYNC_ITERATOR$1),b=p?void 0:getIteratorMethod$3(u)||safeArrayIterator,m=isConstructor$4(t)?new t:[],y=p?getAsyncIterator(u,p):new AsyncFromSyncIterator$2(getIteratorDirect$k(getIterator$2(u,b)));o(toArray(y,n,m))})},$$2A=_export,fromAsync=arrayFromAsync$1,fails$b=fails$1z,nativeFromAsync=Array.fromAsync,INCORRECT_CONSTRUCTURING=!nativeFromAsync||fails$b(function(){var e=0;return nativeFromAsync.call(function(){return e++,[]},{length:0}),e!==1});$$2A({target:"Array",stat:!0,forced:INCORRECT_CONSTRUCTURING},{fromAsync});var $$2z=_export,$filterReject$3=arrayIteration.filterReject,addToUnscopables$8=addToUnscopables$n;$$2z({target:"Array",proto:!0,forced:!0},{filterOut:function(e){return $filterReject$3(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$8("filterOut");var $$2y=_export,$filterReject$2=arrayIteration.filterReject,addToUnscopables$7=addToUnscopables$n;$$2y({target:"Array",proto:!0,forced:!0},{filterReject:function(e){return $filterReject$2(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables$7("filterReject");var bind$j=functionBindContext,uncurryThis$E=functionUncurryThis,IndexedObject$1=indexedObject,toObject$9=toObject$E,toPropertyKey=toPropertyKey$9,lengthOfArrayLike$9=lengthOfArrayLike$B,objectCreate=objectCreate$1,arrayFromConstructorAndList$3=arrayFromConstructorAndList$8,$Array$1=Array,push$g=uncurryThis$E([].push),arrayGroup=function(e,t,r,n){for(var a=toObject$9(e),o=IndexedObject$1(a),u=bind$j(t,r),p=objectCreate(null),b=lengthOfArrayLike$9(o),m=0,y,A,I;b>m;m++)I=o[m],A=toPropertyKey(u(I,m,a)),A in p?push$g(p[A],I):p[A]=[I];if(n&&(y=n(a),y!==$Array$1))for(A in p)p[A]=arrayFromConstructorAndList$3(y,p[A]);return p},$$2x=_export,$group$2=arrayGroup,addToUnscopables$6=addToUnscopables$n;$$2x({target:"Array",proto:!0},{group:function(e){var t=arguments.length>1?arguments[1]:void 0;return $group$2(this,e,t)}}),addToUnscopables$6("group");var $$2w=_export,$group$1=arrayGroup,arrayMethodIsStrict$1=arrayMethodIsStrict$b,addToUnscopables$5=addToUnscopables$n;$$2w({target:"Array",proto:!0,forced:!arrayMethodIsStrict$1("groupBy")},{groupBy:function(e){var t=arguments.length>1?arguments[1]:void 0;return $group$1(this,e,t)}}),addToUnscopables$5("groupBy");var bind$i=functionBindContext,uncurryThis$D=functionUncurryThis,IndexedObject=indexedObject,toObject$8=toObject$E,lengthOfArrayLike$8=lengthOfArrayLike$B,MapHelpers$a=mapHelpers,Map$a=MapHelpers$a.Map,mapGet$1=MapHelpers$a.get,mapHas$2=MapHelpers$a.has,mapSet$2=MapHelpers$a.set,push$f=uncurryThis$D([].push),arrayGroupToMap=function(e){for(var t=toObject$8(this),r=IndexedObject(t),n=bind$i(e,arguments.length>1?arguments[1]:void 0),a=new Map$a,o=lengthOfArrayLike$8(r),u=0,p,b;o>u;u++)b=r[u],p=n(b,u,t),mapHas$2(a,p)?push$f(mapGet$1(a,p),b):mapSet$2(a,p,[b]);return a},$$2v=_export,arrayMethodIsStrict=arrayMethodIsStrict$b,addToUnscopables$4=addToUnscopables$n,$groupToMap$1=arrayGroupToMap;$$2v({target:"Array",proto:!0,name:"groupToMap",forced:!arrayMethodIsStrict("groupByToMap")},{groupByToMap:$groupToMap$1}),addToUnscopables$4("groupByToMap");var $$2u=_export,addToUnscopables$3=addToUnscopables$n,$groupToMap=arrayGroupToMap,IS_PURE$f=isPure;$$2u({target:"Array",proto:!0,forced:IS_PURE$f},{groupToMap:$groupToMap}),addToUnscopables$3("groupToMap");var $$2t=_export,isArray$1=isArray$b,isFrozen$1=Object.isFrozen,isFrozenStringArray=function(e,t){if(!isFrozen$1||!isArray$1(e)||!isFrozen$1(e))return!1;for(var r=0,n=e.length,a;r<n;)if(a=e[r++],!(typeof a=="string"||t&&a===void 0))return!1;return n!==0};$$2t({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function(e){if(!isFrozenStringArray(e,!0))return!1;var t=e.raw;return t.length===e.length&&isFrozenStringArray(t,!1)}});var DESCRIPTORS$g=descriptors,addToUnscopables$2=addToUnscopables$n,toObject$7=toObject$E,lengthOfArrayLike$7=lengthOfArrayLike$B,defineBuiltInAccessor$b=defineBuiltInAccessor$p;DESCRIPTORS$g&&(defineBuiltInAccessor$b(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=toObject$7(this),t=lengthOfArrayLike$7(e);return t===0?0:t-1}}),addToUnscopables$2("lastIndex"));var DESCRIPTORS$f=descriptors,addToUnscopables$1=addToUnscopables$n,toObject$6=toObject$E,lengthOfArrayLike$6=lengthOfArrayLike$B,defineBuiltInAccessor$a=defineBuiltInAccessor$p;DESCRIPTORS$f&&(defineBuiltInAccessor$a(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=toObject$6(this),t=lengthOfArrayLike$6(e);return t===0?void 0:e[t-1]},set:function(e){var t=toObject$6(this),r=lengthOfArrayLike$6(t);return t[r===0?0:r-1]=e}}),addToUnscopables$1("lastItem"));var uncurryThis$C=functionUncurryThis,iterateSimple=iterateSimple$8,MapHelpers$9=mapHelpers,Map$9=MapHelpers$9.Map,MapPrototype=MapHelpers$9.proto,forEach$5=uncurryThis$C(MapPrototype.forEach),entries=uncurryThis$C(MapPrototype.entries),next=entries(new Map$9).next,mapIterate=function(e,t,r){return r?iterateSimple({iterator:entries(e),next},function(n){return t(n[1],n[0])}):forEach$5(e,t)},uncurryThis$B=functionUncurryThis,aCallable$o=aCallable$N,isNullOrUndefined$5=isNullOrUndefined$j,lengthOfArrayLike$5=lengthOfArrayLike$B,toObject$5=toObject$E,MapHelpers$8=mapHelpers,iterate$t=mapIterate,Map$8=MapHelpers$8.Map,mapHas$1=MapHelpers$8.has,mapSet$1=MapHelpers$8.set,push$e=uncurryThis$B([].push),arrayUniqueBy$2=function(e){var t=toObject$5(this),r=lengthOfArrayLike$5(t),n=[],a=new Map$8,o=isNullOrUndefined$5(e)?function(m){return m}:aCallable$o(e),u,p,b;for(u=0;u<r;u++)p=t[u],b=o(p),mapHas$1(a,b)||mapSet$1(a,b,p);return iterate$t(a,function(m){push$e(n,m)}),n},$$2s=_export,addToUnscopables=addToUnscopables$n,uniqueBy=arrayUniqueBy$2;$$2s({target:"Array",proto:!0,forced:!0},{uniqueBy}),addToUnscopables("uniqueBy");var call$G=functionCall,uncurryThis$A=functionUncurryThis,bind$h=functionBindContext,anObject$F=anObject$1h,aCallable$n=aCallable$N,isNullOrUndefined$4=isNullOrUndefined$j,getMethod$7=getMethod$l,wellKnownSymbol$h=wellKnownSymbol$S,ASYNC_DISPOSE$2=wellKnownSymbol$h("asyncDispose"),DISPOSE$2=wellKnownSymbol$h("dispose"),push$d=uncurryThis$A([].push),getDisposeMethod=function(e,t){if(t==="async-dispose"){var r=getMethod$7(e,ASYNC_DISPOSE$2);return r!==void 0||(r=getMethod$7(e,DISPOSE$2),r===void 0)?r:function(){call$G(r,this)}}return getMethod$7(e,DISPOSE$2)},createDisposableResource=function(e,t,r){return arguments.length<3&&!isNullOrUndefined$4(e)&&(r=aCallable$n(getDisposeMethod(anObject$F(e),t))),r===void 0?function(){}:bind$h(r,e)},addDisposableResource$2=function(e,t,r,n){var a;if(arguments.length<4){if(isNullOrUndefined$4(t)&&r==="sync-dispose")return;a=createDisposableResource(t,r)}else a=createDisposableResource(void 0,r,n);push$d(e.stack,a)},$$2r=_export,DESCRIPTORS$e=descriptors,getBuiltIn$p=getBuiltIn$N,aCallable$m=aCallable$N,anInstance$8=anInstance$f,defineBuiltIn$9=defineBuiltIn$u,defineBuiltIns$5=defineBuiltIns$b,defineBuiltInAccessor$9=defineBuiltInAccessor$p,wellKnownSymbol$g=wellKnownSymbol$S,InternalStateModule$b=internalState,addDisposableResource$1=addDisposableResource$2,Promise$4=getBuiltIn$p("Promise"),SuppressedError$2=getBuiltIn$p("SuppressedError"),$ReferenceError$2=ReferenceError,ASYNC_DISPOSE$1=wellKnownSymbol$g("asyncDispose"),TO_STRING_TAG$5=wellKnownSymbol$g("toStringTag"),ASYNC_DISPOSABLE_STACK="AsyncDisposableStack",setInternalState$c=InternalStateModule$b.set,getAsyncDisposableStackInternalState=InternalStateModule$b.getterFor(ASYNC_DISPOSABLE_STACK),HINT$1="async-dispose",DISPOSED$1="disposed",PENDING$1="pending",getPendingAsyncDisposableStackInternalState=function(e){var t=getAsyncDisposableStackInternalState(e);if(t.state===DISPOSED$1)throw new $ReferenceError$2(ASYNC_DISPOSABLE_STACK+" already disposed");return t},$AsyncDisposableStack=function(){setInternalState$c(anInstance$8(this,AsyncDisposableStackPrototype),{type:ASYNC_DISPOSABLE_STACK,state:PENDING$1,stack:[]}),DESCRIPTORS$e||(this.disposed=!1)},AsyncDisposableStackPrototype=$AsyncDisposableStack.prototype;defineBuiltIns$5(AsyncDisposableStackPrototype,{disposeAsync:function(){var e=this;return new Promise$4(function(t,r){var n=getAsyncDisposableStackInternalState(e);if(n.state===DISPOSED$1)return t(void 0);n.state=DISPOSED$1,DESCRIPTORS$e||(e.disposed=!0);var a=n.stack,o=a.length,u=!1,p,b=function(y){u?p=new SuppressedError$2(y,p):(u=!0,p=y),m()},m=function(){if(o){var y=a[--o];a[o]=void 0;try{Promise$4.resolve(y()).then(m,b)}catch(A){b(A)}}else n.stack=void 0,u?r(p):t(void 0)};m()})},use:function(e){return addDisposableResource$1(getPendingAsyncDisposableStackInternalState(this),e,HINT$1),e},adopt:function(e,t){var r=getPendingAsyncDisposableStackInternalState(this);return aCallable$m(t),addDisposableResource$1(r,void 0,HINT$1,function(){return t(e)}),e},defer:function(e){var t=getPendingAsyncDisposableStackInternalState(this);aCallable$m(e),addDisposableResource$1(t,void 0,HINT$1,e)},move:function(){var e=getPendingAsyncDisposableStackInternalState(this),t=new $AsyncDisposableStack;return getAsyncDisposableStackInternalState(t).stack=e.stack,e.stack=[],e.state=DISPOSED$1,DESCRIPTORS$e||(this.disposed=!0),t}}),DESCRIPTORS$e&&defineBuiltInAccessor$9(AsyncDisposableStackPrototype,"disposed",{configurable:!0,get:function(){return getAsyncDisposableStackInternalState(this).state===DISPOSED$1}}),defineBuiltIn$9(AsyncDisposableStackPrototype,ASYNC_DISPOSE$1,AsyncDisposableStackPrototype.disposeAsync,{name:"disposeAsync"}),defineBuiltIn$9(AsyncDisposableStackPrototype,TO_STRING_TAG$5,ASYNC_DISPOSABLE_STACK,{nonWritable:!0}),$$2r({global:!0,constructor:!0},{AsyncDisposableStack:$AsyncDisposableStack});var $$2q=_export,anInstance$7=anInstance$f,getPrototypeOf$5=objectGetPrototypeOf$2,createNonEnumerableProperty$5=createNonEnumerableProperty$j,hasOwn$f=hasOwnProperty_1,wellKnownSymbol$f=wellKnownSymbol$S,AsyncIteratorPrototype$3=asyncIteratorPrototype,IS_PURE$e=isPure,TO_STRING_TAG$4=wellKnownSymbol$f("toStringTag"),$TypeError$o=TypeError,AsyncIteratorConstructor=function(){if(anInstance$7(this,AsyncIteratorPrototype$3),getPrototypeOf$5(this)===AsyncIteratorPrototype$3)throw new $TypeError$o("Abstract class AsyncIterator not directly constructable")};AsyncIteratorConstructor.prototype=AsyncIteratorPrototype$3,hasOwn$f(AsyncIteratorPrototype$3,TO_STRING_TAG$4)||createNonEnumerableProperty$5(AsyncIteratorPrototype$3,TO_STRING_TAG$4,"AsyncIterator"),(!hasOwn$f(AsyncIteratorPrototype$3,"constructor")||AsyncIteratorPrototype$3.constructor===Object)&&createNonEnumerableProperty$5(AsyncIteratorPrototype$3,"constructor",AsyncIteratorConstructor),$$2q({global:!0,constructor:!0,forced:IS_PURE$e},{AsyncIterator:AsyncIteratorConstructor});var call$F=functionCall,perform$1=perform$7,anObject$E=anObject$1h,create$7=objectCreate$1,createNonEnumerableProperty$4=createNonEnumerableProperty$j,defineBuiltIns$4=defineBuiltIns$b,wellKnownSymbol$e=wellKnownSymbol$S,InternalStateModule$a=internalState,getBuiltIn$o=getBuiltIn$N,getMethod$6=getMethod$l,AsyncIteratorPrototype$2=asyncIteratorPrototype,createIterResultObject$b=createIterResultObject$h,iteratorClose$3=iteratorClose$8,Promise$3=getBuiltIn$o("Promise"),TO_STRING_TAG$3=wellKnownSymbol$e("toStringTag"),ASYNC_ITERATOR_HELPER="AsyncIteratorHelper",WRAP_FOR_VALID_ASYNC_ITERATOR="WrapForValidAsyncIterator",setInternalState$b=InternalStateModule$a.set,createAsyncIteratorProxyPrototype=function(e){var t=!e,r=InternalStateModule$a.getterFor(e?WRAP_FOR_VALID_ASYNC_ITERATOR:ASYNC_ITERATOR_HELPER),n=function(a){var o=perform$1(function(){return r(a)}),u=o.error,p=o.value;return u||t&&p.done?{exit:!0,value:u?Promise$3.reject(p):Promise$3.resolve(createIterResultObject$b(void 0,!0))}:{exit:!1,value:p}};return defineBuiltIns$4(create$7(AsyncIteratorPrototype$2),{next:function(){var a=n(this),o=a.value;if(a.exit)return o;var u=perform$1(function(){return anObject$E(o.nextHandler(Promise$3))}),p=u.error,b=u.value;return p&&(o.done=!0),p?Promise$3.reject(b):Promise$3.resolve(b)},return:function(){var a=n(this),o=a.value;if(a.exit)return o;o.done=!0;var u=o.iterator,p,b,m=perform$1(function(){if(o.inner)try{iteratorClose$3(o.inner.iterator,"normal")}catch(y){return iteratorClose$3(u,"throw",y)}return getMethod$6(u,"return")});return p=b=m.value,m.error?Promise$3.reject(b):p===void 0?Promise$3.resolve(createIterResultObject$b(void 0,!0)):(m=perform$1(function(){return call$F(p,u)}),b=m.value,m.error?Promise$3.reject(b):e?Promise$3.resolve(b):Promise$3.resolve(b).then(function(y){return anObject$E(y),createIterResultObject$b(void 0,!0)}))}})},WrapForValidAsyncIteratorPrototype=createAsyncIteratorProxyPrototype(!0),AsyncIteratorHelperPrototype=createAsyncIteratorProxyPrototype(!1);createNonEnumerableProperty$4(AsyncIteratorHelperPrototype,TO_STRING_TAG$3,"Async Iterator Helper");var asyncIteratorCreateProxy=function(e,t){var r=function(n,a){a?(a.iterator=n.iterator,a.next=n.next):a=n,a.type=t?WRAP_FOR_VALID_ASYNC_ITERATOR:ASYNC_ITERATOR_HELPER,a.nextHandler=e,a.counter=0,a.done=!1,setInternalState$b(this,a)};return r.prototype=t?WrapForValidAsyncIteratorPrototype:AsyncIteratorHelperPrototype,r},call$E=functionCall,aCallable$l=aCallable$N,anObject$D=anObject$1h,isObject$d=isObject$O,getIteratorDirect$j=getIteratorDirect$o,createAsyncIteratorProxy$5=asyncIteratorCreateProxy,createIterResultObject$a=createIterResultObject$h,closeAsyncIteration$3=asyncIteratorClose,AsyncIteratorProxy$4=createAsyncIteratorProxy$5(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(a,o){var u=function(b){t.done=!0,o(b)},p=function(b){closeAsyncIteration$3(r,u,b,u)};e.resolve(anObject$D(call$E(t.next,r))).then(function(b){try{if(anObject$D(b).done)t.done=!0,a(createIterResultObject$a(void 0,!0));else{var m=b.value;try{var y=n(m,t.counter++),A=function(I){a(createIterResultObject$a(I,!1))};isObject$d(y)?e.resolve(y).then(A,p):A(y)}catch(I){p(I)}}}catch(I){u(I)}},u)})}),asyncIteratorMap=function(e){return anObject$D(this),aCallable$l(e),new AsyncIteratorProxy$4(getIteratorDirect$j(this),{mapper:e})},call$D=functionCall,map$3=asyncIteratorMap,callback$1=function(e,t){return[t,e]},asyncIteratorIndexed=function(){return call$D(map$3,this,callback$1)},$$2p=_export,indexed$3=asyncIteratorIndexed;$$2p({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:indexed$3});var call$C=functionCall,defineBuiltIn$8=defineBuiltIn$u,getBuiltIn$n=getBuiltIn$N,getMethod$5=getMethod$l,hasOwn$e=hasOwnProperty_1,wellKnownSymbol$d=wellKnownSymbol$S,AsyncIteratorPrototype$1=asyncIteratorPrototype,ASYNC_DISPOSE=wellKnownSymbol$d("asyncDispose"),Promise$2=getBuiltIn$n("Promise");hasOwn$e(AsyncIteratorPrototype$1,ASYNC_DISPOSE)||defineBuiltIn$8(AsyncIteratorPrototype$1,ASYNC_DISPOSE,function(){var e=this;return new Promise$2(function(t,r){var n=getMethod$5(e,"return");n?Promise$2.resolve(call$C(n,e)).then(function(){t(void 0)},r):t(void 0)})});var $RangeError$5=RangeError,notANan=function(e){if(e===e)return e;throw new $RangeError$5("NaN is not allowed")},$$2o=_export,call$B=functionCall,anObject$C=anObject$1h,getIteratorDirect$i=getIteratorDirect$o,notANaN$3=notANan,toPositiveInteger$3=toPositiveInteger$5,createAsyncIteratorProxy$4=asyncIteratorCreateProxy,createIterResultObject$9=createIterResultObject$h,IS_PURE$d=isPure,AsyncIteratorProxy$3=createAsyncIteratorProxy$4(function(e){var t=this;return new e(function(r,n){var a=function(u){t.done=!0,n(u)},o=function(){try{e.resolve(anObject$C(call$B(t.next,t.iterator))).then(function(u){try{anObject$C(u).done?(t.done=!0,r(createIterResultObject$9(void 0,!0))):t.remaining?(t.remaining--,o()):r(createIterResultObject$9(u.value,!1))}catch(p){a(p)}},a)}catch(u){a(u)}};o()})});$$2o({target:"AsyncIterator",proto:!0,real:!0,forced:IS_PURE$d},{drop:function(e){anObject$C(this);var t=toPositiveInteger$3(notANaN$3(+e));return new AsyncIteratorProxy$3(getIteratorDirect$i(this),{remaining:t})}});var $$2n=_export,$every=asyncIteratorIteration.every;$$2n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return $every(this,e)}});var $$2m=_export,call$A=functionCall,aCallable$k=aCallable$N,anObject$B=anObject$1h,isObject$c=isObject$O,getIteratorDirect$h=getIteratorDirect$o,createAsyncIteratorProxy$3=asyncIteratorCreateProxy,createIterResultObject$8=createIterResultObject$h,closeAsyncIteration$2=asyncIteratorClose,IS_PURE$c=isPure,AsyncIteratorProxy$2=createAsyncIteratorProxy$3(function(e){var t=this,r=t.iterator,n=t.predicate;return new e(function(a,o){var u=function(m){t.done=!0,o(m)},p=function(m){closeAsyncIteration$2(r,u,m,u)},b=function(){try{e.resolve(anObject$B(call$A(t.next,r))).then(function(m){try{if(anObject$B(m).done)t.done=!0,a(createIterResultObject$8(void 0,!0));else{var y=m.value;try{var A=n(y,t.counter++),I=function(M){M?a(createIterResultObject$8(y,!1)):b()};isObject$c(A)?e.resolve(A).then(I,p):I(A)}catch(M){p(M)}}}catch(M){u(M)}},u)}catch(m){u(m)}};b()})});$$2m({target:"AsyncIterator",proto:!0,real:!0,forced:IS_PURE$c},{filter:function(e){return anObject$B(this),aCallable$k(e),new AsyncIteratorProxy$2(getIteratorDirect$h(this),{predicate:e})}});var $$2l=_export,$find=asyncIteratorIteration.find;$$2l({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return $find(this,e)}});var call$z=functionCall,isCallable$d=isCallable$K,anObject$A=anObject$1h,getIteratorDirect$g=getIteratorDirect$o,getIteratorMethod$2=getIteratorMethod$8,getMethod$4=getMethod$l,wellKnownSymbol$c=wellKnownSymbol$S,AsyncFromSyncIterator$1=asyncFromSyncIterator,ASYNC_ITERATOR=wellKnownSymbol$c("asyncIterator"),getAsyncIteratorFlattenable$2=function(e){var t=anObject$A(e),r=!0,n=getMethod$4(t,ASYNC_ITERATOR),a;return isCallable$d(n)||(n=getIteratorMethod$2(t),r=!1),n!==void 0?a=call$z(n,t):(a=t,r=!0),anObject$A(a),getIteratorDirect$g(r?a:new AsyncFromSyncIterator$1(getIteratorDirect$g(a)))},$$2k=_export,call$y=functionCall,aCallable$j=aCallable$N,anObject$z=anObject$1h,isObject$b=isObject$O,getIteratorDirect$f=getIteratorDirect$o,createAsyncIteratorProxy$2=asyncIteratorCreateProxy,createIterResultObject$7=createIterResultObject$h,getAsyncIteratorFlattenable$1=getAsyncIteratorFlattenable$2,closeAsyncIteration$1=asyncIteratorClose,IS_PURE$b=isPure,AsyncIteratorProxy$1=createAsyncIteratorProxy$2(function(e){var t=this,r=t.iterator,n=t.mapper;return new e(function(a,o){var u=function(y){t.done=!0,o(y)},p=function(y){closeAsyncIteration$1(r,u,y,u)},b=function(){try{e.resolve(anObject$z(call$y(t.next,r))).then(function(y){try{if(anObject$z(y).done)t.done=!0,a(createIterResultObject$7(void 0,!0));else{var A=y.value;try{var I=n(A,t.counter++),M=function(C){try{t.inner=getAsyncIteratorFlattenable$1(C),m()}catch(P){p(P)}};isObject$b(I)?e.resolve(I).then(M,p):M(I)}catch(C){p(C)}}}catch(C){u(C)}},u)}catch(y){u(y)}},m=function(){var y=t.inner;if(y)try{e.resolve(anObject$z(call$y(y.next,y.iterator))).then(function(A){try{anObject$z(A).done?(t.inner=null,b()):a(createIterResultObject$7(A.value,!1))}catch(I){p(I)}},p)}catch(A){p(A)}else b()};m()})});$$2k({target:"AsyncIterator",proto:!0,real:!0,forced:IS_PURE$b},{flatMap:function(e){return anObject$z(this),aCallable$j(e),new AsyncIteratorProxy$1(getIteratorDirect$f(this),{mapper:e,inner:null})}});var $$2j=_export,$forEach=asyncIteratorIteration.forEach;$$2j({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return $forEach(this,e)}});var call$x=functionCall,createAsyncIteratorProxy$1=asyncIteratorCreateProxy,asyncIteratorWrap=createAsyncIteratorProxy$1(function(){return call$x(this.next,this.iterator)},!0),$$2i=_export,toObject$4=toObject$E,isPrototypeOf$1=objectIsPrototypeOf,getAsyncIteratorFlattenable=getAsyncIteratorFlattenable$2,AsyncIteratorPrototype=asyncIteratorPrototype,WrapAsyncIterator$1=asyncIteratorWrap,IS_PURE$a=isPure;$$2i({target:"AsyncIterator",stat:!0,forced:IS_PURE$a},{from:function(e){var t=getAsyncIteratorFlattenable(typeof e=="string"?toObject$4(e):e);return isPrototypeOf$1(AsyncIteratorPrototype,t.iterator)?t.iterator:new WrapAsyncIterator$1(t)}});var $$2h=_export,indexed$2=asyncIteratorIndexed;$$2h({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:indexed$2});var $$2g=_export,map$2=asyncIteratorMap,IS_PURE$9=isPure;$$2g({target:"AsyncIterator",proto:!0,real:!0,forced:IS_PURE$9},{map:map$2});var $$2f=_export,call$w=functionCall,aCallable$i=aCallable$N,anObject$y=anObject$1h,isObject$a=isObject$O,getBuiltIn$m=getBuiltIn$N,getIteratorDirect$e=getIteratorDirect$o,closeAsyncIteration=asyncIteratorClose,Promise$1=getBuiltIn$m("Promise"),$TypeError$n=TypeError;$$2f({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){anObject$y(this),aCallable$i(e);var t=getIteratorDirect$e(this),r=t.iterator,n=t.next,a=arguments.length<2,o=a?void 0:arguments[1],u=0;return new Promise$1(function(p,b){var m=function(A){closeAsyncIteration(r,b,A,b)},y=function(){try{Promise$1.resolve(anObject$y(call$w(n,r))).then(function(A){try{if(anObject$y(A).done)a?b(new $TypeError$n("Reduce of empty iterator with no initial value")):p(o);else{var I=A.value;if(a)a=!1,o=I,y();else try{var M=e(o,I,u),C=function(P){o=P,y()};isObject$a(M)?Promise$1.resolve(M).then(C,m):C(M)}catch(P){m(P)}}u++}catch(P){b(P)}},b)}catch(A){b(A)}};y()})}});var $$2e=_export,$some=asyncIteratorIteration.some;$$2e({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return $some(this,e)}});var $$2d=_export,call$v=functionCall,anObject$x=anObject$1h,getIteratorDirect$d=getIteratorDirect$o,notANaN$2=notANan,toPositiveInteger$2=toPositiveInteger$5,createAsyncIteratorProxy=asyncIteratorCreateProxy,createIterResultObject$6=createIterResultObject$h,IS_PURE$8=isPure,AsyncIteratorProxy=createAsyncIteratorProxy(function(e){var t=this,r=t.iterator,n;if(!t.remaining--){var a=createIterResultObject$6(void 0,!0);return t.done=!0,n=r.return,n!==void 0?e.resolve(call$v(n,r,void 0)).then(function(){return a}):a}return e.resolve(call$v(t.next,r)).then(function(o){return anObject$x(o).done?(t.done=!0,createIterResultObject$6(void 0,!0)):createIterResultObject$6(o.value,!1)}).then(null,function(o){throw t.done=!0,o})});$$2d({target:"AsyncIterator",proto:!0,real:!0,forced:IS_PURE$8},{take:function(e){anObject$x(this);var t=toPositiveInteger$2(notANaN$2(+e));return new AsyncIteratorProxy(getIteratorDirect$d(this),{remaining:t})}});var $$2c=_export,$toArray=asyncIteratorIteration.toArray;$$2c({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return $toArray(this,void 0,[])}});var InternalStateModule$9=internalState,createIteratorConstructor$4=iteratorCreateConstructor,createIterResultObject$5=createIterResultObject$h,isNullOrUndefined$3=isNullOrUndefined$j,isObject$9=isObject$O,defineBuiltInAccessor$8=defineBuiltInAccessor$p,DESCRIPTORS$d=descriptors,INCORRECT_RANGE="Incorrect Iterator.range arguments",NUMERIC_RANGE_ITERATOR="NumericRangeIterator",setInternalState$a=InternalStateModule$9.set,getInternalState$5=InternalStateModule$9.getterFor(NUMERIC_RANGE_ITERATOR),$RangeError$4=RangeError,$TypeError$m=TypeError,$RangeIterator=createIteratorConstructor$4(function(e,t,r,n,a,o){if(typeof e!=n||t!==1/0&&t!==-1/0&&typeof t!=n)throw new $TypeError$m(INCORRECT_RANGE);if(e===1/0||e===-1/0)throw new $RangeError$4(INCORRECT_RANGE);var u=t>e,p=!1,b;if(r===void 0)b=void 0;else if(isObject$9(r))b=r.step,p=!!r.inclusive;else if(typeof r==n)b=r;else throw new $TypeError$m(INCORRECT_RANGE);if(isNullOrUndefined$3(b)&&(b=u?o:-o),typeof b!=n)throw new $TypeError$m(INCORRECT_RANGE);if(b===1/0||b===-1/0||b===a&&e!==t)throw new $RangeError$4(INCORRECT_RANGE);var m=e!==e||t!==t||b!==b||t>e!=b>a;setInternalState$a(this,{type:NUMERIC_RANGE_ITERATOR,start:e,end:t,step:b,inclusive:p,hitsEnd:m,currentCount:a,zero:a}),DESCRIPTORS$d||(this.start=e,this.end=t,this.step=b,this.inclusive=p)},NUMERIC_RANGE_ITERATOR,function(){var e=getInternalState$5(this);if(e.hitsEnd)return createIterResultObject$5(void 0,!0);var t=e.start,r=e.end,n=e.step,a=t+n*e.currentCount++;a===r&&(e.hitsEnd=!0);var o=e.inclusive,u;return r>t?u=o?a>r:a>=r:u=o?r>a:r>=a,u?(e.hitsEnd=!0,createIterResultObject$5(void 0,!0)):createIterResultObject$5(a,!1)}),addGetter=function(e){defineBuiltInAccessor$8($RangeIterator.prototype,e,{get:function(){return getInternalState$5(this)[e]},set:function(){},configurable:!0,enumerable:!1})};DESCRIPTORS$d&&(addGetter("start"),addGetter("end"),addGetter("inclusive"),addGetter("step"));var numericRangeIterator=$RangeIterator,$$2b=_export,NumericRangeIterator$2=numericRangeIterator;typeof BigInt=="function"&&$$2b({target:"BigInt",stat:!0,forced:!0},{range:function(e,t,r){return new NumericRangeIterator$2(e,t,r,"bigint",BigInt(0),BigInt(1))}});var getBuiltIn$l=getBuiltIn$N,create$6=objectCreate$1,isObject$8=isObject$O,$Object$3=Object,$TypeError$l=TypeError,Map$7=getBuiltIn$l("Map"),WeakMap$2=getBuiltIn$l("WeakMap"),Node$2=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=create$6(null)};Node$2.prototype.get=function(e,t){return this[e]||(this[e]=t())},Node$2.prototype.next=function(e,t,r){var n=r?this.objectsByIndex[e]||(this.objectsByIndex[e]=new WeakMap$2):this.primitives||(this.primitives=new Map$7),a=n.get(t);return a||n.set(t,a=new Node$2),a};var root=new Node$2,compositeKey=function(){var e=root,t=arguments.length,r,n;for(r=0;r<t;r++)isObject$8(n=arguments[r])&&(e=e.next(r,n,!0));if(this===$Object$3&&e===root)throw new $TypeError$l("Composite keys must contain a non-primitive component");for(r=0;r<t;r++)isObject$8(n=arguments[r])||(e=e.next(r,n,!1));return e},$$2a=_export,apply$4=functionApply$1,getCompositeKeyNode$1=compositeKey,getBuiltIn$k=getBuiltIn$N,create$5=objectCreate$1,$Object$2=Object,initializer=function(){var e=getBuiltIn$k("Object","freeze");return e?e(create$5(null)):create$5(null)};$$2a({global:!0,forced:!0},{compositeKey:function(){return apply$4(getCompositeKeyNode$1,$Object$2,arguments).get("object",initializer)}});var $$29=_export,getCompositeKeyNode=compositeKey,getBuiltIn$j=getBuiltIn$N,apply$3=functionApply$1;$$29({global:!0,forced:!0},{compositeSymbol:function(){return arguments.length===1&&typeof arguments[0]=="string"?getBuiltIn$j("Symbol").for(arguments[0]):apply$3(getCompositeKeyNode,null,arguments).get("symbol",getBuiltIn$j("Symbol"))}});var $$28=_export,uncurryThis$z=functionUncurryThis,unpackIEEE754=ieee754.unpack,getUint16=uncurryThis$z(DataView.prototype.getUint16);$$28({target:"DataView",proto:!0},{getFloat16:function(e){var t=getUint16(this,e,arguments.length>1?arguments[1]:!1);return unpackIEEE754([t&255,t>>8&255],10)}});var $$27=_export,uncurryThis$y=functionUncurryThis,getUint8=uncurryThis$y(DataView.prototype.getUint8);$$27({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:function(e){return getUint8(this,e)}});var classof$4=classof$q,$TypeError$k=TypeError,aDataView$2=function(e){if(classof$4(e)==="DataView")return e;throw new $TypeError$k("Argument is not a DataView")},floatRound=mathFloatRound,FLOAT16_EPSILON=.0009765625,FLOAT16_MAX_VALUE=65504,FLOAT16_MIN_VALUE=6103515625e-14,mathF16round=Math.f16round||function(e){return floatRound(e,FLOAT16_EPSILON,FLOAT16_MAX_VALUE,FLOAT16_MIN_VALUE)},$$26=_export,uncurryThis$x=functionUncurryThis,aDataView$1=aDataView$2,toIndex$1=toIndex$5,packIEEE754=ieee754.pack,f16round$1=mathF16round,setUint16=uncurryThis$x(DataView.prototype.setUint16);$$26({target:"DataView",proto:!0},{setFloat16:function(e,t){aDataView$1(this);var r=toIndex$1(e),n=packIEEE754(f16round$1(t),10,2);return setUint16(this,r,n[1]<<8|n[0],arguments.length>2?arguments[2]:!1)}});var $$25=_export,uncurryThis$w=functionUncurryThis,aDataView=aDataView$2,toIndex=toIndex$5,toUint8Clamped=toUint8Clamped$2,setUint8=uncurryThis$w(DataView.prototype.setUint8);$$25({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:function(e,t){aDataView(this);var r=toIndex(e);return setUint8(this,r,toUint8Clamped(t))}});var $$24=_export,DESCRIPTORS$c=descriptors,getBuiltIn$i=getBuiltIn$N,aCallable$h=aCallable$N,anInstance$6=anInstance$f,defineBuiltIn$7=defineBuiltIn$u,defineBuiltIns$3=defineBuiltIns$b,defineBuiltInAccessor$7=defineBuiltInAccessor$p,wellKnownSymbol$b=wellKnownSymbol$S,InternalStateModule$8=internalState,addDisposableResource=addDisposableResource$2,SuppressedError$1=getBuiltIn$i("SuppressedError"),$ReferenceError$1=ReferenceError,DISPOSE$1=wellKnownSymbol$b("dispose"),TO_STRING_TAG$2=wellKnownSymbol$b("toStringTag"),DISPOSABLE_STACK="DisposableStack",setInternalState$9=InternalStateModule$8.set,getDisposableStackInternalState=InternalStateModule$8.getterFor(DISPOSABLE_STACK),HINT="sync-dispose",DISPOSED="disposed",PENDING="pending",getPendingDisposableStackInternalState=function(e){var t=getDisposableStackInternalState(e);if(t.state===DISPOSED)throw new $ReferenceError$1(DISPOSABLE_STACK+" already disposed");return t},$DisposableStack=function(){setInternalState$9(anInstance$6(this,DisposableStackPrototype),{type:DISPOSABLE_STACK,state:PENDING,stack:[]}),DESCRIPTORS$c||(this.disposed=!1)},DisposableStackPrototype=$DisposableStack.prototype;defineBuiltIns$3(DisposableStackPrototype,{dispose:function(){var e=getDisposableStackInternalState(this);if(e.state!==DISPOSED){e.state=DISPOSED,DESCRIPTORS$c||(this.disposed=!0);for(var t=e.stack,r=t.length,n=!1,a;r;){var o=t[--r];t[r]=void 0;try{o()}catch(u){n?a=new SuppressedError$1(u,a):(n=!0,a=u)}}if(e.stack=void 0,n)throw a}},use:function(e){return addDisposableResource(getPendingDisposableStackInternalState(this),e,HINT),e},adopt:function(e,t){var r=getPendingDisposableStackInternalState(this);return aCallable$h(t),addDisposableResource(r,void 0,HINT,function(){t(e)}),e},defer:function(e){var t=getPendingDisposableStackInternalState(this);aCallable$h(e),addDisposableResource(t,void 0,HINT,e)},move:function(){var e=getPendingDisposableStackInternalState(this),t=new $DisposableStack;return getDisposableStackInternalState(t).stack=e.stack,e.stack=[],e.state=DISPOSED,DESCRIPTORS$c||(this.disposed=!0),t}}),DESCRIPTORS$c&&defineBuiltInAccessor$7(DisposableStackPrototype,"disposed",{configurable:!0,get:function(){return getDisposableStackInternalState(this).state===DISPOSED}}),defineBuiltIn$7(DisposableStackPrototype,DISPOSE$1,DisposableStackPrototype.dispose,{name:"dispose"}),defineBuiltIn$7(DisposableStackPrototype,TO_STRING_TAG$2,DISPOSABLE_STACK,{nonWritable:!0}),$$24({global:!0,constructor:!0},{DisposableStack:$DisposableStack});var uncurryThis$v=functionUncurryThis,aCallable$g=aCallable$N,functionDemethodize=function(){return uncurryThis$v(aCallable$g(this))},$$23=_export,demethodize$1=functionDemethodize;$$23({target:"Function",proto:!0,forced:!0},{demethodize:demethodize$1});var $$22=_export,uncurryThis$u=functionUncurryThis,$isCallable=isCallable$K,inspectSource=inspectSource$4,hasOwn$d=hasOwnProperty_1,DESCRIPTORS$b=descriptors,getOwnPropertyDescriptor$3=Object.getOwnPropertyDescriptor,classRegExp=/^\s*class\b/,exec$9=uncurryThis$u(classRegExp.exec),isClassConstructor=function(e){try{if(!DESCRIPTORS$b||!exec$9(classRegExp,inspectSource(e)))return!1}catch{}var t=getOwnPropertyDescriptor$3(e,"prototype");return!!t&&hasOwn$d(t,"writable")&&!t.writable};$$22({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function(e){return $isCallable(e)&&!isClassConstructor(e)}});var $$21=_export,isConstructor$3=isConstructor$a;$$21({target:"Function",stat:!0,forced:!0},{isConstructor:isConstructor$3});var wellKnownSymbol$a=wellKnownSymbol$S,defineProperty$6=objectDefineProperty.f,METADATA=wellKnownSymbol$a("metadata"),FunctionPrototype=Function.prototype;FunctionPrototype[METADATA]===void 0&&defineProperty$6(FunctionPrototype,METADATA,{value:null});var $$20=_export,demethodize=functionDemethodize;$$20({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:demethodize});var $$1$=_export,global$l=global$18,anInstance$5=anInstance$f,anObject$w=anObject$1h,isCallable$c=isCallable$K,getPrototypeOf$4=objectGetPrototypeOf$2,defineBuiltInAccessor$6=defineBuiltInAccessor$p,createProperty$3=createProperty$b,fails$a=fails$1z,hasOwn$c=hasOwnProperty_1,wellKnownSymbol$9=wellKnownSymbol$S,IteratorPrototype$3=iteratorsCore.IteratorPrototype,DESCRIPTORS$a=descriptors,CONSTRUCTOR="constructor",ITERATOR$4="Iterator",TO_STRING_TAG$1=wellKnownSymbol$9("toStringTag"),$TypeError$j=TypeError,NativeIterator=global$l[ITERATOR$4],FORCED$1=!isCallable$c(NativeIterator)||NativeIterator.prototype!==IteratorPrototype$3||!fails$a(function(){NativeIterator({})}),IteratorConstructor=function(){if(anInstance$5(this,IteratorPrototype$3),getPrototypeOf$4(this)===IteratorPrototype$3)throw new $TypeError$j("Abstract class Iterator not directly constructable")},defineIteratorPrototypeAccessor=function(e,t){DESCRIPTORS$a?defineBuiltInAccessor$6(IteratorPrototype$3,e,{configurable:!0,get:function(){return t},set:function(r){if(anObject$w(this),this===IteratorPrototype$3)throw new $TypeError$j("You can't redefine this property");hasOwn$c(this,e)?this[e]=r:createProperty$3(this,e,r)}}):IteratorPrototype$3[e]=t};hasOwn$c(IteratorPrototype$3,TO_STRING_TAG$1)||defineIteratorPrototypeAccessor(TO_STRING_TAG$1,ITERATOR$4),(FORCED$1||!hasOwn$c(IteratorPrototype$3,CONSTRUCTOR)||IteratorPrototype$3[CONSTRUCTOR]===Object)&&defineIteratorPrototypeAccessor(CONSTRUCTOR,IteratorConstructor),IteratorConstructor.prototype=IteratorPrototype$3,$$1$({global:!0,constructor:!0,forced:FORCED$1},{Iterator:IteratorConstructor});var call$u=functionCall,create$4=objectCreate$1,createNonEnumerableProperty$3=createNonEnumerableProperty$j,defineBuiltIns$2=defineBuiltIns$b,wellKnownSymbol$8=wellKnownSymbol$S,InternalStateModule$7=internalState,getMethod$3=getMethod$l,IteratorPrototype$2=iteratorsCore.IteratorPrototype,createIterResultObject$4=createIterResultObject$h,iteratorClose$2=iteratorClose$8,TO_STRING_TAG=wellKnownSymbol$8("toStringTag"),ITERATOR_HELPER="IteratorHelper",WRAP_FOR_VALID_ITERATOR="WrapForValidIterator",setInternalState$8=InternalStateModule$7.set,createIteratorProxyPrototype=function(e){var t=InternalStateModule$7.getterFor(e?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER);return defineBuiltIns$2(create$4(IteratorPrototype$2),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return createIterResultObject$4(n,r.done)}catch(a){throw r.done=!0,a}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var a=getMethod$3(n,"return");return a?call$u(a,n):createIterResultObject$4(void 0,!0)}if(r.inner)try{iteratorClose$2(r.inner.iterator,"normal")}catch(o){return iteratorClose$2(n,"throw",o)}return iteratorClose$2(n,"normal"),createIterResultObject$4(void 0,!0)}})},WrapForValidIteratorPrototype=createIteratorProxyPrototype(!0),IteratorHelperPrototype=createIteratorProxyPrototype(!1);createNonEnumerableProperty$3(IteratorHelperPrototype,TO_STRING_TAG,"Iterator Helper");var iteratorCreateProxy=function(e,t){var r=function(n,a){a?(a.iterator=n.iterator,a.next=n.next):a=n,a.type=t?WRAP_FOR_VALID_ITERATOR:ITERATOR_HELPER,a.nextHandler=e,a.counter=0,a.done=!1,setInternalState$8(this,a)};return r.prototype=t?WrapForValidIteratorPrototype:IteratorHelperPrototype,r},call$t=functionCall,aCallable$f=aCallable$N,anObject$v=anObject$1h,getIteratorDirect$c=getIteratorDirect$o,createIteratorProxy$5=iteratorCreateProxy,callWithSafeIterationClosing$1=callWithSafeIterationClosing$3,IteratorProxy$5=createIteratorProxy$5(function(){var e=this.iterator,t=anObject$v(call$t(this.next,e)),r=this.done=!!t.done;if(!r)return callWithSafeIterationClosing$1(e,this.mapper,[t.value,this.counter++],!0)}),iteratorMap=function(e){return anObject$v(this),aCallable$f(e),new IteratorProxy$5(getIteratorDirect$c(this),{mapper:e})},call$s=functionCall,map$1=iteratorMap,callback=function(e,t){return[t,e]},iteratorIndexed=function(){return call$s(map$1,this,callback)},$$1_=_export,indexed$1=iteratorIndexed;$$1_({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:indexed$1});var call$r=functionCall,defineBuiltIn$6=defineBuiltIn$u,getMethod$2=getMethod$l,hasOwn$b=hasOwnProperty_1,wellKnownSymbol$7=wellKnownSymbol$S,IteratorPrototype$1=iteratorsCore.IteratorPrototype,DISPOSE=wellKnownSymbol$7("dispose");hasOwn$b(IteratorPrototype$1,DISPOSE)||defineBuiltIn$6(IteratorPrototype$1,DISPOSE,function(){var e=getMethod$2(this,"return");e&&call$r(e,this)});var $$1Z=_export,call$q=functionCall,anObject$u=anObject$1h,getIteratorDirect$b=getIteratorDirect$o,notANaN$1=notANan,toPositiveInteger$1=toPositiveInteger$5,createIteratorProxy$4=iteratorCreateProxy,IS_PURE$7=isPure,IteratorProxy$4=createIteratorProxy$4(function(){for(var e=this.iterator,t=this.next,r,n;this.remaining;)if(this.remaining--,r=anObject$u(call$q(t,e)),n=this.done=!!r.done,n)return;if(r=anObject$u(call$q(t,e)),n=this.done=!!r.done,!n)return r.value});$$1Z({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$7},{drop:function(e){anObject$u(this);var t=toPositiveInteger$1(notANaN$1(+e));return new IteratorProxy$4(getIteratorDirect$b(this),{remaining:t})}});var $$1Y=_export,iterate$s=iterate$H,aCallable$e=aCallable$N,anObject$t=anObject$1h,getIteratorDirect$a=getIteratorDirect$o;$$1Y({target:"Iterator",proto:!0,real:!0},{every:function(e){anObject$t(this),aCallable$e(e);var t=getIteratorDirect$a(this),r=0;return!iterate$s(t,function(n,a){if(!e(n,r++))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var $$1X=_export,call$p=functionCall,aCallable$d=aCallable$N,anObject$s=anObject$1h,getIteratorDirect$9=getIteratorDirect$o,createIteratorProxy$3=iteratorCreateProxy,callWithSafeIterationClosing=callWithSafeIterationClosing$3,IS_PURE$6=isPure,IteratorProxy$3=createIteratorProxy$3(function(){for(var e=this.iterator,t=this.predicate,r=this.next,n,a,o;;){if(n=anObject$s(call$p(r,e)),a=this.done=!!n.done,a)return;if(o=n.value,callWithSafeIterationClosing(e,t,[o,this.counter++],!0))return o}});$$1X({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$6},{filter:function(e){return anObject$s(this),aCallable$d(e),new IteratorProxy$3(getIteratorDirect$9(this),{predicate:e})}});var $$1W=_export,iterate$r=iterate$H,aCallable$c=aCallable$N,anObject$r=anObject$1h,getIteratorDirect$8=getIteratorDirect$o;$$1W({target:"Iterator",proto:!0,real:!0},{find:function(e){anObject$r(this),aCallable$c(e);var t=getIteratorDirect$8(this),r=0;return iterate$r(t,function(n,a){if(e(n,r++))return a(n)},{IS_RECORD:!0,INTERRUPTED:!0}).result}});var call$o=functionCall,anObject$q=anObject$1h,getIteratorDirect$7=getIteratorDirect$o,getIteratorMethod$1=getIteratorMethod$8,getIteratorFlattenable$2=function(e,t){(!t||typeof e!="string")&&anObject$q(e);var r=getIteratorMethod$1(e);return getIteratorDirect$7(anObject$q(r!==void 0?call$o(r,e):e))},$$1V=_export,call$n=functionCall,aCallable$b=aCallable$N,anObject$p=anObject$1h,getIteratorDirect$6=getIteratorDirect$o,getIteratorFlattenable$1=getIteratorFlattenable$2,createIteratorProxy$2=iteratorCreateProxy,iteratorClose$1=iteratorClose$8,IS_PURE$5=isPure,IteratorProxy$2=createIteratorProxy$2(function(){for(var e=this.iterator,t=this.mapper,r,n;;){if(n=this.inner)try{if(r=anObject$p(call$n(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(a){iteratorClose$1(e,"throw",a)}if(r=anObject$p(call$n(this.next,e)),this.done=!!r.done)return;try{this.inner=getIteratorFlattenable$1(t(r.value,this.counter++),!1)}catch(a){iteratorClose$1(e,"throw",a)}}});$$1V({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$5},{flatMap:function(e){return anObject$p(this),aCallable$b(e),new IteratorProxy$2(getIteratorDirect$6(this),{mapper:e,inner:null})}});var $$1U=_export,iterate$q=iterate$H,aCallable$a=aCallable$N,anObject$o=anObject$1h,getIteratorDirect$5=getIteratorDirect$o;$$1U({target:"Iterator",proto:!0,real:!0},{forEach:function(e){anObject$o(this),aCallable$a(e);var t=getIteratorDirect$5(this),r=0;iterate$q(t,function(n){e(n,r++)},{IS_RECORD:!0})}});var $$1T=_export,call$m=functionCall,toObject$3=toObject$E,isPrototypeOf=objectIsPrototypeOf,IteratorPrototype=iteratorsCore.IteratorPrototype,createIteratorProxy$1=iteratorCreateProxy,getIteratorFlattenable=getIteratorFlattenable$2,IS_PURE$4=isPure,IteratorProxy$1=createIteratorProxy$1(function(){return call$m(this.next,this.iterator)},!0);$$1T({target:"Iterator",stat:!0,forced:IS_PURE$4},{from:function(e){var t=getIteratorFlattenable(typeof e=="string"?toObject$3(e):e,!0);return isPrototypeOf(IteratorPrototype,t.iterator)?t.iterator:new IteratorProxy$1(t)}});var $$1S=_export,indexed=iteratorIndexed;$$1S({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed});var $$1R=_export,map=iteratorMap,IS_PURE$3=isPure;$$1R({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$3},{map});var $$1Q=_export,NumericRangeIterator$1=numericRangeIterator,$TypeError$i=TypeError;$$1Q({target:"Iterator",stat:!0,forced:!0},{range:function(e,t,r){if(typeof e=="number")return new NumericRangeIterator$1(e,t,r,"number",0,1);if(typeof e=="bigint")return new NumericRangeIterator$1(e,t,r,"bigint",BigInt(0),BigInt(1));throw new $TypeError$i("Incorrect Iterator.range arguments")}});var $$1P=_export,iterate$p=iterate$H,aCallable$9=aCallable$N,anObject$n=anObject$1h,getIteratorDirect$4=getIteratorDirect$o,$TypeError$h=TypeError;$$1P({target:"Iterator",proto:!0,real:!0},{reduce:function(e){anObject$n(this),aCallable$9(e);var t=getIteratorDirect$4(this),r=arguments.length<2,n=r?void 0:arguments[1],a=0;if(iterate$p(t,function(o){r?(r=!1,n=o):n=e(n,o,a),a++},{IS_RECORD:!0}),r)throw new $TypeError$h("Reduce of empty iterator with no initial value");return n}});var $$1O=_export,iterate$o=iterate$H,aCallable$8=aCallable$N,anObject$m=anObject$1h,getIteratorDirect$3=getIteratorDirect$o;$$1O({target:"Iterator",proto:!0,real:!0},{some:function(e){anObject$m(this),aCallable$8(e);var t=getIteratorDirect$3(this),r=0;return iterate$o(t,function(n,a){if(e(n,r++))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var $$1N=_export,call$l=functionCall,anObject$l=anObject$1h,getIteratorDirect$2=getIteratorDirect$o,notANaN=notANan,toPositiveInteger=toPositiveInteger$5,createIteratorProxy=iteratorCreateProxy,iteratorClose=iteratorClose$8,IS_PURE$2=isPure,IteratorProxy=createIteratorProxy(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,iteratorClose(e,"normal",void 0);var t=anObject$l(call$l(this.next,e)),r=this.done=!!t.done;if(!r)return t.value});$$1N({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$2},{take:function(e){anObject$l(this);var t=toPositiveInteger(notANaN(+e));return new IteratorProxy(getIteratorDirect$2(this),{remaining:t})}});var $$1M=_export,anObject$k=anObject$1h,iterate$n=iterate$H,getIteratorDirect$1=getIteratorDirect$o,push$c=[].push;$$1M({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return iterate$n(getIteratorDirect$1(anObject$k(this)),push$c,{that:e,IS_RECORD:!0}),e}});var $$1L=_export,anObject$j=anObject$1h,AsyncFromSyncIterator=asyncFromSyncIterator,WrapAsyncIterator=asyncIteratorWrap,getIteratorDirect=getIteratorDirect$o,IS_PURE$1=isPure;$$1L({target:"Iterator",proto:!0,real:!0,forced:IS_PURE$1},{toAsync:function(){return new WrapAsyncIterator(getIteratorDirect(new AsyncFromSyncIterator(getIteratorDirect(anObject$j(this)))))}});var fails$9=fails$1z,nativeRawJson=!fails$9(function(){var e="9007199254740993",t=JSON.rawJSON(e);return!JSON.isRawJSON(t)||JSON.stringify(t)!==e}),isObject$7=isObject$O,getInternalState$4=internalState.get,isRawJson=function(e){if(!isObject$7(e))return!1;var t=getInternalState$4(e);return!!t&&t.type==="RawJSON"},$$1K=_export,NATIVE_RAW_JSON$1=nativeRawJson,isRawJSON$1=isRawJson;$$1K({target:"JSON",stat:!0,forced:!NATIVE_RAW_JSON$1},{isRawJSON:isRawJSON$1});var uncurryThis$t=functionUncurryThis,hasOwn$a=hasOwnProperty_1,$SyntaxError$4=SyntaxError,$parseInt$1=parseInt,fromCharCode$3=String.fromCharCode,at$2=uncurryThis$t("".charAt),slice$3=uncurryThis$t("".slice),exec$8=uncurryThis$t(/./.exec),codePoints={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},IS_4_HEX_DIGITS=/^[\da-f]{4}$/i,IS_C0_CONTROL_CODE=/^[\u0000-\u001F]$/,parseJsonString=function(e,t){for(var r=!0,n="";t<e.length;){var a=at$2(e,t);if(a==="\\"){var o=slice$3(e,t,t+2);if(hasOwn$a(codePoints,o))n+=codePoints[o],t+=2;else if(o==="\\u"){t+=2;var u=slice$3(e,t,t+4);if(!exec$8(IS_4_HEX_DIGITS,u))throw new $SyntaxError$4("Bad Unicode escape at: "+t);n+=fromCharCode$3($parseInt$1(u,16)),t+=4}else throw new $SyntaxError$4('Unknown escape sequence: "'+o+'"')}else if(a==='"'){r=!1,t++;break}else{if(exec$8(IS_C0_CONTROL_CODE,a))throw new $SyntaxError$4("Bad control character in string literal at: "+t);n+=a,t++}}if(r)throw new $SyntaxError$4("Unterminated string at: "+t);return{value:n,end:t}},$$1J=_export,DESCRIPTORS$9=descriptors,global$k=global$18,getBuiltIn$h=getBuiltIn$N,uncurryThis$s=functionUncurryThis,call$k=functionCall,isCallable$b=isCallable$K,isObject$6=isObject$O,isArray=isArray$b,hasOwn$9=hasOwnProperty_1,toString$c=toString$K,lengthOfArrayLike$4=lengthOfArrayLike$B,createProperty$2=createProperty$b,fails$8=fails$1z,parseJSONString$1=parseJsonString,NATIVE_SYMBOL=symbolConstructorDetection,JSON$1=global$k.JSON,Number$1=global$k.Number,SyntaxError$3=global$k.SyntaxError,nativeParse=JSON$1&&JSON$1.parse,enumerableOwnProperties=getBuiltIn$h("Object","keys"),getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,at$1=uncurryThis$s("".charAt),slice$2=uncurryThis$s("".slice),exec$7=uncurryThis$s(/./.exec),push$b=uncurryThis$s([].push),IS_DIGIT=/^\d$/,IS_NON_ZERO_DIGIT=/^[1-9]$/,IS_NUMBER_START=/^(?:-|\d)$/,IS_WHITESPACE$1=/^[\t\n\r ]$/,PRIMITIVE=0,OBJECT=1,$parse=function(e,t){e=toString$c(e);var r=new Context(e,0),n=r.parse(),a=n.value,o=r.skip(IS_WHITESPACE$1,n.end);if(o<e.length)throw new SyntaxError$3('Unexpected extra character: "'+at$1(e,o)+'" after the parsed data at: '+o);return isCallable$b(t)?internalize({"":a},"",t,n):a},internalize=function(e,t,r,n){var a=e[t],o=n&&a===n.value,u=o&&typeof n.source=="string"?{source:n.source}:{},p,b,m,y,A;if(isObject$6(a)){var I=isArray(a),M=o?n.nodes:I?[]:{};if(I)for(p=M.length,m=lengthOfArrayLike$4(a),y=0;y<m;y++)internalizeProperty(a,y,internalize(a,""+y,r,y<p?M[y]:void 0));else for(b=enumerableOwnProperties(a),m=lengthOfArrayLike$4(b),y=0;y<m;y++)A=b[y],internalizeProperty(a,A,internalize(a,A,r,hasOwn$9(M,A)?M[A]:void 0))}return call$k(r,e,t,a,u)},internalizeProperty=function(e,t,r){if(DESCRIPTORS$9){var n=getOwnPropertyDescriptor$2(e,t);if(n&&!n.configurable)return}r===void 0?delete e[t]:createProperty$2(e,t,r)},Node$1=function(e,t,r,n){this.value=e,this.end=t,this.source=r,this.nodes=n},Context=function(e,t){this.source=e,this.index=t};Context.prototype={fork:function(e){return new Context(this.source,e)},parse:function(){var e=this.source,t=this.skip(IS_WHITESPACE$1,this.index),r=this.fork(t),n=at$1(e,t);if(exec$7(IS_NUMBER_START,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case'"':return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new SyntaxError$3('Unexpected character: "'+n+'" at: '+t)},node:function(e,t,r,n,a){return new Node$1(t,n,e?null:slice$2(this.source,r,n),a)},object:function(){for(var e=this.source,t=this.index+1,r=!1,n={},a={};t<e.length;){if(t=this.until(['"',"}"],t),at$1(e,t)==="}"&&!r){t++;break}var o=this.fork(t).string(),u=o.value;t=o.end,t=this.until([":"],t)+1,t=this.skip(IS_WHITESPACE$1,t),o=this.fork(t).parse(),createProperty$2(a,u,o),createProperty$2(n,u,o.value),t=this.until([",","}"],o.end);var p=at$1(e,t);if(p===",")r=!0,t++;else if(p==="}"){t++;break}}return this.node(OBJECT,n,this.index,t,a)},array:function(){for(var e=this.source,t=this.index+1,r=!1,n=[],a=[];t<e.length;){if(t=this.skip(IS_WHITESPACE$1,t),at$1(e,t)==="]"&&!r){t++;break}var o=this.fork(t).parse();if(push$b(a,o),push$b(n,o.value),t=this.until([",","]"],o.end),at$1(e,t)===",")r=!0,t++;else if(at$1(e,t)==="]"){t++;break}}return this.node(OBJECT,n,this.index,t,a)},string:function(){var e=this.index,t=parseJSONString$1(this.source,this.index+1);return this.node(PRIMITIVE,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,r=t;if(at$1(e,r)==="-"&&r++,at$1(e,r)==="0")r++;else if(exec$7(IS_NON_ZERO_DIGIT,at$1(e,r)))r=this.skip(IS_DIGIT,++r);else throw new SyntaxError$3("Failed to parse number at: "+r);if(at$1(e,r)==="."&&(r=this.skip(IS_DIGIT,++r)),at$1(e,r)==="e"||at$1(e,r)==="E"){r++,(at$1(e,r)==="+"||at$1(e,r)==="-")&&r++;var n=r;if(r=this.skip(IS_DIGIT,r),n===r)throw new SyntaxError$3("Failed to parse number's exponent value at: "+r)}return this.node(PRIMITIVE,Number$1(slice$2(e,t,r)),t,r)},keyword:function(e){var t=""+e,r=this.index,n=r+t.length;if(slice$2(this.source,r,n)!==t)throw new SyntaxError$3("Failed to parse value at: "+r);return this.node(PRIMITIVE,e,r,n)},skip:function(e,t){for(var r=this.source;t<r.length&&exec$7(e,at$1(r,t));t++);return t},until:function(e,t){t=this.skip(IS_WHITESPACE$1,t);for(var r=at$1(this.source,t),n=0;n<e.length;n++)if(e[n]===r)return t;throw new SyntaxError$3('Unexpected character: "'+r+'" at: '+t)}};var NO_SOURCE_SUPPORT=fails$8(function(){var e="9007199254740993",t;return nativeParse(e,function(r,n,a){t=a.source}),t!==e}),PROPER_BASE_PARSE=NATIVE_SYMBOL&&!fails$8(function(){return 1/nativeParse("-0 	")!==-1/0});$$1J({target:"JSON",stat:!0,forced:NO_SOURCE_SUPPORT},{parse:function(e,t){return PROPER_BASE_PARSE&&!isCallable$b(t)?nativeParse(e):$parse(e,t)}});var $$1I=_export,FREEZING$1=freezing,NATIVE_RAW_JSON=nativeRawJson,getBuiltIn$g=getBuiltIn$N,call$j=functionCall,uncurryThis$r=functionUncurryThis,isCallable$a=isCallable$K,isRawJSON=isRawJson,toString$b=toString$K,createProperty$1=createProperty$b,parseJSONString=parseJsonString,getReplacerFunction=getJsonReplacerFunction,uid$1=uid$7,setInternalState$7=internalState.set,$String$1=String,$SyntaxError$3=SyntaxError,parse$1=getBuiltIn$g("JSON","parse"),$stringify=getBuiltIn$g("JSON","stringify"),create$3=getBuiltIn$g("Object","create"),freeze$1=getBuiltIn$g("Object","freeze"),at=uncurryThis$r("".charAt),slice$1=uncurryThis$r("".slice),exec$6=uncurryThis$r(/./.exec),push$a=uncurryThis$r([].push),MARK=uid$1(),MARK_LENGTH=MARK.length,ERROR_MESSAGE$1="Unacceptable as raw JSON",IS_WHITESPACE=/^[\t\n\r ]$/;$$1I({target:"JSON",stat:!0,forced:!NATIVE_RAW_JSON},{rawJSON:function(e){var t=toString$b(e);if(t===""||exec$6(IS_WHITESPACE,at(t,0))||exec$6(IS_WHITESPACE,at(t,t.length-1)))throw new $SyntaxError$3(ERROR_MESSAGE$1);var r=parse$1(t);if(typeof r=="object"&&r!==null)throw new $SyntaxError$3(ERROR_MESSAGE$1);var n=create$3(null);return setInternalState$7(n,{type:"RawJSON"}),createProperty$1(n,"rawJSON",t),FREEZING$1?freeze$1(n):n}}),$stringify&&$$1I({target:"JSON",stat:!0,arity:3,forced:!NATIVE_RAW_JSON},{stringify:function(e,t,r){var n=getReplacerFunction(t),a=[],o=$stringify(e,function(I,M){var C=isCallable$a(n)?call$j(n,this,$String$1(I),M):M;return isRawJSON(C)?MARK+(push$a(a,C.rawJSON)-1):C},r);if(typeof o!="string")return o;for(var u="",p=o.length,b=0;b<p;b++){var m=at(o,b);if(m==='"'){var y=parseJSONString(o,++b).end-1,A=slice$1(o,b,y);u+=slice$1(A,0,MARK_LENGTH)===MARK?a[slice$1(A,MARK_LENGTH)]:'"'+A+'"',b=y}else u+=m}return u}});var has$5=mapHelpers.has,aMap$e=function(e){return has$5(e),e},$$1H=_export,aMap$d=aMap$e,remove$3=mapHelpers.remove;$$1H({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e=aMap$d(this),t=!0,r,n=0,a=arguments.length;n<a;n++)r=remove$3(e,arguments[n]),t=t&&r;return!!t}});var $$1G=_export,aMap$c=aMap$e,MapHelpers$7=mapHelpers,get$2=MapHelpers$7.get,has$4=MapHelpers$7.has,set$6=MapHelpers$7.set;$$1G({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(e,t){var r=aMap$c(this),n,a;return has$4(r,e)?(n=get$2(r,e),"update"in t&&(n=t.update(n,e,r),set$6(r,e,n)),n):(a=t.insert(e,r),set$6(r,e,a),a)}});var $$1F=_export,bind$g=functionBindContext,aMap$b=aMap$e,iterate$m=mapIterate;$$1F({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=aMap$b(this),r=bind$g(e,arguments.length>1?arguments[1]:void 0);return iterate$m(t,function(n,a){if(!r(n,a,t))return!1},!0)!==!1}});var $$1E=_export,bind$f=functionBindContext,aMap$a=aMap$e,MapHelpers$6=mapHelpers,iterate$l=mapIterate,Map$6=MapHelpers$6.Map,set$5=MapHelpers$6.set;$$1E({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=aMap$a(this),r=bind$f(e,arguments.length>1?arguments[1]:void 0),n=new Map$6;return iterate$l(t,function(a,o){r(a,o,t)&&set$5(n,o,a)}),n}});var $$1D=_export,bind$e=functionBindContext,aMap$9=aMap$e,iterate$k=mapIterate;$$1D({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=aMap$9(this),r=bind$e(e,arguments.length>1?arguments[1]:void 0),n=iterate$k(t,function(a,o){if(r(a,o,t))return{value:a}},!0);return n&&n.value}});var $$1C=_export,bind$d=functionBindContext,aMap$8=aMap$e,iterate$j=mapIterate;$$1C({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=aMap$8(this),r=bind$d(e,arguments.length>1?arguments[1]:void 0),n=iterate$j(t,function(a,o){if(r(a,o,t))return{key:o}},!0);return n&&n.key}});var bind$c=functionBindContext,anObject$i=anObject$1h,toObject$2=toObject$E,iterate$i=iterate$H,collectionFrom=function(e,t,r){return function(n){var a=toObject$2(n),o=arguments.length,u=o>1?arguments[1]:void 0,p=u!==void 0,b=p?bind$c(u,o>2?arguments[2]:void 0):void 0,m=new e,y=0;return iterate$i(a,function(A){var I=p?b(A,y++):A;r?t(m,anObject$i(I)[0],I[1]):t(m,I)}),m}},$$1B=_export,MapHelpers$5=mapHelpers,createCollectionFrom$3=collectionFrom;$$1B({target:"Map",stat:!0,forced:!0},{from:createCollectionFrom$3(MapHelpers$5.Map,MapHelpers$5.set,!0)});var sameValueZero$1=function(e,t){return e===t||e!==e&&t!==t},$$1A=_export,sameValueZero=sameValueZero$1,aMap$7=aMap$e,iterate$h=mapIterate;$$1A({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return iterate$h(aMap$7(this),function(t){if(sameValueZero(t,e))return!0},!0)===!0}});var $$1z=_export,call$i=functionCall,iterate$g=iterate$H,isCallable$9=isCallable$K,aCallable$7=aCallable$N,Map$5=mapHelpers.Map;$$1z({target:"Map",stat:!0,forced:!0},{keyBy:function(e,t){var r=isCallable$9(this)?this:Map$5,n=new r;aCallable$7(t);var a=aCallable$7(n.set);return iterate$g(e,function(o){call$i(a,n,t(o),o)}),n}});var $$1y=_export,aMap$6=aMap$e,iterate$f=mapIterate;$$1y({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var t=iterate$f(aMap$6(this),function(r,n){if(r===e)return{key:n}},!0);return t&&t.key}});var $$1x=_export,bind$b=functionBindContext,aMap$5=aMap$e,MapHelpers$4=mapHelpers,iterate$e=mapIterate,Map$4=MapHelpers$4.Map,set$4=MapHelpers$4.set;$$1x({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=aMap$5(this),r=bind$b(e,arguments.length>1?arguments[1]:void 0),n=new Map$4;return iterate$e(t,function(a,o){set$4(n,r(a,o,t),a)}),n}});var $$1w=_export,bind$a=functionBindContext,aMap$4=aMap$e,MapHelpers$3=mapHelpers,iterate$d=mapIterate,Map$3=MapHelpers$3.Map,set$3=MapHelpers$3.set;$$1w({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=aMap$4(this),r=bind$a(e,arguments.length>1?arguments[1]:void 0),n=new Map$3;return iterate$d(t,function(a,o){set$3(n,o,r(a,o,t))}),n}});var $$1v=_export,aMap$3=aMap$e,iterate$c=iterate$H,set$2=mapHelpers.set;$$1v({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=aMap$3(this),r=arguments.length,n=0;n<r;)iterate$c(arguments[n++],function(a,o){set$2(t,a,o)},{AS_ENTRIES:!0});return t}});var anObject$h=anObject$1h,collectionOf=function(e,t,r){return function(){for(var n=new e,a=arguments.length,o=0;o<a;o++){var u=arguments[o];r?t(n,anObject$h(u)[0],u[1]):t(n,u)}return n}},$$1u=_export,MapHelpers$2=mapHelpers,createCollectionOf$3=collectionOf;$$1u({target:"Map",stat:!0,forced:!0},{of:createCollectionOf$3(MapHelpers$2.Map,MapHelpers$2.set,!0)});var $$1t=_export,aCallable$6=aCallable$N,aMap$2=aMap$e,iterate$b=mapIterate,$TypeError$g=TypeError;$$1t({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=aMap$2(this),r=arguments.length<2,n=r?void 0:arguments[1];if(aCallable$6(e),iterate$b(t,function(a,o){r?(r=!1,n=a):n=e(n,a,o,t)}),r)throw new $TypeError$g("Reduce of empty map with no initial value");return n}});var $$1s=_export,bind$9=functionBindContext,aMap$1=aMap$e,iterate$a=mapIterate;$$1s({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=aMap$1(this),r=bind$9(e,arguments.length>1?arguments[1]:void 0);return iterate$a(t,function(n,a){if(r(n,a,t))return!0},!0)===!0}});var $$1r=_export,aCallable$5=aCallable$N,aMap=aMap$e,MapHelpers$1=mapHelpers,$TypeError$f=TypeError,get$1=MapHelpers$1.get,has$3=MapHelpers$1.has,set$1=MapHelpers$1.set;$$1r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var r=aMap(this),n=arguments.length;aCallable$5(t);var a=has$3(r,e);if(!a&&n<3)throw new $TypeError$f("Updating absent value");var o=a?get$1(r,e):aCallable$5(n>2?arguments[2]:void 0)(e,r);return set$1(r,e,t(o,e,r)),r}});var call$h=functionCall,aCallable$4=aCallable$N,isCallable$8=isCallable$K,anObject$g=anObject$1h,$TypeError$e=TypeError,mapUpsert=function(e,t){var r=anObject$g(this),n=aCallable$4(r.get),a=aCallable$4(r.has),o=aCallable$4(r.set),u=arguments.length>2?arguments[2]:void 0,p;if(!isCallable$8(t)&&!isCallable$8(u))throw new $TypeError$e("At least one callback required");return call$h(a,r,e)?(p=call$h(n,r,e),isCallable$8(t)&&(p=t(p),call$h(o,r,e,p))):isCallable$8(u)&&(p=u(),call$h(o,r,e,p)),p},$$1q=_export,upsert$2=mapUpsert;$$1q({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:upsert$2});var $$1p=_export,upsert$1=mapUpsert;$$1p({target:"Map",proto:!0,real:!0,forced:!0},{upsert:upsert$1});var $$1o=_export,min$2=Math.min,max$2=Math.max;$$1o({target:"Math",stat:!0,forced:!0},{clamp:function(e,t,r){return min$2(r,max$2(t,e))}});var $$1n=_export;$$1n({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180});var $$1m=_export,RAD_PER_DEG=180/Math.PI;$$1m({target:"Math",stat:!0,forced:!0},{degrees:function(e){return e*RAD_PER_DEG}});var mathScale=Math.scale||function(e,t,r,n,a){var o=+e,u=+t,p=+r,b=+n,m=+a;return o!==o||u!==u||p!==p||b!==b||m!==m?NaN:o===1/0||o===-1/0?o:(o-u)*(m-b)/(p-u)+b},$$1l=_export,scale$1=mathScale,fround=mathFround;$$1l({target:"Math",stat:!0,forced:!0},{fscale:function(e,t,r,n,a){return fround(scale$1(e,t,r,n,a))}});var $$1k=_export,f16round=mathF16round;$$1k({target:"Math",stat:!0},{f16round});var $$1j=_export;$$1j({target:"Math",stat:!0,forced:!0},{iaddh:function(e,t,r,n){var a=e>>>0,o=t>>>0,u=r>>>0;return o+(n>>>0)+((a&u|(a|u)&~(a+u>>>0))>>>31)|0}});var $$1i=_export;$$1i({target:"Math",stat:!0,forced:!0},{imulh:function(e,t){var r=65535,n=+e,a=+t,o=n&r,u=a&r,p=n>>16,b=a>>16,m=(p*u>>>0)+(o*u>>>16);return p*b+(m>>16)+((o*b>>>0)+(m&r)>>16)}});var $$1h=_export;$$1h({target:"Math",stat:!0,forced:!0},{isubh:function(e,t,r,n){var a=e>>>0,o=t>>>0,u=r>>>0;return o-(n>>>0)-((~a&u|~(a^u)&a-u>>>0)>>>31)|0}});var $$1g=_export;$$1g({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI});var $$1f=_export,DEG_PER_RAD=Math.PI/180;$$1f({target:"Math",stat:!0,forced:!0},{radians:function(e){return e*DEG_PER_RAD}});var $$1e=_export,scale=mathScale;$$1e({target:"Math",stat:!0,forced:!0},{scale});var $$1d=_export,anObject$f=anObject$1h,numberIsFinite=numberIsFinite$2,createIteratorConstructor$3=iteratorCreateConstructor,createIterResultObject$3=createIterResultObject$h,InternalStateModule$6=internalState,SEEDED_RANDOM="Seeded Random",SEEDED_RANDOM_GENERATOR=SEEDED_RANDOM+" Generator",SEED_TYPE_ERROR='Math.seededPRNG() argument should have a "seed" field with a finite value.',setInternalState$6=InternalStateModule$6.set,getInternalState$3=InternalStateModule$6.getterFor(SEEDED_RANDOM_GENERATOR),$TypeError$d=TypeError,$SeededRandomGenerator=createIteratorConstructor$3(function(e){setInternalState$6(this,{type:SEEDED_RANDOM_GENERATOR,seed:e%2147483647})},SEEDED_RANDOM,function(){var e=getInternalState$3(this),t=e.seed=(e.seed*1103515245+12345)%2147483647;return createIterResultObject$3((t&1073741823)/1073741823,!1)});$$1d({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=anObject$f(e).seed;if(!numberIsFinite(t))throw new $TypeError$d(SEED_TYPE_ERROR);return new $SeededRandomGenerator(t)}});var $$1c=_export;$$1c({target:"Math",stat:!0,forced:!0},{signbit:function(e){var t=+e;return t===t&&t===0?1/t===-1/0:t<0}});var $$1b=_export,uncurryThis$q=functionUncurryThis,iterate$9=iterate$H,$RangeError$3=RangeError,$TypeError$c=TypeError,$Infinity=1/0,$NaN=NaN,abs=Math.abs,pow$3=Math.pow,push$9=uncurryThis$q([].push),POW_2_1023=pow$3(2,1023),MAX_SAFE_INTEGER$2=pow$3(2,53)-1,MAX_DOUBLE=Number.MAX_VALUE,MAX_ULP=pow$3(2,971),NOT_A_NUMBER={},MINUS_INFINITY={},PLUS_INFINITY={},MINUS_ZERO={},FINITE={},twosum=function(e,t){var r=e+t,n=t-(r-e);return{hi:r,lo:n}};$$1b({target:"Math",stat:!0,forced:!0},{sumPrecise:function(e){var t=[],r=0,n=MINUS_ZERO;switch(iterate$9(e,function(N){if(++r>=MAX_SAFE_INTEGER$2)throw new $RangeError$3("Maximum allowed index exceeded");if(typeof N!="number")throw new $TypeError$c("Value is not a number");n!==NOT_A_NUMBER&&(N!==N?n=NOT_A_NUMBER:N===$Infinity?n=n===MINUS_INFINITY?NOT_A_NUMBER:PLUS_INFINITY:N===-$Infinity?n=n===PLUS_INFINITY?NOT_A_NUMBER:MINUS_INFINITY:(N!==0||1/N===$Infinity)&&(n===MINUS_ZERO||n===FINITE)&&(n=FINITE,push$9(t,N)))}),n){case NOT_A_NUMBER:return $NaN;case MINUS_INFINITY:return-$Infinity;case PLUS_INFINITY:return $Infinity;case MINUS_ZERO:return-0}for(var a=[],o=0,u,p,b,m,y,A,I=0;I<t.length;I++){u=t[I];for(var M=0,C=0;C<a.length;C++){if(p=a[C],abs(u)<abs(p)&&(A=u,u=p,p=A),b=twosum(u,p),m=b.hi,y=b.lo,abs(m)===$Infinity){var P=m===$Infinity?1:-1;o+=P,u=u-P*POW_2_1023-P*POW_2_1023,abs(u)<abs(p)&&(A=u,u=p,p=A),b=twosum(u,p),m=b.hi,y=b.lo}y!==0&&(a[M++]=y),u=m}a.length=M,u!==0&&push$9(a,u)}var B=a.length-1;if(m=0,y=0,o!==0){var k=B>=0?a[B]:0;if(B--,abs(o)>1||o>0&&k>0||o<0&&k<0)return o>0?$Infinity:-$Infinity;if(b=twosum(o*POW_2_1023,k/2),m=b.hi,y=b.lo,y*=2,abs(2*m)===$Infinity)return m>0?m===POW_2_1023&&y===-(MAX_ULP/2)&&B>=0&&a[B]<0?MAX_DOUBLE:$Infinity:m===-POW_2_1023&&y===MAX_ULP/2&&B>=0&&a[B]>0?-MAX_DOUBLE:-$Infinity;y!==0&&(a[++B]=y,y=0),m*=2}for(;B>=0&&(b=twosum(m,a[B--]),m=b.hi,y=b.lo,y===0););return B>=0&&(y<0&&a[B]<0||y>0&&a[B]>0)&&(p=y*2,u=m+p,p===u-m&&(m=u)),m}});var $$1a=_export;$$1a({target:"Math",stat:!0,forced:!0},{umulh:function(e,t){var r=65535,n=+e,a=+t,o=n&r,u=a&r,p=n>>>16,b=a>>>16,m=(p*u>>>0)+(o*u>>>16);return p*b+(m>>>16)+((o*b>>>0)+(m&r)>>>16)}});var $$19=_export,uncurryThis$p=functionUncurryThis,toIntegerOrInfinity$2=toIntegerOrInfinity$p,INVALID_NUMBER_REPRESENTATION="Invalid number representation",INVALID_RADIX="Invalid radix",$RangeError$2=RangeError,$SyntaxError$2=SyntaxError,$TypeError$b=TypeError,$parseInt=parseInt,pow$2=Math.pow,valid=/^[\d.a-z]+$/,charAt$a=uncurryThis$p("".charAt),exec$5=uncurryThis$p(valid.exec),numberToString$3=uncurryThis$p(1 .toString),stringSlice$6=uncurryThis$p("".slice),split$6=uncurryThis$p("".split);$$19({target:"Number",stat:!0,forced:!0},{fromString:function(e,t){var r=1;if(typeof e!="string")throw new $TypeError$b(INVALID_NUMBER_REPRESENTATION);if(!e.length)throw new $SyntaxError$2(INVALID_NUMBER_REPRESENTATION);if(charAt$a(e,0)==="-"&&(r=-1,e=stringSlice$6(e,1),!e.length))throw new $SyntaxError$2(INVALID_NUMBER_REPRESENTATION);var n=t===void 0?10:toIntegerOrInfinity$2(t);if(n<2||n>36)throw new $RangeError$2(INVALID_RADIX);if(!exec$5(valid,e))throw new $SyntaxError$2(INVALID_NUMBER_REPRESENTATION);var a=split$6(e,"."),o=$parseInt(a[0],n);if(a.length>1&&(o+=$parseInt(a[1],n)/pow$2(n,a[1].length)),n===10&&numberToString$3(o,n)!==e)throw new $SyntaxError$2(INVALID_NUMBER_REPRESENTATION);return r*o}});var $$18=_export,NumericRangeIterator=numericRangeIterator;$$18({target:"Number",stat:!0,forced:!0},{range:function(e,t,r){return new NumericRangeIterator(e,t,r,"number",0,1)}});var InternalStateModule$5=internalState,createIteratorConstructor$2=iteratorCreateConstructor,createIterResultObject$2=createIterResultObject$h,hasOwn$8=hasOwnProperty_1,objectKeys$1=objectKeys$6,toObject$1=toObject$E,OBJECT_ITERATOR="Object Iterator",setInternalState$5=InternalStateModule$5.set,getInternalState$2=InternalStateModule$5.getterFor(OBJECT_ITERATOR),objectIterator=createIteratorConstructor$2(function(e,t){var r=toObject$1(e);setInternalState$5(this,{type:OBJECT_ITERATOR,mode:t,object:r,keys:objectKeys$1(r),index:0})},"Object",function(){for(var e=getInternalState$2(this),t=e.keys;;){if(t===null||e.index>=t.length)return e.object=e.keys=null,createIterResultObject$2(void 0,!0);var r=t[e.index++],n=e.object;if(hasOwn$8(n,r)){switch(e.mode){case"keys":return createIterResultObject$2(r,!1);case"values":return createIterResultObject$2(n[r],!1)}return createIterResultObject$2([r,n[r]],!1)}}}),$$17=_export,ObjectIterator$2=objectIterator;$$17({target:"Object",stat:!0,forced:!0},{iterateEntries:function(e){return new ObjectIterator$2(e,"entries")}});var $$16=_export,ObjectIterator$1=objectIterator;$$16({target:"Object",stat:!0,forced:!0},{iterateKeys:function(e){return new ObjectIterator$1(e,"keys")}});var $$15=_export,ObjectIterator=objectIterator;$$15({target:"Object",stat:!0,forced:!0},{iterateValues:function(e){return new ObjectIterator(e,"values")}});var $$14=_export,call$g=functionCall,DESCRIPTORS$8=descriptors,setSpecies=setSpecies$7,aCallable$3=aCallable$N,anObject$e=anObject$1h,anInstance$4=anInstance$f,isCallable$7=isCallable$K,isNullOrUndefined$2=isNullOrUndefined$j,isObject$5=isObject$O,getMethod$1=getMethod$l,defineBuiltIn$5=defineBuiltIn$u,defineBuiltIns$1=defineBuiltIns$b,defineBuiltInAccessor$5=defineBuiltInAccessor$p,hostReportErrors=hostReportErrors$2,wellKnownSymbol$6=wellKnownSymbol$S,InternalStateModule$4=internalState,$$OBSERVABLE$1=wellKnownSymbol$6("observable"),OBSERVABLE="Observable",SUBSCRIPTION="Subscription",SUBSCRIPTION_OBSERVER="SubscriptionObserver",getterFor$1=InternalStateModule$4.getterFor,setInternalState$4=InternalStateModule$4.set,getObservableInternalState=getterFor$1(OBSERVABLE),getSubscriptionInternalState=getterFor$1(SUBSCRIPTION),getSubscriptionObserverInternalState=getterFor$1(SUBSCRIPTION_OBSERVER),SubscriptionState=function(e){this.observer=anObject$e(e),this.cleanup=void 0,this.subscriptionObserver=void 0};SubscriptionState.prototype={type:SUBSCRIPTION,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(t){hostReportErrors(t)}}},close:function(){if(!DESCRIPTORS$8){var e=this.facade,t=this.subscriptionObserver;e.closed=!0,t&&(t.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var Subscription=function(e,t){var r=setInternalState$4(this,new SubscriptionState(e)),n;DESCRIPTORS$8||(this.closed=!1);try{(n=getMethod$1(e,"start"))&&call$g(n,e,this)}catch(p){hostReportErrors(p)}if(!r.isClosed()){var a=r.subscriptionObserver=new SubscriptionObserver(r);try{var o=t(a),u=o;isNullOrUndefined$2(o)||(r.cleanup=isCallable$7(o.unsubscribe)?function(){u.unsubscribe()}:aCallable$3(o))}catch(p){a.error(p);return}r.isClosed()&&r.clean()}};Subscription.prototype=defineBuiltIns$1({},{unsubscribe:function(){var e=getSubscriptionInternalState(this);e.isClosed()||(e.close(),e.clean())}}),DESCRIPTORS$8&&defineBuiltInAccessor$5(Subscription.prototype,"closed",{configurable:!0,get:function(){return getSubscriptionInternalState(this).isClosed()}});var SubscriptionObserver=function(e){setInternalState$4(this,{type:SUBSCRIPTION_OBSERVER,subscriptionState:e}),DESCRIPTORS$8||(this.closed=!1)};SubscriptionObserver.prototype=defineBuiltIns$1({},{next:function(e){var t=getSubscriptionObserverInternalState(this).subscriptionState;if(!t.isClosed()){var r=t.observer;try{var n=getMethod$1(r,"next");n&&call$g(n,r,e)}catch(a){hostReportErrors(a)}}},error:function(e){var t=getSubscriptionObserverInternalState(this).subscriptionState;if(!t.isClosed()){var r=t.observer;t.close();try{var n=getMethod$1(r,"error");n?call$g(n,r,e):hostReportErrors(e)}catch(a){hostReportErrors(a)}t.clean()}},complete:function(){var e=getSubscriptionObserverInternalState(this).subscriptionState;if(!e.isClosed()){var t=e.observer;e.close();try{var r=getMethod$1(t,"complete");r&&call$g(r,t)}catch(n){hostReportErrors(n)}e.clean()}}}),DESCRIPTORS$8&&defineBuiltInAccessor$5(SubscriptionObserver.prototype,"closed",{configurable:!0,get:function(){return getSubscriptionObserverInternalState(this).subscriptionState.isClosed()}});var $Observable=function(e){anInstance$4(this,ObservablePrototype),setInternalState$4(this,{type:OBSERVABLE,subscriber:aCallable$3(e)})},ObservablePrototype=$Observable.prototype;defineBuiltIns$1(ObservablePrototype,{subscribe:function(e){var t=arguments.length;return new Subscription(isCallable$7(e)?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:isObject$5(e)?e:{},getObservableInternalState(this).subscriber)}}),defineBuiltIn$5(ObservablePrototype,$$OBSERVABLE$1,function(){return this}),$$14({global:!0,constructor:!0,forced:!0},{Observable:$Observable}),setSpecies(OBSERVABLE);var $$13=_export,getBuiltIn$f=getBuiltIn$N,call$f=functionCall,anObject$d=anObject$1h,isConstructor$2=isConstructor$a,getIterator$1=getIterator$7,getMethod=getMethod$l,iterate$8=iterate$H,wellKnownSymbol$5=wellKnownSymbol$S,$$OBSERVABLE=wellKnownSymbol$5("observable");$$13({target:"Observable",stat:!0,forced:!0},{from:function(e){var t=isConstructor$2(this)?this:getBuiltIn$f("Observable"),r=getMethod(anObject$d(e),$$OBSERVABLE);if(r){var n=anObject$d(call$f(r,e));return n.constructor===t?n:new t(function(o){return n.subscribe(o)})}var a=getIterator$1(e);return new t(function(o){iterate$8(a,function(u,p){if(o.next(u),o.closed)return p()},{IS_ITERATOR:!0,INTERRUPTED:!0}),o.complete()})}});var $$12=_export,getBuiltIn$e=getBuiltIn$N,isConstructor$1=isConstructor$a,Array$2=getBuiltIn$e("Array");$$12({target:"Observable",stat:!0,forced:!0},{of:function(){for(var e=isConstructor$1(this)?this:getBuiltIn$e("Observable"),t=arguments.length,r=Array$2(t),n=0;n<t;)r[n]=arguments[n++];return new e(function(a){for(var o=0;o<t;o++)if(a.next(r[o]),a.closed)return;a.complete()})}});var $$11=_export,apply$2=functionApply$1,slice=arraySlice$a,newPromiseCapabilityModule=newPromiseCapability$2,aCallable$2=aCallable$N,perform=perform$7;$$11({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=slice(arguments,1),r=newPromiseCapabilityModule.f(this),n=perform(function(){return apply$2(aCallable$2(e),void 0,t)});return(n.error?r.reject:r.resolve)(n.value),r.promise}});var getBuiltIn$d=getBuiltIn$N,uncurryThis$o=functionUncurryThis,shared$2=shared$b,Map$2=getBuiltIn$d("Map"),WeakMap$1=getBuiltIn$d("WeakMap"),push$8=uncurryThis$o([].push),metadata$1=shared$2("metadata"),store$1=metadata$1.store||(metadata$1.store=new WeakMap$1),getOrCreateMetadataMap$1=function(e,t,r){var n=store$1.get(e);if(!n){if(!r)return;store$1.set(e,n=new Map$2)}var a=n.get(t);if(!a){if(!r)return;n.set(t,a=new Map$2)}return a},ordinaryHasOwnMetadata$3=function(e,t,r){var n=getOrCreateMetadataMap$1(t,r,!1);return n===void 0?!1:n.has(e)},ordinaryGetOwnMetadata$2=function(e,t,r){var n=getOrCreateMetadataMap$1(t,r,!1);return n===void 0?void 0:n.get(e)},ordinaryDefineOwnMetadata$2=function(e,t,r,n){getOrCreateMetadataMap$1(r,n,!0).set(e,t)},ordinaryOwnMetadataKeys$2=function(e,t){var r=getOrCreateMetadataMap$1(e,t,!1),n=[];return r&&r.forEach(function(a,o){push$8(n,o)}),n},toMetadataKey$9=function(e){return e===void 0||typeof e=="symbol"?e:String(e)},reflectMetadata={store:store$1,getMap:getOrCreateMetadataMap$1,has:ordinaryHasOwnMetadata$3,get:ordinaryGetOwnMetadata$2,set:ordinaryDefineOwnMetadata$2,keys:ordinaryOwnMetadataKeys$2,toKey:toMetadataKey$9},$$10=_export,ReflectMetadataModule$8=reflectMetadata,anObject$c=anObject$1h,toMetadataKey$8=ReflectMetadataModule$8.toKey,ordinaryDefineOwnMetadata$1=ReflectMetadataModule$8.set;$$10({target:"Reflect",stat:!0},{defineMetadata:function(e,t,r){var n=arguments.length<4?void 0:toMetadataKey$8(arguments[3]);ordinaryDefineOwnMetadata$1(e,t,anObject$c(r),n)}});var $$$=_export,ReflectMetadataModule$7=reflectMetadata,anObject$b=anObject$1h,toMetadataKey$7=ReflectMetadataModule$7.toKey,getOrCreateMetadataMap=ReflectMetadataModule$7.getMap,store=ReflectMetadataModule$7.store;$$$({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var r=arguments.length<3?void 0:toMetadataKey$7(arguments[2]),n=getOrCreateMetadataMap(anObject$b(t),r,!1);if(n===void 0||!n.delete(e))return!1;if(n.size)return!0;var a=store.get(t);return a.delete(r),!!a.size||store.delete(t)}});var $$_=_export,ReflectMetadataModule$6=reflectMetadata,anObject$a=anObject$1h,getPrototypeOf$3=objectGetPrototypeOf$2,ordinaryHasOwnMetadata$2=ReflectMetadataModule$6.has,ordinaryGetOwnMetadata$1=ReflectMetadataModule$6.get,toMetadataKey$6=ReflectMetadataModule$6.toKey,ordinaryGetMetadata=function(e,t,r){var n=ordinaryHasOwnMetadata$2(e,t,r);if(n)return ordinaryGetOwnMetadata$1(e,t,r);var a=getPrototypeOf$3(t);return a!==null?ordinaryGetMetadata(e,a,r):void 0};$$_({target:"Reflect",stat:!0},{getMetadata:function(e,t){var r=arguments.length<3?void 0:toMetadataKey$6(arguments[2]);return ordinaryGetMetadata(e,anObject$a(t),r)}});var $$Z=_export,uncurryThis$n=functionUncurryThis,ReflectMetadataModule$5=reflectMetadata,anObject$9=anObject$1h,getPrototypeOf$2=objectGetPrototypeOf$2,$arrayUniqueBy$1=arrayUniqueBy$2,arrayUniqueBy$1=uncurryThis$n($arrayUniqueBy$1),concat$1=uncurryThis$n([].concat),ordinaryOwnMetadataKeys$1=ReflectMetadataModule$5.keys,toMetadataKey$5=ReflectMetadataModule$5.toKey,ordinaryMetadataKeys=function(e,t){var r=ordinaryOwnMetadataKeys$1(e,t),n=getPrototypeOf$2(e);if(n===null)return r;var a=ordinaryMetadataKeys(n,t);return a.length?r.length?arrayUniqueBy$1(concat$1(r,a)):a:r};$$Z({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:toMetadataKey$5(arguments[1]);return ordinaryMetadataKeys(anObject$9(e),t)}});var $$Y=_export,ReflectMetadataModule$4=reflectMetadata,anObject$8=anObject$1h,ordinaryGetOwnMetadata=ReflectMetadataModule$4.get,toMetadataKey$4=ReflectMetadataModule$4.toKey;$$Y({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var r=arguments.length<3?void 0:toMetadataKey$4(arguments[2]);return ordinaryGetOwnMetadata(e,anObject$8(t),r)}});var $$X=_export,ReflectMetadataModule$3=reflectMetadata,anObject$7=anObject$1h,ordinaryOwnMetadataKeys=ReflectMetadataModule$3.keys,toMetadataKey$3=ReflectMetadataModule$3.toKey;$$X({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:toMetadataKey$3(arguments[1]);return ordinaryOwnMetadataKeys(anObject$7(e),t)}});var $$W=_export,ReflectMetadataModule$2=reflectMetadata,anObject$6=anObject$1h,getPrototypeOf$1=objectGetPrototypeOf$2,ordinaryHasOwnMetadata$1=ReflectMetadataModule$2.has,toMetadataKey$2=ReflectMetadataModule$2.toKey,ordinaryHasMetadata=function(e,t,r){var n=ordinaryHasOwnMetadata$1(e,t,r);if(n)return!0;var a=getPrototypeOf$1(t);return a!==null?ordinaryHasMetadata(e,a,r):!1};$$W({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var r=arguments.length<3?void 0:toMetadataKey$2(arguments[2]);return ordinaryHasMetadata(e,anObject$6(t),r)}});var $$V=_export,ReflectMetadataModule$1=reflectMetadata,anObject$5=anObject$1h,ordinaryHasOwnMetadata=ReflectMetadataModule$1.has,toMetadataKey$1=ReflectMetadataModule$1.toKey;$$V({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var r=arguments.length<3?void 0:toMetadataKey$1(arguments[2]);return ordinaryHasOwnMetadata(e,anObject$5(t),r)}});var $$U=_export,ReflectMetadataModule=reflectMetadata,anObject$4=anObject$1h,toMetadataKey=ReflectMetadataModule.toKey,ordinaryDefineOwnMetadata=ReflectMetadataModule.set;$$U({target:"Reflect",stat:!0},{metadata:function(e,t){return function(r,n){ordinaryDefineOwnMetadata(e,t,anObject$4(r),toMetadataKey(n))}}});var $$T=_export,uncurryThis$m=functionUncurryThis,toString$a=toString$K,padStart=stringPad.start,WHITESPACES=whitespaces$6,charCodeAt$3=uncurryThis$m("".charCodeAt),replace$5=uncurryThis$m("".replace),numberToString$2=uncurryThis$m(1.1.toString),NEED_ESCAPING=RegExp("[!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^`{|}~"+WHITESPACES+"]","g");$$T({target:"RegExp",stat:!0,forced:!0},{escape:function(e){var t=toString$a(e),r=charCodeAt$3(t,0);return(r>47&&r<58?"\\x3":"")+replace$5(t,NEED_ESCAPING,function(n){var a=numberToString$2(charCodeAt$3(n,0),16);return a.length<3?"\\x"+padStart(a,2,"0"):"\\u"+padStart(a,4,"0")})}});var $$S=_export,aSet$8=aSet$g,add$3=setHelpers.add;$$S({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=aSet$8(this),t=0,r=arguments.length;t<r;t++)add$3(e,arguments[t]);return e}});var $$R=_export,aSet$7=aSet$g,remove$2=setHelpers.remove;$$R({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e=aSet$7(this),t=!0,r,n=0,a=arguments.length;n<a;n++)r=remove$2(e,arguments[n]),t=t&&r;return!!t}});var classof$3=classof$q,hasOwn$7=hasOwnProperty_1,isNullOrUndefined$1=isNullOrUndefined$j,wellKnownSymbol$4=wellKnownSymbol$S,Iterators=iterators,ITERATOR$3=wellKnownSymbol$4("iterator"),$Object$1=Object,isIterable$2=function(e){if(isNullOrUndefined$1(e))return!1;var t=$Object$1(e);return t[ITERATOR$3]!==void 0||"@@iterator"in t||hasOwn$7(Iterators,classof$3(t))},getBuiltIn$c=getBuiltIn$N,isCallable$6=isCallable$K,isIterable$1=isIterable$2,isObject$4=isObject$O,Set$4=getBuiltIn$c("Set"),isSetLike=function(e){return isObject$4(e)&&typeof e.size=="number"&&isCallable$6(e.has)&&isCallable$6(e.keys)},toSetLike$7=function(e){return isSetLike(e)?e:isIterable$1(e)?new Set$4(e):e},$$Q=_export,call$e=functionCall,toSetLike$6=toSetLike$7,$difference=setDifference;$$Q({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){return call$e($difference,this,toSetLike$6(e))}});var $$P=_export,bind$8=functionBindContext,aSet$6=aSet$g,iterate$7=setIterate$1;$$P({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=aSet$6(this),r=bind$8(e,arguments.length>1?arguments[1]:void 0);return iterate$7(t,function(n){if(!r(n,n,t))return!1},!0)!==!1}});var $$O=_export,bind$7=functionBindContext,aSet$5=aSet$g,SetHelpers$4=setHelpers,iterate$6=setIterate$1,Set$3=SetHelpers$4.Set,add$2=SetHelpers$4.add;$$O({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=aSet$5(this),r=bind$7(e,arguments.length>1?arguments[1]:void 0),n=new Set$3;return iterate$6(t,function(a){r(a,a,t)&&add$2(n,a)}),n}});var $$N=_export,bind$6=functionBindContext,aSet$4=aSet$g,iterate$5=setIterate$1;$$N({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=aSet$4(this),r=bind$6(e,arguments.length>1?arguments[1]:void 0),n=iterate$5(t,function(a){if(r(a,a,t))return{value:a}},!0);return n&&n.value}});var $$M=_export,SetHelpers$3=setHelpers,createCollectionFrom$2=collectionFrom;$$M({target:"Set",stat:!0,forced:!0},{from:createCollectionFrom$2(SetHelpers$3.Set,SetHelpers$3.add,!1)});var $$L=_export,call$d=functionCall,toSetLike$5=toSetLike$7,$intersection=setIntersection;$$L({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){return call$d($intersection,this,toSetLike$5(e))}});var $$K=_export,call$c=functionCall,toSetLike$4=toSetLike$7,$isDisjointFrom=setIsDisjointFrom;$$K({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){return call$c($isDisjointFrom,this,toSetLike$4(e))}});var $$J=_export,call$b=functionCall,toSetLike$3=toSetLike$7,$isSubsetOf=setIsSubsetOf;$$J({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){return call$b($isSubsetOf,this,toSetLike$3(e))}});var $$I=_export,call$a=functionCall,toSetLike$2=toSetLike$7,$isSupersetOf=setIsSupersetOf;$$I({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){return call$a($isSupersetOf,this,toSetLike$2(e))}});var $$H=_export,uncurryThis$l=functionUncurryThis,aSet$3=aSet$g,iterate$4=setIterate$1,toString$9=toString$K,arrayJoin=uncurryThis$l([].join),push$7=uncurryThis$l([].push);$$H({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=aSet$3(this),r=e===void 0?",":toString$9(e),n=[];return iterate$4(t,function(a){push$7(n,a)}),arrayJoin(n,r)}});var $$G=_export,bind$5=functionBindContext,aSet$2=aSet$g,SetHelpers$2=setHelpers,iterate$3=setIterate$1,Set$2=SetHelpers$2.Set,add$1=SetHelpers$2.add;$$G({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=aSet$2(this),r=bind$5(e,arguments.length>1?arguments[1]:void 0),n=new Set$2;return iterate$3(t,function(a){add$1(n,r(a,a,t))}),n}});var $$F=_export,SetHelpers$1=setHelpers,createCollectionOf$2=collectionOf;$$F({target:"Set",stat:!0,forced:!0},{of:createCollectionOf$2(SetHelpers$1.Set,SetHelpers$1.add,!1)});var $$E=_export,aCallable$1=aCallable$N,aSet$1=aSet$g,iterate$2=setIterate$1,$TypeError$a=TypeError;$$E({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=aSet$1(this),r=arguments.length<2,n=r?void 0:arguments[1];if(aCallable$1(e),iterate$2(t,function(a){r?(r=!1,n=a):n=e(n,a,a,t)}),r)throw new $TypeError$a("Reduce of empty set with no initial value");return n}});var $$D=_export,bind$4=functionBindContext,aSet=aSet$g,iterate$1=setIterate$1;$$D({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=aSet(this),r=bind$4(e,arguments.length>1?arguments[1]:void 0);return iterate$1(t,function(n){if(r(n,n,t))return!0},!0)===!0}});var $$C=_export,call$9=functionCall,toSetLike$1=toSetLike$7,$symmetricDifference=setSymmetricDifference;$$C({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){return call$9($symmetricDifference,this,toSetLike$1(e))}});var $$B=_export,call$8=functionCall,toSetLike=toSetLike$7,$union=setUnion;$$B({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){return call$8($union,this,toSetLike(e))}});var $$A=_export,charAt$9=stringMultibyte.charAt,requireObjectCoercible$1=requireObjectCoercible$q,toIntegerOrInfinity$1=toIntegerOrInfinity$p,toString$8=toString$K;$$A({target:"String",proto:!0,forced:!0},{at:function(e){var t=toString$8(requireObjectCoercible$1(this)),r=t.length,n=toIntegerOrInfinity$1(e),a=n>=0?n:r+n;return a<0||a>=r?void 0:charAt$9(t,a)}});var uncurryThis$k=functionUncurryThis,toIndexedObject=toIndexedObject$k,toString$7=toString$K,lengthOfArrayLike$3=lengthOfArrayLike$B,$TypeError$9=TypeError,push$6=uncurryThis$k([].push),join$3=uncurryThis$k([].join),stringCooked=function(e){var t=toIndexedObject(e),r=lengthOfArrayLike$3(t);if(!r)return"";for(var n=arguments.length,a=[],o=0;;){var u=t[o++];if(u===void 0)throw new $TypeError$9("Incorrect template");if(push$6(a,toString$7(u)),o===r)return join$3(a,"");o<n&&push$6(a,toString$7(arguments[o]))}},$$z=_export,cooked$1=stringCooked;$$z({target:"String",stat:!0,forced:!0},{cooked:cooked$1});var $$y=_export,createIteratorConstructor$1=iteratorCreateConstructor,createIterResultObject$1=createIterResultObject$h,requireObjectCoercible=requireObjectCoercible$q,toString$6=toString$K,InternalStateModule$3=internalState,StringMultibyteModule=stringMultibyte,codeAt$1=StringMultibyteModule.codeAt,charAt$8=StringMultibyteModule.charAt,STRING_ITERATOR="String Iterator",setInternalState$3=InternalStateModule$3.set,getInternalState$1=InternalStateModule$3.getterFor(STRING_ITERATOR),$StringIterator=createIteratorConstructor$1(function(e){setInternalState$3(this,{type:STRING_ITERATOR,string:e,index:0})},"String",function(){var e=getInternalState$1(this),t=e.string,r=e.index,n;return r>=t.length?createIterResultObject$1(void 0,!0):(n=charAt$8(t,r),e.index+=n.length,createIterResultObject$1({codePoint:codeAt$1(n,0),position:r},!1))});$$y({target:"String",proto:!0,forced:!0},{codePoints:function(){return new $StringIterator(toString$6(requireObjectCoercible(this)))}});var uncurryThis$j=functionUncurryThis,WeakMapPrototype=WeakMap.prototype,weakMapHelpers={WeakMap,set:uncurryThis$j(WeakMapPrototype.set),get:uncurryThis$j(WeakMapPrototype.get),has:uncurryThis$j(WeakMapPrototype.has),remove:uncurryThis$j(WeakMapPrototype.delete)},getBuiltIn$b=getBuiltIn$N,uncurryThis$i=functionUncurryThis,fromCharCode$2=String.fromCharCode,fromCodePoint=getBuiltIn$b("String","fromCodePoint"),charAt$7=uncurryThis$i("".charAt),charCodeAt$2=uncurryThis$i("".charCodeAt),stringIndexOf=uncurryThis$i("".indexOf),stringSlice$5=uncurryThis$i("".slice),ZERO_CODE=48,NINE_CODE=57,LOWER_A_CODE=97,LOWER_F_CODE=102,UPPER_A_CODE=65,UPPER_F_CODE=70,isDigit=function(e,t){var r=charCodeAt$2(e,t);return r>=ZERO_CODE&&r<=NINE_CODE},parseHex=function(e,t,r){if(r>=e.length)return-1;for(var n=0;t<r;t++){var a=hexToInt(charCodeAt$2(e,t));if(a===-1)return-1;n=n*16+a}return n},hexToInt=function(e){return e>=ZERO_CODE&&e<=NINE_CODE?e-ZERO_CODE:e>=LOWER_A_CODE&&e<=LOWER_F_CODE?e-LOWER_A_CODE+10:e>=UPPER_A_CODE&&e<=UPPER_F_CODE?e-UPPER_A_CODE+10:-1},stringParse=function(e){for(var t="",r=0,n=0,a;(n=stringIndexOf(e,"\\",n))>-1;){if(t+=stringSlice$5(e,r,n),++n===e.length)return;var o=charAt$7(e,n++);switch(o){case"b":t+="\b";break;case"t":t+="	";break;case"n":t+=`
`;break;case"v":t+="\v";break;case"f":t+="\f";break;case"r":t+="\r";break;case"\r":n<e.length&&charAt$7(e,n)===`
`&&++n;case`
`:case"\u2028":case"\u2029":break;case"0":if(isDigit(e,n))return;t+="\0";break;case"x":if(a=parseHex(e,n,n+2),a===-1)return;n+=2,t+=fromCharCode$2(a);break;case"u":if(n<e.length&&charAt$7(e,n)==="{"){var u=stringIndexOf(e,"}",++n);if(u===-1)return;a=parseHex(e,n,u),n=u+1}else a=parseHex(e,n,n+4),n+=4;if(a===-1||a>1114111)return;t+=fromCodePoint(a);break;default:if(isDigit(o,0))return;t+=o}r=n}return t+stringSlice$5(e,r)},FREEZING=freezing,$$x=_export,makeBuiltIn=makeBuiltInExports,uncurryThis$h=functionUncurryThis,apply$1=functionApply$1,anObject$3=anObject$1h,toObject=toObject$E,isCallable$5=isCallable$K,lengthOfArrayLike$2=lengthOfArrayLike$B,defineProperty$5=objectDefineProperty.f,createArrayFromList=arraySlice$a,WeakMapHelpers$3=weakMapHelpers,cooked=stringCooked,parse=stringParse,whitespaces$1=whitespaces$6,DedentMap=new WeakMapHelpers$3.WeakMap,weakMapGet=WeakMapHelpers$3.get,weakMapHas=WeakMapHelpers$3.has,weakMapSet=WeakMapHelpers$3.set,$Array=Array,$TypeError$8=TypeError,freeze=Object.freeze||Object,isFrozen=Object.isFrozen,min$1=Math.min,charAt$6=uncurryThis$h("".charAt),stringSlice$4=uncurryThis$h("".slice),split$5=uncurryThis$h("".split),exec$4=uncurryThis$h(/./.exec),NEW_LINE=/([\n\u2028\u2029]|\r\n?)/g,LEADING_WHITESPACE=RegExp("^["+whitespaces$1+"]*"),NON_WHITESPACE=RegExp("[^"+whitespaces$1+"]"),INVALID_TAG="Invalid tag",INVALID_OPENING_LINE="Invalid opening line",INVALID_CLOSING_LINE="Invalid closing line",dedentTemplateStringsArray=function(e){var t=e.raw;if(FREEZING&&!isFrozen(t))throw new $TypeError$8("Raw template should be frozen");if(weakMapHas(DedentMap,t))return weakMapGet(DedentMap,t);var r=dedentStringsArray(t),n=cookStrings(r);return defineProperty$5(n,"raw",{value:freeze(r)}),freeze(n),weakMapSet(DedentMap,t,n),n},dedentStringsArray=function(e){var t=toObject(e),r=lengthOfArrayLike$2(t),n=$Array(r),a=$Array(r),o=0,u,p,b,m;if(!r)throw new $TypeError$8(INVALID_TAG);for(;o<r;o++){var y=t[o];if(typeof y=="string")n[o]=split$5(y,NEW_LINE);else throw new $TypeError$8(INVALID_TAG)}for(o=0;o<r;o++){var A=o+1===r;if(u=n[o],o===0){if(u.length===1||u[0].length>0)throw new $TypeError$8(INVALID_OPENING_LINE);u[1]=""}if(A){if(u.length===1||exec$4(NON_WHITESPACE,u[u.length-1]))throw new $TypeError$8(INVALID_CLOSING_LINE);u[u.length-2]="",u[u.length-1]=""}for(var I=2;I<u.length;I+=2){var M=u[I],C=I+1===u.length&&!A,P=exec$4(LEADING_WHITESPACE,M)[0];if(!C&&P.length===M.length){u[I]="";continue}p=commonLeadingIndentation(P,p)}}var B=p?p.length:0;for(o=0;o<r;o++){for(u=n[o],b=u[0],m=1;m<u.length;m+=2)b+=u[m]+stringSlice$4(u[m+1],B);a[o]=b}return a},commonLeadingIndentation=function(e,t){if(t===void 0||e===t)return e;for(var r=0,n=min$1(e.length,t.length);r<n&&charAt$6(e,r)===charAt$6(t,r);r++);return stringSlice$4(e,0,r)},cookStrings=function(e){for(var t=0,r=e.length,n=$Array(r);t<r;t++)n[t]=parse(e[t]);return n},makeDedentTag=function(e){return makeBuiltIn(function(t){var r=createArrayFromList(arguments);return r[0]=dedentTemplateStringsArray(anObject$3(t)),apply$1(e,this,r)},"")},cookedDedentTag=makeDedentTag(cooked);$$x({target:"String",stat:!0,forced:!0},{dedent:function(e){return anObject$3(e),isCallable$5(e)?makeDedentTag(e):apply$1(cookedDedentTag,this,arguments)}});var global$j=global$18,defineWellKnownSymbol$8=wellKnownSymbolDefine,defineProperty$4=objectDefineProperty.f,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,Symbol$4=global$j.Symbol;if(defineWellKnownSymbol$8("asyncDispose"),Symbol$4){var descriptor$4=getOwnPropertyDescriptor$1(Symbol$4,"asyncDispose");descriptor$4.enumerable&&descriptor$4.configurable&&descriptor$4.writable&&defineProperty$4(Symbol$4,"asyncDispose",{value:descriptor$4.value,enumerable:!1,configurable:!1,writable:!1})}var defineWellKnownSymbol$7=wellKnownSymbolDefine;defineWellKnownSymbol$7("customMatcher");var global$i=global$18,defineWellKnownSymbol$6=wellKnownSymbolDefine,defineProperty$3=objectDefineProperty.f,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,Symbol$3=global$i.Symbol;if(defineWellKnownSymbol$6("dispose"),Symbol$3){var descriptor$3=getOwnPropertyDescriptor(Symbol$3,"dispose");descriptor$3.enumerable&&descriptor$3.configurable&&descriptor$3.writable&&defineProperty$3(Symbol$3,"dispose",{value:descriptor$3.value,enumerable:!1,configurable:!1,writable:!1})}var getBuiltIn$a=getBuiltIn$N,uncurryThis$g=functionUncurryThis,Symbol$2=getBuiltIn$a("Symbol"),keyFor=Symbol$2.keyFor,thisSymbolValue$1=uncurryThis$g(Symbol$2.prototype.valueOf),symbolIsRegistered=Symbol$2.isRegisteredSymbol||function(e){try{return keyFor(thisSymbolValue$1(e))!==void 0}catch{return!1}},$$w=_export,isRegisteredSymbol$1=symbolIsRegistered;$$w({target:"Symbol",stat:!0},{isRegisteredSymbol:isRegisteredSymbol$1});var $$v=_export,isRegisteredSymbol=symbolIsRegistered;$$v({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:isRegisteredSymbol});for(var shared$1=shared$b,getBuiltIn$9=getBuiltIn$N,uncurryThis$f=functionUncurryThis,isSymbol$1=isSymbol$8,wellKnownSymbol$3=wellKnownSymbol$S,Symbol$1=getBuiltIn$9("Symbol"),$isWellKnownSymbol=Symbol$1.isWellKnownSymbol,getOwnPropertyNames=getBuiltIn$9("Object","getOwnPropertyNames"),thisSymbolValue=uncurryThis$f(Symbol$1.prototype.valueOf),WellKnownSymbolsStore=shared$1("wks"),i=0,symbolKeys=getOwnPropertyNames(Symbol$1),symbolKeysLength=symbolKeys.length;i<symbolKeysLength;i++)try{var symbolKey=symbolKeys[i];isSymbol$1(Symbol$1[symbolKey])&&wellKnownSymbol$3(symbolKey)}catch{}var symbolIsWellKnown=function(e){if($isWellKnownSymbol&&$isWellKnownSymbol(e))return!0;try{for(var t=thisSymbolValue(e),r=0,n=getOwnPropertyNames(WellKnownSymbolsStore),a=n.length;r<a;r++)if(WellKnownSymbolsStore[n[r]]==t)return!0}catch{}return!1},$$u=_export,isWellKnownSymbol$1=symbolIsWellKnown;$$u({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:isWellKnownSymbol$1});var $$t=_export,isWellKnownSymbol=symbolIsWellKnown;$$t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:isWellKnownSymbol});var defineWellKnownSymbol$5=wellKnownSymbolDefine;defineWellKnownSymbol$5("matcher");var defineWellKnownSymbol$4=wellKnownSymbolDefine;defineWellKnownSymbol$4("metadata");var defineWellKnownSymbol$3=wellKnownSymbolDefine;defineWellKnownSymbol$3("metadataKey");var defineWellKnownSymbol$2=wellKnownSymbolDefine;defineWellKnownSymbol$2("observable");var defineWellKnownSymbol$1=wellKnownSymbolDefine;defineWellKnownSymbol$1("patternMatch");var defineWellKnownSymbol=wellKnownSymbolDefine;defineWellKnownSymbol("replaceAll");var getBuiltIn$8=getBuiltIn$N,aConstructor=aConstructor$4,arrayFromAsync=arrayFromAsync$1,ArrayBufferViewCore$5=arrayBufferViewCore,arrayFromConstructorAndList$2=arrayFromConstructorAndList$8,aTypedArrayConstructor=ArrayBufferViewCore$5.aTypedArrayConstructor,exportTypedArrayStaticMethod=ArrayBufferViewCore$5.exportTypedArrayStaticMethod;exportTypedArrayStaticMethod("fromAsync",function(e){var t=this,r=arguments.length,n=r>1?arguments[1]:void 0,a=r>2?arguments[2]:void 0;return new(getBuiltIn$8("Promise"))(function(o){aConstructor(t),o(arrayFromAsync(e,n,a))}).then(function(o){return arrayFromConstructorAndList$2(aTypedArrayConstructor(t),o)})},!0);var ArrayBufferViewCore$4=arrayBufferViewCore,$filterReject$1=arrayIteration.filterReject,fromSpeciesAndList$1=typedArrayFromSpeciesAndList,aTypedArray$4=ArrayBufferViewCore$4.aTypedArray,exportTypedArrayMethod$4=ArrayBufferViewCore$4.exportTypedArrayMethod;exportTypedArrayMethod$4("filterOut",function(e){var t=$filterReject$1(aTypedArray$4(this),e,arguments.length>1?arguments[1]:void 0);return fromSpeciesAndList$1(this,t)},!0);var ArrayBufferViewCore$3=arrayBufferViewCore,$filterReject=arrayIteration.filterReject,fromSpeciesAndList=typedArrayFromSpeciesAndList,aTypedArray$3=ArrayBufferViewCore$3.aTypedArray,exportTypedArrayMethod$3=ArrayBufferViewCore$3.exportTypedArrayMethod;exportTypedArrayMethod$3("filterReject",function(e){var t=$filterReject(aTypedArray$3(this),e,arguments.length>1?arguments[1]:void 0);return fromSpeciesAndList(this,t)},!0);var ArrayBufferViewCore$2=arrayBufferViewCore,$group=arrayGroup,typedArraySpeciesConstructor=typedArraySpeciesConstructor$5,aTypedArray$2=ArrayBufferViewCore$2.aTypedArray,exportTypedArrayMethod$2=ArrayBufferViewCore$2.exportTypedArrayMethod;exportTypedArrayMethod$2("groupBy",function(e){var t=arguments.length>1?arguments[1]:void 0;return $group(aTypedArray$2(this),e,t,typedArraySpeciesConstructor)},!0);var ArrayBufferViewCore$1=arrayBufferViewCore,lengthOfArrayLike$1=lengthOfArrayLike$B,isBigIntArray=isBigIntArray$3,toAbsoluteIndex=toAbsoluteIndex$a,toBigInt$1=toBigInt$5,toIntegerOrInfinity=toIntegerOrInfinity$p,fails$7=fails$1z,aTypedArray$1=ArrayBufferViewCore$1.aTypedArray,getTypedArrayConstructor$1=ArrayBufferViewCore$1.getTypedArrayConstructor,exportTypedArrayMethod$1=ArrayBufferViewCore$1.exportTypedArrayMethod,max$1=Math.max,min=Math.min,PROPER_ORDER=!fails$7(function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return t[0]!==2||t[1]!==3});exportTypedArrayMethod$1("toSpliced",function(e,t){var r=aTypedArray$1(this),n=getTypedArrayConstructor$1(r),a=lengthOfArrayLike$1(r),o=toAbsoluteIndex(e,a),u=arguments.length,p=0,b,m,y,A,I,M,C;if(u===0)b=m=0;else if(u===1)b=0,m=a-o;else if(m=min(max$1(toIntegerOrInfinity(t),0),a-o),b=u-2,b){A=new n(b),y=isBigIntArray(A);for(var P=2;P<u;P++)I=arguments[P],A[P-2]=y?toBigInt$1(I):+I}for(M=a+b-m,C=new n(M);p<o;p++)C[p]=r[p];for(;p<o+b;p++)C[p]=A[p-o];for(;p<M;p++)C[p]=r[p+m-b];return C},!PROPER_ORDER);var uncurryThis$e=functionUncurryThis,ArrayBufferViewCore=arrayBufferViewCore,arrayFromConstructorAndList$1=arrayFromConstructorAndList$8,$arrayUniqueBy=arrayUniqueBy$2,aTypedArray=ArrayBufferViewCore.aTypedArray,getTypedArrayConstructor=ArrayBufferViewCore.getTypedArrayConstructor,exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod,arrayUniqueBy=uncurryThis$e($arrayUniqueBy);exportTypedArrayMethod("uniqueBy",function(e){return aTypedArray(this),arrayFromConstructorAndList$1(getTypedArrayConstructor(this),arrayUniqueBy(this,e))},!0);var isObject$3=isObject$O,$String=String,$TypeError$7=TypeError,anObjectOrUndefined$2=function(e){if(e===void 0||isObject$3(e))return e;throw new $TypeError$7($String(e)+" is not an object or undefined")},$TypeError$6=TypeError,aString$2=function(e){if(typeof e=="string")return e;throw new $TypeError$6("Argument is not a string")},commonAlphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",base64Alphabet$2=commonAlphabet+"+/",base64UrlAlphabet$2=commonAlphabet+"-_",inverse=function(e){for(var t={},r=0;r<64;r++)t[e.charAt(r)]=r;return t},base64Map$2={i2c:base64Alphabet$2,c2i:inverse(base64Alphabet$2),i2cUrl:base64UrlAlphabet$2,c2iUrl:inverse(base64UrlAlphabet$2)},$TypeError$5=TypeError,getAlphabetOption$2=function(e){var t=e&&e.alphabet;if(t===void 0||t==="base64"||t==="base64url")return t||"base64";throw new $TypeError$5("Incorrect `alphabet` option")},$$s=_export,global$h=global$18,uncurryThis$d=functionUncurryThis,anObjectOrUndefined$1=anObjectOrUndefined$2,aString$1=aString$2,hasOwn$6=hasOwnProperty_1,arrayFromConstructorAndList=arrayFromConstructorAndList$8,base64Map$1=base64Map$2,getAlphabetOption$1=getAlphabetOption$2,base64Alphabet$1=base64Map$1.c2i,base64UrlAlphabet$1=base64Map$1.c2iUrl,Uint8Array$4=global$h.Uint8Array,SyntaxError$2=global$h.SyntaxError,charAt$5=uncurryThis$d("".charAt),replace$4=uncurryThis$d("".replace),stringSlice$3=uncurryThis$d("".slice),push$5=uncurryThis$d([].push),SPACES=/[\t\n\f\r ]/g,EXTRA_BITS="Extra bits";Uint8Array$4&&$$s({target:"Uint8Array",stat:!0,forced:!0},{fromBase64:function(e){aString$1(e);var t=arguments.length>1?anObjectOrUndefined$1(arguments[1]):void 0,r=getAlphabetOption$1(t)==="base64"?base64Alphabet$1:base64UrlAlphabet$1,n=t?!!t.strict:!1,a=n?e:replace$4(e,SPACES,"");if(a.length%4===0)stringSlice$3(a,-2)==="=="?a=stringSlice$3(a,0,-2):stringSlice$3(a,-1)==="="&&(a=stringSlice$3(a,0,-1));else if(n)throw new SyntaxError$2("Input is not correctly padded");var o=a.length%4;switch(o){case 1:throw new SyntaxError$2("Bad input length");case 2:a+="AA";break;case 3:a+="A"}for(var u=[],p=0,b=a.length,m=function(I){var M=charAt$5(a,p+I);if(!hasOwn$6(r,M))throw new SyntaxError$2('Bad char in input: "'+M+'"');return r[M]<<18-6*I};p<b;p+=4){var y=m(0)+m(1)+m(2)+m(3);push$5(u,y>>16&255,y>>8&255,y&255)}var A=u.length;if(o===2){if(n&&u[A-2]!==0)throw new SyntaxError$2(EXTRA_BITS);A-=2}else if(o===3){if(n&&u[A-1]!==0)throw new SyntaxError$2(EXTRA_BITS);A--}return arrayFromConstructorAndList(Uint8Array$4,u,A)}});var $$r=_export,global$g=global$18,uncurryThis$c=functionUncurryThis,aString=aString$2,Uint8Array$3=global$g.Uint8Array,SyntaxError$1=global$g.SyntaxError,parseInt$2=global$g.parseInt,NOT_HEX=/[^\da-f]/i,exec$3=uncurryThis$c(NOT_HEX.exec),stringSlice$2=uncurryThis$c("".slice);Uint8Array$3&&$$r({target:"Uint8Array",stat:!0,forced:!0},{fromHex:function(e){aString(e);var t=e.length;if(t%2)throw new SyntaxError$1("String should have an even number of characters");if(exec$3(NOT_HEX,e))throw new SyntaxError$1("String should only contain hex characters");for(var r=new Uint8Array$3(t/2),n=0;n<t;n+=2)r[n/2]=parseInt$2(stringSlice$2(e,n,n+2),16);return r}});var classof$2=classof$q,$TypeError$4=TypeError,anUint8Array$2=function(e){if(classof$2(e)==="Uint8Array")return e;throw new $TypeError$4("Argument is not an Uint8Array")},$$q=_export,global$f=global$18,uncurryThis$b=functionUncurryThis,anObjectOrUndefined=anObjectOrUndefined$2,anUint8Array$1=anUint8Array$2,base64Map=base64Map$2,getAlphabetOption=getAlphabetOption$2,base64Alphabet=base64Map.i2c,base64UrlAlphabet=base64Map.i2cUrl,Uint8Array$2=global$f.Uint8Array,charAt$4=uncurryThis$b("".charAt);Uint8Array$2&&$$q({target:"Uint8Array",proto:!0,forced:!0},{toBase64:function(){for(var e=anUint8Array$1(this),t=arguments.length?anObjectOrUndefined(arguments[0]):void 0,r=getAlphabetOption(t)==="base64"?base64Alphabet:base64UrlAlphabet,n="",a=0,o=e.length,u,p=function(b){return charAt$4(r,u>>6*b&63)};a+2<o;a+=3)u=(e[a]<<16)+(e[a+1]<<8)+e[a+2],n+=p(3)+p(2)+p(1)+p(0);return a+2===o?(u=(e[a]<<16)+(e[a+1]<<8),n+=p(3)+p(2)+p(1)+"="):a+1===o&&(u=e[a]<<16,n+=p(3)+p(2)+"=="),n}});var $$p=_export,global$e=global$18,uncurryThis$a=functionUncurryThis,anUint8Array=anUint8Array$2,Uint8Array$1=global$e.Uint8Array,numberToString$1=uncurryThis$a(1 .toString);Uint8Array$1&&$$p({target:"Uint8Array",proto:!0,forced:!0},{toHex:function(){anUint8Array(this);for(var e="",t=0,r=this.length;t<r;t++){var n=numberToString$1(this[t],16);e+=n.length===1?"0"+n:n}return e}});var has$2=weakMapHelpers.has,aWeakMap$2=function(e){return has$2(e),e},$$o=_export,aWeakMap$1=aWeakMap$2,remove$1=weakMapHelpers.remove;$$o({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e=aWeakMap$1(this),t=!0,r,n=0,a=arguments.length;n<a;n++)r=remove$1(e,arguments[n]),t=t&&r;return!!t}});var $$n=_export,WeakMapHelpers$2=weakMapHelpers,createCollectionFrom$1=collectionFrom;$$n({target:"WeakMap",stat:!0,forced:!0},{from:createCollectionFrom$1(WeakMapHelpers$2.WeakMap,WeakMapHelpers$2.set,!0)});var $$m=_export,WeakMapHelpers$1=weakMapHelpers,createCollectionOf$1=collectionOf;$$m({target:"WeakMap",stat:!0,forced:!0},{of:createCollectionOf$1(WeakMapHelpers$1.WeakMap,WeakMapHelpers$1.set,!0)});var $$l=_export,aWeakMap=aWeakMap$2,WeakMapHelpers=weakMapHelpers,get=WeakMapHelpers.get,has$1=WeakMapHelpers.has,set=WeakMapHelpers.set;$$l({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:function(e,t){var r=aWeakMap(this),n,a;return has$1(r,e)?(n=get(r,e),"update"in t&&(n=t.update(n,e,r),set(r,e,n)),n):(a=t.insert(e,r),set(r,e,a),a)}});var $$k=_export,upsert=mapUpsert;$$k({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert});var uncurryThis$9=functionUncurryThis,WeakSetPrototype=WeakSet.prototype,weakSetHelpers={WeakSet,add:uncurryThis$9(WeakSetPrototype.add),has:uncurryThis$9(WeakSetPrototype.has),remove:uncurryThis$9(WeakSetPrototype.delete)},has=weakSetHelpers.has,aWeakSet$2=function(e){return has(e),e},$$j=_export,aWeakSet$1=aWeakSet$2,add=weakSetHelpers.add;$$j({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:function(){for(var e=aWeakSet$1(this),t=0,r=arguments.length;t<r;t++)add(e,arguments[t]);return e}});var $$i=_export,aWeakSet=aWeakSet$2,remove=weakSetHelpers.remove;$$i({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e=aWeakSet(this),t=!0,r,n=0,a=arguments.length;n<a;n++)r=remove(e,arguments[n]),t=t&&r;return!!t}});var $$h=_export,WeakSetHelpers$1=weakSetHelpers,createCollectionFrom=collectionFrom;$$h({target:"WeakSet",stat:!0,forced:!0},{from:createCollectionFrom(WeakSetHelpers$1.WeakSet,WeakSetHelpers$1.add,!1)});var $$g=_export,WeakSetHelpers=weakSetHelpers,createCollectionOf=collectionOf;$$g({target:"WeakSet",stat:!0,forced:!0},{of:createCollectionOf(WeakSetHelpers.WeakSet,WeakSetHelpers.add,!1)});var $$f=_export,global$d=global$18,getBuiltIn$7=getBuiltIn$N,uncurryThis$8=functionUncurryThis,call$7=functionCall,fails$6=fails$1z,toString$5=toString$K,validateArgumentsLength$a=validateArgumentsLength$c,c2i=base64Map$2.c2i,disallowed=/[^\d+/a-z]/i,whitespaces=/[\t\n\f\r ]+/g,finalEq=/[=]{1,2}$/,$atob=getBuiltIn$7("atob"),fromCharCode$1=String.fromCharCode,charAt$3=uncurryThis$8("".charAt),replace$3=uncurryThis$8("".replace),exec$2=uncurryThis$8(disallowed.exec),BASIC$1=!!$atob&&!fails$6(function(){return $atob("aGk=")!=="hi"}),NO_SPACES_IGNORE=BASIC$1&&fails$6(function(){return $atob(" ")!==""}),NO_ENCODING_CHECK=BASIC$1&&!fails$6(function(){$atob("a")}),NO_ARG_RECEIVING_CHECK$1=BASIC$1&&!fails$6(function(){$atob()}),WRONG_ARITY$3=BASIC$1&&$atob.length!==1,FORCED=!BASIC$1||NO_SPACES_IGNORE||NO_ENCODING_CHECK||NO_ARG_RECEIVING_CHECK$1||WRONG_ARITY$3;$$f({global:!0,bind:!0,enumerable:!0,forced:FORCED},{atob:function(e){if(validateArgumentsLength$a(arguments.length,1),BASIC$1&&!NO_SPACES_IGNORE&&!NO_ENCODING_CHECK)return call$7($atob,global$d,e);var t=replace$3(toString$5(e),whitespaces,""),r="",n=0,a=0,o,u,p;if(t.length%4===0&&(t=replace$3(t,finalEq,"")),o=t.length,o%4===1||exec$2(disallowed,t))throw new(getBuiltIn$7("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;n<o;)u=charAt$3(t,n++),p=a%4?p*64+c2i[u]:c2i[u],a++%4&&(r+=fromCharCode$1(255&p>>(-2*a&6)));return r}});var $$e=_export,global$c=global$18,getBuiltIn$6=getBuiltIn$N,uncurryThis$7=functionUncurryThis,call$6=functionCall,fails$5=fails$1z,toString$4=toString$K,validateArgumentsLength$9=validateArgumentsLength$c,i2c=base64Map$2.i2c,$btoa=getBuiltIn$6("btoa"),charAt$2=uncurryThis$7("".charAt),charCodeAt$1=uncurryThis$7("".charCodeAt),BASIC=!!$btoa&&!fails$5(function(){return $btoa("hi")!=="aGk="}),NO_ARG_RECEIVING_CHECK=BASIC&&!fails$5(function(){$btoa()}),WRONG_ARG_CONVERSION=BASIC&&fails$5(function(){return $btoa(null)!=="bnVsbA=="}),WRONG_ARITY$2=BASIC&&$btoa.length!==1;$$e({global:!0,bind:!0,enumerable:!0,forced:!BASIC||NO_ARG_RECEIVING_CHECK||WRONG_ARG_CONVERSION||WRONG_ARITY$2},{btoa:function(e){if(validateArgumentsLength$9(arguments.length,1),BASIC)return call$6($btoa,global$c,toString$4(e));for(var t=toString$4(e),r="",n=0,a=i2c,o,u;charAt$2(t,n)||(a="=",n%1);){if(u=charCodeAt$1(t,n+=3/4),u>255)throw new(getBuiltIn$6("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o=o<<8|u,r+=charAt$2(a,63&o>>8-n%1*8)}return r}});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement=documentCreateElement$2,classList=documentCreateElement("span").classList,DOMTokenListPrototype$2=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$2===Object.prototype?void 0:DOMTokenListPrototype$2,global$b=global$18,DOMIterables$1=domIterables,DOMTokenListPrototype$1=domTokenListPrototype,forEach$4=arrayForEach,createNonEnumerableProperty$2=createNonEnumerableProperty$j,handlePrototype$1=function(e){if(e&&e.forEach!==forEach$4)try{createNonEnumerableProperty$2(e,"forEach",forEach$4)}catch{e.forEach=forEach$4}};for(var COLLECTION_NAME$1 in DOMIterables$1)DOMIterables$1[COLLECTION_NAME$1]&&handlePrototype$1(global$b[COLLECTION_NAME$1]&&global$b[COLLECTION_NAME$1].prototype);handlePrototype$1(DOMTokenListPrototype$1);var global$a=global$18,DOMIterables=domIterables,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty$1=createNonEnumerableProperty$j,setToStringTag$3=setToStringTag$e,wellKnownSymbol$2=wellKnownSymbol$S,ITERATOR$2=wellKnownSymbol$2("iterator"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(e,t){if(e){if(e[ITERATOR$2]!==ArrayValues)try{createNonEnumerableProperty$1(e,ITERATOR$2,ArrayValues)}catch{e[ITERATOR$2]=ArrayValues}if(setToStringTag$3(e,t,!0),DOMIterables[t]){for(var r in ArrayIteratorMethods)if(e[r]!==ArrayIteratorMethods[r])try{createNonEnumerableProperty$1(e,r,ArrayIteratorMethods[r])}catch{e[r]=ArrayIteratorMethods[r]}}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(global$a[COLLECTION_NAME]&&global$a[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList");var domExceptionConstants={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},$$d=_export,tryNodeRequire=tryNodeRequire$2,getBuiltIn$5=getBuiltIn$N,fails$4=fails$1z,create$2=objectCreate$1,createPropertyDescriptor$2=createPropertyDescriptor$d,defineProperty$2=objectDefineProperty.f,defineBuiltIn$4=defineBuiltIn$u,defineBuiltInAccessor$4=defineBuiltInAccessor$p,hasOwn$5=hasOwnProperty_1,anInstance$3=anInstance$f,anObject$2=anObject$1h,errorToString=errorToString$2,normalizeStringArgument$1=normalizeStringArgument$6,DOMExceptionConstants$1=domExceptionConstants,clearErrorStack$1=errorStackClear,InternalStateModule$2=internalState,DESCRIPTORS$7=descriptors,DOM_EXCEPTION$2="DOMException",DATA_CLONE_ERR="DATA_CLONE_ERR",Error$3=getBuiltIn$5("Error"),NativeDOMException$1=getBuiltIn$5(DOM_EXCEPTION$2)||function(){try{var e=getBuiltIn$5("MessageChannel")||tryNodeRequire("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(t){if(t.name===DATA_CLONE_ERR&&t.code===25)return t.constructor}}(),NativeDOMExceptionPrototype=NativeDOMException$1&&NativeDOMException$1.prototype,ErrorPrototype=Error$3.prototype,setInternalState$2=InternalStateModule$2.set,getInternalState=InternalStateModule$2.getterFor(DOM_EXCEPTION$2),HAS_STACK="stack"in new Error$3(DOM_EXCEPTION$2),codeFor=function(e){return hasOwn$5(DOMExceptionConstants$1,e)&&DOMExceptionConstants$1[e].m?DOMExceptionConstants$1[e].c:0},$DOMException$1=function(){anInstance$3(this,DOMExceptionPrototype$1);var e=arguments.length,t=normalizeStringArgument$1(e<1?void 0:arguments[0]),r=normalizeStringArgument$1(e<2?void 0:arguments[1],"Error"),n=codeFor(r);if(setInternalState$2(this,{type:DOM_EXCEPTION$2,name:r,message:t,code:n}),DESCRIPTORS$7||(this.name=r,this.message=t,this.code=n),HAS_STACK){var a=new Error$3(t);a.name=DOM_EXCEPTION$2,defineProperty$2(this,"stack",createPropertyDescriptor$2(1,clearErrorStack$1(a.stack,1)))}},DOMExceptionPrototype$1=$DOMException$1.prototype=create$2(ErrorPrototype),createGetterDescriptor=function(e){return{enumerable:!0,configurable:!0,get:e}},getterFor=function(e){return createGetterDescriptor(function(){return getInternalState(this)[e]})};DESCRIPTORS$7&&(defineBuiltInAccessor$4(DOMExceptionPrototype$1,"code",getterFor("code")),defineBuiltInAccessor$4(DOMExceptionPrototype$1,"message",getterFor("message")),defineBuiltInAccessor$4(DOMExceptionPrototype$1,"name",getterFor("name"))),defineProperty$2(DOMExceptionPrototype$1,"constructor",createPropertyDescriptor$2(1,$DOMException$1));var INCORRECT_CONSTRUCTOR=fails$4(function(){return!(new NativeDOMException$1 instanceof Error$3)}),INCORRECT_TO_STRING=INCORRECT_CONSTRUCTOR||fails$4(function(){return ErrorPrototype.toString!==errorToString||String(new NativeDOMException$1(1,2))!=="2: 1"}),INCORRECT_CODE=INCORRECT_CONSTRUCTOR||fails$4(function(){return new NativeDOMException$1(1,"DataCloneError").code!==25});INCORRECT_CONSTRUCTOR||NativeDOMException$1[DATA_CLONE_ERR]!==25||NativeDOMExceptionPrototype[DATA_CLONE_ERR];var FORCED_CONSTRUCTOR$1=INCORRECT_CONSTRUCTOR;$$d({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR$1},{DOMException:FORCED_CONSTRUCTOR$1?$DOMException$1:NativeDOMException$1});var PolyfilledDOMException$1=getBuiltIn$5(DOM_EXCEPTION$2),PolyfilledDOMExceptionPrototype$1=PolyfilledDOMException$1.prototype;INCORRECT_TO_STRING&&NativeDOMException$1===PolyfilledDOMException$1&&defineBuiltIn$4(PolyfilledDOMExceptionPrototype$1,"toString",errorToString),INCORRECT_CODE&&DESCRIPTORS$7&&NativeDOMException$1===PolyfilledDOMException$1&&defineBuiltInAccessor$4(PolyfilledDOMExceptionPrototype$1,"code",createGetterDescriptor(function(){return codeFor(anObject$2(this).name)}));for(var key$3 in DOMExceptionConstants$1)if(hasOwn$5(DOMExceptionConstants$1,key$3)){var constant$1=DOMExceptionConstants$1[key$3],constantName$1=constant$1.s,descriptor$2=createPropertyDescriptor$2(6,constant$1.c);hasOwn$5(PolyfilledDOMException$1,constantName$1)||defineProperty$2(PolyfilledDOMException$1,constantName$1,descriptor$2),hasOwn$5(PolyfilledDOMExceptionPrototype$1,constantName$1)||defineProperty$2(PolyfilledDOMExceptionPrototype$1,constantName$1,descriptor$2)}var $$c=_export,global$9=global$18,getBuiltIn$4=getBuiltIn$N,createPropertyDescriptor$1=createPropertyDescriptor$d,defineProperty$1=objectDefineProperty.f,hasOwn$4=hasOwnProperty_1,anInstance$2=anInstance$f,inheritIfRequired=inheritIfRequired$7,normalizeStringArgument=normalizeStringArgument$6,DOMExceptionConstants=domExceptionConstants,clearErrorStack=errorStackClear,DESCRIPTORS$6=descriptors,DOM_EXCEPTION$1="DOMException",Error$2=getBuiltIn$4("Error"),NativeDOMException=getBuiltIn$4(DOM_EXCEPTION$1),$DOMException=function(){anInstance$2(this,DOMExceptionPrototype);var e=arguments.length,t=normalizeStringArgument(e<1?void 0:arguments[0]),r=normalizeStringArgument(e<2?void 0:arguments[1],"Error"),n=new NativeDOMException(t,r),a=new Error$2(t);return a.name=DOM_EXCEPTION$1,defineProperty$1(n,"stack",createPropertyDescriptor$1(1,clearErrorStack(a.stack,1))),inheritIfRequired(n,this,$DOMException),n},DOMExceptionPrototype=$DOMException.prototype=NativeDOMException.prototype,ERROR_HAS_STACK="stack"in new Error$2(DOM_EXCEPTION$1),DOM_EXCEPTION_HAS_STACK="stack"in new NativeDOMException(1,2),descriptor$1=NativeDOMException&&DESCRIPTORS$6&&Object.getOwnPropertyDescriptor(global$9,DOM_EXCEPTION$1),BUGGY_DESCRIPTOR=!!descriptor$1&&!(descriptor$1.writable&&descriptor$1.configurable),FORCED_CONSTRUCTOR=ERROR_HAS_STACK&&!BUGGY_DESCRIPTOR&&!DOM_EXCEPTION_HAS_STACK;$$c({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR},{DOMException:FORCED_CONSTRUCTOR?$DOMException:NativeDOMException});var PolyfilledDOMException=getBuiltIn$4(DOM_EXCEPTION$1),PolyfilledDOMExceptionPrototype=PolyfilledDOMException.prototype;if(PolyfilledDOMExceptionPrototype.constructor!==PolyfilledDOMException){defineProperty$1(PolyfilledDOMExceptionPrototype,"constructor",createPropertyDescriptor$1(1,PolyfilledDOMException));for(var key$2 in DOMExceptionConstants)if(hasOwn$4(DOMExceptionConstants,key$2)){var constant=DOMExceptionConstants[key$2],constantName=constant.s;hasOwn$4(PolyfilledDOMException,constantName)||defineProperty$1(PolyfilledDOMException,constantName,createPropertyDescriptor$1(6,constant.c))}}var getBuiltIn$3=getBuiltIn$N,setToStringTag$2=setToStringTag$e,DOM_EXCEPTION="DOMException";setToStringTag$2(getBuiltIn$3(DOM_EXCEPTION),DOM_EXCEPTION);var $$b=_export,global$8=global$18,clearImmediate=task$1.clear;$$b({global:!0,bind:!0,enumerable:!0,forced:global$8.clearImmediate!==clearImmediate},{clearImmediate});var engineIsBun=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",global$7=global$18,apply=functionApply$1,isCallable$4=isCallable$K,ENGINE_IS_BUN=engineIsBun,USER_AGENT=engineUserAgent,arraySlice$1=arraySlice$a,validateArgumentsLength$8=validateArgumentsLength$c,Function$1=global$7.Function,WRAP=/MSIE .\./.test(USER_AGENT)||ENGINE_IS_BUN&&function(){var e=global$7.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),schedulersFix$3=function(e,t){var r=t?2:1;return WRAP?function(n,a){var o=validateArgumentsLength$8(arguments.length,1)>r,u=isCallable$4(n)?n:Function$1(n),p=o?arraySlice$1(arguments,r):[],b=o?function(){apply(u,this,p)}:u;return t?e(b,a):e(b)}:e},$$a=_export,global$6=global$18,setTask=task$1.set,schedulersFix$2=schedulersFix$3,setImmediate$1=global$6.setImmediate?schedulersFix$2(setTask,!1):setTask;$$a({global:!0,bind:!0,enumerable:!0,forced:global$6.setImmediate!==setImmediate$1},{setImmediate:setImmediate$1});var $$9=_export,globalThis$1=global$18,microtask=microtask_1,aCallable=aCallable$N,validateArgumentsLength$7=validateArgumentsLength$c,fails$3=fails$1z,DESCRIPTORS$5=descriptors,WRONG_ARITY$1=fails$3(function(){return DESCRIPTORS$5&&Object.getOwnPropertyDescriptor(globalThis$1,"queueMicrotask").value.length!==1});$$9({global:!0,enumerable:!0,dontCallGetSet:!0,forced:WRONG_ARITY$1},{queueMicrotask:function(e){validateArgumentsLength$7(arguments.length,1),microtask(aCallable(e))}});var $$8=_export,global$5=global$18,defineBuiltInAccessor$3=defineBuiltInAccessor$p,DESCRIPTORS$4=descriptors,$TypeError$3=TypeError,defineProperty=Object.defineProperty,INCORRECT_VALUE=global$5.self!==global$5;try{if(DESCRIPTORS$4){var descriptor=Object.getOwnPropertyDescriptor(global$5,"self");(INCORRECT_VALUE||!descriptor||!descriptor.get||!descriptor.enumerable)&&defineBuiltInAccessor$3(global$5,"self",{get:function(){return global$5},set:function(e){if(this!==global$5)throw new $TypeError$3("Illegal invocation");defineProperty(global$5,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else $$8({global:!0,simple:!0,forced:INCORRECT_VALUE},{self:global$5})}catch{}var $$7=_export,global$4=global$18,getBuiltIn$2=getBuiltIn$N,uncurryThis$6=functionUncurryThis,fails$2=fails$1z,uid=uid$7,isCallable$3=isCallable$K,isConstructor=isConstructor$a,isNullOrUndefined=isNullOrUndefined$j,isObject$2=isObject$O,isSymbol=isSymbol$8,iterate=iterate$H,anObject$1=anObject$1h,classof$1=classof$q,hasOwn$3=hasOwnProperty_1,createProperty=createProperty$b,createNonEnumerableProperty=createNonEnumerableProperty$j,lengthOfArrayLike=lengthOfArrayLike$B,validateArgumentsLength$6=validateArgumentsLength$c,getRegExpFlags=regexpGetFlags,MapHelpers=mapHelpers,SetHelpers=setHelpers,setIterate=setIterate$1,detachTransferable=detachTransferable$2,ERROR_STACK_INSTALLABLE=errorStackInstallable,PROPER_STRUCTURED_CLONE_TRANSFER=structuredCloneProperTransfer,Object$1=global$4.Object,Array$1=global$4.Array,Date$1=global$4.Date,Error$1=global$4.Error,TypeError$3=global$4.TypeError,PerformanceMark=global$4.PerformanceMark,DOMException=getBuiltIn$2("DOMException"),Map$1=MapHelpers.Map,mapHas=MapHelpers.has,mapGet=MapHelpers.get,mapSet=MapHelpers.set,Set$1=SetHelpers.Set,setAdd=SetHelpers.add,setHas=SetHelpers.has,objectKeys=getBuiltIn$2("Object","keys"),push$4=uncurryThis$6([].push),thisBooleanValue=uncurryThis$6((!0).valueOf),thisNumberValue=uncurryThis$6(1 .valueOf),thisStringValue=uncurryThis$6("".valueOf),thisTimeValue=uncurryThis$6(Date$1.prototype.getTime),PERFORMANCE_MARK=uid("structuredClone"),DATA_CLONE_ERROR="DataCloneError",TRANSFERRING="Transferring",checkBasicSemantic=function(e){return!fails$2(function(){var t=new global$4.Set([7]),r=e(t),n=e(Object$1(7));return r===t||!r.has(7)||!isObject$2(n)||+n!=7})&&e},checkErrorsCloning=function(e,t){return!fails$2(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},checkNewErrorsCloningSemantic=function(e){return!fails$2(function(){var t=e(new global$4.AggregateError([1],PERFORMANCE_MARK,{cause:3}));return t.name!=="AggregateError"||t.errors[0]!==1||t.message!==PERFORMANCE_MARK||t.cause!==3})},nativeStructuredClone=global$4.structuredClone,FORCED_REPLACEMENT=!checkErrorsCloning(nativeStructuredClone,Error$1)||!checkErrorsCloning(nativeStructuredClone,DOMException)||!checkNewErrorsCloningSemantic(nativeStructuredClone),structuredCloneFromMark=!nativeStructuredClone&&checkBasicSemantic(function(e){return new PerformanceMark(PERFORMANCE_MARK,{detail:e}).detail}),nativeRestrictedStructuredClone=checkBasicSemantic(nativeStructuredClone)||structuredCloneFromMark,throwUncloneable=function(e){throw new DOMException("Uncloneable type: "+e,DATA_CLONE_ERROR)},throwUnpolyfillable=function(e,t){throw new DOMException((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",DATA_CLONE_ERROR)},tryNativeRestrictedStructuredClone=function(e,t){return nativeRestrictedStructuredClone||throwUnpolyfillable(t),nativeRestrictedStructuredClone(e)},createDataTransfer=function(){var e;try{e=new global$4.DataTransfer}catch{try{e=new global$4.ClipboardEvent("").clipboardData}catch{}}return e&&e.items&&e.files?e:null},cloneBuffer$1=function(e,t,r){if(mapHas(t,e))return mapGet(t,e);var n=r||classof$1(e),a,o,u,p,b,m;if(n==="SharedArrayBuffer")nativeRestrictedStructuredClone?a=nativeRestrictedStructuredClone(e):a=e;else{var y=global$4.DataView;!y&&!isCallable$3(e.slice)&&throwUnpolyfillable("ArrayBuffer");try{if(isCallable$3(e.slice)&&!e.resizable)a=e.slice(0);else for(o=e.byteLength,u=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,a=new ArrayBuffer(o,u),p=new y(e),b=new y(a),m=0;m<o;m++)b.setUint8(m,p.getUint8(m))}catch{throw new DOMException("ArrayBuffer is detached",DATA_CLONE_ERROR)}}return mapSet(t,e,a),a},cloneView=function(e,t,r,n,a){var o=global$4[t];return isObject$2(o)||throwUnpolyfillable(t),new o(cloneBuffer$1(e.buffer,a),r,n)},structuredCloneInternal=function(e,t){if(isSymbol(e)&&throwUncloneable("Symbol"),!isObject$2(e))return e;if(t){if(mapHas(t,e))return mapGet(t,e)}else t=new Map$1;var r=classof$1(e),n,a,o,u,p,b,m,y;switch(r){case"Array":o=Array$1(lengthOfArrayLike(e));break;case"Object":o={};break;case"Map":o=new Map$1;break;case"Set":o=new Set$1;break;case"RegExp":o=new RegExp(e.source,getRegExpFlags(e));break;case"Error":switch(a=e.name,a){case"AggregateError":o=new(getBuiltIn$2(a))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":o=new(getBuiltIn$2(a));break;case"CompileError":case"LinkError":case"RuntimeError":o=new(getBuiltIn$2("WebAssembly",a));break;default:o=new Error$1}break;case"DOMException":o=new DOMException(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":o=cloneBuffer$1(e,t,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":b=r==="DataView"?e.byteLength:e.length,o=cloneView(e,r,e.byteOffset,b,t);break;case"DOMQuad":try{o=new DOMQuad(structuredCloneInternal(e.p1,t),structuredCloneInternal(e.p2,t),structuredCloneInternal(e.p3,t),structuredCloneInternal(e.p4,t))}catch{o=tryNativeRestrictedStructuredClone(e,r)}break;case"File":if(nativeRestrictedStructuredClone)try{o=nativeRestrictedStructuredClone(e),classof$1(o)!==r&&(o=void 0)}catch{}if(!o)try{o=new File([e],e.name,e)}catch{}o||throwUnpolyfillable(r);break;case"FileList":if(u=createDataTransfer(),u){for(p=0,b=lengthOfArrayLike(e);p<b;p++)u.items.add(structuredCloneInternal(e[p],t));o=u.files}else o=tryNativeRestrictedStructuredClone(e,r);break;case"ImageData":try{o=new ImageData(structuredCloneInternal(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch{o=tryNativeRestrictedStructuredClone(e,r)}break;default:if(nativeRestrictedStructuredClone)o=nativeRestrictedStructuredClone(e);else switch(r){case"BigInt":o=Object$1(e.valueOf());break;case"Boolean":o=Object$1(thisBooleanValue(e));break;case"Number":o=Object$1(thisNumberValue(e));break;case"String":o=Object$1(thisStringValue(e));break;case"Date":o=new Date$1(thisTimeValue(e));break;case"Blob":try{o=e.slice(0,e.size,e.type)}catch{throwUnpolyfillable(r)}break;case"DOMPoint":case"DOMPointReadOnly":n=global$4[r];try{o=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch{throwUnpolyfillable(r)}break;case"DOMRect":case"DOMRectReadOnly":n=global$4[r];try{o=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch{throwUnpolyfillable(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=global$4[r];try{o=n.fromMatrix?n.fromMatrix(e):new n(e)}catch{throwUnpolyfillable(r)}break;case"AudioData":case"VideoFrame":isCallable$3(e.clone)||throwUnpolyfillable(r);try{o=e.clone()}catch{throwUncloneable(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":throwUnpolyfillable(r);default:throwUncloneable(r)}}switch(mapSet(t,e,o),r){case"Array":case"Object":for(m=objectKeys(e),p=0,b=lengthOfArrayLike(m);p<b;p++)y=m[p],createProperty(o,y,structuredCloneInternal(e[y],t));break;case"Map":e.forEach(function(A,I){mapSet(o,structuredCloneInternal(I,t),structuredCloneInternal(A,t))});break;case"Set":e.forEach(function(A){setAdd(o,structuredCloneInternal(A,t))});break;case"Error":createNonEnumerableProperty(o,"message",structuredCloneInternal(e.message,t)),hasOwn$3(e,"cause")&&createNonEnumerableProperty(o,"cause",structuredCloneInternal(e.cause,t)),a==="AggregateError"?o.errors=structuredCloneInternal(e.errors,t):a==="SuppressedError"&&(o.error=structuredCloneInternal(e.error,t),o.suppressed=structuredCloneInternal(e.suppressed,t));case"DOMException":ERROR_STACK_INSTALLABLE&&createNonEnumerableProperty(o,"stack",structuredCloneInternal(e.stack,t))}return o},tryToTransfer=function(e,t){if(!isObject$2(e))throw new TypeError$3("Transfer option cannot be converted to a sequence");var r=[];iterate(e,function(I){push$4(r,anObject$1(I))});for(var n=0,a=lengthOfArrayLike(r),o=new Set$1,u,p,b,m,y,A;n<a;){if(u=r[n++],p=classof$1(u),p==="ArrayBuffer"?setHas(o,u):mapHas(t,u))throw new DOMException("Duplicate transferable",DATA_CLONE_ERROR);if(p==="ArrayBuffer"){setAdd(o,u);continue}if(PROPER_STRUCTURED_CLONE_TRANSFER)m=nativeStructuredClone(u,{transfer:[u]});else switch(p){case"ImageBitmap":b=global$4.OffscreenCanvas,isConstructor(b)||throwUnpolyfillable(p,TRANSFERRING);try{y=new b(u.width,u.height),A=y.getContext("bitmaprenderer"),A.transferFromImageBitmap(u),m=y.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!isCallable$3(u.clone)||!isCallable$3(u.close))&&throwUnpolyfillable(p,TRANSFERRING);try{m=u.clone(),u.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":throwUnpolyfillable(p,TRANSFERRING)}if(m===void 0)throw new DOMException("This object cannot be transferred: "+p,DATA_CLONE_ERROR);mapSet(t,u,m)}return o},detachBuffers=function(e){setIterate(e,function(t){PROPER_STRUCTURED_CLONE_TRANSFER?nativeRestrictedStructuredClone(t,{transfer:[t]}):isCallable$3(t.transfer)?t.transfer():detachTransferable?detachTransferable(t):throwUnpolyfillable("ArrayBuffer",TRANSFERRING)})};$$7({global:!0,enumerable:!0,sham:!PROPER_STRUCTURED_CLONE_TRANSFER,forced:FORCED_REPLACEMENT},{structuredClone:function(e){var t=validateArgumentsLength$6(arguments.length,1)>1&&!isNullOrUndefined(arguments[1])?anObject$1(arguments[1]):void 0,r=t?t.transfer:void 0,n,a;r!==void 0&&(n=new Map$1,a=tryToTransfer(r,n));var o=structuredCloneInternal(e,n);return a&&detachBuffers(a),o}});var $$6=_export,global$3=global$18,schedulersFix$1=schedulersFix$3,setInterval$1=schedulersFix$1(global$3.setInterval,!0);$$6({global:!0,bind:!0,forced:global$3.setInterval!==setInterval$1},{setInterval:setInterval$1});var $$5=_export,global$2=global$18,schedulersFix=schedulersFix$3,setTimeout$1=schedulersFix(global$2.setTimeout,!0);$$5({global:!0,bind:!0,forced:global$2.setTimeout!==setTimeout$1},{setTimeout:setTimeout$1});var fails$1=fails$1z,wellKnownSymbol$1=wellKnownSymbol$S,DESCRIPTORS$3=descriptors,IS_PURE=isPure,ITERATOR$1=wellKnownSymbol$1("iterator"),urlConstructorDetection=!fails$1(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(a,o){t.delete("b"),n+=o+a}),r.delete("a",2),r.delete("b",void 0),IS_PURE&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(IS_PURE||!DESCRIPTORS$3)||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[ITERATOR$1]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"}),uncurryThis$5=functionUncurryThis,maxInt=2147483647,base$3=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",baseMinusTMin=base$3-tMin,$RangeError$1=RangeError,exec$1=uncurryThis$5(regexSeparators.exec),floor$1=Math.floor,fromCharCode=String.fromCharCode,charCodeAt=uncurryThis$5("".charCodeAt),join$2=uncurryThis$5([].join),push$3=uncurryThis$5([].push),replace$2=uncurryThis$5("".replace),split$4=uncurryThis$5("".split),toLowerCase$1=uncurryThis$5("".toLowerCase),ucs2decode=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=charCodeAt(e,r++);if(a>=55296&&a<=56319&&r<n){var o=charCodeAt(e,r++);(o&64512)===56320?push$3(t,((a&1023)<<10)+(o&1023)+65536):(push$3(t,a),r--)}else push$3(t,a)}return t},digitToBasic=function(e){return e+22+75*(e<26)},adapt=function(e,t,r){var n=0;for(e=r?floor$1(e/damp):e>>1,e+=floor$1(e/t);e>baseMinusTMin*tMax>>1;)e=floor$1(e/baseMinusTMin),n+=base$3;return floor$1(n+(baseMinusTMin+1)*e/(e+skew))},encode$m=function(e){var t=[];e=ucs2decode(e);var r=e.length,n=initialN,a=0,o=initialBias,u,p;for(u=0;u<e.length;u++)p=e[u],p<128&&push$3(t,fromCharCode(p));var b=t.length,m=b;for(b&&push$3(t,delimiter);m<r;){var y=maxInt;for(u=0;u<e.length;u++)p=e[u],p>=n&&p<y&&(y=p);var A=m+1;if(y-n>floor$1((maxInt-a)/A))throw new $RangeError$1(OVERFLOW_ERROR);for(a+=(y-n)*A,n=y,u=0;u<e.length;u++){if(p=e[u],p<n&&++a>maxInt)throw new $RangeError$1(OVERFLOW_ERROR);if(p===n){for(var I=a,M=base$3;;){var C=M<=o?tMin:M>=o+tMax?tMax:M-o;if(I<C)break;var P=I-C,B=base$3-C;push$3(t,fromCharCode(digitToBasic(C+P%B))),I=floor$1(P/B),M+=base$3}push$3(t,fromCharCode(digitToBasic(I))),o=adapt(a,A,m===b),a=0,m++}}a++,n++}return join$2(t,"")},stringPunycodeToAscii=function(e){var t=[],r=split$4(replace$2(toLowerCase$1(e),regexSeparators,"."),"."),n,a;for(n=0;n<r.length;n++)a=r[n],push$3(t,exec$1(regexNonASCII,a)?"xn--"+encode$m(a):a);return join$2(t,".")},$$4=_export,global$1=global$18,safeGetBuiltIn=safeGetBuiltIn$2,call$5=functionCall,uncurryThis$4=functionUncurryThis,DESCRIPTORS$2=descriptors,USE_NATIVE_URL$3=urlConstructorDetection,defineBuiltIn$3=defineBuiltIn$u,defineBuiltInAccessor$2=defineBuiltInAccessor$p,defineBuiltIns=defineBuiltIns$b,setToStringTag$1=setToStringTag$e,createIteratorConstructor=iteratorCreateConstructor,InternalStateModule$1=internalState,anInstance$1=anInstance$f,isCallable$2=isCallable$K,hasOwn$2=hasOwnProperty_1,bind$3=functionBindContext,classof=classof$q,anObject=anObject$1h,isObject$1=isObject$O,$toString$3=toString$K,create$1=objectCreate$1,createPropertyDescriptor=createPropertyDescriptor$d,getIterator=getIterator$7,getIteratorMethod=getIteratorMethod$8,createIterResultObject=createIterResultObject$h,validateArgumentsLength$5=validateArgumentsLength$c,wellKnownSymbol=wellKnownSymbol$S,arraySort=arraySort$1,ITERATOR=wellKnownSymbol("iterator"),URL_SEARCH_PARAMS="URLSearchParams",URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator",setInternalState$1=InternalStateModule$1.set,getInternalParamsState=InternalStateModule$1.getterFor(URL_SEARCH_PARAMS),getInternalIteratorState=InternalStateModule$1.getterFor(URL_SEARCH_PARAMS_ITERATOR),nativeFetch=safeGetBuiltIn("fetch"),NativeRequest=safeGetBuiltIn("Request"),Headers=safeGetBuiltIn("Headers"),RequestPrototype=NativeRequest&&NativeRequest.prototype,HeadersPrototype=Headers&&Headers.prototype,RegExp$1=global$1.RegExp,TypeError$2=global$1.TypeError,decodeURIComponent$1=global$1.decodeURIComponent,encodeURIComponent$1=global$1.encodeURIComponent,charAt$1=uncurryThis$4("".charAt),join$1=uncurryThis$4([].join),push$2=uncurryThis$4([].push),replace$1=uncurryThis$4("".replace),shift$1=uncurryThis$4([].shift),splice=uncurryThis$4([].splice),split$3=uncurryThis$4("".split),stringSlice$1=uncurryThis$4("".slice),plus=/\+/g,sequences=Array(4),percentSequence=function(e){return sequences[e-1]||(sequences[e-1]=RegExp$1("((?:%[\\da-f]{2}){"+e+"})","gi"))},percentDecode=function(e){try{return decodeURIComponent$1(e)}catch{return e}},deserialize=function(e){var t=replace$1(e,plus," "),r=4;try{return decodeURIComponent$1(t)}catch{for(;r;)t=replace$1(t,percentSequence(r--),percentDecode);return t}},find=/[!'()~]|%20/g,replacements={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(e){return replacements[e]},serialize$1=function(e){return replace$1(encodeURIComponent$1(e),find,replacer)},URLSearchParamsIterator=createIteratorConstructor(function(e,t){setInternalState$1(this,{type:URL_SEARCH_PARAMS_ITERATOR,target:getInternalParamsState(e).entries,index:0,kind:t})},URL_SEARCH_PARAMS,function(){var e=getInternalIteratorState(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,createIterResultObject(void 0,!0);var n=t[r];switch(e.kind){case"keys":return createIterResultObject(n.key,!1);case"values":return createIterResultObject(n.value,!1)}return createIterResultObject([n.key,n.value],!1)},!0),URLSearchParamsState=function(e){this.entries=[],this.url=null,e!==void 0&&(isObject$1(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?charAt$1(e,0)==="?"?stringSlice$1(e,1):e:$toString$3(e)))};URLSearchParamsState.prototype={type:URL_SEARCH_PARAMS,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t=this.entries,r=getIteratorMethod(e),n,a,o,u,p,b,m;if(r)for(n=getIterator(e,r),a=n.next;!(o=call$5(a,n)).done;){if(u=getIterator(anObject(o.value)),p=u.next,(b=call$5(p,u)).done||(m=call$5(p,u)).done||!call$5(p,u).done)throw new TypeError$2("Expected sequence with length 2");push$2(t,{key:$toString$3(b.value),value:$toString$3(m.value)})}else for(var y in e)hasOwn$2(e,y)&&push$2(t,{key:y,value:$toString$3(e[y])})},parseQuery:function(e){if(e)for(var t=this.entries,r=split$3(e,"&"),n=0,a,o;n<r.length;)a=r[n++],a.length&&(o=split$3(a,"="),push$2(t,{key:deserialize(shift$1(o)),value:deserialize(join$1(o,"="))}))},serialize:function(){for(var e=this.entries,t=[],r=0,n;r<e.length;)n=e[r++],push$2(t,serialize$1(n.key)+"="+serialize$1(n.value));return join$1(t,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function(){anInstance$1(this,URLSearchParamsPrototype$3);var e=arguments.length>0?arguments[0]:void 0,t=setInternalState$1(this,new URLSearchParamsState(e));DESCRIPTORS$2||(this.size=t.entries.length)},URLSearchParamsPrototype$3=URLSearchParamsConstructor.prototype;if(defineBuiltIns(URLSearchParamsPrototype$3,{append:function(e,t){var r=getInternalParamsState(this);validateArgumentsLength$5(arguments.length,2),push$2(r.entries,{key:$toString$3(e),value:$toString$3(t)}),DESCRIPTORS$2||this.length++,r.updateURL()},delete:function(e){for(var t=getInternalParamsState(this),r=validateArgumentsLength$5(arguments.length,1),n=t.entries,a=$toString$3(e),o=r<2?void 0:arguments[1],u=o===void 0?o:$toString$3(o),p=0;p<n.length;){var b=n[p];if(b.key===a&&(u===void 0||b.value===u)){if(splice(n,p,1),u!==void 0)break}else p++}DESCRIPTORS$2||(this.size=n.length),t.updateURL()},get:function(e){var t=getInternalParamsState(this).entries;validateArgumentsLength$5(arguments.length,1);for(var r=$toString$3(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){var t=getInternalParamsState(this).entries;validateArgumentsLength$5(arguments.length,1);for(var r=$toString$3(e),n=[],a=0;a<t.length;a++)t[a].key===r&&push$2(n,t[a].value);return n},has:function(e){for(var t=getInternalParamsState(this).entries,r=validateArgumentsLength$5(arguments.length,1),n=$toString$3(e),a=r<2?void 0:arguments[1],o=a===void 0?a:$toString$3(a),u=0;u<t.length;){var p=t[u++];if(p.key===n&&(o===void 0||p.value===o))return!0}return!1},set:function(e,t){var r=getInternalParamsState(this);validateArgumentsLength$5(arguments.length,1);for(var n=r.entries,a=!1,o=$toString$3(e),u=$toString$3(t),p=0,b;p<n.length;p++)b=n[p],b.key===o&&(a?splice(n,p--,1):(a=!0,b.value=u));a||push$2(n,{key:o,value:u}),DESCRIPTORS$2||(this.size=n.length),r.updateURL()},sort:function(){var e=getInternalParamsState(this);arraySort(e.entries,function(t,r){return t.key>r.key?1:-1}),e.updateURL()},forEach:function(e){for(var t=getInternalParamsState(this).entries,r=bind$3(e,arguments.length>1?arguments[1]:void 0),n=0,a;n<t.length;)a=t[n++],r(a.value,a.key,this)},keys:function(){return new URLSearchParamsIterator(this,"keys")},values:function(){return new URLSearchParamsIterator(this,"values")},entries:function(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),defineBuiltIn$3(URLSearchParamsPrototype$3,ITERATOR,URLSearchParamsPrototype$3.entries,{name:"entries"}),defineBuiltIn$3(URLSearchParamsPrototype$3,"toString",function(){return getInternalParamsState(this).serialize()},{enumerable:!0}),DESCRIPTORS$2&&defineBuiltInAccessor$2(URLSearchParamsPrototype$3,"size",{get:function(){return getInternalParamsState(this).entries.length},configurable:!0,enumerable:!0}),setToStringTag$1(URLSearchParamsConstructor,URL_SEARCH_PARAMS),$$4({global:!0,constructor:!0,forced:!USE_NATIVE_URL$3},{URLSearchParams:URLSearchParamsConstructor}),!USE_NATIVE_URL$3&&isCallable$2(Headers)){var headersHas=uncurryThis$4(HeadersPrototype.has),headersSet=uncurryThis$4(HeadersPrototype.set),wrapRequestOptions=function(e){if(isObject$1(e)){var t=e.body,r;if(classof(t)===URL_SEARCH_PARAMS)return r=e.headers?new Headers(e.headers):new Headers,headersHas(r,"content-type")||headersSet(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),create$1(e,{body:createPropertyDescriptor(0,$toString$3(t)),headers:createPropertyDescriptor(0,r)})}return e};if(isCallable$2(nativeFetch)&&$$4({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return nativeFetch(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable$2(NativeRequest)){var RequestConstructor=function(e){return anInstance$1(this,RequestPrototype),new NativeRequest(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,$$4({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:RequestConstructor})}}var web_urlSearchParams_constructor={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState},$$3=_export,DESCRIPTORS$1=descriptors,USE_NATIVE_URL$2=urlConstructorDetection,global=global$18,bind$2=functionBindContext,uncurryThis$3=functionUncurryThis,defineBuiltIn$2=defineBuiltIn$u,defineBuiltInAccessor$1=defineBuiltInAccessor$p,anInstance=anInstance$f,hasOwn$1=hasOwnProperty_1,assign=objectAssign,arrayFrom=arrayFrom$1,arraySlice=arraySlice$a,codeAt=stringMultibyte.codeAt,toASCII=stringPunycodeToAscii,$toString$2=toString$K,setToStringTag=setToStringTag$e,validateArgumentsLength$4=validateArgumentsLength$c,URLSearchParamsModule=web_urlSearchParams_constructor,InternalStateModule=internalState,setInternalState=InternalStateModule.set,getInternalURLState=InternalStateModule.getterFor("URL"),URLSearchParams$1=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,NativeURL=global.URL,TypeError$1=global.TypeError,parseInt$1=global.parseInt,floor=Math.floor,pow$1=Math.pow,charAt=uncurryThis$3("".charAt),exec=uncurryThis$3(/./.exec),join=uncurryThis$3([].join),numberToString=uncurryThis$3(1 .toString),pop=uncurryThis$3([].pop),push$1=uncurryThis$3([].push),replace=uncurryThis$3("".replace),shift=uncurryThis$3([].shift),split$2=uncurryThis$3("".split),stringSlice=uncurryThis$3("".slice),toLowerCase=uncurryThis$3("".toLowerCase),unshift=uncurryThis$3([].unshift),INVALID_AUTHORITY="Invalid authority",INVALID_SCHEME="Invalid scheme",INVALID_HOST="Invalid host",INVALID_PORT="Invalid port",ALPHA=/[a-z]/i,ALPHANUMERIC=/[\d+-.a-z]/i,DIGIT=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX$3=/^[\da-f]+$/i,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+/,TRAILING_C0_CONTROL_OR_SPACE=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,TAB_AND_NEW_LINE=/[\t\n\r]/g,EOF,parseIPv4=function(e){var t=split$2(e,"."),r,n,a,o,u,p,b;if(t.length&&t[t.length-1]===""&&t.length--,r=t.length,r>4)return e;for(n=[],a=0;a<r;a++){if(o=t[a],o==="")return e;if(u=10,o.length>1&&charAt(o,0)==="0"&&(u=exec(HEX_START,o)?16:8,o=stringSlice(o,u===8?1:2)),o==="")p=0;else{if(!exec(u===10?DEC:u===8?OCT:HEX$3,o))return e;p=parseInt$1(o,u)}push$1(n,p)}for(a=0;a<r;a++)if(p=n[a],a===r-1){if(p>=pow$1(256,5-r))return null}else if(p>255)return null;for(b=pop(n),a=0;a<n.length;a++)b+=n[a]*pow$1(256,3-a);return b},parseIPv6=function(e){var t=[0,0,0,0,0,0,0,0],r=0,n=null,a=0,o,u,p,b,m,y,A,I=function(){return charAt(e,a)};if(I()===":"){if(charAt(e,1)!==":")return;a+=2,r++,n=r}for(;I();){if(r===8)return;if(I()===":"){if(n!==null)return;a++,r++,n=r;continue}for(o=u=0;u<4&&exec(HEX$3,I());)o=o*16+parseInt$1(I(),16),a++,u++;if(I()==="."){if(u===0||(a-=u,r>6))return;for(p=0;I();){if(b=null,p>0)if(I()==="."&&p<4)a++;else return;if(!exec(DIGIT,I()))return;for(;exec(DIGIT,I());){if(m=parseInt$1(I(),10),b===null)b=m;else{if(b===0)return;b=b*10+m}if(b>255)return;a++}t[r]=t[r]*256+b,p++,(p===2||p===4)&&r++}if(p!==4)return;break}else if(I()===":"){if(a++,!I())return}else if(I())return;t[r++]=o}if(n!==null)for(y=r-n,r=7;r!==0&&y>0;)A=t[r],t[r--]=t[n+y-1],t[n+--y]=A;else if(r!==8)return;return t},findLongestZeroSequence=function(e){for(var t=null,r=1,n=null,a=0,o=0;o<8;o++)e[o]!==0?(a>r&&(t=n,r=a),n=null,a=0):(n===null&&(n=o),++a);return a>r&&(t=n,r=a),t},serializeHost=function(e){var t,r,n,a;if(typeof e=="number"){for(t=[],r=0;r<4;r++)unshift(t,e%256),e=floor(e/256);return join(t,".")}else if(typeof e=="object"){for(t="",n=findLongestZeroSequence(e),r=0;r<8;r++)a&&e[r]===0||(a&&(a=!1),n===r?(t+=r?":":"::",a=!0):(t+=numberToString(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(e,t){var r=codeAt(e,0);return r>32&&r<127&&!hasOwn$1(t,e)?e:encodeURIComponent(e)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(e,t){var r;return e.length===2&&exec(ALPHA,charAt(e,0))&&((r=charAt(e,1))===":"||!t&&r==="|")},startsWithWindowsDriveLetter=function(e){var t;return e.length>1&&isWindowsDriveLetter(stringSlice(e,0,2))&&(e.length===2||(t=charAt(e,2))==="/"||t==="\\"||t==="?"||t==="#")},isSingleDot=function(e){return e==="."||toLowerCase(e)==="%2e"},isDoubleDot=function(e){return e=toLowerCase(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},URLState=function(e,t,r){var n=$toString$2(e),a,o,u;if(t){if(o=this.parse(n),o)throw new TypeError$1(o);this.searchParams=null}else{if(r!==void 0&&(a=new URLState(r,!0)),o=this.parse(n,null,a),o)throw new TypeError$1(o);u=getInternalSearchParamsState(new URLSearchParams$1),u.bindURL(this),this.searchParams=u}};URLState.prototype={type:"URL",parse:function(e,t,r){var n=this,a=t||SCHEME_START,o=0,u="",p=!1,b=!1,m=!1,y,A,I,M;for(e=$toString$2(e),t||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,e=replace(e,LEADING_C0_CONTROL_OR_SPACE,""),e=replace(e,TRAILING_C0_CONTROL_OR_SPACE,"$1")),e=replace(e,TAB_AND_NEW_LINE,""),y=arrayFrom(e);o<=y.length;){switch(A=y[o],a){case SCHEME_START:if(A&&exec(ALPHA,A))u+=toLowerCase(A),a=SCHEME;else{if(t)return INVALID_SCHEME;a=NO_SCHEME;continue}break;case SCHEME:if(A&&(exec(ALPHANUMERIC,A)||A==="+"||A==="-"||A==="."))u+=toLowerCase(A);else if(A===":"){if(t&&(n.isSpecial()!==hasOwn$1(specialSchemes,u)||u==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=u,t){n.isSpecial()&&specialSchemes[n.scheme]===n.port&&(n.port=null);return}u="",n.scheme==="file"?a=FILE:n.isSpecial()&&r&&r.scheme===n.scheme?a=SPECIAL_RELATIVE_OR_AUTHORITY:n.isSpecial()?a=SPECIAL_AUTHORITY_SLASHES:y[o+1]==="/"?(a=PATH_OR_AUTHORITY,o++):(n.cannotBeABaseURL=!0,push$1(n.path,""),a=CANNOT_BE_A_BASE_URL_PATH)}else{if(t)return INVALID_SCHEME;u="",a=NO_SCHEME,o=0;continue}break;case NO_SCHEME:if(!r||r.cannotBeABaseURL&&A!=="#")return INVALID_SCHEME;if(r.cannotBeABaseURL&&A==="#"){n.scheme=r.scheme,n.path=arraySlice(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,a=FRAGMENT;break}a=r.scheme==="file"?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if(A==="/"&&y[o+1]==="/")a=SPECIAL_AUTHORITY_IGNORE_SLASHES,o++;else{a=RELATIVE;continue}break;case PATH_OR_AUTHORITY:if(A==="/"){a=AUTHORITY;break}else{a=PATH;continue}case RELATIVE:if(n.scheme=r.scheme,A===EOF)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=arraySlice(r.path),n.query=r.query;else if(A==="/"||A==="\\"&&n.isSpecial())a=RELATIVE_SLASH;else if(A==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=arraySlice(r.path),n.query="",a=QUERY;else if(A==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=arraySlice(r.path),n.query=r.query,n.fragment="",a=FRAGMENT;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=arraySlice(r.path),n.path.length--,a=PATH;continue}break;case RELATIVE_SLASH:if(n.isSpecial()&&(A==="/"||A==="\\"))a=SPECIAL_AUTHORITY_IGNORE_SLASHES;else if(A==="/")a=AUTHORITY;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,a=PATH;continue}break;case SPECIAL_AUTHORITY_SLASHES:if(a=SPECIAL_AUTHORITY_IGNORE_SLASHES,A!=="/"||charAt(u,o+1)!=="/")continue;o++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if(A!=="/"&&A!=="\\"){a=AUTHORITY;continue}break;case AUTHORITY:if(A==="@"){p&&(u="%40"+u),p=!0,I=arrayFrom(u);for(var C=0;C<I.length;C++){var P=I[C];if(P===":"&&!m){m=!0;continue}var B=percentEncode(P,userinfoPercentEncodeSet);m?n.password+=B:n.username+=B}u=""}else if(A===EOF||A==="/"||A==="?"||A==="#"||A==="\\"&&n.isSpecial()){if(p&&u==="")return INVALID_AUTHORITY;o-=arrayFrom(u).length+1,u="",a=HOST}else u+=A;break;case HOST:case HOSTNAME:if(t&&n.scheme==="file"){a=FILE_HOST;continue}else if(A===":"&&!b){if(u==="")return INVALID_HOST;if(M=n.parseHost(u),M)return M;if(u="",a=PORT,t===HOSTNAME)return}else if(A===EOF||A==="/"||A==="?"||A==="#"||A==="\\"&&n.isSpecial()){if(n.isSpecial()&&u==="")return INVALID_HOST;if(t&&u===""&&(n.includesCredentials()||n.port!==null))return;if(M=n.parseHost(u),M)return M;if(u="",a=PATH_START,t)return;continue}else A==="["?b=!0:A==="]"&&(b=!1),u+=A;break;case PORT:if(exec(DIGIT,A))u+=A;else if(A===EOF||A==="/"||A==="?"||A==="#"||A==="\\"&&n.isSpecial()||t){if(u!==""){var k=parseInt$1(u,10);if(k>65535)return INVALID_PORT;n.port=n.isSpecial()&&k===specialSchemes[n.scheme]?null:k,u=""}if(t)return;a=PATH_START;continue}else return INVALID_PORT;break;case FILE:if(n.scheme="file",A==="/"||A==="\\")a=FILE_SLASH;else if(r&&r.scheme==="file")switch(A){case EOF:n.host=r.host,n.path=arraySlice(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=arraySlice(r.path),n.query="",a=QUERY;break;case"#":n.host=r.host,n.path=arraySlice(r.path),n.query=r.query,n.fragment="",a=FRAGMENT;break;default:startsWithWindowsDriveLetter(join(arraySlice(y,o),""))||(n.host=r.host,n.path=arraySlice(r.path),n.shortenPath()),a=PATH;continue}else{a=PATH;continue}break;case FILE_SLASH:if(A==="/"||A==="\\"){a=FILE_HOST;break}r&&r.scheme==="file"&&!startsWithWindowsDriveLetter(join(arraySlice(y,o),""))&&(isWindowsDriveLetter(r.path[0],!0)?push$1(n.path,r.path[0]):n.host=r.host),a=PATH;continue;case FILE_HOST:if(A===EOF||A==="/"||A==="\\"||A==="?"||A==="#"){if(!t&&isWindowsDriveLetter(u))a=PATH;else if(u===""){if(n.host="",t)return;a=PATH_START}else{if(M=n.parseHost(u),M)return M;if(n.host==="localhost"&&(n.host=""),t)return;u="",a=PATH_START}continue}else u+=A;break;case PATH_START:if(n.isSpecial()){if(a=PATH,A!=="/"&&A!=="\\")continue}else if(!t&&A==="?")n.query="",a=QUERY;else if(!t&&A==="#")n.fragment="",a=FRAGMENT;else if(A!==EOF&&(a=PATH,A!=="/"))continue;break;case PATH:if(A===EOF||A==="/"||A==="\\"&&n.isSpecial()||!t&&(A==="?"||A==="#")){if(isDoubleDot(u)?(n.shortenPath(),A!=="/"&&!(A==="\\"&&n.isSpecial())&&push$1(n.path,"")):isSingleDot(u)?A!=="/"&&!(A==="\\"&&n.isSpecial())&&push$1(n.path,""):(n.scheme==="file"&&!n.path.length&&isWindowsDriveLetter(u)&&(n.host&&(n.host=""),u=charAt(u,0)+":"),push$1(n.path,u)),u="",n.scheme==="file"&&(A===EOF||A==="?"||A==="#"))for(;n.path.length>1&&n.path[0]==="";)shift(n.path);A==="?"?(n.query="",a=QUERY):A==="#"&&(n.fragment="",a=FRAGMENT)}else u+=percentEncode(A,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:A==="?"?(n.query="",a=QUERY):A==="#"?(n.fragment="",a=FRAGMENT):A!==EOF&&(n.path[0]+=percentEncode(A,C0ControlPercentEncodeSet));break;case QUERY:!t&&A==="#"?(n.fragment="",a=FRAGMENT):A!==EOF&&(A==="'"&&n.isSpecial()?n.query+="%27":A==="#"?n.query+="%23":n.query+=percentEncode(A,C0ControlPercentEncodeSet));break;case FRAGMENT:A!==EOF&&(n.fragment+=percentEncode(A,fragmentPercentEncodeSet));break}o++}},parseHost:function(e){var t,r,n;if(charAt(e,0)==="["){if(charAt(e,e.length-1)!=="]"||(t=parseIPv6(stringSlice(e,1,-1)),!t))return INVALID_HOST;this.host=t}else if(this.isSpecial()){if(e=toASCII(e),exec(FORBIDDEN_HOST_CODE_POINT,e)||(t=parseIPv4(e),t===null))return INVALID_HOST;this.host=t}else{if(exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT,e))return INVALID_HOST;for(t="",r=arrayFrom(e),n=0;n<r.length;n++)t+=percentEncode(r[n],C0ControlPercentEncodeSet);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return hasOwn$1(specialSchemes,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&(this.scheme!=="file"||t!==1||!isWindowsDriveLetter(e[0],!0))&&e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,a=e.host,o=e.port,u=e.path,p=e.query,b=e.fragment,m=t+":";return a!==null?(m+="//",e.includesCredentials()&&(m+=r+(n?":"+n:"")+"@"),m+=serializeHost(a),o!==null&&(m+=":"+o)):t==="file"&&(m+="//"),m+=e.cannotBeABaseURL?u[0]:u.length?"/"+join(u,"/"):"",p!==null&&(m+="?"+p),b!==null&&(m+="#"+b),m},setHref:function(e){var t=this.parse(e);if(t)throw new TypeError$1(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(e==="blob")try{return new URLConstructor(e.path[0]).origin}catch{return"null"}return e==="file"||!this.isSpecial()?"null":e+"://"+serializeHost(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse($toString$2(e)+":",SCHEME_START)},getUsername:function(){return this.username},setUsername:function(e){var t=arrayFrom($toString$2(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=percentEncode(t[r],userinfoPercentEncodeSet)}},getPassword:function(){return this.password},setPassword:function(e){var t=arrayFrom($toString$2(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=percentEncode(t[r],userinfoPercentEncodeSet)}},getHost:function(){var e=this.host,t=this.port;return e===null?"":t===null?serializeHost(e):serializeHost(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,HOST)},getHostname:function(){var e=this.host;return e===null?"":serializeHost(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,HOSTNAME)},getPort:function(){var e=this.port;return e===null?"":$toString$2(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=$toString$2(e),e===""?this.port=null:this.parse(e,PORT))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+join(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,PATH_START))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=$toString$2(e),e===""?this.query=null:(charAt(e,0)==="?"&&(e=stringSlice(e,1)),this.query="",this.parse(e,QUERY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=$toString$2(e),e===""){this.fragment=null;return}charAt(e,0)==="#"&&(e=stringSlice(e,1)),this.fragment="",this.parse(e,FRAGMENT)},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function(e){var t=anInstance(this,URLPrototype),r=validateArgumentsLength$4(arguments.length,1)>1?arguments[1]:void 0,n=setInternalState(t,new URLState(e,!1,r));DESCRIPTORS$1||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},URLPrototype=URLConstructor.prototype,accessorDescriptor=function(e,t){return{get:function(){return getInternalURLState(this)[e]()},set:t&&function(r){return getInternalURLState(this)[t](r)},configurable:!0,enumerable:!0}};if(DESCRIPTORS$1&&(defineBuiltInAccessor$1(URLPrototype,"href",accessorDescriptor("serialize","setHref")),defineBuiltInAccessor$1(URLPrototype,"origin",accessorDescriptor("getOrigin")),defineBuiltInAccessor$1(URLPrototype,"protocol",accessorDescriptor("getProtocol","setProtocol")),defineBuiltInAccessor$1(URLPrototype,"username",accessorDescriptor("getUsername","setUsername")),defineBuiltInAccessor$1(URLPrototype,"password",accessorDescriptor("getPassword","setPassword")),defineBuiltInAccessor$1(URLPrototype,"host",accessorDescriptor("getHost","setHost")),defineBuiltInAccessor$1(URLPrototype,"hostname",accessorDescriptor("getHostname","setHostname")),defineBuiltInAccessor$1(URLPrototype,"port",accessorDescriptor("getPort","setPort")),defineBuiltInAccessor$1(URLPrototype,"pathname",accessorDescriptor("getPathname","setPathname")),defineBuiltInAccessor$1(URLPrototype,"search",accessorDescriptor("getSearch","setSearch")),defineBuiltInAccessor$1(URLPrototype,"searchParams",accessorDescriptor("getSearchParams")),defineBuiltInAccessor$1(URLPrototype,"hash",accessorDescriptor("getHash","setHash"))),defineBuiltIn$2(URLPrototype,"toJSON",function(){return getInternalURLState(this).serialize()},{enumerable:!0}),defineBuiltIn$2(URLPrototype,"toString",function(){return getInternalURLState(this).serialize()},{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&defineBuiltIn$2(URLConstructor,"createObjectURL",bind$2(nativeCreateObjectURL,NativeURL)),nativeRevokeObjectURL&&defineBuiltIn$2(URLConstructor,"revokeObjectURL",bind$2(nativeRevokeObjectURL,NativeURL))}setToStringTag(URLConstructor,"URL"),$$3({global:!0,constructor:!0,forced:!USE_NATIVE_URL$2,sham:!DESCRIPTORS$1},{URL:URLConstructor});var $$2=_export,getBuiltIn$1=getBuiltIn$N,fails=fails$1z,validateArgumentsLength$3=validateArgumentsLength$c,toString$3=toString$K,USE_NATIVE_URL$1=urlConstructorDetection,URL$2=getBuiltIn$1("URL"),THROWS_WITHOUT_ARGUMENTS=USE_NATIVE_URL$1&&fails(function(){URL$2.canParse()}),WRONG_ARITY=fails(function(){return URL$2.canParse.length!==1});$$2({target:"URL",stat:!0,forced:!THROWS_WITHOUT_ARGUMENTS||WRONG_ARITY},{canParse:function(e){var t=validateArgumentsLength$3(arguments.length,1),r=toString$3(e),n=t<2||arguments[1]===void 0?void 0:toString$3(arguments[1]);try{return!!new URL$2(r,n)}catch{return!1}}});var $$1=_export,getBuiltIn=getBuiltIn$N,validateArgumentsLength$2=validateArgumentsLength$c,toString$2=toString$K,USE_NATIVE_URL=urlConstructorDetection,URL$1=getBuiltIn("URL");$$1({target:"URL",stat:!0,forced:!USE_NATIVE_URL},{parse:function(e){var t=validateArgumentsLength$2(arguments.length,1),r=toString$2(e),n=t<2||arguments[1]===void 0?void 0:toString$2(arguments[1]);try{return new URL$1(r,n)}catch{return null}}});var $=_export,call$4=functionCall;$({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return call$4(URL.prototype.toString,this)}});var defineBuiltIn$1=defineBuiltIn$u,uncurryThis$2=functionUncurryThis,toString$1=toString$K,validateArgumentsLength$1=validateArgumentsLength$c,$URLSearchParams$1=URLSearchParams,URLSearchParamsPrototype$2=$URLSearchParams$1.prototype,append=uncurryThis$2(URLSearchParamsPrototype$2.append),$delete=uncurryThis$2(URLSearchParamsPrototype$2.delete),forEach$3=uncurryThis$2(URLSearchParamsPrototype$2.forEach),push=uncurryThis$2([].push),params$1=new $URLSearchParams$1("a=1&a=2&b=3");params$1.delete("a",1),params$1.delete("b",void 0),params$1+""!="a=2"&&defineBuiltIn$1(URLSearchParamsPrototype$2,"delete",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return $delete(this,e);var n=[];forEach$3(this,function(A,I){push(n,{key:I,value:A})}),validateArgumentsLength$1(t,1);for(var a=toString$1(e),o=toString$1(r),u=0,p=0,b=!1,m=n.length,y;u<m;)y=n[u++],b||y.key===a?(b=!0,$delete(this,y.key)):p++;for(;p<m;)y=n[p++],y.key===a&&y.value===o||append(this,y.key,y.value)},{enumerable:!0,unsafe:!0});var defineBuiltIn=defineBuiltIn$u,uncurryThis$1=functionUncurryThis,toString=toString$K,validateArgumentsLength=validateArgumentsLength$c,$URLSearchParams=URLSearchParams,URLSearchParamsPrototype$1=$URLSearchParams.prototype,getAll=uncurryThis$1(URLSearchParamsPrototype$1.getAll),$has=uncurryThis$1(URLSearchParamsPrototype$1.has),params=new $URLSearchParams("a=1");(params.has("a",2)||!params.has("a",void 0))&&defineBuiltIn(URLSearchParamsPrototype$1,"has",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&r===void 0)return $has(this,e);var n=getAll(this,e);validateArgumentsLength(t,1);for(var a=toString(r),o=0;o<n.length;)if(n[o++]===a)return!0;return!1},{enumerable:!0,unsafe:!0});var DESCRIPTORS=descriptors,uncurryThis=functionUncurryThis,defineBuiltInAccessor=defineBuiltInAccessor$p,URLSearchParamsPrototype=URLSearchParams.prototype,forEach$2=uncurryThis(URLSearchParamsPrototype.forEach);DESCRIPTORS&&!("size"in URLSearchParamsPrototype)&&defineBuiltInAccessor(URLSearchParamsPrototype,"size",{get:function(){var e=0;return forEach$2(this,function(){e++}),e},configurable:!0,enumerable:!0});var elliptic={};const name$1="elliptic",version$1="6.5.5",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$2={name:name$1,version:version$1,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$n={},bn$6={exports:{}};const require$$0$1=getAugmentedNamespace(dist$6);bn$6.exports,function(e){(function(t,r){function n(s,d){if(!s)throw new Error(d||"Assertion failed")}function a(s,d){s.super_=d;var l=function(){};l.prototype=d.prototype,s.prototype=new l,s.prototype.constructor=s}function o(s,d,l){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((d==="le"||d==="be")&&(l=d,d=10),this._init(s||0,d||10,l||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$1.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,d){return s.cmp(d)>0?s:d},o.min=function(s,d){return s.cmp(d)<0?s:d},o.prototype._init=function(s,d,l){if(typeof s=="number")return this._initNumber(s,d,l);if(typeof s=="object")return this._initArray(s,d,l);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),s=s.toString().replace(/\s+/g,"");var v=0;s[0]==="-"&&(v++,this.negative=1),v<s.length&&(d===16?this._parseHex(s,v,l):(this._parseBase(s,d,v),l==="le"&&this._initArray(this.toArray(),d,l)))},o.prototype._initNumber=function(s,d,l){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),d,l)},o.prototype._initArray=function(s,d,l){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S,O,T=0;if(l==="be")for(v=s.length-1,S=0;v>=0;v-=3)O=s[v]|s[v-1]<<8|s[v-2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);else if(l==="le")for(v=0,S=0;v<s.length;v+=3)O=s[v]|s[v+1]<<8|s[v+2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);return this.strip()};function p(s,d){var l=s.charCodeAt(d);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function b(s,d,l){var v=p(s,l);return l-1>=d&&(v|=p(s,l-1)<<4),v}o.prototype._parseHex=function(s,d,l){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S=0,O=0,T;if(l==="be")for(v=s.length-1;v>=d;v-=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8;else{var _=s.length-d;for(v=_%2===0?d+1:d;v<s.length;v+=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8}this.strip()};function m(s,d,l,v){for(var S=0,O=Math.min(s.length,l),T=d;T<O;T++){var _=s.charCodeAt(T)-48;S*=v,_>=49?S+=_-49+10:_>=17?S+=_-17+10:S+=_}return S}o.prototype._parseBase=function(s,d,l){this.words=[0],this.length=1;for(var v=0,S=1;S<=67108863;S*=d)v++;v--,S=S/d|0;for(var O=s.length-l,T=O%v,_=Math.min(O,O-T)+l,c=0,w=l;w<_;w+=v)c=m(s,w,w+v,d),this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(T!==0){var x=1;for(c=m(s,w,s.length,d),w=0;w<T;w++)x*=d;this.imuln(x),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,d){s=s||10,d=d|0||1;var l;if(s===16||s==="hex"){l="";for(var v=0,S=0,O=0;O<this.length;O++){var T=this.words[O],_=((T<<v|S)&16777215).toString(16);S=T>>>24-v&16777215,S!==0||O!==this.length-1?l=y[6-_.length]+_+l:l=_+l,v+=2,v>=26&&(v-=26,O--)}for(S!==0&&(l=S.toString(16)+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(s===(s|0)&&s>=2&&s<=36){var c=A[s],w=I[s];l="";var x=this.clone();for(x.negative=0;!x.isZero();){var F=x.modn(w).toString(s);x=x.idivn(w),x.isZero()?l=F+l:l=y[c-F.length]+F+l}for(this.isZero()&&(l="0"+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(s,d){return n(typeof u<"u"),this.toArrayLike(u,s,d)},o.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},o.prototype.toArrayLike=function(s,d,l){var v=this.byteLength(),S=l||Math.max(1,v);n(v<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var O=d==="le",T=new s(S),_,c,w=this.clone();if(O){for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[c]=_;for(;c<S;c++)T[c]=0}else{for(c=0;c<S-v;c++)T[c]=0;for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[S-c-1]=_}return T},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var d=s,l=0;return d>=4096&&(l+=13,d>>>=13),d>=64&&(l+=7,d>>>=7),d>=8&&(l+=4,d>>>=4),d>=2&&(l+=2,d>>>=2),l+d},o.prototype._zeroBits=function(s){if(s===0)return 26;var d=s,l=0;return d&8191||(l+=13,d>>>=13),d&127||(l+=7,d>>>=7),d&15||(l+=4,d>>>=4),d&3||(l+=2,d>>>=2),d&1||l++,l},o.prototype.bitLength=function(){var s=this.words[this.length-1],d=this._countBits(s);return(this.length-1)*26+d};function M(s){for(var d=new Array(s.bitLength()),l=0;l<d.length;l++){var v=l/26|0,S=l%26;d[l]=(s.words[v]&1<<S)>>>S}return d}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var l=this._zeroBits(this.words[d]);if(s+=l,l!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},o.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var d;this.length>s.length?d=s:d=this;for(var l=0;l<d.length;l++)this.words[l]=this.words[l]&s.words[l];return this.length=d.length,this.strip()},o.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var d,l;this.length>s.length?(d=this,l=s):(d=s,l=this);for(var v=0;v<l.length;v++)this.words[v]=d.words[v]^l.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var d=Math.ceil(s/26)|0,l=s%26;this._expand(d),l>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return l>0&&(this.words[v]=~this.words[v]&67108863>>26-l),this.strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,d){n(typeof s=="number"&&s>=0);var l=s/26|0,v=s%26;return this._expand(l+1),d?this.words[l]=this.words[l]|1<<v:this.words[l]=this.words[l]&~(1<<v),this.strip()},o.prototype.iadd=function(s){var d;if(this.negative!==0&&s.negative===0)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();var l,v;this.length>s.length?(l=this,v=s):(l=s,v=this);for(var S=0,O=0;O<v.length;O++)d=(l.words[O]|0)+(v.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;for(;S!==0&&O<l.length;O++)d=(l.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;if(this.length=l.length,S!==0)this.words[this.length]=S,this.length++;else if(l!==this)for(;O<l.length;O++)this.words[O]=l.words[O];return this},o.prototype.add=function(s){var d;return s.negative!==0&&this.negative===0?(s.negative=0,d=this.sub(s),s.negative^=1,d):s.negative===0&&this.negative!==0?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var l=this.cmp(s);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,S;l>0?(v=this,S=s):(v=s,S=this);for(var O=0,T=0;T<S.length;T++)d=(v.words[T]|0)-(S.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;for(;O!==0&&T<v.length;T++)d=(v.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;if(O===0&&T<v.length&&v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this.length=Math.max(this.length,T),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function C(s,d,l){l.negative=d.negative^s.negative;var v=s.length+d.length|0;l.length=v,v=v-1|0;var S=s.words[0]|0,O=d.words[0]|0,T=S*O,_=T&67108863,c=T/67108864|0;l.words[0]=_;for(var w=1;w<v;w++){for(var x=c>>>26,F=c&67108863,q=Math.min(w,d.length-1),V=Math.max(0,w-s.length+1);V<=q;V++){var Y=w-V|0;S=s.words[Y]|0,O=d.words[V]|0,T=S*O+F,x+=T/67108864|0,F=T&67108863}l.words[w]=F|0,c=x|0}return c!==0?l.words[w]=c|0:l.length--,l.strip()}var P=function(s,d,l){var v=s.words,S=d.words,O=l.words,T=0,_,c,w,x=v[0]|0,F=x&8191,q=x>>>13,V=v[1]|0,Y=V&8191,Q=V>>>13,G=v[2]|0,H=G&8191,te=G>>>13,W=v[3]|0,U=W&8191,j=W>>>13,ee=v[4]|0,X=ee&8191,ne=ee>>>13,de=v[5]|0,re=de&8191,ae=de>>>13,ue=v[6]|0,se=ue&8191,le=ue>>>13,Re=v[7]|0,he=Re&8191,fe=Re>>>13,Fe=v[8]|0,me=Fe&8191,pe=Fe>>>13,Ue=v[9]|0,ye=Ue&8191,be=Ue>>>13,He=S[0]|0,$e=He&8191,Me=He>>>13,qe=S[1]|0,ge=qe&8191,Oe=qe>>>13,je=S[2]|0,ve=je&8191,Pe=je>>>13,Ke=S[3]|0,_e=Ke&8191,Ce=Ke>>>13,We=S[4]|0,Ee=We&8191,xe=We>>>13,ze=S[5]|0,we=ze&8191,Ne=ze>>>13,Ze=S[6]|0,Se=Ze&8191,Be=Ze>>>13,Xe=S[7]|0,Ae=Xe&8191,ke=Xe>>>13,Ye=S[8]|0,Te=Ye&8191,De=Ye>>>13,Je=S[9]|0,Ie=Je&8191,Le=Je>>>13;l.negative=s.negative^d.negative,l.length=19,_=Math.imul(F,$e),c=Math.imul(F,Me),c=c+Math.imul(q,$e)|0,w=Math.imul(q,Me);var Ve=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,_=Math.imul(Y,$e),c=Math.imul(Y,Me),c=c+Math.imul(Q,$e)|0,w=Math.imul(Q,Me),_=_+Math.imul(F,ge)|0,c=c+Math.imul(F,Oe)|0,c=c+Math.imul(q,ge)|0,w=w+Math.imul(q,Oe)|0;var Ge=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,_=Math.imul(H,$e),c=Math.imul(H,Me),c=c+Math.imul(te,$e)|0,w=Math.imul(te,Me),_=_+Math.imul(Y,ge)|0,c=c+Math.imul(Y,Oe)|0,c=c+Math.imul(Q,ge)|0,w=w+Math.imul(Q,Oe)|0,_=_+Math.imul(F,ve)|0,c=c+Math.imul(F,Pe)|0,c=c+Math.imul(q,ve)|0,w=w+Math.imul(q,Pe)|0;var Qe=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,_=Math.imul(U,$e),c=Math.imul(U,Me),c=c+Math.imul(j,$e)|0,w=Math.imul(j,Me),_=_+Math.imul(H,ge)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,Oe)|0,_=_+Math.imul(Y,ve)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(Q,ve)|0,w=w+Math.imul(Q,Pe)|0,_=_+Math.imul(F,_e)|0,c=c+Math.imul(F,Ce)|0,c=c+Math.imul(q,_e)|0,w=w+Math.imul(q,Ce)|0;var et=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(X,$e),c=Math.imul(X,Me),c=c+Math.imul(ne,$e)|0,w=Math.imul(ne,Me),_=_+Math.imul(U,ge)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(j,ge)|0,w=w+Math.imul(j,Oe)|0,_=_+Math.imul(H,ve)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(te,ve)|0,w=w+Math.imul(te,Pe)|0,_=_+Math.imul(Y,_e)|0,c=c+Math.imul(Y,Ce)|0,c=c+Math.imul(Q,_e)|0,w=w+Math.imul(Q,Ce)|0,_=_+Math.imul(F,Ee)|0,c=c+Math.imul(F,xe)|0,c=c+Math.imul(q,Ee)|0,w=w+Math.imul(q,xe)|0;var tt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,_=Math.imul(re,$e),c=Math.imul(re,Me),c=c+Math.imul(ae,$e)|0,w=Math.imul(ae,Me),_=_+Math.imul(X,ge)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(ne,ge)|0,w=w+Math.imul(ne,Oe)|0,_=_+Math.imul(U,ve)|0,c=c+Math.imul(U,Pe)|0,c=c+Math.imul(j,ve)|0,w=w+Math.imul(j,Pe)|0,_=_+Math.imul(H,_e)|0,c=c+Math.imul(H,Ce)|0,c=c+Math.imul(te,_e)|0,w=w+Math.imul(te,Ce)|0,_=_+Math.imul(Y,Ee)|0,c=c+Math.imul(Y,xe)|0,c=c+Math.imul(Q,Ee)|0,w=w+Math.imul(Q,xe)|0,_=_+Math.imul(F,we)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(q,we)|0,w=w+Math.imul(q,Ne)|0;var rt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,_=Math.imul(se,$e),c=Math.imul(se,Me),c=c+Math.imul(le,$e)|0,w=Math.imul(le,Me),_=_+Math.imul(re,ge)|0,c=c+Math.imul(re,Oe)|0,c=c+Math.imul(ae,ge)|0,w=w+Math.imul(ae,Oe)|0,_=_+Math.imul(X,ve)|0,c=c+Math.imul(X,Pe)|0,c=c+Math.imul(ne,ve)|0,w=w+Math.imul(ne,Pe)|0,_=_+Math.imul(U,_e)|0,c=c+Math.imul(U,Ce)|0,c=c+Math.imul(j,_e)|0,w=w+Math.imul(j,Ce)|0,_=_+Math.imul(H,Ee)|0,c=c+Math.imul(H,xe)|0,c=c+Math.imul(te,Ee)|0,w=w+Math.imul(te,xe)|0,_=_+Math.imul(Y,we)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(Q,we)|0,w=w+Math.imul(Q,Ne)|0,_=_+Math.imul(F,Se)|0,c=c+Math.imul(F,Be)|0,c=c+Math.imul(q,Se)|0,w=w+Math.imul(q,Be)|0;var nt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(he,$e),c=Math.imul(he,Me),c=c+Math.imul(fe,$e)|0,w=Math.imul(fe,Me),_=_+Math.imul(se,ge)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,ge)|0,w=w+Math.imul(le,Oe)|0,_=_+Math.imul(re,ve)|0,c=c+Math.imul(re,Pe)|0,c=c+Math.imul(ae,ve)|0,w=w+Math.imul(ae,Pe)|0,_=_+Math.imul(X,_e)|0,c=c+Math.imul(X,Ce)|0,c=c+Math.imul(ne,_e)|0,w=w+Math.imul(ne,Ce)|0,_=_+Math.imul(U,Ee)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(j,Ee)|0,w=w+Math.imul(j,xe)|0,_=_+Math.imul(H,we)|0,c=c+Math.imul(H,Ne)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Ne)|0,_=_+Math.imul(Y,Se)|0,c=c+Math.imul(Y,Be)|0,c=c+Math.imul(Q,Se)|0,w=w+Math.imul(Q,Be)|0,_=_+Math.imul(F,Ae)|0,c=c+Math.imul(F,ke)|0,c=c+Math.imul(q,Ae)|0,w=w+Math.imul(q,ke)|0;var it=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(it>>>26)|0,it&=67108863,_=Math.imul(me,$e),c=Math.imul(me,Me),c=c+Math.imul(pe,$e)|0,w=Math.imul(pe,Me),_=_+Math.imul(he,ge)|0,c=c+Math.imul(he,Oe)|0,c=c+Math.imul(fe,ge)|0,w=w+Math.imul(fe,Oe)|0,_=_+Math.imul(se,ve)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(le,ve)|0,w=w+Math.imul(le,Pe)|0,_=_+Math.imul(re,_e)|0,c=c+Math.imul(re,Ce)|0,c=c+Math.imul(ae,_e)|0,w=w+Math.imul(ae,Ce)|0,_=_+Math.imul(X,Ee)|0,c=c+Math.imul(X,xe)|0,c=c+Math.imul(ne,Ee)|0,w=w+Math.imul(ne,xe)|0,_=_+Math.imul(U,we)|0,c=c+Math.imul(U,Ne)|0,c=c+Math.imul(j,we)|0,w=w+Math.imul(j,Ne)|0,_=_+Math.imul(H,Se)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(te,Se)|0,w=w+Math.imul(te,Be)|0,_=_+Math.imul(Y,Ae)|0,c=c+Math.imul(Y,ke)|0,c=c+Math.imul(Q,Ae)|0,w=w+Math.imul(Q,ke)|0,_=_+Math.imul(F,Te)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(q,Te)|0,w=w+Math.imul(q,De)|0;var ot=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,_=Math.imul(ye,$e),c=Math.imul(ye,Me),c=c+Math.imul(be,$e)|0,w=Math.imul(be,Me),_=_+Math.imul(me,ge)|0,c=c+Math.imul(me,Oe)|0,c=c+Math.imul(pe,ge)|0,w=w+Math.imul(pe,Oe)|0,_=_+Math.imul(he,ve)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(fe,ve)|0,w=w+Math.imul(fe,Pe)|0,_=_+Math.imul(se,_e)|0,c=c+Math.imul(se,Ce)|0,c=c+Math.imul(le,_e)|0,w=w+Math.imul(le,Ce)|0,_=_+Math.imul(re,Ee)|0,c=c+Math.imul(re,xe)|0,c=c+Math.imul(ae,Ee)|0,w=w+Math.imul(ae,xe)|0,_=_+Math.imul(X,we)|0,c=c+Math.imul(X,Ne)|0,c=c+Math.imul(ne,we)|0,w=w+Math.imul(ne,Ne)|0,_=_+Math.imul(U,Se)|0,c=c+Math.imul(U,Be)|0,c=c+Math.imul(j,Se)|0,w=w+Math.imul(j,Be)|0,_=_+Math.imul(H,Ae)|0,c=c+Math.imul(H,ke)|0,c=c+Math.imul(te,Ae)|0,w=w+Math.imul(te,ke)|0,_=_+Math.imul(Y,Te)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(Q,Te)|0,w=w+Math.imul(Q,De)|0,_=_+Math.imul(F,Ie)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(q,Ie)|0,w=w+Math.imul(q,Le)|0;var st=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,_=Math.imul(ye,ge),c=Math.imul(ye,Oe),c=c+Math.imul(be,ge)|0,w=Math.imul(be,Oe),_=_+Math.imul(me,ve)|0,c=c+Math.imul(me,Pe)|0,c=c+Math.imul(pe,ve)|0,w=w+Math.imul(pe,Pe)|0,_=_+Math.imul(he,_e)|0,c=c+Math.imul(he,Ce)|0,c=c+Math.imul(fe,_e)|0,w=w+Math.imul(fe,Ce)|0,_=_+Math.imul(se,Ee)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,Ee)|0,w=w+Math.imul(le,xe)|0,_=_+Math.imul(re,we)|0,c=c+Math.imul(re,Ne)|0,c=c+Math.imul(ae,we)|0,w=w+Math.imul(ae,Ne)|0,_=_+Math.imul(X,Se)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(ne,Se)|0,w=w+Math.imul(ne,Be)|0,_=_+Math.imul(U,Ae)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(j,Ae)|0,w=w+Math.imul(j,ke)|0,_=_+Math.imul(H,Te)|0,c=c+Math.imul(H,De)|0,c=c+Math.imul(te,Te)|0,w=w+Math.imul(te,De)|0,_=_+Math.imul(Y,Ie)|0,c=c+Math.imul(Y,Le)|0,c=c+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Le)|0;var ct=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(ye,ve),c=Math.imul(ye,Pe),c=c+Math.imul(be,ve)|0,w=Math.imul(be,Pe),_=_+Math.imul(me,_e)|0,c=c+Math.imul(me,Ce)|0,c=c+Math.imul(pe,_e)|0,w=w+Math.imul(pe,Ce)|0,_=_+Math.imul(he,Ee)|0,c=c+Math.imul(he,xe)|0,c=c+Math.imul(fe,Ee)|0,w=w+Math.imul(fe,xe)|0,_=_+Math.imul(se,we)|0,c=c+Math.imul(se,Ne)|0,c=c+Math.imul(le,we)|0,w=w+Math.imul(le,Ne)|0,_=_+Math.imul(re,Se)|0,c=c+Math.imul(re,Be)|0,c=c+Math.imul(ae,Se)|0,w=w+Math.imul(ae,Be)|0,_=_+Math.imul(X,Ae)|0,c=c+Math.imul(X,ke)|0,c=c+Math.imul(ne,Ae)|0,w=w+Math.imul(ne,ke)|0,_=_+Math.imul(U,Te)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(j,Te)|0,w=w+Math.imul(j,De)|0,_=_+Math.imul(H,Ie)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(te,Ie)|0,w=w+Math.imul(te,Le)|0;var lt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(ye,_e),c=Math.imul(ye,Ce),c=c+Math.imul(be,_e)|0,w=Math.imul(be,Ce),_=_+Math.imul(me,Ee)|0,c=c+Math.imul(me,xe)|0,c=c+Math.imul(pe,Ee)|0,w=w+Math.imul(pe,xe)|0,_=_+Math.imul(he,we)|0,c=c+Math.imul(he,Ne)|0,c=c+Math.imul(fe,we)|0,w=w+Math.imul(fe,Ne)|0,_=_+Math.imul(se,Se)|0,c=c+Math.imul(se,Be)|0,c=c+Math.imul(le,Se)|0,w=w+Math.imul(le,Be)|0,_=_+Math.imul(re,Ae)|0,c=c+Math.imul(re,ke)|0,c=c+Math.imul(ae,Ae)|0,w=w+Math.imul(ae,ke)|0,_=_+Math.imul(X,Te)|0,c=c+Math.imul(X,De)|0,c=c+Math.imul(ne,Te)|0,w=w+Math.imul(ne,De)|0,_=_+Math.imul(U,Ie)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(j,Ie)|0,w=w+Math.imul(j,Le)|0;var dt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(ye,Ee),c=Math.imul(ye,xe),c=c+Math.imul(be,Ee)|0,w=Math.imul(be,xe),_=_+Math.imul(me,we)|0,c=c+Math.imul(me,Ne)|0,c=c+Math.imul(pe,we)|0,w=w+Math.imul(pe,Ne)|0,_=_+Math.imul(he,Se)|0,c=c+Math.imul(he,Be)|0,c=c+Math.imul(fe,Se)|0,w=w+Math.imul(fe,Be)|0,_=_+Math.imul(se,Ae)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ae)|0,w=w+Math.imul(le,ke)|0,_=_+Math.imul(re,Te)|0,c=c+Math.imul(re,De)|0,c=c+Math.imul(ae,Te)|0,w=w+Math.imul(ae,De)|0,_=_+Math.imul(X,Ie)|0,c=c+Math.imul(X,Le)|0,c=c+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Le)|0;var ht=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,we),c=Math.imul(ye,Ne),c=c+Math.imul(be,we)|0,w=Math.imul(be,Ne),_=_+Math.imul(me,Se)|0,c=c+Math.imul(me,Be)|0,c=c+Math.imul(pe,Se)|0,w=w+Math.imul(pe,Be)|0,_=_+Math.imul(he,Ae)|0,c=c+Math.imul(he,ke)|0,c=c+Math.imul(fe,Ae)|0,w=w+Math.imul(fe,ke)|0,_=_+Math.imul(se,Te)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,Te)|0,w=w+Math.imul(le,De)|0,_=_+Math.imul(re,Ie)|0,c=c+Math.imul(re,Le)|0,c=c+Math.imul(ae,Ie)|0,w=w+Math.imul(ae,Le)|0;var ft=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,_=Math.imul(ye,Se),c=Math.imul(ye,Be),c=c+Math.imul(be,Se)|0,w=Math.imul(be,Be),_=_+Math.imul(me,Ae)|0,c=c+Math.imul(me,ke)|0,c=c+Math.imul(pe,Ae)|0,w=w+Math.imul(pe,ke)|0,_=_+Math.imul(he,Te)|0,c=c+Math.imul(he,De)|0,c=c+Math.imul(fe,Te)|0,w=w+Math.imul(fe,De)|0,_=_+Math.imul(se,Ie)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ie)|0,w=w+Math.imul(le,Le)|0;var pt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,_=Math.imul(ye,Ae),c=Math.imul(ye,ke),c=c+Math.imul(be,Ae)|0,w=Math.imul(be,ke),_=_+Math.imul(me,Te)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(pe,Te)|0,w=w+Math.imul(pe,De)|0,_=_+Math.imul(he,Ie)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(fe,Ie)|0,w=w+Math.imul(fe,Le)|0;var mt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(ye,Te),c=Math.imul(ye,De),c=c+Math.imul(be,Te)|0,w=Math.imul(be,De),_=_+Math.imul(me,Ie)|0,c=c+Math.imul(me,Le)|0,c=c+Math.imul(pe,Ie)|0,w=w+Math.imul(pe,Le)|0;var yt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(ye,Ie),c=Math.imul(ye,Le),c=c+Math.imul(be,Ie)|0,w=Math.imul(be,Le);var gt=(T+_|0)+((c&8191)<<13)|0;return T=(w+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,O[0]=Ve,O[1]=Ge,O[2]=Qe,O[3]=et,O[4]=tt,O[5]=rt,O[6]=nt,O[7]=it,O[8]=ot,O[9]=st,O[10]=ct,O[11]=lt,O[12]=dt,O[13]=ht,O[14]=ft,O[15]=pt,O[16]=mt,O[17]=yt,O[18]=gt,T!==0&&(O[19]=T,l.length++),l};Math.imul||(P=C);function B(s,d,l){l.negative=d.negative^s.negative,l.length=s.length+d.length;for(var v=0,S=0,O=0;O<l.length-1;O++){var T=S;S=0;for(var _=v&67108863,c=Math.min(O,d.length-1),w=Math.max(0,O-s.length+1);w<=c;w++){var x=O-w,F=s.words[x]|0,q=d.words[w]|0,V=F*q,Y=V&67108863;T=T+(V/67108864|0)|0,Y=Y+_|0,_=Y&67108863,T=T+(Y>>>26)|0,S+=T>>>26,T&=67108863}l.words[O]=_,v=T,T=S}return v!==0?l.words[O]=v:l.length--,l.strip()}function k(s,d,l){var v=new N;return v.mulp(s,d,l)}o.prototype.mulTo=function(s,d){var l,v=this.length+s.length;return this.length===10&&s.length===10?l=P(this,s,d):v<63?l=C(this,s,d):v<1024?l=B(this,s,d):l=k(this,s,d),l};function N(s,d){this.x=s,this.y=d}N.prototype.makeRBT=function(s){for(var d=new Array(s),l=o.prototype._countBits(s)-1,v=0;v<s;v++)d[v]=this.revBin(v,l,s);return d},N.prototype.revBin=function(s,d,l){if(s===0||s===l-1)return s;for(var v=0,S=0;S<d;S++)v|=(s&1)<<d-S-1,s>>=1;return v},N.prototype.permute=function(s,d,l,v,S,O){for(var T=0;T<O;T++)v[T]=d[s[T]],S[T]=l[s[T]]},N.prototype.transform=function(s,d,l,v,S,O){this.permute(O,s,d,l,v,S);for(var T=1;T<S;T<<=1)for(var _=T<<1,c=Math.cos(2*Math.PI/_),w=Math.sin(2*Math.PI/_),x=0;x<S;x+=_)for(var F=c,q=w,V=0;V<T;V++){var Y=l[x+V],Q=v[x+V],G=l[x+V+T],H=v[x+V+T],te=F*G-q*H;H=F*H+q*G,G=te,l[x+V]=Y+G,v[x+V]=Q+H,l[x+V+T]=Y-G,v[x+V+T]=Q-H,V!==_&&(te=c*F-w*q,q=c*q+w*F,F=te)}},N.prototype.guessLen13b=function(s,d){var l=Math.max(d,s)|1,v=l&1,S=0;for(l=l/2|0;l;l=l>>>1)S++;return 1<<S+1+v},N.prototype.conjugate=function(s,d,l){if(!(l<=1))for(var v=0;v<l/2;v++){var S=s[v];s[v]=s[l-v-1],s[l-v-1]=S,S=d[v],d[v]=-d[l-v-1],d[l-v-1]=-S}},N.prototype.normalize13b=function(s,d){for(var l=0,v=0;v<d/2;v++){var S=Math.round(s[2*v+1]/d)*8192+Math.round(s[2*v]/d)+l;s[v]=S&67108863,S<67108864?l=0:l=S/67108864|0}return s},N.prototype.convert13b=function(s,d,l,v){for(var S=0,O=0;O<d;O++)S=S+(s[O]|0),l[2*O]=S&8191,S=S>>>13,l[2*O+1]=S&8191,S=S>>>13;for(O=2*d;O<v;++O)l[O]=0;n(S===0),n((S&-8192)===0)},N.prototype.stub=function(s){for(var d=new Array(s),l=0;l<s;l++)d[l]=0;return d},N.prototype.mulp=function(s,d,l){var v=2*this.guessLen13b(s.length,d.length),S=this.makeRBT(v),O=this.stub(v),T=new Array(v),_=new Array(v),c=new Array(v),w=new Array(v),x=new Array(v),F=new Array(v),q=l.words;q.length=v,this.convert13b(s.words,s.length,T,v),this.convert13b(d.words,d.length,w,v),this.transform(T,O,_,c,v,S),this.transform(w,O,x,F,v,S);for(var V=0;V<v;V++){var Y=_[V]*x[V]-c[V]*F[V];c[V]=_[V]*F[V]+c[V]*x[V],_[V]=Y}return this.conjugate(_,c,v),this.transform(_,c,q,O,v,S),this.conjugate(q,O,v),this.normalize13b(q,v),l.negative=s.negative^d.negative,l.length=s.length+d.length,l.strip()},o.prototype.mul=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},o.prototype.mulf=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),k(this,s,d)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var d=0,l=0;l<this.length;l++){var v=(this.words[l]|0)*s,S=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=S>>>26,this.words[l]=S&67108863}return d!==0&&(this.words[l]=d,this.length++),this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var d=M(s);if(d.length===0)return new o(1);for(var l=this,v=0;v<d.length&&d[v]===0;v++,l=l.sqr());if(++v<d.length)for(var S=l.sqr();v<d.length;v++,S=S.sqr())d[v]!==0&&(l=l.mul(S));return l},o.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=67108863>>>26-d<<26-d,S;if(d!==0){var O=0;for(S=0;S<this.length;S++){var T=this.words[S]&v,_=(this.words[S]|0)-T<<d;this.words[S]=_|O,O=T>>>26-d}O&&(this.words[S]=O,this.length++)}if(l!==0){for(S=this.length-1;S>=0;S--)this.words[S+l]=this.words[S];for(S=0;S<l;S++)this.words[S]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,d,l){n(typeof s=="number"&&s>=0);var v;d?v=(d-d%26)/26:v=0;var S=s%26,O=Math.min((s-S)/26,this.length),T=67108863^67108863>>>S<<S,_=l;if(v-=O,v=Math.max(0,v),_){for(var c=0;c<O;c++)_.words[c]=this.words[c];_.length=O}if(O!==0)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=v);c--){var x=this.words[c]|0;this.words[c]=w<<26-S|x>>>S,w=x&T}return _&&w!==0&&(_.words[_.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(s,d,l){return n(this.negative===0),this.iushrn(s,d,l)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return!1;var S=this.words[l];return!!(S&v)},o.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(d!==0&&l++,this.length=Math.min(l,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,d,l){var v=s.length+l,S;this._expand(v);var O,T=0;for(S=0;S<s.length;S++){O=(this.words[S+l]|0)+T;var _=(s.words[S]|0)*d;O-=_&67108863,T=(O>>26)-(_/67108864|0),this.words[S+l]=O&67108863}for(;S<this.length-l;S++)O=(this.words[S+l]|0)+T,T=O>>26,this.words[S+l]=O&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,S=0;S<this.length;S++)O=-(this.words[S]|0)+T,T=O>>26,this.words[S]=O&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(s,d){var l=this.length-s.length,v=this.clone(),S=s,O=S.words[S.length-1]|0,T=this._countBits(O);l=26-T,l!==0&&(S=S.ushln(l),v.iushln(l),O=S.words[S.length-1]|0);var _=v.length-S.length,c;if(d!=="mod"){c=new o(null),c.length=_+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var x=v.clone()._ishlnsubmul(S,1,_);x.negative===0&&(v=x,c&&(c.words[_]=1));for(var F=_-1;F>=0;F--){var q=(v.words[S.length+F]|0)*67108864+(v.words[S.length+F-1]|0);for(q=Math.min(q/O|0,67108863),v._ishlnsubmul(S,q,F);v.negative!==0;)q--,v.negative=0,v._ishlnsubmul(S,1,F),v.isZero()||(v.negative^=1);c&&(c.words[F]=q)}return c&&c.strip(),v.strip(),d!=="div"&&l!==0&&v.iushrn(l),{div:c||null,mod:v}},o.prototype.divmod=function(s,d,l){if(n(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,S,O;return this.negative!==0&&s.negative===0?(O=this.neg().divmod(s,d),d!=="mod"&&(v=O.div.neg()),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.iadd(s)),{div:v,mod:S}):this.negative===0&&s.negative!==0?(O=this.divmod(s.neg(),d),d!=="mod"&&(v=O.div.neg()),{div:v,mod:O.mod}):this.negative&s.negative?(O=this.neg().divmod(s.neg(),d),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.isub(s)),{div:O.div,mod:S}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?d==="div"?{div:this.divn(s.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modn(s.words[0]))}:this._wordDiv(s,d)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var l=d.div.negative!==0?d.mod.isub(s):d.mod,v=s.ushrn(1),S=s.andln(1),O=l.cmp(v);return O<0||S===1&&O===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(s){n(s<=67108863);for(var d=(1<<26)%s,l=0,v=this.length-1;v>=0;v--)l=(d*l+(this.words[v]|0))%s;return l},o.prototype.idivn=function(s){n(s<=67108863);for(var d=0,l=this.length-1;l>=0;l--){var v=(this.words[l]|0)+d*67108864;this.words[l]=v/s|0,d=v%s}return this.strip()},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=new o(0),T=new o(1),_=0;d.isEven()&&l.isEven();)d.iushrn(1),l.iushrn(1),++_;for(var c=l.clone(),w=d.clone();!d.isZero();){for(var x=0,F=1;!(d.words[0]&F)&&x<26;++x,F<<=1);if(x>0)for(d.iushrn(x);x-- >0;)(v.isOdd()||S.isOdd())&&(v.iadd(c),S.isub(w)),v.iushrn(1),S.iushrn(1);for(var q=0,V=1;!(l.words[0]&V)&&q<26;++q,V<<=1);if(q>0)for(l.iushrn(q);q-- >0;)(O.isOdd()||T.isOdd())&&(O.iadd(c),T.isub(w)),O.iushrn(1),T.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(O),S.isub(T)):(l.isub(d),O.isub(v),T.isub(S))}return{a:O,b:T,gcd:l.iushln(_)}},o.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=l.clone();d.cmpn(1)>0&&l.cmpn(1)>0;){for(var T=0,_=1;!(d.words[0]&_)&&T<26;++T,_<<=1);if(T>0)for(d.iushrn(T);T-- >0;)v.isOdd()&&v.iadd(O),v.iushrn(1);for(var c=0,w=1;!(l.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(l.iushrn(c);c-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(S)):(l.isub(d),S.isub(v))}var x;return d.cmpn(1)===0?x=v:x=S,x.cmpn(0)<0&&x.iadd(s),x},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),l=s.clone();d.negative=0,l.negative=0;for(var v=0;d.isEven()&&l.isEven();v++)d.iushrn(1),l.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;l.isEven();)l.iushrn(1);var S=d.cmp(l);if(S<0){var O=d;d=l,l=O}else if(S===0||l.cmpn(1)===0)break;d.isub(l)}while(!0);return l.iushln(v)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){n(typeof s=="number");var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return this._expand(l+1),this.words[l]|=v,this;for(var S=v,O=l;S!==0&&O<this.length;O++){var T=this.words[O]|0;T+=S,S=T>>>26,T&=67108863,this.words[O]=T}return S!==0&&(this.words[O]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var d=s<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var l;if(this.length>1)l=1;else{d&&(s=-s),n(s<=67108863,"Number is too big");var v=this.words[0]|0;l=v===s?0:v<s?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var d=this.ucmp(s);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,l=this.length-1;l>=0;l--){var v=this.words[l]|0,S=s.words[l]|0;if(v!==S){v<S?d=-1:v>S&&(d=1);break}}return d},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new Z(s)},o.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function L(s,d){this.name=s,this.p=new o(d,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},L.prototype.ireduce=function(s){var d=s,l;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),l=d.bitLength();while(l>this.n);var v=l<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},L.prototype.split=function(s,d){s.iushrn(this.n,0,d)},L.prototype.imulK=function(s){return s.imul(this.k)};function K(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(K,L),K.prototype.split=function(s,d){for(var l=4194303,v=Math.min(s.length,9),S=0;S<v;S++)d.words[S]=s.words[S];if(d.length=v,s.length<=9){s.words[0]=0,s.length=1;return}var O=s.words[9];for(d.words[d.length++]=O&l,S=10;S<s.length;S++){var T=s.words[S]|0;s.words[S-10]=(T&l)<<4|O>>>22,O=T}O>>>=22,s.words[S-10]=O,O===0&&s.length>10?s.length-=10:s.length-=9},K.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,l=0;l<s.length;l++){var v=s.words[l]|0;d+=v*977,s.words[l]=d&67108863,d=v*64+(d/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function J(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,L);function ce(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ce,L);function oe(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(oe,L),oe.prototype.imulK=function(s){for(var d=0,l=0;l<s.length;l++){var v=(s.words[l]|0)*19+d,S=v&67108863;v>>>=26,s.words[l]=S,d=v}return d!==0&&(s.words[s.length++]=d),s},o._prime=function(s){if(D[s])return D[s];var d;if(s==="k256")d=new K;else if(s==="p224")d=new J;else if(s==="p192")d=new ce;else if(s==="p25519")d=new oe;else throw new Error("Unknown prime "+s);return D[s]=d,d};function Z(s){if(typeof s=="string"){var d=o._prime(s);this.m=d.p,this.prime=d}else n(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}Z.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Z.prototype._verify2=function(s,d){n((s.negative|d.negative)===0,"red works only with positives"),n(s.red&&s.red===d.red,"red works only with red numbers")},Z.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Z.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Z.prototype.add=function(s,d){this._verify2(s,d);var l=s.add(d);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},Z.prototype.iadd=function(s,d){this._verify2(s,d);var l=s.iadd(d);return l.cmp(this.m)>=0&&l.isub(this.m),l},Z.prototype.sub=function(s,d){this._verify2(s,d);var l=s.sub(d);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},Z.prototype.isub=function(s,d){this._verify2(s,d);var l=s.isub(d);return l.cmpn(0)<0&&l.iadd(this.m),l},Z.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},Z.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},Z.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},Z.prototype.isqr=function(s){return this.imul(s,s.clone())},Z.prototype.sqr=function(s){return this.mul(s,s)},Z.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(s,l)}for(var v=this.m.subn(1),S=0;!v.isZero()&&v.andln(1)===0;)S++,v.iushrn(1);n(!v.isZero());var O=new o(1).toRed(this),T=O.redNeg(),_=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,_).cmp(T)!==0;)c.redIAdd(T);for(var w=this.pow(c,v),x=this.pow(s,v.addn(1).iushrn(1)),F=this.pow(s,v),q=S;F.cmp(O)!==0;){for(var V=F,Y=0;V.cmp(O)!==0;Y++)V=V.redSqr();n(Y<q);var Q=this.pow(w,new o(1).iushln(q-Y-1));x=x.redMul(Q),w=Q.redSqr(),F=F.redMul(w),q=Y}return x},Z.prototype.invm=function(s){var d=s._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Z.prototype.pow=function(s,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return s.clone();var l=4,v=new Array(1<<l);v[0]=new o(1).toRed(this),v[1]=s;for(var S=2;S<v.length;S++)v[S]=this.mul(v[S-1],s);var O=v[0],T=0,_=0,c=d.bitLength()%26;for(c===0&&(c=26),S=d.length-1;S>=0;S--){for(var w=d.words[S],x=c-1;x>=0;x--){var F=w>>x&1;if(O!==v[0]&&(O=this.sqr(O)),F===0&&T===0){_=0;continue}T<<=1,T|=F,_++,!(_!==l&&(S!==0||x!==0))&&(O=this.mul(O,v[T]),_=0,T=0)}c=26}return O},Z.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},Z.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},o.mont=function(s){return new ie(s)};function ie(s){Z.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(ie,Z),ie.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ie.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},ie.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var l=s.imul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new o(0)._forceRed(this);var l=s.mul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.invm=function(s){var d=this.imod(s._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,commonjsGlobal)}(bn$6);var bnExports$1=bn$6.exports,utils$m={};(function(e){var t=e;function r(o,u){if(Array.isArray(o))return o.slice();if(!o)return[];var p=[];if(typeof o!="string"){for(var b=0;b<o.length;b++)p[b]=o[b]|0;return p}if(u==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var b=0;b<o.length;b+=2)p.push(parseInt(o[b]+o[b+1],16))}else for(var b=0;b<o.length;b++){var m=o.charCodeAt(b),y=m>>8,A=m&255;y?p.push(y,A):p.push(A)}return p}t.toArray=r;function n(o){return o.length===1?"0"+o:o}t.zero2=n;function a(o){for(var u="",p=0;p<o.length;p++)u+=n(o[p].toString(16));return u}t.toHex=a,t.encode=function(o,u){return u==="hex"?a(o):o}})(utils$m),function(e){var t=e,r=bnExports$1,n=minimalisticAssert,a=utils$m;t.assert=n,t.toArray=a.toArray,t.zero2=a.zero2,t.toHex=a.toHex,t.encode=a.encode;function o(y,A,I){var M=new Array(Math.max(y.bitLength(),I)+1),C;for(C=0;C<M.length;C+=1)M[C]=0;var P=1<<A+1,B=y.clone();for(C=0;C<M.length;C++){var k,N=B.andln(P-1);B.isOdd()?(N>(P>>1)-1?k=(P>>1)-N:k=N,B.isubn(k)):k=0,M[C]=k,B.iushrn(1)}return M}t.getNAF=o;function u(y,A){var I=[[],[]];y=y.clone(),A=A.clone();for(var M=0,C=0,P;y.cmpn(-M)>0||A.cmpn(-C)>0;){var B=y.andln(3)+M&3,k=A.andln(3)+C&3;B===3&&(B=-1),k===3&&(k=-1);var N;B&1?(P=y.andln(7)+M&7,(P===3||P===5)&&k===2?N=-B:N=B):N=0,I[0].push(N);var D;k&1?(P=A.andln(7)+C&7,(P===3||P===5)&&B===2?D=-k:D=k):D=0,I[1].push(D),2*M===N+1&&(M=1-M),2*C===D+1&&(C=1-C),y.iushrn(1),A.iushrn(1)}return I}t.getJSF=u;function p(y,A,I){var M="_"+A;y.prototype[A]=function(){return this[M]!==void 0?this[M]:this[M]=I.call(this)}}t.cachedProperty=p;function b(y){return typeof y=="string"?t.toArray(y,"hex"):y}t.parseBytes=b;function m(y){return new r(y,"hex","le")}t.intFromLE=m}(utils$n);var brorand={exports:{}},cryptoBrowserify={},browser$g={exports:{}},safeBuffer$1={exports:{}};(function(e,t){var r=require$$0$1,n=r.Buffer;function a(u,p){for(var b in u)p[b]=u[b]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o);function o(u,p,b){return n(u,p,b)}o.prototype=Object.create(n.prototype),a(n,o),o.from=function(u,p,b){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,p,b)},o.alloc=function(u,p,b){if(typeof u!="number")throw new TypeError("Argument must be a number");var m=n(u);return p!==void 0?typeof b=="string"?m.fill(p,b):m.fill(p):m.fill(0),m},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$g.exports;hasRequiredBrowser$a=1;var e=65536,t=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=safeBufferExports.Buffer,a=commonjsGlobal.crypto||commonjsGlobal.msCrypto;a&&a.getRandomValues?browser$g.exports=o:browser$g.exports=r;function o(u,p){if(u>t)throw new RangeError("requested too many random bytes");var b=n.allocUnsafe(u);if(u>0)if(u>e)for(var m=0;m<u;m+=e)a.getRandomValues(b.slice(m,m+e));else a.getRandomValues(b);return typeof p=="function"?process$1$1.nextTick(function(){p(null,b)}):b}return browser$g.exports}var events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN=Number.isNaN||function(e){return e!==e};function EventEmitter$2(){EventEmitter$2.init.call(this)}events.exports=EventEmitter$2,events.exports.once=once$2,EventEmitter$2.EventEmitter=EventEmitter$2,EventEmitter$2.prototype._events=void 0,EventEmitter$2.prototype._eventsCount=0,EventEmitter$2.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter$2,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}}),EventEmitter$2.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter$2.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter$2.defaultMaxListeners:e._maxListeners}EventEmitter$2.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter$2.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",a=this._events;if(a!==void 0)n=n&&a.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var p=a[e];if(p===void 0)return!1;if(typeof p=="function")ReflectApply(p,this,t);else for(var b=p.length,m=arrayClone(p,b),r=0;r<b;++r)ReflectApply(m[r],this,t);return!0};function _addListener(e,t,r,n){var a,o,u;if(checkListener(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),u=o[t]),u===void 0)u=o[t]=r,++e._eventsCount;else if(typeof u=="function"?u=o[t]=n?[r,u]:[u,r]:n?u.unshift(r):u.push(r),a=_getMaxListeners(e),a>0&&u.length>a&&!u.warned){u.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=u.length,ProcessEmitWarning(p)}return e}EventEmitter$2.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter$2.prototype.on=EventEmitter$2.prototype.addListener,EventEmitter$2.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=onceWrapper.bind(n);return a.listener=r,n.wrapFn=a,a}EventEmitter$2.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter$2.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter$2.prototype.removeListener=function(e,t){var r,n,a,o,u;if(checkListener(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(a=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){u=r[o].listener,a=o;break}if(a<0)return this;a===0?r.shift():spliceOne(r,a),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,u||t)}return this},EventEmitter$2.prototype.off=EventEmitter$2.prototype.removeListener,EventEmitter$2.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var a=Object.keys(r),o;for(n=0;n<a.length;++n)o=a[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function _listeners(e,t,r){var n=e._events;if(n===void 0)return[];var a=n[t];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?unwrapListeners(a):arrayClone(a,a.length)}EventEmitter$2.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter$2.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter$2.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter$2.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}EventEmitter$2.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function once$2(e,t){return new Promise(function(r,n){function a(u){e.removeListener(t,o),n(u)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",a),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,o,{once:!0}),t!=="error"&&addErrorHandlerIfEventEmitter(e,a,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,r){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",t,r)}function eventTargetAgnosticAddListener(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(o){n.once&&e.removeEventListener(t,a),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var eventsExports=events.exports,streamBrowser$1=eventsExports.EventEmitter,util$2={},types$6={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0},hasSymbols$2=shams$1,shams=function(){return hasSymbols$2()&&!!Symbol.toStringTag},esErrors=Error,_eval=EvalError,range$3=RangeError,ref=ReferenceError,syntax=SyntaxError,type=TypeError,uri=URIError,origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={__proto__:null,foo:{}},$Object=Object,hasProto$1=function(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$4=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var a=0;a<t.length;a+=1)r[a+e.length]=t[a];return r},slicy=function(e,t){for(var r=[],n=t,a=0;n<e.length;n+=1,a+=1)r[a]=e[n];return r},joiny=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},implementation$1=function(e){var t=this;if(typeof t!="function"||toStr$4.apply(t)!==funcType)throw new TypeError(ERROR_MESSAGE+t);for(var r=slicy(arguments,1),n,a=function(){if(this instanceof n){var m=t.apply(this,concatty(r,arguments));return Object(m)===m?m:this}return t.apply(e,concatty(r,arguments))},o=max(0,t.length-r.length),u=[],p=0;p<o;p++)u[p]="$"+p;if(n=Function("binder","return function ("+joiny(u,",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var b=function(){};b.prototype=t.prototype,n.prototype=new b,b.prototype=null}return n},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,call$3=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call$3,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError=range$3,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$2=type,$URIError=uri,$Function=Function,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(e){return e.__proto__}:null),needsEval={},TypedArray$1=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray$1,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(e){var errorProto=getProto$1(getProto$1(e));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function e(t){var r;if(t==="%AsyncFunction%")r=getEvalledConstructor("async function () {}");else if(t==="%GeneratorFunction%")r=getEvalledConstructor("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=getEvalledConstructor("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&getProto$1&&(r=getProto$1(a.prototype))}return INTRINSICS[t]=r,r},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn=hasown,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var t=$strSlice(e,0,1),r=$strSlice(e,-1);if(t==="%"&&r!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var n=[];return $replace(e,rePropName,function(a,o,u,p){n[n.length]=u?$replace(p,reEscapeChar,"$1"):o||a}),n},getBaseIntrinsic=function(e,t){var r=e,n;if(hasOwn(LEGACY_ALIASES,r)&&(n=LEGACY_ALIASES[r],r="%"+n[0]+"%"),hasOwn(INTRINSICS,r)){var a=INTRINSICS[r];if(a===needsEval&&(a=doEval(r)),typeof a>"u"&&!t)throw new $TypeError$2("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,t){if(typeof e!="string"||e.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=stringToPath(e),n=r.length>0?r[0]:"",a=getBaseIntrinsic("%"+n+"%",t),o=a.name,u=a.value,p=!1,b=a.alias;b&&(n=b[0],$spliceApply(r,$concat([0,1],b)));for(var m=1,y=!0;m<r.length;m+=1){var A=r[m],I=$strSlice(A,0,1),M=$strSlice(A,-1);if((I==='"'||I==="'"||I==="`"||M==='"'||M==="'"||M==="`")&&I!==M)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((A==="constructor"||!y)&&(p=!0),n+="."+A,o="%"+n+"%",hasOwn(INTRINSICS,o))u=INTRINSICS[o];else if(u!=null){if(!(A in u)){if(!t)throw new $TypeError$2("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&m+1>=r.length){var C=$gOPD$1(u,A);y=!!C,y&&"get"in C&&!("originalValue"in C.get)?u=C.get:u=u[A]}else y=hasOwn(u,A),u=u[A];y&&!p&&(INTRINSICS[o]=u)}}return u},callBind$2={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var e=getIntrinsic,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return esDefineProperty=t,esDefineProperty}var GetIntrinsic$2=getIntrinsic,$gOPD=GetIntrinsic$2("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,$defineProperty$1=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$1=type,gopd=gopd$1,defineDataProperty=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,p=!!gopd&&gopd(e,t);if($defineProperty$1)$defineProperty$1(e,t,{configurable:o===null&&p?p.configurable:!o,enumerable:n===null&&p?p.enumerable:!n,value:r,writable:a===null&&p?p.writable:!a});else if(u||!n&&!a&&!o)e[t]=r;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=requireEsDefineProperty(),hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$1=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type,$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function(e,t){if(typeof e!="function")throw new $TypeError("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||$floor(t)!==t)throw new $TypeError("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,a=!0;if("length"in e&&gOPD$1){var o=gOPD$1(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(a=!1)}return(n||a||!r)&&(hasDescriptors?define(e,"length",t,!0,!0):define(e,"length",t)),e};(function(e){var t=functionBind,r=getIntrinsic,n=setFunctionLength,a=type,o=r("%Function.prototype.apply%"),u=r("%Function.prototype.call%"),p=r("%Reflect.apply%",!0)||t.call(u,o),b=requireEsDefineProperty(),m=r("%Math.max%");e.exports=function(A){if(typeof A!="function")throw new a("a function is required");var I=p(t,u,arguments);return n(I,1+m(0,A.length-(arguments.length-1)),!0)};var y=function(){return p(t,o,arguments)};b?b(e.exports,"apply",{value:y}):e.exports.apply=y})(callBind$2);var callBindExports=callBind$2.exports,GetIntrinsic=getIntrinsic,callBind$1=callBindExports,$indexOf$1=callBind$1(GetIntrinsic("String.prototype.indexOf")),callBound$2=function(e,t){var r=GetIntrinsic(e,!!t);return typeof r=="function"&&$indexOf$1(e,".prototype.")>-1?callBind$1(r):r},hasToStringTag$3=shams(),callBound$1=callBound$2,$toString$1=callBound$1("Object.prototype.toString"),isStandardArguments=function(e){return hasToStringTag$3&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$1(e)==="[object Arguments]"},isLegacyArguments=function(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$toString$1(e)!=="[object Array]"&&$toString$1(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$3=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(e){if(typeof e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(e)))return!0;if(!hasToStringTag$2){var t=toStr$3.call(e);return t==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var r=getGeneratorFunc();GeneratorFunction=r?getProto(r):!1}return getProto(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(e){e!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(e){try{var t=fnToStr.call(e);return constructorRegex.test(t)}catch{return!1}},tryFunctionObject=function(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$2=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$2.call(all)===toStr$2.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=toStr$2.call(e);return(t===ddaClass||t===ddaClass2||t===ddaClass3||t===objectClass)&&e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(t){if(t!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var t=toStr$2.call(e);return t!==fnClass&&t!==genClass&&!/^\[object HTML/.test(t)?!1:tryFunctionObject(e)},isCallable=isCallable$1,toStr$1=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function(e,t,r){for(var n=0,a=e.length;n<a;n++)hasOwnProperty.call(e,n)&&(r==null?t(e[n],n,e):t.call(r,e[n],n,e))},forEachString=function(e,t,r){for(var n=0,a=e.length;n<a;n++)r==null?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},forEachObject=function(e,t,r){for(var n in e)hasOwnProperty.call(e,n)&&(r==null?t(e[n],n,e):t.call(r,e[n],n,e))},forEach$1=function(e,t,r){if(!isCallable(t))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),toStr$1.call(e)==="[object Array]"?forEachArray(e,t,n):typeof e=="string"?forEachString(e,t,n):forEachObject(e,t,n)},forEach_1=forEach$1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var e=[],t=0;t<possibleNames.length;t++)typeof g$1[possibleNames[t]]=="function"&&(e[e.length]=possibleNames[t]);return e},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound=callBound$2,gOPD=gopd$1,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(e){var t=new g[e];if(Symbol.toStringTag in t){var r=getPrototypeOf(t),n=gOPD(r,Symbol.toStringTag);if(!n){var a=getPrototypeOf(r);n=gOPD(a,Symbol.toStringTag)}cache["$"+e]=callBind(n.get)}}):forEach(typedArrays,function(e){var t=new g[e],r=t.slice||t.set;r&&(cache["$"+e]=callBind(r))});var tryTypedArrays=function(e){var t=!1;return forEach(cache,function(r,n){if(!t)try{"$"+r(e)===n&&(t=$slice(n,1))}catch{}}),t},trySlices=function(e){var t=!1;return forEach(cache,function(r,n){if(!t)try{r(e),t=$slice(n,1)}catch{}}),t},whichTypedArray$1=function(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag){var t=$slice($toString(e),8,-1);return $indexOf(typedArrays,t)>-1?t:t!=="Object"?!1:trySlices(e)}return gOPD?tryTypedArrays(e):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(e){return!!whichTypedArray(e)};(function(e){var t=isArguments,r=isGeneratorFunction,n=whichTypedArray$1,a=isTypedArray;function o(ue){return ue.call.bind(ue)}var u=typeof BigInt<"u",p=typeof Symbol<"u",b=o(Object.prototype.toString),m=o(Number.prototype.valueOf),y=o(String.prototype.valueOf),A=o(Boolean.prototype.valueOf);if(u)var I=o(BigInt.prototype.valueOf);if(p)var M=o(Symbol.prototype.valueOf);function C(ue,se){if(typeof ue!="object")return!1;try{return se(ue),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=a;function P(ue){return typeof Promise<"u"&&ue instanceof Promise||ue!==null&&typeof ue=="object"&&typeof ue.then=="function"&&typeof ue.catch=="function"}e.isPromise=P;function B(ue){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ue):a(ue)||q(ue)}e.isArrayBufferView=B;function k(ue){return n(ue)==="Uint8Array"}e.isUint8Array=k;function N(ue){return n(ue)==="Uint8ClampedArray"}e.isUint8ClampedArray=N;function D(ue){return n(ue)==="Uint16Array"}e.isUint16Array=D;function L(ue){return n(ue)==="Uint32Array"}e.isUint32Array=L;function K(ue){return n(ue)==="Int8Array"}e.isInt8Array=K;function J(ue){return n(ue)==="Int16Array"}e.isInt16Array=J;function ce(ue){return n(ue)==="Int32Array"}e.isInt32Array=ce;function oe(ue){return n(ue)==="Float32Array"}e.isFloat32Array=oe;function Z(ue){return n(ue)==="Float64Array"}e.isFloat64Array=Z;function ie(ue){return n(ue)==="BigInt64Array"}e.isBigInt64Array=ie;function s(ue){return n(ue)==="BigUint64Array"}e.isBigUint64Array=s;function d(ue){return b(ue)==="[object Map]"}d.working=typeof Map<"u"&&d(new Map);function l(ue){return typeof Map>"u"?!1:d.working?d(ue):ue instanceof Map}e.isMap=l;function v(ue){return b(ue)==="[object Set]"}v.working=typeof Set<"u"&&v(new Set);function S(ue){return typeof Set>"u"?!1:v.working?v(ue):ue instanceof Set}e.isSet=S;function O(ue){return b(ue)==="[object WeakMap]"}O.working=typeof WeakMap<"u"&&O(new WeakMap);function T(ue){return typeof WeakMap>"u"?!1:O.working?O(ue):ue instanceof WeakMap}e.isWeakMap=T;function _(ue){return b(ue)==="[object WeakSet]"}_.working=typeof WeakSet<"u"&&_(new WeakSet);function c(ue){return _(ue)}e.isWeakSet=c;function w(ue){return b(ue)==="[object ArrayBuffer]"}w.working=typeof ArrayBuffer<"u"&&w(new ArrayBuffer);function x(ue){return typeof ArrayBuffer>"u"?!1:w.working?w(ue):ue instanceof ArrayBuffer}e.isArrayBuffer=x;function F(ue){return b(ue)==="[object DataView]"}F.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&F(new DataView(new ArrayBuffer(1),0,1));function q(ue){return typeof DataView>"u"?!1:F.working?F(ue):ue instanceof DataView}e.isDataView=q;var V=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Y(ue){return b(ue)==="[object SharedArrayBuffer]"}function Q(ue){return typeof V>"u"?!1:(typeof Y.working>"u"&&(Y.working=Y(new V)),Y.working?Y(ue):ue instanceof V)}e.isSharedArrayBuffer=Q;function G(ue){return b(ue)==="[object AsyncFunction]"}e.isAsyncFunction=G;function H(ue){return b(ue)==="[object Map Iterator]"}e.isMapIterator=H;function te(ue){return b(ue)==="[object Set Iterator]"}e.isSetIterator=te;function W(ue){return b(ue)==="[object Generator]"}e.isGeneratorObject=W;function U(ue){return b(ue)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=U;function j(ue){return C(ue,m)}e.isNumberObject=j;function ee(ue){return C(ue,y)}e.isStringObject=ee;function X(ue){return C(ue,A)}e.isBooleanObject=X;function ne(ue){return u&&C(ue,I)}e.isBigIntObject=ne;function de(ue){return p&&C(ue,M)}e.isSymbolObject=de;function re(ue){return j(ue)||ee(ue)||X(ue)||ne(ue)||de(ue)}e.isBoxedPrimitive=re;function ae(ue){return typeof Uint8Array<"u"&&(x(ue)||Q(ue))}e.isAnyArrayBuffer=ae,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ue){Object.defineProperty(e,ue,{enumerable:!1,value:function(){throw new Error(ue+" is not supported in userland")}})})})(types$6);var isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(e){var t={},r=Object.getOwnPropertyDescriptors||function(q){for(var V=Object.keys(q),Y={},Q=0;Q<V.length;Q++)Y[V[Q]]=Object.getOwnPropertyDescriptor(q,V[Q]);return Y},n=/%[sdj%]/g;e.format=function(q){if(!J(q)){for(var V=[],Y=0;Y<arguments.length;Y++)V.push(p(arguments[Y]));return V.join(" ")}for(var Y=1,Q=arguments,G=Q.length,H=String(q).replace(n,function(U){if(U==="%%")return"%";if(Y>=G)return U;switch(U){case"%s":return String(Q[Y++]);case"%d":return Number(Q[Y++]);case"%j":try{return JSON.stringify(Q[Y++])}catch{return"[Circular]"}default:return U}}),te=Q[Y];Y<G;te=Q[++Y])D(te)||!ie(te)?H+=" "+te:H+=" "+p(te);return H},e.deprecate=function(q,V){if(typeof process$1$1<"u"&&process$1$1.noDeprecation===!0)return q;if(typeof process$1$1>"u")return function(){return e.deprecate(q,V).apply(this,arguments)};var Y=!1;function Q(){if(!Y){if(process$1$1.throwDeprecation)throw new Error(V);process$1$1.traceDeprecation?console.trace(V):console.error(V),Y=!0}return q.apply(this,arguments)}return Q};var a={},o=/^$/;if(t.NODE_DEBUG){var u=t.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+u+"$","i")}e.debuglog=function(q){if(q=q.toUpperCase(),!a[q])if(o.test(q)){var V=process$1$1.pid;a[q]=function(){var Y=e.format.apply(e,arguments);console.error("%s %d: %s",q,V,Y)}}else a[q]=function(){};return a[q]};function p(q,V){var Y={seen:[],stylize:m};return arguments.length>=3&&(Y.depth=arguments[2]),arguments.length>=4&&(Y.colors=arguments[3]),N(V)?Y.showHidden=V:V&&e._extend(Y,V),oe(Y.showHidden)&&(Y.showHidden=!1),oe(Y.depth)&&(Y.depth=2),oe(Y.colors)&&(Y.colors=!1),oe(Y.customInspect)&&(Y.customInspect=!0),Y.colors&&(Y.stylize=b),A(Y,q,Y.depth)}e.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function b(q,V){var Y=p.styles[V];return Y?"\x1B["+p.colors[Y][0]+"m"+q+"\x1B["+p.colors[Y][1]+"m":q}function m(q,V){return q}function y(q){var V={};return q.forEach(function(Y,Q){V[Y]=!0}),V}function A(q,V,Y){if(q.customInspect&&V&&l(V.inspect)&&V.inspect!==e.inspect&&!(V.constructor&&V.constructor.prototype===V)){var Q=V.inspect(Y,q);return J(Q)||(Q=A(q,Q,Y)),Q}var G=I(q,V);if(G)return G;var H=Object.keys(V),te=y(H);if(q.showHidden&&(H=Object.getOwnPropertyNames(V)),d(V)&&(H.indexOf("message")>=0||H.indexOf("description")>=0))return M(V);if(H.length===0){if(l(V)){var W=V.name?": "+V.name:"";return q.stylize("[Function"+W+"]","special")}if(Z(V))return q.stylize(RegExp.prototype.toString.call(V),"regexp");if(s(V))return q.stylize(Date.prototype.toString.call(V),"date");if(d(V))return M(V)}var U="",j=!1,ee=["{","}"];if(k(V)&&(j=!0,ee=["[","]"]),l(V)){var X=V.name?": "+V.name:"";U=" [Function"+X+"]"}if(Z(V)&&(U=" "+RegExp.prototype.toString.call(V)),s(V)&&(U=" "+Date.prototype.toUTCString.call(V)),d(V)&&(U=" "+M(V)),H.length===0&&(!j||V.length==0))return ee[0]+U+ee[1];if(Y<0)return Z(V)?q.stylize(RegExp.prototype.toString.call(V),"regexp"):q.stylize("[Object]","special");q.seen.push(V);var ne;return j?ne=C(q,V,Y,te,H):ne=H.map(function(de){return P(q,V,Y,te,de,j)}),q.seen.pop(),B(ne,U,ee)}function I(q,V){if(oe(V))return q.stylize("undefined","undefined");if(J(V)){var Y="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(Y,"string")}if(K(V))return q.stylize(""+V,"number");if(N(V))return q.stylize(""+V,"boolean");if(D(V))return q.stylize("null","null")}function M(q){return"["+Error.prototype.toString.call(q)+"]"}function C(q,V,Y,Q,G){for(var H=[],te=0,W=V.length;te<W;++te)c(V,String(te))?H.push(P(q,V,Y,Q,String(te),!0)):H.push("");return G.forEach(function(U){U.match(/^\d+$/)||H.push(P(q,V,Y,Q,U,!0))}),H}function P(q,V,Y,Q,G,H){var te,W,U;if(U=Object.getOwnPropertyDescriptor(V,G)||{value:V[G]},U.get?U.set?W=q.stylize("[Getter/Setter]","special"):W=q.stylize("[Getter]","special"):U.set&&(W=q.stylize("[Setter]","special")),c(Q,G)||(te="["+G+"]"),W||(q.seen.indexOf(U.value)<0?(D(Y)?W=A(q,U.value,null):W=A(q,U.value,Y-1),W.indexOf(`
`)>-1&&(H?W=W.split(`
`).map(function(j){return"  "+j}).join(`
`).slice(2):W=`
`+W.split(`
`).map(function(j){return"   "+j}).join(`
`))):W=q.stylize("[Circular]","special")),oe(te)){if(H&&G.match(/^\d+$/))return W;te=JSON.stringify(""+G),te.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(te=te.slice(1,-1),te=q.stylize(te,"name")):(te=te.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),te=q.stylize(te,"string"))}return te+": "+W}function B(q,V,Y){var Q=q.reduce(function(G,H){return H.indexOf(`
`)>=0,G+H.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Q>60?Y[0]+(V===""?"":V+`
 `)+" "+q.join(`,
  `)+" "+Y[1]:Y[0]+V+" "+q.join(", ")+" "+Y[1]}e.types=types$6;function k(q){return Array.isArray(q)}e.isArray=k;function N(q){return typeof q=="boolean"}e.isBoolean=N;function D(q){return q===null}e.isNull=D;function L(q){return q==null}e.isNullOrUndefined=L;function K(q){return typeof q=="number"}e.isNumber=K;function J(q){return typeof q=="string"}e.isString=J;function ce(q){return typeof q=="symbol"}e.isSymbol=ce;function oe(q){return q===void 0}e.isUndefined=oe;function Z(q){return ie(q)&&S(q)==="[object RegExp]"}e.isRegExp=Z,e.types.isRegExp=Z;function ie(q){return typeof q=="object"&&q!==null}e.isObject=ie;function s(q){return ie(q)&&S(q)==="[object Date]"}e.isDate=s,e.types.isDate=s;function d(q){return ie(q)&&(S(q)==="[object Error]"||q instanceof Error)}e.isError=d,e.types.isNativeError=d;function l(q){return typeof q=="function"}e.isFunction=l;function v(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}e.isPrimitive=v,e.isBuffer=isBufferBrowser;function S(q){return Object.prototype.toString.call(q)}function O(q){return q<10?"0"+q.toString(10):q.toString(10)}var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(){var q=new Date,V=[O(q.getHours()),O(q.getMinutes()),O(q.getSeconds())].join(":");return[q.getDate(),T[q.getMonth()],V].join(" ")}e.log=function(){console.log("%s - %s",_(),e.format.apply(e,arguments))},e.inherits=inherits_browserExports,e._extend=function(q,V){if(!V||!ie(V))return q;for(var Y=Object.keys(V),Q=Y.length;Q--;)q[Y[Q]]=V[Y[Q]];return q};function c(q,V){return Object.prototype.hasOwnProperty.call(q,V)}var w=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');if(w&&q[w]){var V=q[w];if(typeof V!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(V,w,{value:V,enumerable:!1,writable:!1,configurable:!0}),V}function V(){for(var Y,Q,G=new Promise(function(W,U){Y=W,Q=U}),H=[],te=0;te<arguments.length;te++)H.push(arguments[te]);H.push(function(W,U){W?Q(W):Y(U)});try{q.apply(this,H)}catch(W){Q(W)}return G}return Object.setPrototypeOf(V,Object.getPrototypeOf(q)),w&&Object.defineProperty(V,w,{value:V,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(V,r(q))},e.promisify.custom=w;function x(q,V){if(!q){var Y=new Error("Promise was rejected with a falsy value");Y.reason=q,q=Y}return V(q)}function F(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');function V(){for(var Y=[],Q=0;Q<arguments.length;Q++)Y.push(arguments[Q]);var G=Y.pop();if(typeof G!="function")throw new TypeError("The last argument must be of type Function");var H=this,te=function(){return G.apply(H,arguments)};q.apply(this,Y).then(function(W){process$1$1.nextTick(te.bind(null,null,W))},function(W){process$1$1.nextTick(x.bind(null,W,te))})}return Object.setPrototypeOf(V,Object.getPrototypeOf(q)),Object.defineProperties(V,r(q)),V}e.callbackify=F})(util$2);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function e(C,P){var B=Object.keys(C);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(C);P&&(k=k.filter(function(N){return Object.getOwnPropertyDescriptor(C,N).enumerable})),B.push.apply(B,k)}return B}function t(C){for(var P=1;P<arguments.length;P++){var B=arguments[P]!=null?arguments[P]:{};P%2?e(Object(B),!0).forEach(function(k){r(C,k,B[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(B)):e(Object(B)).forEach(function(k){Object.defineProperty(C,k,Object.getOwnPropertyDescriptor(B,k))})}return C}function r(C,P,B){return P=u(P),P in C?Object.defineProperty(C,P,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[P]=B,C}function n(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}function a(C,P){for(var B=0;B<P.length;B++){var k=P[B];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,u(k.key),k)}}function o(C,P,B){return P&&a(C.prototype,P),Object.defineProperty(C,"prototype",{writable:!1}),C}function u(C){var P=p(C,"string");return typeof P=="symbol"?P:String(P)}function p(C,P){if(typeof C!="object"||C===null)return C;var B=C[Symbol.toPrimitive];if(B!==void 0){var k=B.call(C,P||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(C)}var b=require$$0$1,m=b.Buffer,y=util$2,A=y.inspect,I=A&&A.custom||"inspect";function M(C,P,B){m.prototype.copy.call(C,P,B)}return buffer_list=function(){function C(){n(this,C),this.head=null,this.tail=null,this.length=0}return o(C,[{key:"push",value:function(P){var B={data:P,next:null};this.length>0?this.tail.next=B:this.head=B,this.tail=B,++this.length}},{key:"unshift",value:function(P){var B={data:P,next:this.head};this.length===0&&(this.tail=B),this.head=B,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var B=this.head,k=""+B.data;B=B.next;)k+=P+B.data;return k}},{key:"concat",value:function(P){if(this.length===0)return m.alloc(0);for(var B=m.allocUnsafe(P>>>0),k=this.head,N=0;k;)M(k.data,B,N),N+=k.data.length,k=k.next;return B}},{key:"consume",value:function(P,B){var k;return P<this.head.data.length?(k=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?k=this.shift():k=B?this._getString(P):this._getBuffer(P),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var B=this.head,k=1,N=B.data;for(P-=N.length;B=B.next;){var D=B.data,L=P>D.length?D.length:P;if(L===D.length?N+=D:N+=D.slice(0,P),P-=L,P===0){L===D.length?(++k,B.next?this.head=B.next:this.head=this.tail=null):(this.head=B,B.data=D.slice(L));break}++k}return this.length-=k,N}},{key:"_getBuffer",value:function(P){var B=m.allocUnsafe(P),k=this.head,N=1;for(k.data.copy(B),P-=k.data.length;k=k.next;){var D=k.data,L=P>D.length?D.length:P;if(D.copy(B,B.length-P,0,L),P-=L,P===0){L===D.length?(++N,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=D.slice(L));break}++N}return this.length-=N,B}},{key:I,value:function(P,B){return A(this,t(t({},B),{},{depth:0,customInspect:!1}))}}]),C}(),buffer_list}function destroy(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1$1.nextTick(emitErrorNT,this,e)):process$1$1.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted?process$1$1.nextTick(emitCloseNT,r):(r._writableState.errorEmitted=!0,process$1$1.nextTick(emitErrorAndCloseNT,r,o)):process$1$1.nextTick(emitErrorAndCloseNT,r,o):t?(process$1$1.nextTick(emitCloseNT,r),t(o)):process$1$1.nextTick(emitCloseNT,r)}),this)}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var destroy_1$1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var codes={};function createErrorType(e,t,r){r||(r=Error);function n(o,u,p){return typeof t=="string"?t:t(o,u,p)}var a=function(o){_inheritsLoose(u,o);function u(p,b,m){return o.call(this,n(p,b,m))||this}return u}(r);a.prototype.name=r.name,a.prototype.code=e,codes[e]=a}function oneOf(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function startsWith(e,t,r){return e.substr(0,t.length)===t}function endsWith(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function includes(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),createErrorType("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&startsWith(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var a;if(endsWith(e," argument"))a="The ".concat(e," ").concat(n," ").concat(oneOf(t,"type"));else{var o=includes(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(oneOf(t,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function getHighWaterMark(e,t,r,n){var a=highWaterMarkFrom(t,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var o=n?r:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(o,a)}return Math.floor(a)}return e.objectMode?16:16*1024}var state={getHighWaterMark},browser$f=deprecate;function deprecate(e,t){if(config("noDeprecation"))return e;var r=!1;function n(){if(!r){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function config(e){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var t=commonjsGlobal.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=oe;function e(Q){var G=this;this.next=null,this.entry=null,this.finish=function(){Y(G,Q)}}var t;oe.WritableState=J;var r={deprecate:browser$f},n=streamBrowser$1,a=require$$0$1.Buffer,o=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(Q){return a.from(Q)}function p(Q){return a.isBuffer(Q)||Q instanceof o}var b=destroy_1$1,m=state,y=m.getHighWaterMark,A=errorsBrowser.codes,I=A.ERR_INVALID_ARG_TYPE,M=A.ERR_METHOD_NOT_IMPLEMENTED,C=A.ERR_MULTIPLE_CALLBACK,P=A.ERR_STREAM_CANNOT_PIPE,B=A.ERR_STREAM_DESTROYED,k=A.ERR_STREAM_NULL_VALUES,N=A.ERR_STREAM_WRITE_AFTER_END,D=A.ERR_UNKNOWN_ENCODING,L=b.errorOrDestroy;inherits_browserExports(oe,n);function K(){}function J(Q,G,H){t=t||require_stream_duplex$1(),Q=Q||{},typeof H!="boolean"&&(H=G instanceof t),this.objectMode=!!Q.objectMode,H&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=y(this,Q,"writableHighWaterMark",H),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=Q.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){O(G,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}J.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,G=[];Q;)G.push(Q),Q=Q.next;return G},function(){try{Object.defineProperty(J.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ce;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(oe,Symbol.hasInstance,{value:function(Q){return ce.call(this,Q)?!0:this!==oe?!1:Q&&Q._writableState instanceof J}})):ce=function(Q){return Q instanceof this};function oe(Q){t=t||require_stream_duplex$1();var G=this instanceof t;if(!G&&!ce.call(oe,this))return new oe(Q);this._writableState=new J(Q,this,G),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),n.call(this)}oe.prototype.pipe=function(){L(this,new P)};function Z(Q,G){var H=new N;L(Q,H),process$1$1.nextTick(G,H)}function ie(Q,G,H,te){var W;return H===null?W=new k:typeof H!="string"&&!G.objectMode&&(W=new I("chunk",["string","Buffer"],H)),W?(L(Q,W),process$1$1.nextTick(te,W),!1):!0}oe.prototype.write=function(Q,G,H){var te=this._writableState,W=!1,U=!te.objectMode&&p(Q);return U&&!a.isBuffer(Q)&&(Q=u(Q)),typeof G=="function"&&(H=G,G=null),U?G="buffer":G||(G=te.defaultEncoding),typeof H!="function"&&(H=K),te.ending?Z(this,H):(U||ie(this,te,Q,H))&&(te.pendingcb++,W=d(this,te,U,Q,G,H)),W},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&c(this,Q))},oe.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new D(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(oe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function s(Q,G,H){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof G=="string"&&(G=a.from(G,H)),G}Object.defineProperty(oe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function d(Q,G,H,te,W,U){if(!H){var j=s(G,te,W);te!==j&&(H=!0,W="buffer",te=j)}var ee=G.objectMode?1:te.length;G.length+=ee;var X=G.length<G.highWaterMark;if(X||(G.needDrain=!0),G.writing||G.corked){var ne=G.lastBufferedRequest;G.lastBufferedRequest={chunk:te,encoding:W,isBuf:H,callback:U,next:null},ne?ne.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1}else l(Q,G,!1,ee,te,W,U);return X}function l(Q,G,H,te,W,U,j){G.writelen=te,G.writecb=j,G.writing=!0,G.sync=!0,G.destroyed?G.onwrite(new B("write")):H?Q._writev(W,G.onwrite):Q._write(W,U,G.onwrite),G.sync=!1}function v(Q,G,H,te,W){--G.pendingcb,H?(process$1$1.nextTick(W,te),process$1$1.nextTick(q,Q,G),Q._writableState.errorEmitted=!0,L(Q,te)):(W(te),Q._writableState.errorEmitted=!0,L(Q,te),q(Q,G))}function S(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function O(Q,G){var H=Q._writableState,te=H.sync,W=H.writecb;if(typeof W!="function")throw new C;if(S(H),G)v(Q,H,te,G,W);else{var U=w(H)||Q.destroyed;!U&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&c(Q,H),te?process$1$1.nextTick(T,Q,H,U,W):T(Q,H,U,W)}}function T(Q,G,H,te){H||_(Q,G),G.pendingcb--,te(),q(Q,G)}function _(Q,G){G.length===0&&G.needDrain&&(G.needDrain=!1,Q.emit("drain"))}function c(Q,G){G.bufferProcessing=!0;var H=G.bufferedRequest;if(Q._writev&&H&&H.next){var te=G.bufferedRequestCount,W=new Array(te),U=G.corkedRequestsFree;U.entry=H;for(var j=0,ee=!0;H;)W[j]=H,H.isBuf||(ee=!1),H=H.next,j+=1;W.allBuffers=ee,l(Q,G,!0,G.length,W,"",U.finish),G.pendingcb++,G.lastBufferedRequest=null,U.next?(G.corkedRequestsFree=U.next,U.next=null):G.corkedRequestsFree=new e(G),G.bufferedRequestCount=0}else{for(;H;){var X=H.chunk,ne=H.encoding,de=H.callback,re=G.objectMode?1:X.length;if(l(Q,G,!1,re,X,ne,de),H=H.next,G.bufferedRequestCount--,G.writing)break}H===null&&(G.lastBufferedRequest=null)}G.bufferedRequest=H,G.bufferProcessing=!1}oe.prototype._write=function(Q,G,H){H(new M("_write()"))},oe.prototype._writev=null,oe.prototype.end=function(Q,G,H){var te=this._writableState;return typeof Q=="function"?(H=Q,Q=null,G=null):typeof G=="function"&&(H=G,G=null),Q!=null&&this.write(Q,G),te.corked&&(te.corked=1,this.uncork()),te.ending||V(this,te,H),this},Object.defineProperty(oe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function x(Q,G){Q._final(function(H){G.pendingcb--,H&&L(Q,H),G.prefinished=!0,Q.emit("prefinish"),q(Q,G)})}function F(Q,G){!G.prefinished&&!G.finalCalled&&(typeof Q._final=="function"&&!G.destroyed?(G.pendingcb++,G.finalCalled=!0,process$1$1.nextTick(x,Q,G)):(G.prefinished=!0,Q.emit("prefinish")))}function q(Q,G){var H=w(G);if(H&&(F(Q,G),G.pendingcb===0&&(G.finished=!0,Q.emit("finish"),G.autoDestroy))){var te=Q._readableState;(!te||te.autoDestroy&&te.endEmitted)&&Q.destroy()}return H}function V(Q,G,H){G.ending=!0,q(Q,G),H&&(G.finished?process$1$1.nextTick(H):Q.once("finish",H)),G.ended=!0,Q.writable=!1}function Y(Q,G,H){var te=Q.entry;for(Q.entry=null;te;){var W=te.callback;G.pendingcb--,W(H),te=te.next}G.corkedRequestsFree.next=Q}return Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),oe.prototype.destroy=b.destroy,oe.prototype._undestroy=b.undestroy,oe.prototype._destroy=function(Q,G){G(Q)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var e=Object.keys||function(m){var y=[];for(var A in m)y.push(A);return y};_stream_duplex$1=u;var t=require_stream_readable$1(),r=require_stream_writable$1();inherits_browserExports(u,t);for(var n=e(r.prototype),a=0;a<n.length;a++){var o=n[a];u.prototype[o]||(u.prototype[o]=r.prototype[o])}function u(m){if(!(this instanceof u))return new u(m);t.call(this,m),r.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function p(){this._writableState.ended||process$1$1.nextTick(b,this)}function b(m){m.end()}return Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var e=safeBufferExports.Buffer,t=e.isEncoding||function(k){switch(k=""+k,k&&k.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(k){if(!k)return"utf8";for(var N;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(N)return;k=(""+k).toLowerCase(),N=!0}}function n(k){var N=r(k);if(typeof N!="string"&&(e.isEncoding===t||!t(k)))throw new Error("Unknown encoding: "+k);return N||k}string_decoder.StringDecoder=a;function a(k){this.encoding=n(k);var N;switch(this.encoding){case"utf16le":this.text=A,this.end=I,N=4;break;case"utf8":this.fillLast=b,N=4;break;case"base64":this.text=M,this.end=C,N=3;break;default:this.write=P,this.end=B;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(N)}a.prototype.write=function(k){if(k.length===0)return"";var N,D;if(this.lastNeed){if(N=this.fillLast(k),N===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<k.length?N?N+this.text(k,D):this.text(k,D):N||""},a.prototype.end=y,a.prototype.text=m,a.prototype.fillLast=function(k){if(this.lastNeed<=k.length)return k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,k.length),this.lastNeed-=k.length};function o(k){return k<=127?0:k>>5===6?2:k>>4===14?3:k>>3===30?4:k>>6===2?-1:-2}function u(k,N,D){var L=N.length-1;if(L<D)return 0;var K=o(N[L]);return K>=0?(K>0&&(k.lastNeed=K-1),K):--L<D||K===-2?0:(K=o(N[L]),K>=0?(K>0&&(k.lastNeed=K-2),K):--L<D||K===-2?0:(K=o(N[L]),K>=0?(K>0&&(K===2?K=0:k.lastNeed=K-3),K):0))}function p(k,N,D){if((N[0]&192)!==128)return k.lastNeed=0,"\uFFFD";if(k.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return k.lastNeed=1,"\uFFFD";if(k.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return k.lastNeed=2,"\uFFFD"}}function b(k){var N=this.lastTotal-this.lastNeed,D=p(this,k);if(D!==void 0)return D;if(this.lastNeed<=k.length)return k.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,N,0,k.length),this.lastNeed-=k.length}function m(k,N){var D=u(this,k,N);if(!this.lastNeed)return k.toString("utf8",N);this.lastTotal=D;var L=k.length-(D-this.lastNeed);return k.copy(this.lastChar,0,L),k.toString("utf8",N,L)}function y(k){var N=k&&k.length?this.write(k):"";return this.lastNeed?N+"\uFFFD":N}function A(k,N){if((k.length-N)%2===0){var D=k.toString("utf16le",N);if(D){var L=D.charCodeAt(D.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=k[k.length-1],k.toString("utf16le",N,k.length-1)}function I(k){var N=k&&k.length?this.write(k):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,D)}return N}function M(k,N){var D=(k.length-N)%3;return D===0?k.toString("base64",N):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=k[k.length-1]:(this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1]),k.toString("base64",N,k.length-D))}function C(k){var N=k&&k.length?this.write(k):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function P(k){return k.toString(this.encoding)}function B(k){return k&&k.length?this.write(k):""}return string_decoder}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n)}}}function noop$1(){}function isRequest$1(e){return e.setHeader&&typeof e.abort=="function"}function eos$1(e,t,r){if(typeof t=="function")return eos$1(e,null,t);t||(t={}),r=once$1(r||noop$1);var n=t.readable||t.readable!==!1&&e.readable,a=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||p()},u=e._writableState&&e._writableState.finished,p=function(){a=!1,u=!0,n||r.call(e)},b=e._readableState&&e._readableState.endEmitted,m=function(){n=!1,b=!0,a||r.call(e)},y=function(M){r.call(e,M)},A=function(){var M;if(n&&!b)return(!e._readableState||!e._readableState.ended)&&(M=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,M);if(a&&!u)return(!e._writableState||!e._writableState.ended)&&(M=new ERR_STREAM_PREMATURE_CLOSE),r.call(e,M)},I=function(){e.req.on("finish",p)};return isRequest$1(e)?(e.on("complete",p),e.on("abort",A),e.req?I():e.on("request",I)):a&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",m),e.on("finish",p),t.error!==!1&&e.on("error",y),e.on("close",A),function(){e.removeListener("complete",p),e.removeListener("abort",A),e.removeListener("request",I),e.req&&e.req.removeListener("finish",p),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",p),e.removeListener("end",m),e.removeListener("error",y),e.removeListener("close",A)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var e;function t(D,L,K){return L=r(L),L in D?Object.defineProperty(D,L,{value:K,enumerable:!0,configurable:!0,writable:!0}):D[L]=K,D}function r(D){var L=n(D,"string");return typeof L=="symbol"?L:String(L)}function n(D,L){if(typeof D!="object"||D===null)return D;var K=D[Symbol.toPrimitive];if(K!==void 0){var J=K.call(D,L||"default");if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(D)}var a=endOfStream,o=Symbol("lastResolve"),u=Symbol("lastReject"),p=Symbol("error"),b=Symbol("ended"),m=Symbol("lastPromise"),y=Symbol("handlePromise"),A=Symbol("stream");function I(D,L){return{value:D,done:L}}function M(D){var L=D[o];if(L!==null){var K=D[A].read();K!==null&&(D[m]=null,D[o]=null,D[u]=null,L(I(K,!1)))}}function C(D){process$1$1.nextTick(M,D)}function P(D,L){return function(K,J){D.then(function(){if(L[b]){K(I(void 0,!0));return}L[y](K,J)},J)}}var B=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((e={get stream(){return this[A]},next:function(){var D=this,L=this[p];if(L!==null)return Promise.reject(L);if(this[b])return Promise.resolve(I(void 0,!0));if(this[A].destroyed)return new Promise(function(oe,Z){process$1$1.nextTick(function(){D[p]?Z(D[p]):oe(I(void 0,!0))})});var K=this[m],J;if(K)J=new Promise(P(K,this));else{var ce=this[A].read();if(ce!==null)return Promise.resolve(I(ce,!1));J=new Promise(this[y])}return this[m]=J,J}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var D=this;return new Promise(function(L,K){D[A].destroy(null,function(J){if(J){K(J);return}L(I(void 0,!0))})})}),e),B),N=function(D){var L,K=Object.create(k,(L={},t(L,A,{value:D,writable:!0}),t(L,o,{value:null,writable:!0}),t(L,u,{value:null,writable:!0}),t(L,p,{value:null,writable:!0}),t(L,b,{value:D._readableState.endEmitted,writable:!0}),t(L,y,{value:function(J,ce){var oe=K[A].read();oe?(K[m]=null,K[o]=null,K[u]=null,J(I(oe,!1))):(K[o]=J,K[u]=ce)},writable:!0}),L));return K[m]=null,a(D,function(J){if(J&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ce=K[u];ce!==null&&(K[m]=null,K[o]=null,K[u]=null,ce(J)),K[p]=J;return}var oe=K[o];oe!==null&&(K[m]=null,K[o]=null,K[u]=null,oe(I(void 0,!0))),K[b]=!0}),D.on("readable",C.bind(null,K)),K};return async_iterator=N,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Z;var e;Z.ReadableState=oe,eventsExports.EventEmitter;var t=function(U,j){return U.listeners(j).length},r=streamBrowser$1,n=require$$0$1.Buffer,a=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(U){return n.from(U)}function u(U){return n.isBuffer(U)||U instanceof a}var p=util$2,b;p&&p.debuglog?b=p.debuglog("stream"):b=function(){};var m=requireBuffer_list(),y=destroy_1$1,A=state,I=A.getHighWaterMark,M=errorsBrowser.codes,C=M.ERR_INVALID_ARG_TYPE,P=M.ERR_STREAM_PUSH_AFTER_EOF,B=M.ERR_METHOD_NOT_IMPLEMENTED,k=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,D,L;inherits_browserExports(Z,r);var K=y.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ce(U,j,ee){if(typeof U.prependListener=="function")return U.prependListener(j,ee);!U._events||!U._events[j]?U.on(j,ee):Array.isArray(U._events[j])?U._events[j].unshift(ee):U._events[j]=[ee,U._events[j]]}function oe(U,j,ee){e=e||require_stream_duplex$1(),U=U||{},typeof ee!="boolean"&&(ee=j instanceof e),this.objectMode=!!U.objectMode,ee&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=I(this,U,"readableHighWaterMark",ee),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(N||(N=requireString_decoder().StringDecoder),this.decoder=new N(U.encoding),this.encoding=U.encoding)}function Z(U){if(e=e||require_stream_duplex$1(),!(this instanceof Z))return new Z(U);var j=this instanceof e;this._readableState=new oe(U,this,j),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),r.call(this)}Object.defineProperty(Z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),Z.prototype.destroy=y.destroy,Z.prototype._undestroy=y.undestroy,Z.prototype._destroy=function(U,j){j(U)},Z.prototype.push=function(U,j){var ee=this._readableState,X;return ee.objectMode?X=!0:typeof U=="string"&&(j=j||ee.defaultEncoding,j!==ee.encoding&&(U=n.from(U,j),j=""),X=!0),ie(this,U,j,!1,X)},Z.prototype.unshift=function(U){return ie(this,U,null,!0,!1)};function ie(U,j,ee,X,ne){b("readableAddChunk",j);var de=U._readableState;if(j===null)de.reading=!1,O(U,de);else{var re;if(ne||(re=d(de,j)),re)K(U,re);else if(de.objectMode||j&&j.length>0)if(typeof j!="string"&&!de.objectMode&&Object.getPrototypeOf(j)!==n.prototype&&(j=o(j)),X)de.endEmitted?K(U,new k):s(U,de,j,!0);else if(de.ended)K(U,new P);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!ee?(j=de.decoder.write(j),de.objectMode||j.length!==0?s(U,de,j,!1):c(U,de)):s(U,de,j,!1)}else X||(de.reading=!1,c(U,de))}return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function s(U,j,ee,X){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,U.emit("data",ee)):(j.length+=j.objectMode?1:ee.length,X?j.buffer.unshift(ee):j.buffer.push(ee),j.needReadable&&T(U)),c(U,j)}function d(U,j){var ee;return!u(j)&&typeof j!="string"&&j!==void 0&&!U.objectMode&&(ee=new C("chunk",["string","Buffer","Uint8Array"],j)),ee}Z.prototype.isPaused=function(){return this._readableState.flowing===!1},Z.prototype.setEncoding=function(U){N||(N=requireString_decoder().StringDecoder);var j=new N(U);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var ee=this._readableState.buffer.head,X="";ee!==null;)X+=j.write(ee.data),ee=ee.next;return this._readableState.buffer.clear(),X!==""&&this._readableState.buffer.push(X),this._readableState.length=X.length,this};var l=1073741824;function v(U){return U>=l?U=l:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function S(U,j){return U<=0||j.length===0&&j.ended?0:j.objectMode?1:U!==U?j.flowing&&j.length?j.buffer.head.data.length:j.length:(U>j.highWaterMark&&(j.highWaterMark=v(U)),U<=j.length?U:j.ended?j.length:(j.needReadable=!0,0))}Z.prototype.read=function(U){b("read",U),U=parseInt(U,10);var j=this._readableState,ee=U;if(U!==0&&(j.emittedReadable=!1),U===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return b("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?H(this):T(this),null;if(U=S(U,j),U===0&&j.ended)return j.length===0&&H(this),null;var X=j.needReadable;b("need readable",X),(j.length===0||j.length-U<j.highWaterMark)&&(X=!0,b("length less than watermark",X)),j.ended||j.reading?(X=!1,b("reading or ended",X)):X&&(b("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(U=S(ee,j)));var ne;return U>0?ne=G(U,j):ne=null,ne===null?(j.needReadable=j.length<=j.highWaterMark,U=0):(j.length-=U,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),ee!==U&&j.ended&&H(this)),ne!==null&&this.emit("data",ne),ne};function O(U,j){if(b("onEofChunk"),!j.ended){if(j.decoder){var ee=j.decoder.end();ee&&ee.length&&(j.buffer.push(ee),j.length+=j.objectMode?1:ee.length)}j.ended=!0,j.sync?T(U):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,_(U)))}}function T(U){var j=U._readableState;b("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(b("emitReadable",j.flowing),j.emittedReadable=!0,process$1$1.nextTick(_,U))}function _(U){var j=U._readableState;b("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(U.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,Q(U)}function c(U,j){j.readingMore||(j.readingMore=!0,process$1$1.nextTick(w,U,j))}function w(U,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var ee=j.length;if(b("maybeReadMore read 0"),U.read(0),ee===j.length)break}j.readingMore=!1}Z.prototype._read=function(U){K(this,new B("_read()"))},Z.prototype.pipe=function(U,j){var ee=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=U;break;case 1:X.pipes=[X.pipes,U];break;default:X.pipes.push(U);break}X.pipesCount+=1,b("pipe count=%d opts=%j",X.pipesCount,j);var ne=(!j||j.end!==!1)&&U!==process$1$1.stdout&&U!==process$1$1.stderr,de=ne?ae:me;X.endEmitted?process$1$1.nextTick(de):ee.once("end",de),U.on("unpipe",re);function re(pe,Ue){b("onunpipe"),pe===ee&&Ue&&Ue.hasUnpiped===!1&&(Ue.hasUnpiped=!0,le())}function ae(){b("onend"),U.end()}var ue=x(ee);U.on("drain",ue);var se=!1;function le(){b("cleanup"),U.removeListener("close",fe),U.removeListener("finish",Fe),U.removeListener("drain",ue),U.removeListener("error",he),U.removeListener("unpipe",re),ee.removeListener("end",ae),ee.removeListener("end",me),ee.removeListener("data",Re),se=!0,X.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&ue()}ee.on("data",Re);function Re(pe){b("ondata");var Ue=U.write(pe);b("dest.write",Ue),Ue===!1&&((X.pipesCount===1&&X.pipes===U||X.pipesCount>1&&W(X.pipes,U)!==-1)&&!se&&(b("false write response, pause",X.awaitDrain),X.awaitDrain++),ee.pause())}function he(pe){b("onerror",pe),me(),U.removeListener("error",he),t(U,"error")===0&&K(U,pe)}ce(U,"error",he);function fe(){U.removeListener("finish",Fe),me()}U.once("close",fe);function Fe(){b("onfinish"),U.removeListener("close",fe),me()}U.once("finish",Fe);function me(){b("unpipe"),ee.unpipe(U)}return U.emit("pipe",ee),X.flowing||(b("pipe resume"),ee.resume()),U};function x(U){return function(){var j=U._readableState;b("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&t(U,"data")&&(j.flowing=!0,Q(U))}}Z.prototype.unpipe=function(U){var j=this._readableState,ee={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return U&&U!==j.pipes?this:(U||(U=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,U&&U.emit("unpipe",this,ee),this);if(!U){var X=j.pipes,ne=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var de=0;de<ne;de++)X[de].emit("unpipe",this,{hasUnpiped:!1});return this}var re=W(j.pipes,U);return re===-1?this:(j.pipes.splice(re,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),U.emit("unpipe",this,ee),this)},Z.prototype.on=function(U,j){var ee=r.prototype.on.call(this,U,j),X=this._readableState;return U==="data"?(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1&&this.resume()):U==="readable"&&!X.endEmitted&&!X.readableListening&&(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,b("on readable",X.length,X.reading),X.length?T(this):X.reading||process$1$1.nextTick(q,this)),ee},Z.prototype.addListener=Z.prototype.on,Z.prototype.removeListener=function(U,j){var ee=r.prototype.removeListener.call(this,U,j);return U==="readable"&&process$1$1.nextTick(F,this),ee},Z.prototype.removeAllListeners=function(U){var j=r.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&process$1$1.nextTick(F,this),j};function F(U){var j=U._readableState;j.readableListening=U.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:U.listenerCount("data")>0&&U.resume()}function q(U){b("readable nexttick read 0"),U.read(0)}Z.prototype.resume=function(){var U=this._readableState;return U.flowing||(b("resume"),U.flowing=!U.readableListening,V(this,U)),U.paused=!1,this};function V(U,j){j.resumeScheduled||(j.resumeScheduled=!0,process$1$1.nextTick(Y,U,j))}function Y(U,j){b("resume",j.reading),j.reading||U.read(0),j.resumeScheduled=!1,U.emit("resume"),Q(U),j.flowing&&!j.reading&&U.read(0)}Z.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Q(U){var j=U._readableState;for(b("flow",j.flowing);j.flowing&&U.read()!==null;);}Z.prototype.wrap=function(U){var j=this,ee=this._readableState,X=!1;U.on("end",function(){if(b("wrapped end"),ee.decoder&&!ee.ended){var re=ee.decoder.end();re&&re.length&&j.push(re)}j.push(null)}),U.on("data",function(re){if(b("wrapped data"),ee.decoder&&(re=ee.decoder.write(re)),!(ee.objectMode&&re==null)&&!(!ee.objectMode&&(!re||!re.length))){var ae=j.push(re);ae||(X=!0,U.pause())}});for(var ne in U)this[ne]===void 0&&typeof U[ne]=="function"&&(this[ne]=function(re){return function(){return U[re].apply(U,arguments)}}(ne));for(var de=0;de<J.length;de++)U.on(J[de],this.emit.bind(this,J[de]));return this._read=function(re){b("wrapped _read",re),X&&(X=!1,U.resume())},this},typeof Symbol=="function"&&(Z.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=requireAsync_iterator()),D(this)}),Object.defineProperty(Z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),Z._fromList=G,Object.defineProperty(Z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function G(U,j){if(j.length===0)return null;var ee;return j.objectMode?ee=j.buffer.shift():!U||U>=j.length?(j.decoder?ee=j.buffer.join(""):j.buffer.length===1?ee=j.buffer.first():ee=j.buffer.concat(j.length),j.buffer.clear()):ee=j.buffer.consume(U,j.decoder),ee}function H(U){var j=U._readableState;b("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,process$1$1.nextTick(te,j,U))}function te(U,j){if(b("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,j.readable=!1,j.emit("end"),U.autoDestroy)){var ee=j._writableState;(!ee||ee.autoDestroy&&ee.finished)&&j.destroy()}}typeof Symbol=="function"&&(Z.from=function(U,j){return L===void 0&&(L=requireFromBrowser()),L(Z,U,j)});function W(U,j){for(var ee=0,X=U.length;ee<X;ee++)if(U[ee]===j)return ee;return-1}return _stream_readable$1}var _stream_transform$1=Transform$3,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED$1=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex$1();inherits_browserExports(Transform$3,Duplex);function afterTransform(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Transform$3(e){if(!(this instanceof Transform$3))return new Transform$3(e);Duplex.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){done(e,t,r)}):done(this,null,null)}Transform$3.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)},Transform$3.prototype._transform=function(e,t,r){r(new ERR_METHOD_NOT_IMPLEMENTED$1("_transform()"))},Transform$3.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},Transform$3.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform$3.prototype._destroy=function(e,t){Duplex.prototype._destroy.call(this,e,function(r){t(r)})};function done(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(e._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return e.push(null)}var _stream_passthrough$1=PassThrough,Transform$2=_stream_transform$1;inherits_browserExports(PassThrough,Transform$2);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform$2.call(this,e)}PassThrough.prototype._transform=function(e,t,r){r(null,e)};var eos;function once(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&typeof e.abort=="function"}function destroyer(e,t,r,n){n=once(n);var a=!1;e.on("close",function(){a=!0}),eos===void 0&&(eos=endOfStream),eos(e,{readable:t,writable:r},function(u){if(u)return n(u);a=!0,n()});var o=!1;return function(u){if(!a&&!o){if(o=!0,isRequest(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(u||new ERR_STREAM_DESTROYED("pipe"))}}}function call$2(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){return!e.length||typeof e[e.length-1]!="function"?noop:e.pop()}function pipeline(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=popCallback(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ERR_MISSING_ARGS("streams");var a,o=t.map(function(u,p){var b=p<t.length-1,m=p>0;return destroyer(u,b,m,function(y){a||(a=y),y&&o.forEach(call$2),!b&&(o.forEach(call$2),n(a))})});return t.reduce(pipe)}var pipeline_1=pipeline,streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=r;var e=eventsExports.EventEmitter,t=inherits_browserExports;t(r,e),r.Readable=require_stream_readable$1(),r.Writable=require_stream_writable$1(),r.Duplex=require_stream_duplex$1(),r.Transform=_stream_transform$1,r.PassThrough=_stream_passthrough$1,r.finished=endOfStream,r.pipeline=pipeline_1,r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,a){var o=this;function u(M){n.writable&&n.write(M)===!1&&o.pause&&o.pause()}o.on("data",u);function p(){o.readable&&o.resume&&o.resume()}n.on("drain",p),!n._isStdio&&(!a||a.end!==!1)&&(o.on("end",m),o.on("close",y));var b=!1;function m(){b||(b=!0,n.end())}function y(){b||(b=!0,typeof n.destroy=="function"&&n.destroy())}function A(M){if(I(),e.listenerCount(this,"error")===0)throw M}o.on("error",A),n.on("error",A);function I(){o.removeListener("data",u),n.removeListener("drain",p),o.removeListener("end",m),o.removeListener("close",y),o.removeListener("error",A),n.removeListener("error",A),o.removeListener("end",I),o.removeListener("close",I),n.removeListener("close",I)}return o.on("end",I),o.on("close",I),n.on("close",I),n.emit("pipe",o),n},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var e=safeBufferExports.Buffer,t=requireStreamBrowserify().Transform,r=inherits_browserExports;function n(o,u){if(!e.isBuffer(o)&&typeof o!="string")throw new TypeError(u+" must be a string or a buffer")}function a(o){t.call(this),this._block=e.allocUnsafe(o),this._blockSize=o,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return r(a,t),a.prototype._transform=function(o,u,p){var b=null;try{this.update(o,u)}catch(m){b=m}p(b)},a.prototype._flush=function(o){var u=null;try{this.push(this.digest())}catch(p){u=p}o(u)},a.prototype.update=function(o,u){if(n(o,"Data"),this._finalized)throw new Error("Digest already called");e.isBuffer(o)||(o=e.from(o,u));for(var p=this._block,b=0;this._blockOffset+o.length-b>=this._blockSize;){for(var m=this._blockOffset;m<this._blockSize;)p[m++]=o[b++];this._update(),this._blockOffset=0}for(;b<o.length;)p[this._blockOffset++]=o[b++];for(var y=0,A=o.length*8;A>0;++y)this._length[y]+=A,A=this._length[y]/4294967296|0,A>0&&(this._length[y]-=4294967296*A);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(o){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();o!==void 0&&(u=u.toString(o)),this._block.fill(0),this._blockOffset=0;for(var p=0;p<4;++p)this._length[p]=0;return u},a.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=a,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var e=inherits_browserExports,t=requireHashBase(),r=safeBufferExports.Buffer,n=new Array(16);function a(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}e(a,t),a.prototype._update=function(){for(var y=n,A=0;A<16;++A)y[A]=this._block.readInt32LE(A*4);var I=this._a,M=this._b,C=this._c,P=this._d;I=u(I,M,C,P,y[0],3614090360,7),P=u(P,I,M,C,y[1],3905402710,12),C=u(C,P,I,M,y[2],606105819,17),M=u(M,C,P,I,y[3],3250441966,22),I=u(I,M,C,P,y[4],4118548399,7),P=u(P,I,M,C,y[5],1200080426,12),C=u(C,P,I,M,y[6],2821735955,17),M=u(M,C,P,I,y[7],4249261313,22),I=u(I,M,C,P,y[8],1770035416,7),P=u(P,I,M,C,y[9],2336552879,12),C=u(C,P,I,M,y[10],4294925233,17),M=u(M,C,P,I,y[11],2304563134,22),I=u(I,M,C,P,y[12],1804603682,7),P=u(P,I,M,C,y[13],4254626195,12),C=u(C,P,I,M,y[14],2792965006,17),M=u(M,C,P,I,y[15],1236535329,22),I=p(I,M,C,P,y[1],4129170786,5),P=p(P,I,M,C,y[6],3225465664,9),C=p(C,P,I,M,y[11],643717713,14),M=p(M,C,P,I,y[0],3921069994,20),I=p(I,M,C,P,y[5],3593408605,5),P=p(P,I,M,C,y[10],38016083,9),C=p(C,P,I,M,y[15],3634488961,14),M=p(M,C,P,I,y[4],3889429448,20),I=p(I,M,C,P,y[9],568446438,5),P=p(P,I,M,C,y[14],3275163606,9),C=p(C,P,I,M,y[3],4107603335,14),M=p(M,C,P,I,y[8],1163531501,20),I=p(I,M,C,P,y[13],2850285829,5),P=p(P,I,M,C,y[2],4243563512,9),C=p(C,P,I,M,y[7],1735328473,14),M=p(M,C,P,I,y[12],2368359562,20),I=b(I,M,C,P,y[5],4294588738,4),P=b(P,I,M,C,y[8],2272392833,11),C=b(C,P,I,M,y[11],1839030562,16),M=b(M,C,P,I,y[14],4259657740,23),I=b(I,M,C,P,y[1],2763975236,4),P=b(P,I,M,C,y[4],1272893353,11),C=b(C,P,I,M,y[7],4139469664,16),M=b(M,C,P,I,y[10],3200236656,23),I=b(I,M,C,P,y[13],681279174,4),P=b(P,I,M,C,y[0],3936430074,11),C=b(C,P,I,M,y[3],3572445317,16),M=b(M,C,P,I,y[6],76029189,23),I=b(I,M,C,P,y[9],3654602809,4),P=b(P,I,M,C,y[12],3873151461,11),C=b(C,P,I,M,y[15],530742520,16),M=b(M,C,P,I,y[2],3299628645,23),I=m(I,M,C,P,y[0],4096336452,6),P=m(P,I,M,C,y[7],1126891415,10),C=m(C,P,I,M,y[14],2878612391,15),M=m(M,C,P,I,y[5],4237533241,21),I=m(I,M,C,P,y[12],1700485571,6),P=m(P,I,M,C,y[3],2399980690,10),C=m(C,P,I,M,y[10],4293915773,15),M=m(M,C,P,I,y[1],2240044497,21),I=m(I,M,C,P,y[8],1873313359,6),P=m(P,I,M,C,y[15],4264355552,10),C=m(C,P,I,M,y[6],2734768916,15),M=m(M,C,P,I,y[13],1309151649,21),I=m(I,M,C,P,y[4],4149444226,6),P=m(P,I,M,C,y[11],3174756917,10),C=m(C,P,I,M,y[2],718787259,15),M=m(M,C,P,I,y[9],3951481745,21),this._a=this._a+I|0,this._b=this._b+M|0,this._c=this._c+C|0,this._d=this._d+P|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=r.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y};function o(y,A){return y<<A|y>>>32-A}function u(y,A,I,M,C,P,B){return o(y+(A&I|~A&M)+C+P|0,B)+A|0}function p(y,A,I,M,C,P,B){return o(y+(A&M|I&~M)+C+P|0,B)+A|0}function b(y,A,I,M,C,P,B){return o(y+(A^I^M)+C+P|0,B)+A|0}function m(y,A,I,M,C,P,B){return o(y+(I^(A|~M))+C+P|0,B)+A|0}return md5_js=a,md5_js}var ripemd160$1,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160$1;hasRequiredRipemd160=1;var e=require$$0$1.Buffer,t=inherits_browserExports,r=requireHashBase(),n=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],o=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],b=[0,1518500249,1859775393,2400959708,2840853838],m=[1352829926,1548603684,1836072691,2053994217,0];function y(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}t(y,r),y.prototype._update=function(){for(var k=n,N=0;N<16;++N)k[N]=this._block.readInt32LE(N*4);for(var D=this._a|0,L=this._b|0,K=this._c|0,J=this._d|0,ce=this._e|0,oe=this._a|0,Z=this._b|0,ie=this._c|0,s=this._d|0,d=this._e|0,l=0;l<80;l+=1){var v,S;l<16?(v=I(D,L,K,J,ce,k[a[l]],b[0],u[l]),S=B(oe,Z,ie,s,d,k[o[l]],m[0],p[l])):l<32?(v=M(D,L,K,J,ce,k[a[l]],b[1],u[l]),S=P(oe,Z,ie,s,d,k[o[l]],m[1],p[l])):l<48?(v=C(D,L,K,J,ce,k[a[l]],b[2],u[l]),S=C(oe,Z,ie,s,d,k[o[l]],m[2],p[l])):l<64?(v=P(D,L,K,J,ce,k[a[l]],b[3],u[l]),S=M(oe,Z,ie,s,d,k[o[l]],m[3],p[l])):(v=B(D,L,K,J,ce,k[a[l]],b[4],u[l]),S=I(oe,Z,ie,s,d,k[o[l]],m[4],p[l])),D=ce,ce=J,J=A(K,10),K=L,L=v,oe=d,d=s,s=A(ie,10),ie=Z,Z=S}var O=this._b+K+s|0;this._b=this._c+J+d|0,this._c=this._d+ce+oe|0,this._d=this._e+D+Z|0,this._e=this._a+L+ie|0,this._a=O},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var k=e.alloc?e.alloc(20):new e(20);return k.writeInt32LE(this._a,0),k.writeInt32LE(this._b,4),k.writeInt32LE(this._c,8),k.writeInt32LE(this._d,12),k.writeInt32LE(this._e,16),k};function A(k,N){return k<<N|k>>>32-N}function I(k,N,D,L,K,J,ce,oe){return A(k+(N^D^L)+J+ce|0,oe)+K|0}function M(k,N,D,L,K,J,ce,oe){return A(k+(N&D|~N&L)+J+ce|0,oe)+K|0}function C(k,N,D,L,K,J,ce,oe){return A(k+((N|~D)^L)+J+ce|0,oe)+K|0}function P(k,N,D,L,K,J,ce,oe){return A(k+(N&L|D&~L)+J+ce|0,oe)+K|0}function B(k,N,D,L,K,J,ce,oe){return A(k+(N^(D|~L))+J+ce|0,oe)+K|0}return ripemd160$1=y,ripemd160$1}var sha_js={exports:{}},hash$5,hasRequiredHash;function requireHash(){if(hasRequiredHash)return hash$5;hasRequiredHash=1;var e=safeBufferExports.Buffer;function t(r,n){this._block=e.alloc(r),this._finalSize=n,this._blockSize=r,this._len=0}return t.prototype.update=function(r,n){typeof r=="string"&&(n=n||"utf8",r=e.from(r,n));for(var a=this._block,o=this._blockSize,u=r.length,p=this._len,b=0;b<u;){for(var m=p%o,y=Math.min(u-b,o-m),A=0;A<y;A++)a[m+A]=r[b+A];p+=y,b+=y,p%o===0&&this._update(a)}return this._len+=u,this},t.prototype.digest=function(r){var n=this._len%this._blockSize;this._block[n]=128,this._block.fill(0,n+1),n>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=this._len*8;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var o=(a&4294967295)>>>0,u=(a-o)/4294967296;this._block.writeUInt32BE(u,this._blockSize-8),this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var p=this._hash();return r?p.toString(r):p},t.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$5=t,hash$5}var sha,hasRequiredSha;function requireSha(){if(hasRequiredSha)return sha;hasRequiredSha=1;var e=inherits_browserExports,t=requireHash(),r=safeBufferExports.Buffer,n=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function o(){this.init(),this._w=a,t.call(this,64,56)}e(o,t),o.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function u(m){return m<<5|m>>>27}function p(m){return m<<30|m>>>2}function b(m,y,A,I){return m===0?y&A|~y&I:m===2?y&A|y&I|A&I:y^A^I}return o.prototype._update=function(m){for(var y=this._w,A=this._a|0,I=this._b|0,M=this._c|0,C=this._d|0,P=this._e|0,B=0;B<16;++B)y[B]=m.readInt32BE(B*4);for(;B<80;++B)y[B]=y[B-3]^y[B-8]^y[B-14]^y[B-16];for(var k=0;k<80;++k){var N=~~(k/20),D=u(A)+b(N,I,M,C)+P+y[k]+n[N]|0;P=C,C=M,M=p(I),I=A,A=D}this._a=A+this._a|0,this._b=I+this._b|0,this._c=M+this._c|0,this._d=C+this._d|0,this._e=P+this._e|0},o.prototype._hash=function(){var m=r.allocUnsafe(20);return m.writeInt32BE(this._a|0,0),m.writeInt32BE(this._b|0,4),m.writeInt32BE(this._c|0,8),m.writeInt32BE(this._d|0,12),m.writeInt32BE(this._e|0,16),m},sha=o,sha}var sha1$1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1$1;hasRequiredSha1=1;var e=inherits_browserExports,t=requireHash(),r=safeBufferExports.Buffer,n=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function o(){this.init(),this._w=a,t.call(this,64,56)}e(o,t),o.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function u(y){return y<<1|y>>>31}function p(y){return y<<5|y>>>27}function b(y){return y<<30|y>>>2}function m(y,A,I,M){return y===0?A&I|~A&M:y===2?A&I|A&M|I&M:A^I^M}return o.prototype._update=function(y){for(var A=this._w,I=this._a|0,M=this._b|0,C=this._c|0,P=this._d|0,B=this._e|0,k=0;k<16;++k)A[k]=y.readInt32BE(k*4);for(;k<80;++k)A[k]=u(A[k-3]^A[k-8]^A[k-14]^A[k-16]);for(var N=0;N<80;++N){var D=~~(N/20),L=p(I)+m(D,M,C,P)+B+A[N]+n[D]|0;B=P,P=C,C=b(M),M=I,I=L}this._a=I+this._a|0,this._b=M+this._b|0,this._c=C+this._c|0,this._d=P+this._d|0,this._e=B+this._e|0},o.prototype._hash=function(){var y=r.allocUnsafe(20);return y.writeInt32BE(this._a|0,0),y.writeInt32BE(this._b|0,4),y.writeInt32BE(this._c|0,8),y.writeInt32BE(this._d|0,12),y.writeInt32BE(this._e|0,16),y},sha1$1=o,sha1$1}var sha256$2,hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256$2;hasRequiredSha256=1;var e=inherits_browserExports,t=requireHash(),r=safeBufferExports.Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function o(){this.init(),this._w=a,t.call(this,64,56)}e(o,t),o.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function u(I,M,C){return C^I&(M^C)}function p(I,M,C){return I&M|C&(I|M)}function b(I){return(I>>>2|I<<30)^(I>>>13|I<<19)^(I>>>22|I<<10)}function m(I){return(I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7)}function y(I){return(I>>>7|I<<25)^(I>>>18|I<<14)^I>>>3}function A(I){return(I>>>17|I<<15)^(I>>>19|I<<13)^I>>>10}return o.prototype._update=function(I){for(var M=this._w,C=this._a|0,P=this._b|0,B=this._c|0,k=this._d|0,N=this._e|0,D=this._f|0,L=this._g|0,K=this._h|0,J=0;J<16;++J)M[J]=I.readInt32BE(J*4);for(;J<64;++J)M[J]=A(M[J-2])+M[J-7]+y(M[J-15])+M[J-16]|0;for(var ce=0;ce<64;++ce){var oe=K+m(N)+u(N,D,L)+n[ce]+M[ce]|0,Z=b(C)+p(C,P,B)|0;K=L,L=D,D=N,N=k+oe|0,k=B,B=P,P=C,C=oe+Z|0}this._a=C+this._a|0,this._b=P+this._b|0,this._c=B+this._c|0,this._d=k+this._d|0,this._e=N+this._e|0,this._f=D+this._f|0,this._g=L+this._g|0,this._h=K+this._h|0},o.prototype._hash=function(){var I=r.allocUnsafe(32);return I.writeInt32BE(this._a,0),I.writeInt32BE(this._b,4),I.writeInt32BE(this._c,8),I.writeInt32BE(this._d,12),I.writeInt32BE(this._e,16),I.writeInt32BE(this._f,20),I.writeInt32BE(this._g,24),I.writeInt32BE(this._h,28),I},sha256$2=o,sha256$2}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var e=inherits_browserExports,t=requireSha256(),r=requireHash(),n=safeBufferExports.Buffer,a=new Array(64);function o(){this.init(),this._w=a,r.call(this,64,56)}return e(o,t),o.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},o.prototype._hash=function(){var u=n.allocUnsafe(28);return u.writeInt32BE(this._a,0),u.writeInt32BE(this._b,4),u.writeInt32BE(this._c,8),u.writeInt32BE(this._d,12),u.writeInt32BE(this._e,16),u.writeInt32BE(this._f,20),u.writeInt32BE(this._g,24),u},sha224$1=o,sha224$1}var sha512$1,hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512$1;hasRequiredSha512=1;var e=inherits_browserExports,t=requireHash(),r=safeBufferExports.Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function o(){this.init(),this._w=a,t.call(this,128,112)}e(o,t),o.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function u(P,B,k){return k^P&(B^k)}function p(P,B,k){return P&B|k&(P|B)}function b(P,B){return(P>>>28|B<<4)^(B>>>2|P<<30)^(B>>>7|P<<25)}function m(P,B){return(P>>>14|B<<18)^(P>>>18|B<<14)^(B>>>9|P<<23)}function y(P,B){return(P>>>1|B<<31)^(P>>>8|B<<24)^P>>>7}function A(P,B){return(P>>>1|B<<31)^(P>>>8|B<<24)^(P>>>7|B<<25)}function I(P,B){return(P>>>19|B<<13)^(B>>>29|P<<3)^P>>>6}function M(P,B){return(P>>>19|B<<13)^(B>>>29|P<<3)^(P>>>6|B<<26)}function C(P,B){return P>>>0<B>>>0?1:0}return o.prototype._update=function(P){for(var B=this._w,k=this._ah|0,N=this._bh|0,D=this._ch|0,L=this._dh|0,K=this._eh|0,J=this._fh|0,ce=this._gh|0,oe=this._hh|0,Z=this._al|0,ie=this._bl|0,s=this._cl|0,d=this._dl|0,l=this._el|0,v=this._fl|0,S=this._gl|0,O=this._hl|0,T=0;T<32;T+=2)B[T]=P.readInt32BE(T*4),B[T+1]=P.readInt32BE(T*4+4);for(;T<160;T+=2){var _=B[T-30],c=B[T-15*2+1],w=y(_,c),x=A(c,_);_=B[T-2*2],c=B[T-2*2+1];var F=I(_,c),q=M(c,_),V=B[T-7*2],Y=B[T-7*2+1],Q=B[T-16*2],G=B[T-16*2+1],H=x+Y|0,te=w+V+C(H,x)|0;H=H+q|0,te=te+F+C(H,q)|0,H=H+G|0,te=te+Q+C(H,G)|0,B[T]=te,B[T+1]=H}for(var W=0;W<160;W+=2){te=B[W],H=B[W+1];var U=p(k,N,D),j=p(Z,ie,s),ee=b(k,Z),X=b(Z,k),ne=m(K,l),de=m(l,K),re=n[W],ae=n[W+1],ue=u(K,J,ce),se=u(l,v,S),le=O+de|0,Re=oe+ne+C(le,O)|0;le=le+se|0,Re=Re+ue+C(le,se)|0,le=le+ae|0,Re=Re+re+C(le,ae)|0,le=le+H|0,Re=Re+te+C(le,H)|0;var he=X+j|0,fe=ee+U+C(he,X)|0;oe=ce,O=S,ce=J,S=v,J=K,v=l,l=d+le|0,K=L+Re+C(l,d)|0,L=D,d=s,D=N,s=ie,N=k,ie=Z,Z=le+he|0,k=Re+fe+C(Z,le)|0}this._al=this._al+Z|0,this._bl=this._bl+ie|0,this._cl=this._cl+s|0,this._dl=this._dl+d|0,this._el=this._el+l|0,this._fl=this._fl+v|0,this._gl=this._gl+S|0,this._hl=this._hl+O|0,this._ah=this._ah+k+C(this._al,Z)|0,this._bh=this._bh+N+C(this._bl,ie)|0,this._ch=this._ch+D+C(this._cl,s)|0,this._dh=this._dh+L+C(this._dl,d)|0,this._eh=this._eh+K+C(this._el,l)|0,this._fh=this._fh+J+C(this._fl,v)|0,this._gh=this._gh+ce+C(this._gl,S)|0,this._hh=this._hh+oe+C(this._hl,O)|0},o.prototype._hash=function(){var P=r.allocUnsafe(64);function B(k,N,D){P.writeInt32BE(k,D),P.writeInt32BE(N,D+4)}return B(this._ah,this._al,0),B(this._bh,this._bl,8),B(this._ch,this._cl,16),B(this._dh,this._dl,24),B(this._eh,this._el,32),B(this._fh,this._fl,40),B(this._gh,this._gl,48),B(this._hh,this._hl,56),P},sha512$1=o,sha512$1}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var e=inherits_browserExports,t=requireSha512(),r=requireHash(),n=safeBufferExports.Buffer,a=new Array(160);function o(){this.init(),this._w=a,r.call(this,128,112)}return e(o,t),o.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},o.prototype._hash=function(){var u=n.allocUnsafe(48);function p(b,m,y){u.writeInt32BE(b,y),u.writeInt32BE(m,y+4)}return p(this._ah,this._al,0),p(this._bh,this._bl,8),p(this._ch,this._cl,16),p(this._dh,this._dl,24),p(this._eh,this._el,32),p(this._fh,this._fl,40),u},sha384$1=o,sha384$1}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var e=sha_js.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};return e.sha=requireSha(),e.sha1=requireSha1(),e.sha224=requireSha224(),e.sha256=requireSha256(),e.sha384=requireSha384(),e.sha512=requireSha512(),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var e=safeBufferExports.Buffer,t=requireStreamBrowserify().Transform,r=requireString_decoder().StringDecoder,n=inherits_browserExports;function a(o){t.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return n(a,t),a.prototype.update=function(o,u,p){typeof o=="string"&&(o=e.from(o,u));var b=this._update(o);return this.hashMode?this:(p&&(b=this._toString(b,p)),b)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(o,u,p){var b;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(m){b=m}finally{p(b)}},a.prototype._flush=function(o){var u;try{this.push(this.__final())}catch(p){u=p}o(u)},a.prototype._finalOrDigest=function(o){var u=this.__final()||e.alloc(0);return o&&(u=this._toString(u,o,!0)),u},a.prototype._toString=function(o,u,p){if(this._decoder||(this._decoder=new r(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var b=this._decoder.write(o);return p&&(b+=this._decoder.end()),b},cipherBase=a,cipherBase}var browser$e,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$e;hasRequiredBrowser$9=1;var e=inherits_browserExports,t=requireMd5_js(),r=requireRipemd160(),n=requireSha_js(),a=requireCipherBase();function o(u){a.call(this,"digest"),this._hash=u}return e(o,a),o.prototype._update=function(u){this._hash.update(u)},o.prototype._final=function(){return this._hash.digest()},browser$e=function(u){return u=u.toLowerCase(),u==="md5"?new t:u==="rmd160"||u==="ripemd160"?new r:new o(n(u))},browser$e}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var e=inherits_browserExports,t=safeBufferExports.Buffer,r=requireCipherBase(),n=t.alloc(128),a=64;function o(u,p){r.call(this,"digest"),typeof p=="string"&&(p=t.from(p)),this._alg=u,this._key=p,p.length>a?p=u(p):p.length<a&&(p=t.concat([p,n],a));for(var b=this._ipad=t.allocUnsafe(a),m=this._opad=t.allocUnsafe(a),y=0;y<a;y++)b[y]=p[y]^54,m[y]=p[y]^92;this._hash=[b]}return e(o,r),o.prototype._update=function(u){this._hash.push(u)},o.prototype._final=function(){var u=this._alg(t.concat(this._hash));return this._alg(t.concat([this._opad,u]))},legacy=o,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var e=requireMd5_js();return md5=function(t){return new e().update(t).digest()},md5}var browser$d,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$d;hasRequiredBrowser$8=1;var e=inherits_browserExports,t=requireLegacy(),r=requireCipherBase(),n=safeBufferExports.Buffer,a=requireMd5(),o=requireRipemd160(),u=requireSha_js(),p=n.alloc(128);function b(m,y){r.call(this,"digest"),typeof y=="string"&&(y=n.from(y));var A=m==="sha512"||m==="sha384"?128:64;if(this._alg=m,this._key=y,y.length>A){var I=m==="rmd160"?new o:u(m);y=I.update(y).digest()}else y.length<A&&(y=n.concat([y,p],A));for(var M=this._ipad=n.allocUnsafe(A),C=this._opad=n.allocUnsafe(A),P=0;P<A;P++)M[P]=y[P]^54,C[P]=y[P]^92;this._hash=m==="rmd160"?new o:u(m),this._hash.update(M)}return e(b,r),b.prototype._update=function(m){this._hash.update(m)},b.prototype._final=function(){var m=this._hash.digest(),y=this._alg==="rmd160"?new o:u(this._alg);return y.update(this._opad).update(m).digest()},browser$d=function(m,y){return m=m.toLowerCase(),m==="rmd160"||m==="ripemd160"?new b("rmd160",y):m==="md5"?new t(a,y):new b(m,y)},browser$d}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$c={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var e=Math.pow(2,30)-1;return precondition=function(t,r){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof r!="number")throw new TypeError("Key length not a number");if(r<0||r>e||r!==r)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var e;if(commonjsGlobal.process&&commonjsGlobal.process.browser)e="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var t=parseInt(process$1$1.version.split(".")[0].slice(1),10);e=t>=6?"utf-8":"binary"}else e="utf-8";return defaultEncoding_1=e,defaultEncoding_1}var toBuffer$1,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer$1;hasRequiredToBuffer=1;var e=safeBufferExports.Buffer;return toBuffer$1=function(t,r,n){if(e.isBuffer(t))return t;if(typeof t=="string")return e.from(t,r);if(ArrayBuffer.isView(t))return e.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")},toBuffer$1}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var e=requireMd5(),t=requireRipemd160(),r=requireSha_js(),n=safeBufferExports.Buffer,a=requirePrecondition(),o=requireDefaultEncoding(),u=requireToBuffer(),p=n.alloc(128),b={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function m(I,M,C){var P=y(I),B=I==="sha512"||I==="sha384"?128:64;M.length>B?M=P(M):M.length<B&&(M=n.concat([M,p],B));for(var k=n.allocUnsafe(B+b[I]),N=n.allocUnsafe(B+b[I]),D=0;D<B;D++)k[D]=M[D]^54,N[D]=M[D]^92;var L=n.allocUnsafe(B+C+4);k.copy(L,0,0,B),this.ipad1=L,this.ipad2=k,this.opad=N,this.alg=I,this.blocksize=B,this.hash=P,this.size=b[I]}m.prototype.run=function(I,M){I.copy(M,this.blocksize);var C=this.hash(M);return C.copy(this.opad,this.blocksize),this.hash(this.opad)};function y(I){function M(P){return r(I).update(P).digest()}function C(P){return new t().update(P).digest()}return I==="rmd160"||I==="ripemd160"?C:I==="md5"?e:M}function A(I,M,C,P,B){a(C,P),I=u(I,o,"Password"),M=u(M,o,"Salt"),B=B||"sha1";var k=new m(B,I,M.length),N=n.allocUnsafe(P),D=n.allocUnsafe(M.length+4);M.copy(D,0,0,M.length);for(var L=0,K=b[B],J=Math.ceil(P/K),ce=1;ce<=J;ce++){D.writeUInt32BE(ce,M.length);for(var oe=k.run(D,k.ipad1),Z=oe,ie=1;ie<C;ie++){Z=k.run(Z,k.ipad2);for(var s=0;s<K;s++)oe[s]^=Z[s]}oe.copy(N,L),L+=K}return N}return syncBrowser=A,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var e=safeBufferExports.Buffer,t=requirePrecondition(),r=requireDefaultEncoding(),n=requireSyncBrowser(),a=requireToBuffer(),o,u=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},b=[];function m(C){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(b[C]!==void 0)return b[C];o=o||e.alloc(8);var P=I(o,o,10,128,C).then(function(){return!0}).catch(function(){return!1});return b[C]=P,P}var y;function A(){return y||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?y=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?y=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?y=commonjsGlobal.setImmediate:y=commonjsGlobal.setTimeout,y)}function I(C,P,B,k,N){return u.importKey("raw",C,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return u.deriveBits({name:"PBKDF2",salt:P,iterations:B,hash:{name:N}},D,k<<3)}).then(function(D){return e.from(D)})}function M(C,P){C.then(function(B){A()(function(){P(null,B)})},function(B){A()(function(){P(B)})})}return async=function(C,P,B,k,N,D){typeof N=="function"&&(D=N,N=void 0),N=N||"sha1";var L=p[N.toLowerCase()];if(!L||typeof commonjsGlobal.Promise!="function"){A()(function(){var K;try{K=n(C,P,B,k,N)}catch(J){return D(J)}D(null,K)});return}if(t(B,k),C=a(C,r,"Password"),P=a(P,r,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");M(m(L).then(function(K){return K?I(C,P,B,k,L):n(C,P,B,k,N)}),D)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$c.pbkdf2=requireAsync(),browser$c.pbkdf2Sync=requireSyncBrowser()),browser$c}var browser$b={},des$1={},utils$l={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$l;hasRequiredUtils=1,utils$l.readUInt32BE=function(n,a){var o=n[0+a]<<24|n[1+a]<<16|n[2+a]<<8|n[3+a];return o>>>0},utils$l.writeUInt32BE=function(n,a,o){n[0+o]=a>>>24,n[1+o]=a>>>16&255,n[2+o]=a>>>8&255,n[3+o]=a&255},utils$l.ip=function(n,a,o,u){for(var p=0,b=0,m=6;m>=0;m-=2){for(var y=0;y<=24;y+=8)p<<=1,p|=a>>>y+m&1;for(var y=0;y<=24;y+=8)p<<=1,p|=n>>>y+m&1}for(var m=6;m>=0;m-=2){for(var y=1;y<=25;y+=8)b<<=1,b|=a>>>y+m&1;for(var y=1;y<=25;y+=8)b<<=1,b|=n>>>y+m&1}o[u+0]=p>>>0,o[u+1]=b>>>0},utils$l.rip=function(n,a,o,u){for(var p=0,b=0,m=0;m<4;m++)for(var y=24;y>=0;y-=8)p<<=1,p|=a>>>y+m&1,p<<=1,p|=n>>>y+m&1;for(var m=4;m<8;m++)for(var y=24;y>=0;y-=8)b<<=1,b|=a>>>y+m&1,b<<=1,b|=n>>>y+m&1;o[u+0]=p>>>0,o[u+1]=b>>>0},utils$l.pc1=function(n,a,o,u){for(var p=0,b=0,m=7;m>=5;m--){for(var y=0;y<=24;y+=8)p<<=1,p|=a>>y+m&1;for(var y=0;y<=24;y+=8)p<<=1,p|=n>>y+m&1}for(var y=0;y<=24;y+=8)p<<=1,p|=a>>y+m&1;for(var m=1;m<=3;m++){for(var y=0;y<=24;y+=8)b<<=1,b|=a>>y+m&1;for(var y=0;y<=24;y+=8)b<<=1,b|=n>>y+m&1}for(var y=0;y<=24;y+=8)b<<=1,b|=n>>y+m&1;o[u+0]=p>>>0,o[u+1]=b>>>0},utils$l.r28shl=function(n,a){return n<<a&268435455|n>>>28-a};var e=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$l.pc2=function(n,a,o,u){for(var p=0,b=0,m=e.length>>>1,y=0;y<m;y++)p<<=1,p|=n>>>e[y]&1;for(var y=m;y<e.length;y++)b<<=1,b|=a>>>e[y]&1;o[u+0]=p>>>0,o[u+1]=b>>>0},utils$l.expand=function(n,a,o){var u=0,p=0;u=(n&1)<<5|n>>>27;for(var b=23;b>=15;b-=4)u<<=6,u|=n>>>b&63;for(var b=11;b>=3;b-=4)p|=n>>>b&63,p<<=6;p|=(n&31)<<1|n>>>31,a[o+0]=u>>>0,a[o+1]=p>>>0};var t=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$l.substitute=function(n,a){for(var o=0,u=0;u<4;u++){var p=n>>>18-u*6&63,b=t[u*64+p];o<<=4,o|=b}for(var u=0;u<4;u++){var p=a>>>18-u*6&63,b=t[4*64+u*64+p];o<<=4,o|=b}return o>>>0};var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$l.permute=function(n){for(var a=0,o=0;o<r.length;o++)a<<=1,a|=n>>>r[o]&1;return a>>>0},utils$l.padSplit=function(n,a,o){for(var u=n.toString(2);u.length<a;)u="0"+u;for(var p=[],b=0;b<a;b+=o)p.push(u.slice(b,b+o));return p.join(" ")},utils$l}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var e=minimalisticAssert;function t(r){this.options=r,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=r.padding!==!1}return cipher=t,t.prototype._init=function(){},t.prototype.update=function(r){return r.length===0?[]:this.type==="decrypt"?this._updateDecrypt(r):this._updateEncrypt(r)},t.prototype._buffer=function(r,n){for(var a=Math.min(this.buffer.length-this.bufferOff,r.length-n),o=0;o<a;o++)this.buffer[this.bufferOff+o]=r[n+o];return this.bufferOff+=a,a},t.prototype._flushBuffer=function(r,n){return this._update(this.buffer,0,r,n),this.bufferOff=0,this.blockSize},t.prototype._updateEncrypt=function(r){var n=0,a=0,o=(this.bufferOff+r.length)/this.blockSize|0,u=new Array(o*this.blockSize);this.bufferOff!==0&&(n+=this._buffer(r,n),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(u,a)));for(var p=r.length-(r.length-n)%this.blockSize;n<p;n+=this.blockSize)this._update(r,n,u,a),a+=this.blockSize;for(;n<r.length;n++,this.bufferOff++)this.buffer[this.bufferOff]=r[n];return u},t.prototype._updateDecrypt=function(r){for(var n=0,a=0,o=Math.ceil((this.bufferOff+r.length)/this.blockSize)-1,u=new Array(o*this.blockSize);o>0;o--)n+=this._buffer(r,n),a+=this._flushBuffer(u,a);return n+=this._buffer(r,n),u},t.prototype.final=function(r){var n;r&&(n=this.update(r));var a;return this.type==="encrypt"?a=this._finalEncrypt():a=this._finalDecrypt(),n?n.concat(a):a},t.prototype._pad=function(r,n){if(n===0)return!1;for(;n<r.length;)r[n++]=0;return!0},t.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var r=new Array(this.blockSize);return this._update(this.buffer,0,r,0),r},t.prototype._unpad=function(r){return r},t.prototype._finalDecrypt=function(){e.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var r=new Array(this.blockSize);return this._flushBuffer(r,0),this._unpad(r)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var e=minimalisticAssert,t=inherits_browserExports,r=requireUtils(),n=requireCipher();function a(){this.tmp=new Array(2),this.keys=null}function o(p){n.call(this,p);var b=new a;this._desState=b,this.deriveKeys(b,p.key)}t(o,n),des=o,o.create=function(p){return new o(p)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return o.prototype.deriveKeys=function(p,b){p.keys=new Array(16*2),e.equal(b.length,this.blockSize,"Invalid key length");var m=r.readUInt32BE(b,0),y=r.readUInt32BE(b,4);r.pc1(m,y,p.tmp,0),m=p.tmp[0],y=p.tmp[1];for(var A=0;A<p.keys.length;A+=2){var I=u[A>>>1];m=r.r28shl(m,I),y=r.r28shl(y,I),r.pc2(m,y,p.keys,A)}},o.prototype._update=function(p,b,m,y){var A=this._desState,I=r.readUInt32BE(p,b),M=r.readUInt32BE(p,b+4);r.ip(I,M,A.tmp,0),I=A.tmp[0],M=A.tmp[1],this.type==="encrypt"?this._encrypt(A,I,M,A.tmp,0):this._decrypt(A,I,M,A.tmp,0),I=A.tmp[0],M=A.tmp[1],r.writeUInt32BE(m,I,y),r.writeUInt32BE(m,M,y+4)},o.prototype._pad=function(p,b){if(this.padding===!1)return!1;for(var m=p.length-b,y=b;y<p.length;y++)p[y]=m;return!0},o.prototype._unpad=function(p){if(this.padding===!1)return p;for(var b=p[p.length-1],m=p.length-b;m<p.length;m++)e.equal(p[m],b);return p.slice(0,p.length-b)},o.prototype._encrypt=function(p,b,m,y,A){for(var I=b,M=m,C=0;C<p.keys.length;C+=2){var P=p.keys[C],B=p.keys[C+1];r.expand(M,p.tmp,0),P^=p.tmp[0],B^=p.tmp[1];var k=r.substitute(P,B),N=r.permute(k),D=M;M=(I^N)>>>0,I=D}r.rip(M,I,y,A)},o.prototype._decrypt=function(p,b,m,y,A){for(var I=m,M=b,C=p.keys.length-2;C>=0;C-=2){var P=p.keys[C],B=p.keys[C+1];r.expand(I,p.tmp,0),P^=p.tmp[0],B^=p.tmp[1];var k=r.substitute(P,B),N=r.permute(k),D=I;I=(M^N)>>>0,M=D}r.rip(I,M,y,A)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var e=minimalisticAssert,t=inherits_browserExports,r={};function n(o){e.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=o[u]}function a(o){function u(y){o.call(this,y),this._cbcInit()}t(u,o);for(var p=Object.keys(r),b=0;b<p.length;b++){var m=p[b];u.prototype[m]=r[m]}return u.create=function(y){return new u(y)},u}return cbc$1.instantiate=a,r._cbcInit=function(){var o=new n(this.options.iv);this._cbcState=o},r._update=function(o,u,p,b){var m=this._cbcState,y=this.constructor.super_.prototype,A=m.iv;if(this.type==="encrypt"){for(var I=0;I<this.blockSize;I++)A[I]^=o[u+I];y._update.call(this,A,0,p,b);for(var I=0;I<this.blockSize;I++)A[I]=p[b+I]}else{y._update.call(this,o,u,p,b);for(var I=0;I<this.blockSize;I++)p[b+I]^=A[I];for(var I=0;I<this.blockSize;I++)A[I]=o[u+I]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var e=minimalisticAssert,t=inherits_browserExports,r=requireCipher(),n=requireDes$1();function a(u,p){e.equal(p.length,24,"Invalid key length");var b=p.slice(0,8),m=p.slice(8,16),y=p.slice(16,24);u==="encrypt"?this.ciphers=[n.create({type:"encrypt",key:b}),n.create({type:"decrypt",key:m}),n.create({type:"encrypt",key:y})]:this.ciphers=[n.create({type:"decrypt",key:y}),n.create({type:"encrypt",key:m}),n.create({type:"decrypt",key:b})]}function o(u){r.call(this,u);var p=new a(this.type,this.options.key);this._edeState=p}return t(o,r),ede=o,o.create=function(u){return new o(u)},o.prototype._update=function(u,p,b,m){var y=this._edeState;y.ciphers[0]._update(u,p,b,m),y.ciphers[1]._update(b,m,b,m),y.ciphers[2]._update(b,m,b,m)},o.prototype._pad=n.prototype._pad,o.prototype._unpad=n.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var e=requireCipherBase(),t=requireDes(),r=inherits_browserExports,n=safeBufferExports.Buffer,a={"des-ede3-cbc":t.CBC.instantiate(t.EDE),"des-ede3":t.EDE,"des-ede-cbc":t.CBC.instantiate(t.EDE),"des-ede":t.EDE,"des-cbc":t.CBC.instantiate(t.DES),"des-ecb":t.DES};a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],browserifyDes=o,r(o,e);function o(u){e.call(this);var p=u.mode.toLowerCase(),b=a[p],m;u.decrypt?m="decrypt":m="encrypt";var y=u.key;n.isBuffer(y)||(y=n.from(y)),(p==="des-ede"||p==="des-ede-cbc")&&(y=n.concat([y,y.slice(0,8)]));var A=u.iv;n.isBuffer(A)||(A=n.from(A)),this._des=b.create({key:y,iv:A,type:m})}return o.prototype._update=function(u){return n.from(this._des.update(u))},o.prototype._final=function(){return n.from(this._des.final())},browserifyDes}var browser$a={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(e,t){return e._cipher.encryptBlock(t)},ecb.decrypt=function(e,t){return e._cipher.decryptBlock(t)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(e,t){for(var r=Math.min(e.length,t.length),n=new Buffer$2(r),a=0;a<r;++a)n[a]=e[a]^t[a];return n}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var e=requireBufferXor();return cbc.encrypt=function(t,r){var n=e(r,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},cbc.decrypt=function(t,r){var n=t._prev;t._prev=r;var a=t._cipher.decryptBlock(r);return e(a,n)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var e=safeBufferExports.Buffer,t=requireBufferXor();function r(n,a,o){var u=a.length,p=t(a,n._cache);return n._cache=n._cache.slice(u),n._prev=e.concat([n._prev,o?a:p]),p}return cfb.encrypt=function(n,a,o){for(var u=e.allocUnsafe(0),p;a.length;)if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=e.allocUnsafe(0)),n._cache.length<=a.length)p=n._cache.length,u=e.concat([u,r(n,a.slice(0,p),o)]),a=a.slice(p);else{u=e.concat([u,r(n,a,o)]);break}return u},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var e=safeBufferExports.Buffer;function t(r,n,a){var o=r._cipher.encryptBlock(r._prev),u=o[0]^n;return r._prev=e.concat([r._prev.slice(1),e.from([a?n:u])]),u}return cfb8.encrypt=function(r,n,a){for(var o=n.length,u=e.allocUnsafe(o),p=-1;++p<o;)u[p]=t(r,n[p],a);return u},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var e=safeBufferExports.Buffer;function t(n,a,o){for(var u,p=-1,b=8,m=0,y,A;++p<b;)u=n._cipher.encryptBlock(n._prev),y=a&1<<7-p?128:0,A=u[0]^y,m+=(A&128)>>p%8,n._prev=r(n._prev,o?y:A);return m}function r(n,a){var o=n.length,u=-1,p=e.allocUnsafe(n.length);for(n=e.concat([n,e.from([a])]);++u<o;)p[u]=n[u]<<1|n[u+1]>>7;return p}return cfb1.encrypt=function(n,a,o){for(var u=a.length,p=e.allocUnsafe(u),b=-1;++b<u;)p[b]=t(n,a[b],o);return p},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var e=requireBufferXor();function t(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}return ofb.encrypt=function(r,n){for(;r._cache.length<n.length;)r._cache=Buffer$2.concat([r._cache,t(r)]);var a=r._cache.slice(0,n.length);return r._cache=r._cache.slice(n.length),e(n,a)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function e(t){for(var r=t.length,n;r--;)if(n=t.readUInt8(r),n===255)t.writeUInt8(0,r);else{n++,t.writeUInt8(n,r);break}}return incr32_1=e,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var e=requireBufferXor(),t=safeBufferExports.Buffer,r=requireIncr32();function n(o){var u=o._cipher.encryptBlockRaw(o._prev);return r(o._prev),u}var a=16;return ctr.encrypt=function(o,u){var p=Math.ceil(u.length/a),b=o._cache.length;o._cache=t.concat([o._cache,t.allocUnsafe(p*a)]);for(var m=0;m<p;m++){var y=n(o),A=b+m*a;o._cache.writeUInt32BE(y[0],A+0),o._cache.writeUInt32BE(y[1],A+4),o._cache.writeUInt32BE(y[2],A+8),o._cache.writeUInt32BE(y[3],A+12)}var I=o._cache.slice(0,u.length);return o._cache=o._cache.slice(u.length),e(u,I)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var e={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},t=require$$2;for(var r in t)t[r].module=e[t[r].mode];return modes_1=t,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var e=safeBufferExports.Buffer;function t(p){e.isBuffer(p)||(p=e.from(p));for(var b=p.length/4|0,m=new Array(b),y=0;y<b;y++)m[y]=p.readUInt32BE(y*4);return m}function r(p){for(var b=0;b<p.length;p++)p[b]=0}function n(p,b,m,y,A){for(var I=m[0],M=m[1],C=m[2],P=m[3],B=p[0]^b[0],k=p[1]^b[1],N=p[2]^b[2],D=p[3]^b[3],L,K,J,ce,oe=4,Z=1;Z<A;Z++)L=I[B>>>24]^M[k>>>16&255]^C[N>>>8&255]^P[D&255]^b[oe++],K=I[k>>>24]^M[N>>>16&255]^C[D>>>8&255]^P[B&255]^b[oe++],J=I[N>>>24]^M[D>>>16&255]^C[B>>>8&255]^P[k&255]^b[oe++],ce=I[D>>>24]^M[B>>>16&255]^C[k>>>8&255]^P[N&255]^b[oe++],B=L,k=K,N=J,D=ce;return L=(y[B>>>24]<<24|y[k>>>16&255]<<16|y[N>>>8&255]<<8|y[D&255])^b[oe++],K=(y[k>>>24]<<24|y[N>>>16&255]<<16|y[D>>>8&255]<<8|y[B&255])^b[oe++],J=(y[N>>>24]<<24|y[D>>>16&255]<<16|y[B>>>8&255]<<8|y[k&255])^b[oe++],ce=(y[D>>>24]<<24|y[B>>>16&255]<<16|y[k>>>8&255]<<8|y[N&255])^b[oe++],L=L>>>0,K=K>>>0,J=J>>>0,ce=ce>>>0,[L,K,J,ce]}var a=[0,1,2,4,8,16,32,64,128,27,54],o=function(){for(var p=new Array(256),b=0;b<256;b++)b<128?p[b]=b<<1:p[b]=b<<1^283;for(var m=[],y=[],A=[[],[],[],[]],I=[[],[],[],[]],M=0,C=0,P=0;P<256;++P){var B=C^C<<1^C<<2^C<<3^C<<4;B=B>>>8^B&255^99,m[M]=B,y[B]=M;var k=p[M],N=p[k],D=p[N],L=p[B]*257^B*16843008;A[0][M]=L<<24|L>>>8,A[1][M]=L<<16|L>>>16,A[2][M]=L<<8|L>>>24,A[3][M]=L,L=D*16843009^N*65537^k*257^M*16843008,I[0][B]=L<<24|L>>>8,I[1][B]=L<<16|L>>>16,I[2][B]=L<<8|L>>>24,I[3][B]=L,M===0?M=C=1:(M=k^p[p[p[D^k]]],C^=p[p[C]])}return{SBOX:m,INV_SBOX:y,SUB_MIX:A,INV_SUB_MIX:I}}();function u(p){this._key=t(p),this._reset()}return u.blockSize=4*4,u.keySize=256/8,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var p=this._key,b=p.length,m=b+6,y=(m+1)*4,A=[],I=0;I<b;I++)A[I]=p[I];for(I=b;I<y;I++){var M=A[I-1];I%b===0?(M=M<<8|M>>>24,M=o.SBOX[M>>>24]<<24|o.SBOX[M>>>16&255]<<16|o.SBOX[M>>>8&255]<<8|o.SBOX[M&255],M^=a[I/b|0]<<24):b>6&&I%b===4&&(M=o.SBOX[M>>>24]<<24|o.SBOX[M>>>16&255]<<16|o.SBOX[M>>>8&255]<<8|o.SBOX[M&255]),A[I]=A[I-b]^M}for(var C=[],P=0;P<y;P++){var B=y-P,k=A[B-(P%4?0:4)];P<4||B<=4?C[P]=k:C[P]=o.INV_SUB_MIX[0][o.SBOX[k>>>24]]^o.INV_SUB_MIX[1][o.SBOX[k>>>16&255]]^o.INV_SUB_MIX[2][o.SBOX[k>>>8&255]]^o.INV_SUB_MIX[3][o.SBOX[k&255]]}this._nRounds=m,this._keySchedule=A,this._invKeySchedule=C},u.prototype.encryptBlockRaw=function(p){return p=t(p),n(p,this._keySchedule,o.SUB_MIX,o.SBOX,this._nRounds)},u.prototype.encryptBlock=function(p){var b=this.encryptBlockRaw(p),m=e.allocUnsafe(16);return m.writeUInt32BE(b[0],0),m.writeUInt32BE(b[1],4),m.writeUInt32BE(b[2],8),m.writeUInt32BE(b[3],12),m},u.prototype.decryptBlock=function(p){p=t(p);var b=p[1];p[1]=p[3],p[3]=b;var m=n(p,this._invKeySchedule,o.INV_SUB_MIX,o.INV_SBOX,this._nRounds),y=e.allocUnsafe(16);return y.writeUInt32BE(m[0],0),y.writeUInt32BE(m[3],4),y.writeUInt32BE(m[2],8),y.writeUInt32BE(m[1],12),y},u.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},aes.AES=u,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var e=safeBufferExports.Buffer,t=e.alloc(16,0);function r(o){return[o.readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)]}function n(o){var u=e.allocUnsafe(16);return u.writeUInt32BE(o[0]>>>0,0),u.writeUInt32BE(o[1]>>>0,4),u.writeUInt32BE(o[2]>>>0,8),u.writeUInt32BE(o[3]>>>0,12),u}function a(o){this.h=o,this.state=e.alloc(16,0),this.cache=e.allocUnsafe(0)}return a.prototype.ghash=function(o){for(var u=-1;++u<o.length;)this.state[u]^=o[u];this._multiply()},a.prototype._multiply=function(){for(var o=r(this.h),u=[0,0,0,0],p,b,m,y=-1;++y<128;){for(b=(this.state[~~(y/8)]&1<<7-y%8)!==0,b&&(u[0]^=o[0],u[1]^=o[1],u[2]^=o[2],u[3]^=o[3]),m=(o[3]&1)!==0,p=3;p>0;p--)o[p]=o[p]>>>1|(o[p-1]&1)<<31;o[0]=o[0]>>>1,m&&(o[0]=o[0]^225<<24)}this.state=n(u)},a.prototype.update=function(o){this.cache=e.concat([this.cache,o]);for(var u;this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},a.prototype.final=function(o,u){return this.cache.length&&this.ghash(e.concat([this.cache,t],16)),this.ghash(n([0,o,0,u])),this.state},ghash=a,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var e=requireAes(),t=safeBufferExports.Buffer,r=requireCipherBase(),n=inherits_browserExports,a=requireGhash(),o=requireBufferXor(),u=requireIncr32();function p(y,A){var I=0;y.length!==A.length&&I++;for(var M=Math.min(y.length,A.length),C=0;C<M;++C)I+=y[C]^A[C];return I}function b(y,A,I){if(A.length===12)return y._finID=t.concat([A,t.from([0,0,0,1])]),t.concat([A,t.from([0,0,0,2])]);var M=new a(I),C=A.length,P=C%16;M.update(A),P&&(P=16-P,M.update(t.alloc(P,0))),M.update(t.alloc(8,0));var B=C*8,k=t.alloc(8);k.writeUIntBE(B,0,8),M.update(k),y._finID=M.state;var N=t.from(y._finID);return u(N),N}function m(y,A,I,M){r.call(this);var C=t.alloc(4,0);this._cipher=new e.AES(A);var P=this._cipher.encryptBlock(C);this._ghash=new a(P),I=b(this,I,P),this._prev=t.from(I),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=M,this._alen=0,this._len=0,this._mode=y,this._authTag=null,this._called=!1}return n(m,r),m.prototype._update=function(y){if(!this._called&&this._alen){var A=16-this._alen%16;A<16&&(A=t.alloc(A,0),this._ghash.update(A))}this._called=!0;var I=this._mode.encrypt(this,y);return this._decrypt?this._ghash.update(y):this._ghash.update(I),this._len+=y.length,I},m.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var y=o(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&p(y,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=y,this._cipher.scrub()},m.prototype.getAuthTag=function(){if(this._decrypt||!t.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},m.prototype.setAuthTag=function(y){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=y},m.prototype.setAAD=function(y){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(y),this._alen+=y.length},authCipher=m,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var e=requireAes(),t=safeBufferExports.Buffer,r=requireCipherBase(),n=inherits_browserExports;function a(o,u,p,b){r.call(this),this._cipher=new e.AES(u),this._prev=t.from(p),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=b,this._mode=o}return n(a,r),a.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},streamCipher=a,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var e=safeBufferExports.Buffer,t=requireMd5_js();function r(n,a,o,u){if(e.isBuffer(n)||(n=e.from(n,"binary")),a&&(e.isBuffer(a)||(a=e.from(a,"binary")),a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=o/8,b=e.alloc(p),m=e.alloc(u||0),y=e.alloc(0);p>0||u>0;){var A=new t;A.update(y),A.update(n),a&&A.update(a),y=A.digest();var I=0;if(p>0){var M=b.length-p;I=Math.min(p,y.length),y.copy(b,M,0,I),p-=I}if(I<y.length&&u>0){var C=m.length-u,P=Math.min(u,y.length-I);y.copy(m,C,I,I+P),u-=P}}return y.fill(0),{key:b,iv:m}}return evp_bytestokey=r,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var e=requireModes$1(),t=requireAuthCipher(),r=safeBufferExports.Buffer,n=requireStreamCipher(),a=requireCipherBase(),o=requireAes(),u=requireEvp_bytestokey(),p=inherits_browserExports;function b(M,C,P){a.call(this),this._cache=new y,this._cipher=new o.AES(C),this._prev=r.from(P),this._mode=M,this._autopadding=!0}p(b,a),b.prototype._update=function(M){this._cache.add(M);for(var C,P,B=[];C=this._cache.get();)P=this._mode.encrypt(this,C),B.push(P);return r.concat(B)};var m=r.alloc(16,16);b.prototype._final=function(){var M=this._cache.flush();if(this._autopadding)return M=this._mode.encrypt(this,M),this._cipher.scrub(),M;if(!M.equals(m))throw this._cipher.scrub(),new Error("data not multiple of block length")},b.prototype.setAutoPadding=function(M){return this._autopadding=!!M,this};function y(){this.cache=r.allocUnsafe(0)}y.prototype.add=function(M){this.cache=r.concat([this.cache,M])},y.prototype.get=function(){if(this.cache.length>15){var M=this.cache.slice(0,16);return this.cache=this.cache.slice(16),M}return null},y.prototype.flush=function(){for(var M=16-this.cache.length,C=r.allocUnsafe(M),P=-1;++P<M;)C.writeUInt8(M,P);return r.concat([this.cache,C])};function A(M,C,P){var B=e[M.toLowerCase()];if(!B)throw new TypeError("invalid suite type");if(typeof C=="string"&&(C=r.from(C)),C.length!==B.key/8)throw new TypeError("invalid key length "+C.length);if(typeof P=="string"&&(P=r.from(P)),B.mode!=="GCM"&&P.length!==B.iv)throw new TypeError("invalid iv length "+P.length);return B.type==="stream"?new n(B.module,C,P):B.type==="auth"?new t(B.module,C,P):new b(B.module,C,P)}function I(M,C){var P=e[M.toLowerCase()];if(!P)throw new TypeError("invalid suite type");var B=u(C,!1,P.key,P.iv);return A(M,B.key,B.iv)}return encrypter.createCipheriv=A,encrypter.createCipher=I,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var e=requireAuthCipher(),t=safeBufferExports.Buffer,r=requireModes$1(),n=requireStreamCipher(),a=requireCipherBase(),o=requireAes(),u=requireEvp_bytestokey(),p=inherits_browserExports;function b(M,C,P){a.call(this),this._cache=new m,this._last=void 0,this._cipher=new o.AES(C),this._prev=t.from(P),this._mode=M,this._autopadding=!0}p(b,a),b.prototype._update=function(M){this._cache.add(M);for(var C,P,B=[];C=this._cache.get(this._autopadding);)P=this._mode.decrypt(this,C),B.push(P);return t.concat(B)},b.prototype._final=function(){var M=this._cache.flush();if(this._autopadding)return y(this._mode.decrypt(this,M));if(M)throw new Error("data not multiple of block length")},b.prototype.setAutoPadding=function(M){return this._autopadding=!!M,this};function m(){this.cache=t.allocUnsafe(0)}m.prototype.add=function(M){this.cache=t.concat([this.cache,M])},m.prototype.get=function(M){var C;if(M){if(this.cache.length>16)return C=this.cache.slice(0,16),this.cache=this.cache.slice(16),C}else if(this.cache.length>=16)return C=this.cache.slice(0,16),this.cache=this.cache.slice(16),C;return null},m.prototype.flush=function(){if(this.cache.length)return this.cache};function y(M){var C=M[15];if(C<1||C>16)throw new Error("unable to decrypt data");for(var P=-1;++P<C;)if(M[P+(16-C)]!==C)throw new Error("unable to decrypt data");if(C!==16)return M.slice(0,16-C)}function A(M,C,P){var B=r[M.toLowerCase()];if(!B)throw new TypeError("invalid suite type");if(typeof P=="string"&&(P=t.from(P)),B.mode!=="GCM"&&P.length!==B.iv)throw new TypeError("invalid iv length "+P.length);if(typeof C=="string"&&(C=t.from(C)),C.length!==B.key/8)throw new TypeError("invalid key length "+C.length);return B.type==="stream"?new n(B.module,C,P,!0):B.type==="auth"?new e(B.module,C,P,!0):new b(B.module,C,P)}function I(M,C){var P=r[M.toLowerCase()];if(!P)throw new TypeError("invalid suite type");var B=u(C,!1,P.key,P.iv);return A(M,B.key,B.iv)}return decrypter.createDecipher=I,decrypter.createDecipheriv=A,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$a;hasRequiredBrowser$6=1;var e=requireEncrypter(),t=requireDecrypter(),r=require$$2;function n(){return Object.keys(r)}return browser$a.createCipher=browser$a.Cipher=e.createCipher,browser$a.createCipheriv=browser$a.Cipheriv=e.createCipheriv,browser$a.createDecipher=browser$a.Decipher=t.createDecipher,browser$a.createDecipheriv=browser$a.Decipheriv=t.createDecipheriv,browser$a.listCiphers=browser$a.getCiphers=n,browser$a}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$b;hasRequiredBrowser$5=1;var e=requireBrowserifyDes(),t=requireBrowser$6(),r=requireModes$1(),n=requireModes(),a=requireEvp_bytestokey();function o(y,A){y=y.toLowerCase();var I,M;if(r[y])I=r[y].key,M=r[y].iv;else if(n[y])I=n[y].key*8,M=n[y].iv;else throw new TypeError("invalid suite type");var C=a(A,!1,I,M);return p(y,C.key,C.iv)}function u(y,A){y=y.toLowerCase();var I,M;if(r[y])I=r[y].key,M=r[y].iv;else if(n[y])I=n[y].key*8,M=n[y].iv;else throw new TypeError("invalid suite type");var C=a(A,!1,I,M);return b(y,C.key,C.iv)}function p(y,A,I){if(y=y.toLowerCase(),r[y])return t.createCipheriv(y,A,I);if(n[y])return new e({key:A,iv:I,mode:y});throw new TypeError("invalid suite type")}function b(y,A,I){if(y=y.toLowerCase(),r[y])return t.createDecipheriv(y,A,I);if(n[y])return new e({key:A,iv:I,mode:y,decrypt:!0});throw new TypeError("invalid suite type")}function m(){return Object.keys(n).concat(t.getCiphers())}return browser$b.createCipher=browser$b.Cipher=o,browser$b.createCipheriv=browser$b.Cipheriv=p,browser$b.createDecipher=browser$b.Decipher=u,browser$b.createDecipheriv=browser$b.Decipheriv=b,browser$b.listCiphers=browser$b.getCiphers=m,browser$b}var browser$9={},bn$5={exports:{}};bn$5.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(e){(function(t,r){function n(s,d){if(!s)throw new Error(d||"Assertion failed")}function a(s,d){s.super_=d;var l=function(){};l.prototype=d.prototype,s.prototype=new l,s.prototype.constructor=s}function o(s,d,l){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((d==="le"||d==="be")&&(l=d,d=10),this._init(s||0,d||10,l||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$1.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,d){return s.cmp(d)>0?s:d},o.min=function(s,d){return s.cmp(d)<0?s:d},o.prototype._init=function(s,d,l){if(typeof s=="number")return this._initNumber(s,d,l);if(typeof s=="object")return this._initArray(s,d,l);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),s=s.toString().replace(/\s+/g,"");var v=0;s[0]==="-"&&(v++,this.negative=1),v<s.length&&(d===16?this._parseHex(s,v,l):(this._parseBase(s,d,v),l==="le"&&this._initArray(this.toArray(),d,l)))},o.prototype._initNumber=function(s,d,l){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),d,l)},o.prototype._initArray=function(s,d,l){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S,O,T=0;if(l==="be")for(v=s.length-1,S=0;v>=0;v-=3)O=s[v]|s[v-1]<<8|s[v-2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);else if(l==="le")for(v=0,S=0;v<s.length;v+=3)O=s[v]|s[v+1]<<8|s[v+2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);return this.strip()};function p(s,d){var l=s.charCodeAt(d);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function b(s,d,l){var v=p(s,l);return l-1>=d&&(v|=p(s,l-1)<<4),v}o.prototype._parseHex=function(s,d,l){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S=0,O=0,T;if(l==="be")for(v=s.length-1;v>=d;v-=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8;else{var _=s.length-d;for(v=_%2===0?d+1:d;v<s.length;v+=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8}this.strip()};function m(s,d,l,v){for(var S=0,O=Math.min(s.length,l),T=d;T<O;T++){var _=s.charCodeAt(T)-48;S*=v,_>=49?S+=_-49+10:_>=17?S+=_-17+10:S+=_}return S}o.prototype._parseBase=function(s,d,l){this.words=[0],this.length=1;for(var v=0,S=1;S<=67108863;S*=d)v++;v--,S=S/d|0;for(var O=s.length-l,T=O%v,_=Math.min(O,O-T)+l,c=0,w=l;w<_;w+=v)c=m(s,w,w+v,d),this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(T!==0){var x=1;for(c=m(s,w,s.length,d),w=0;w<T;w++)x*=d;this.imuln(x),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,d){s=s||10,d=d|0||1;var l;if(s===16||s==="hex"){l="";for(var v=0,S=0,O=0;O<this.length;O++){var T=this.words[O],_=((T<<v|S)&16777215).toString(16);S=T>>>24-v&16777215,S!==0||O!==this.length-1?l=y[6-_.length]+_+l:l=_+l,v+=2,v>=26&&(v-=26,O--)}for(S!==0&&(l=S.toString(16)+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(s===(s|0)&&s>=2&&s<=36){var c=A[s],w=I[s];l="";var x=this.clone();for(x.negative=0;!x.isZero();){var F=x.modn(w).toString(s);x=x.idivn(w),x.isZero()?l=F+l:l=y[c-F.length]+F+l}for(this.isZero()&&(l="0"+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(s,d){return n(typeof u<"u"),this.toArrayLike(u,s,d)},o.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},o.prototype.toArrayLike=function(s,d,l){var v=this.byteLength(),S=l||Math.max(1,v);n(v<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var O=d==="le",T=new s(S),_,c,w=this.clone();if(O){for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[c]=_;for(;c<S;c++)T[c]=0}else{for(c=0;c<S-v;c++)T[c]=0;for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[S-c-1]=_}return T},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var d=s,l=0;return d>=4096&&(l+=13,d>>>=13),d>=64&&(l+=7,d>>>=7),d>=8&&(l+=4,d>>>=4),d>=2&&(l+=2,d>>>=2),l+d},o.prototype._zeroBits=function(s){if(s===0)return 26;var d=s,l=0;return d&8191||(l+=13,d>>>=13),d&127||(l+=7,d>>>=7),d&15||(l+=4,d>>>=4),d&3||(l+=2,d>>>=2),d&1||l++,l},o.prototype.bitLength=function(){var s=this.words[this.length-1],d=this._countBits(s);return(this.length-1)*26+d};function M(s){for(var d=new Array(s.bitLength()),l=0;l<d.length;l++){var v=l/26|0,S=l%26;d[l]=(s.words[v]&1<<S)>>>S}return d}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var l=this._zeroBits(this.words[d]);if(s+=l,l!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},o.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var d;this.length>s.length?d=s:d=this;for(var l=0;l<d.length;l++)this.words[l]=this.words[l]&s.words[l];return this.length=d.length,this.strip()},o.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var d,l;this.length>s.length?(d=this,l=s):(d=s,l=this);for(var v=0;v<l.length;v++)this.words[v]=d.words[v]^l.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var d=Math.ceil(s/26)|0,l=s%26;this._expand(d),l>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return l>0&&(this.words[v]=~this.words[v]&67108863>>26-l),this.strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,d){n(typeof s=="number"&&s>=0);var l=s/26|0,v=s%26;return this._expand(l+1),d?this.words[l]=this.words[l]|1<<v:this.words[l]=this.words[l]&~(1<<v),this.strip()},o.prototype.iadd=function(s){var d;if(this.negative!==0&&s.negative===0)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();var l,v;this.length>s.length?(l=this,v=s):(l=s,v=this);for(var S=0,O=0;O<v.length;O++)d=(l.words[O]|0)+(v.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;for(;S!==0&&O<l.length;O++)d=(l.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;if(this.length=l.length,S!==0)this.words[this.length]=S,this.length++;else if(l!==this)for(;O<l.length;O++)this.words[O]=l.words[O];return this},o.prototype.add=function(s){var d;return s.negative!==0&&this.negative===0?(s.negative=0,d=this.sub(s),s.negative^=1,d):s.negative===0&&this.negative!==0?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var l=this.cmp(s);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,S;l>0?(v=this,S=s):(v=s,S=this);for(var O=0,T=0;T<S.length;T++)d=(v.words[T]|0)-(S.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;for(;O!==0&&T<v.length;T++)d=(v.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;if(O===0&&T<v.length&&v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this.length=Math.max(this.length,T),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function C(s,d,l){l.negative=d.negative^s.negative;var v=s.length+d.length|0;l.length=v,v=v-1|0;var S=s.words[0]|0,O=d.words[0]|0,T=S*O,_=T&67108863,c=T/67108864|0;l.words[0]=_;for(var w=1;w<v;w++){for(var x=c>>>26,F=c&67108863,q=Math.min(w,d.length-1),V=Math.max(0,w-s.length+1);V<=q;V++){var Y=w-V|0;S=s.words[Y]|0,O=d.words[V]|0,T=S*O+F,x+=T/67108864|0,F=T&67108863}l.words[w]=F|0,c=x|0}return c!==0?l.words[w]=c|0:l.length--,l.strip()}var P=function(s,d,l){var v=s.words,S=d.words,O=l.words,T=0,_,c,w,x=v[0]|0,F=x&8191,q=x>>>13,V=v[1]|0,Y=V&8191,Q=V>>>13,G=v[2]|0,H=G&8191,te=G>>>13,W=v[3]|0,U=W&8191,j=W>>>13,ee=v[4]|0,X=ee&8191,ne=ee>>>13,de=v[5]|0,re=de&8191,ae=de>>>13,ue=v[6]|0,se=ue&8191,le=ue>>>13,Re=v[7]|0,he=Re&8191,fe=Re>>>13,Fe=v[8]|0,me=Fe&8191,pe=Fe>>>13,Ue=v[9]|0,ye=Ue&8191,be=Ue>>>13,He=S[0]|0,$e=He&8191,Me=He>>>13,qe=S[1]|0,ge=qe&8191,Oe=qe>>>13,je=S[2]|0,ve=je&8191,Pe=je>>>13,Ke=S[3]|0,_e=Ke&8191,Ce=Ke>>>13,We=S[4]|0,Ee=We&8191,xe=We>>>13,ze=S[5]|0,we=ze&8191,Ne=ze>>>13,Ze=S[6]|0,Se=Ze&8191,Be=Ze>>>13,Xe=S[7]|0,Ae=Xe&8191,ke=Xe>>>13,Ye=S[8]|0,Te=Ye&8191,De=Ye>>>13,Je=S[9]|0,Ie=Je&8191,Le=Je>>>13;l.negative=s.negative^d.negative,l.length=19,_=Math.imul(F,$e),c=Math.imul(F,Me),c=c+Math.imul(q,$e)|0,w=Math.imul(q,Me);var Ve=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,_=Math.imul(Y,$e),c=Math.imul(Y,Me),c=c+Math.imul(Q,$e)|0,w=Math.imul(Q,Me),_=_+Math.imul(F,ge)|0,c=c+Math.imul(F,Oe)|0,c=c+Math.imul(q,ge)|0,w=w+Math.imul(q,Oe)|0;var Ge=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,_=Math.imul(H,$e),c=Math.imul(H,Me),c=c+Math.imul(te,$e)|0,w=Math.imul(te,Me),_=_+Math.imul(Y,ge)|0,c=c+Math.imul(Y,Oe)|0,c=c+Math.imul(Q,ge)|0,w=w+Math.imul(Q,Oe)|0,_=_+Math.imul(F,ve)|0,c=c+Math.imul(F,Pe)|0,c=c+Math.imul(q,ve)|0,w=w+Math.imul(q,Pe)|0;var Qe=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,_=Math.imul(U,$e),c=Math.imul(U,Me),c=c+Math.imul(j,$e)|0,w=Math.imul(j,Me),_=_+Math.imul(H,ge)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,Oe)|0,_=_+Math.imul(Y,ve)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(Q,ve)|0,w=w+Math.imul(Q,Pe)|0,_=_+Math.imul(F,_e)|0,c=c+Math.imul(F,Ce)|0,c=c+Math.imul(q,_e)|0,w=w+Math.imul(q,Ce)|0;var et=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(X,$e),c=Math.imul(X,Me),c=c+Math.imul(ne,$e)|0,w=Math.imul(ne,Me),_=_+Math.imul(U,ge)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(j,ge)|0,w=w+Math.imul(j,Oe)|0,_=_+Math.imul(H,ve)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(te,ve)|0,w=w+Math.imul(te,Pe)|0,_=_+Math.imul(Y,_e)|0,c=c+Math.imul(Y,Ce)|0,c=c+Math.imul(Q,_e)|0,w=w+Math.imul(Q,Ce)|0,_=_+Math.imul(F,Ee)|0,c=c+Math.imul(F,xe)|0,c=c+Math.imul(q,Ee)|0,w=w+Math.imul(q,xe)|0;var tt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,_=Math.imul(re,$e),c=Math.imul(re,Me),c=c+Math.imul(ae,$e)|0,w=Math.imul(ae,Me),_=_+Math.imul(X,ge)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(ne,ge)|0,w=w+Math.imul(ne,Oe)|0,_=_+Math.imul(U,ve)|0,c=c+Math.imul(U,Pe)|0,c=c+Math.imul(j,ve)|0,w=w+Math.imul(j,Pe)|0,_=_+Math.imul(H,_e)|0,c=c+Math.imul(H,Ce)|0,c=c+Math.imul(te,_e)|0,w=w+Math.imul(te,Ce)|0,_=_+Math.imul(Y,Ee)|0,c=c+Math.imul(Y,xe)|0,c=c+Math.imul(Q,Ee)|0,w=w+Math.imul(Q,xe)|0,_=_+Math.imul(F,we)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(q,we)|0,w=w+Math.imul(q,Ne)|0;var rt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,_=Math.imul(se,$e),c=Math.imul(se,Me),c=c+Math.imul(le,$e)|0,w=Math.imul(le,Me),_=_+Math.imul(re,ge)|0,c=c+Math.imul(re,Oe)|0,c=c+Math.imul(ae,ge)|0,w=w+Math.imul(ae,Oe)|0,_=_+Math.imul(X,ve)|0,c=c+Math.imul(X,Pe)|0,c=c+Math.imul(ne,ve)|0,w=w+Math.imul(ne,Pe)|0,_=_+Math.imul(U,_e)|0,c=c+Math.imul(U,Ce)|0,c=c+Math.imul(j,_e)|0,w=w+Math.imul(j,Ce)|0,_=_+Math.imul(H,Ee)|0,c=c+Math.imul(H,xe)|0,c=c+Math.imul(te,Ee)|0,w=w+Math.imul(te,xe)|0,_=_+Math.imul(Y,we)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(Q,we)|0,w=w+Math.imul(Q,Ne)|0,_=_+Math.imul(F,Se)|0,c=c+Math.imul(F,Be)|0,c=c+Math.imul(q,Se)|0,w=w+Math.imul(q,Be)|0;var nt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(he,$e),c=Math.imul(he,Me),c=c+Math.imul(fe,$e)|0,w=Math.imul(fe,Me),_=_+Math.imul(se,ge)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,ge)|0,w=w+Math.imul(le,Oe)|0,_=_+Math.imul(re,ve)|0,c=c+Math.imul(re,Pe)|0,c=c+Math.imul(ae,ve)|0,w=w+Math.imul(ae,Pe)|0,_=_+Math.imul(X,_e)|0,c=c+Math.imul(X,Ce)|0,c=c+Math.imul(ne,_e)|0,w=w+Math.imul(ne,Ce)|0,_=_+Math.imul(U,Ee)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(j,Ee)|0,w=w+Math.imul(j,xe)|0,_=_+Math.imul(H,we)|0,c=c+Math.imul(H,Ne)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Ne)|0,_=_+Math.imul(Y,Se)|0,c=c+Math.imul(Y,Be)|0,c=c+Math.imul(Q,Se)|0,w=w+Math.imul(Q,Be)|0,_=_+Math.imul(F,Ae)|0,c=c+Math.imul(F,ke)|0,c=c+Math.imul(q,Ae)|0,w=w+Math.imul(q,ke)|0;var it=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(it>>>26)|0,it&=67108863,_=Math.imul(me,$e),c=Math.imul(me,Me),c=c+Math.imul(pe,$e)|0,w=Math.imul(pe,Me),_=_+Math.imul(he,ge)|0,c=c+Math.imul(he,Oe)|0,c=c+Math.imul(fe,ge)|0,w=w+Math.imul(fe,Oe)|0,_=_+Math.imul(se,ve)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(le,ve)|0,w=w+Math.imul(le,Pe)|0,_=_+Math.imul(re,_e)|0,c=c+Math.imul(re,Ce)|0,c=c+Math.imul(ae,_e)|0,w=w+Math.imul(ae,Ce)|0,_=_+Math.imul(X,Ee)|0,c=c+Math.imul(X,xe)|0,c=c+Math.imul(ne,Ee)|0,w=w+Math.imul(ne,xe)|0,_=_+Math.imul(U,we)|0,c=c+Math.imul(U,Ne)|0,c=c+Math.imul(j,we)|0,w=w+Math.imul(j,Ne)|0,_=_+Math.imul(H,Se)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(te,Se)|0,w=w+Math.imul(te,Be)|0,_=_+Math.imul(Y,Ae)|0,c=c+Math.imul(Y,ke)|0,c=c+Math.imul(Q,Ae)|0,w=w+Math.imul(Q,ke)|0,_=_+Math.imul(F,Te)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(q,Te)|0,w=w+Math.imul(q,De)|0;var ot=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,_=Math.imul(ye,$e),c=Math.imul(ye,Me),c=c+Math.imul(be,$e)|0,w=Math.imul(be,Me),_=_+Math.imul(me,ge)|0,c=c+Math.imul(me,Oe)|0,c=c+Math.imul(pe,ge)|0,w=w+Math.imul(pe,Oe)|0,_=_+Math.imul(he,ve)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(fe,ve)|0,w=w+Math.imul(fe,Pe)|0,_=_+Math.imul(se,_e)|0,c=c+Math.imul(se,Ce)|0,c=c+Math.imul(le,_e)|0,w=w+Math.imul(le,Ce)|0,_=_+Math.imul(re,Ee)|0,c=c+Math.imul(re,xe)|0,c=c+Math.imul(ae,Ee)|0,w=w+Math.imul(ae,xe)|0,_=_+Math.imul(X,we)|0,c=c+Math.imul(X,Ne)|0,c=c+Math.imul(ne,we)|0,w=w+Math.imul(ne,Ne)|0,_=_+Math.imul(U,Se)|0,c=c+Math.imul(U,Be)|0,c=c+Math.imul(j,Se)|0,w=w+Math.imul(j,Be)|0,_=_+Math.imul(H,Ae)|0,c=c+Math.imul(H,ke)|0,c=c+Math.imul(te,Ae)|0,w=w+Math.imul(te,ke)|0,_=_+Math.imul(Y,Te)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(Q,Te)|0,w=w+Math.imul(Q,De)|0,_=_+Math.imul(F,Ie)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(q,Ie)|0,w=w+Math.imul(q,Le)|0;var st=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,_=Math.imul(ye,ge),c=Math.imul(ye,Oe),c=c+Math.imul(be,ge)|0,w=Math.imul(be,Oe),_=_+Math.imul(me,ve)|0,c=c+Math.imul(me,Pe)|0,c=c+Math.imul(pe,ve)|0,w=w+Math.imul(pe,Pe)|0,_=_+Math.imul(he,_e)|0,c=c+Math.imul(he,Ce)|0,c=c+Math.imul(fe,_e)|0,w=w+Math.imul(fe,Ce)|0,_=_+Math.imul(se,Ee)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,Ee)|0,w=w+Math.imul(le,xe)|0,_=_+Math.imul(re,we)|0,c=c+Math.imul(re,Ne)|0,c=c+Math.imul(ae,we)|0,w=w+Math.imul(ae,Ne)|0,_=_+Math.imul(X,Se)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(ne,Se)|0,w=w+Math.imul(ne,Be)|0,_=_+Math.imul(U,Ae)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(j,Ae)|0,w=w+Math.imul(j,ke)|0,_=_+Math.imul(H,Te)|0,c=c+Math.imul(H,De)|0,c=c+Math.imul(te,Te)|0,w=w+Math.imul(te,De)|0,_=_+Math.imul(Y,Ie)|0,c=c+Math.imul(Y,Le)|0,c=c+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Le)|0;var ct=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(ye,ve),c=Math.imul(ye,Pe),c=c+Math.imul(be,ve)|0,w=Math.imul(be,Pe),_=_+Math.imul(me,_e)|0,c=c+Math.imul(me,Ce)|0,c=c+Math.imul(pe,_e)|0,w=w+Math.imul(pe,Ce)|0,_=_+Math.imul(he,Ee)|0,c=c+Math.imul(he,xe)|0,c=c+Math.imul(fe,Ee)|0,w=w+Math.imul(fe,xe)|0,_=_+Math.imul(se,we)|0,c=c+Math.imul(se,Ne)|0,c=c+Math.imul(le,we)|0,w=w+Math.imul(le,Ne)|0,_=_+Math.imul(re,Se)|0,c=c+Math.imul(re,Be)|0,c=c+Math.imul(ae,Se)|0,w=w+Math.imul(ae,Be)|0,_=_+Math.imul(X,Ae)|0,c=c+Math.imul(X,ke)|0,c=c+Math.imul(ne,Ae)|0,w=w+Math.imul(ne,ke)|0,_=_+Math.imul(U,Te)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(j,Te)|0,w=w+Math.imul(j,De)|0,_=_+Math.imul(H,Ie)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(te,Ie)|0,w=w+Math.imul(te,Le)|0;var lt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(ye,_e),c=Math.imul(ye,Ce),c=c+Math.imul(be,_e)|0,w=Math.imul(be,Ce),_=_+Math.imul(me,Ee)|0,c=c+Math.imul(me,xe)|0,c=c+Math.imul(pe,Ee)|0,w=w+Math.imul(pe,xe)|0,_=_+Math.imul(he,we)|0,c=c+Math.imul(he,Ne)|0,c=c+Math.imul(fe,we)|0,w=w+Math.imul(fe,Ne)|0,_=_+Math.imul(se,Se)|0,c=c+Math.imul(se,Be)|0,c=c+Math.imul(le,Se)|0,w=w+Math.imul(le,Be)|0,_=_+Math.imul(re,Ae)|0,c=c+Math.imul(re,ke)|0,c=c+Math.imul(ae,Ae)|0,w=w+Math.imul(ae,ke)|0,_=_+Math.imul(X,Te)|0,c=c+Math.imul(X,De)|0,c=c+Math.imul(ne,Te)|0,w=w+Math.imul(ne,De)|0,_=_+Math.imul(U,Ie)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(j,Ie)|0,w=w+Math.imul(j,Le)|0;var dt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(ye,Ee),c=Math.imul(ye,xe),c=c+Math.imul(be,Ee)|0,w=Math.imul(be,xe),_=_+Math.imul(me,we)|0,c=c+Math.imul(me,Ne)|0,c=c+Math.imul(pe,we)|0,w=w+Math.imul(pe,Ne)|0,_=_+Math.imul(he,Se)|0,c=c+Math.imul(he,Be)|0,c=c+Math.imul(fe,Se)|0,w=w+Math.imul(fe,Be)|0,_=_+Math.imul(se,Ae)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ae)|0,w=w+Math.imul(le,ke)|0,_=_+Math.imul(re,Te)|0,c=c+Math.imul(re,De)|0,c=c+Math.imul(ae,Te)|0,w=w+Math.imul(ae,De)|0,_=_+Math.imul(X,Ie)|0,c=c+Math.imul(X,Le)|0,c=c+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Le)|0;var ht=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,we),c=Math.imul(ye,Ne),c=c+Math.imul(be,we)|0,w=Math.imul(be,Ne),_=_+Math.imul(me,Se)|0,c=c+Math.imul(me,Be)|0,c=c+Math.imul(pe,Se)|0,w=w+Math.imul(pe,Be)|0,_=_+Math.imul(he,Ae)|0,c=c+Math.imul(he,ke)|0,c=c+Math.imul(fe,Ae)|0,w=w+Math.imul(fe,ke)|0,_=_+Math.imul(se,Te)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,Te)|0,w=w+Math.imul(le,De)|0,_=_+Math.imul(re,Ie)|0,c=c+Math.imul(re,Le)|0,c=c+Math.imul(ae,Ie)|0,w=w+Math.imul(ae,Le)|0;var ft=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,_=Math.imul(ye,Se),c=Math.imul(ye,Be),c=c+Math.imul(be,Se)|0,w=Math.imul(be,Be),_=_+Math.imul(me,Ae)|0,c=c+Math.imul(me,ke)|0,c=c+Math.imul(pe,Ae)|0,w=w+Math.imul(pe,ke)|0,_=_+Math.imul(he,Te)|0,c=c+Math.imul(he,De)|0,c=c+Math.imul(fe,Te)|0,w=w+Math.imul(fe,De)|0,_=_+Math.imul(se,Ie)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ie)|0,w=w+Math.imul(le,Le)|0;var pt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,_=Math.imul(ye,Ae),c=Math.imul(ye,ke),c=c+Math.imul(be,Ae)|0,w=Math.imul(be,ke),_=_+Math.imul(me,Te)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(pe,Te)|0,w=w+Math.imul(pe,De)|0,_=_+Math.imul(he,Ie)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(fe,Ie)|0,w=w+Math.imul(fe,Le)|0;var mt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(ye,Te),c=Math.imul(ye,De),c=c+Math.imul(be,Te)|0,w=Math.imul(be,De),_=_+Math.imul(me,Ie)|0,c=c+Math.imul(me,Le)|0,c=c+Math.imul(pe,Ie)|0,w=w+Math.imul(pe,Le)|0;var yt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(ye,Ie),c=Math.imul(ye,Le),c=c+Math.imul(be,Ie)|0,w=Math.imul(be,Le);var gt=(T+_|0)+((c&8191)<<13)|0;return T=(w+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,O[0]=Ve,O[1]=Ge,O[2]=Qe,O[3]=et,O[4]=tt,O[5]=rt,O[6]=nt,O[7]=it,O[8]=ot,O[9]=st,O[10]=ct,O[11]=lt,O[12]=dt,O[13]=ht,O[14]=ft,O[15]=pt,O[16]=mt,O[17]=yt,O[18]=gt,T!==0&&(O[19]=T,l.length++),l};Math.imul||(P=C);function B(s,d,l){l.negative=d.negative^s.negative,l.length=s.length+d.length;for(var v=0,S=0,O=0;O<l.length-1;O++){var T=S;S=0;for(var _=v&67108863,c=Math.min(O,d.length-1),w=Math.max(0,O-s.length+1);w<=c;w++){var x=O-w,F=s.words[x]|0,q=d.words[w]|0,V=F*q,Y=V&67108863;T=T+(V/67108864|0)|0,Y=Y+_|0,_=Y&67108863,T=T+(Y>>>26)|0,S+=T>>>26,T&=67108863}l.words[O]=_,v=T,T=S}return v!==0?l.words[O]=v:l.length--,l.strip()}function k(s,d,l){var v=new N;return v.mulp(s,d,l)}o.prototype.mulTo=function(s,d){var l,v=this.length+s.length;return this.length===10&&s.length===10?l=P(this,s,d):v<63?l=C(this,s,d):v<1024?l=B(this,s,d):l=k(this,s,d),l};function N(s,d){this.x=s,this.y=d}N.prototype.makeRBT=function(s){for(var d=new Array(s),l=o.prototype._countBits(s)-1,v=0;v<s;v++)d[v]=this.revBin(v,l,s);return d},N.prototype.revBin=function(s,d,l){if(s===0||s===l-1)return s;for(var v=0,S=0;S<d;S++)v|=(s&1)<<d-S-1,s>>=1;return v},N.prototype.permute=function(s,d,l,v,S,O){for(var T=0;T<O;T++)v[T]=d[s[T]],S[T]=l[s[T]]},N.prototype.transform=function(s,d,l,v,S,O){this.permute(O,s,d,l,v,S);for(var T=1;T<S;T<<=1)for(var _=T<<1,c=Math.cos(2*Math.PI/_),w=Math.sin(2*Math.PI/_),x=0;x<S;x+=_)for(var F=c,q=w,V=0;V<T;V++){var Y=l[x+V],Q=v[x+V],G=l[x+V+T],H=v[x+V+T],te=F*G-q*H;H=F*H+q*G,G=te,l[x+V]=Y+G,v[x+V]=Q+H,l[x+V+T]=Y-G,v[x+V+T]=Q-H,V!==_&&(te=c*F-w*q,q=c*q+w*F,F=te)}},N.prototype.guessLen13b=function(s,d){var l=Math.max(d,s)|1,v=l&1,S=0;for(l=l/2|0;l;l=l>>>1)S++;return 1<<S+1+v},N.prototype.conjugate=function(s,d,l){if(!(l<=1))for(var v=0;v<l/2;v++){var S=s[v];s[v]=s[l-v-1],s[l-v-1]=S,S=d[v],d[v]=-d[l-v-1],d[l-v-1]=-S}},N.prototype.normalize13b=function(s,d){for(var l=0,v=0;v<d/2;v++){var S=Math.round(s[2*v+1]/d)*8192+Math.round(s[2*v]/d)+l;s[v]=S&67108863,S<67108864?l=0:l=S/67108864|0}return s},N.prototype.convert13b=function(s,d,l,v){for(var S=0,O=0;O<d;O++)S=S+(s[O]|0),l[2*O]=S&8191,S=S>>>13,l[2*O+1]=S&8191,S=S>>>13;for(O=2*d;O<v;++O)l[O]=0;n(S===0),n((S&-8192)===0)},N.prototype.stub=function(s){for(var d=new Array(s),l=0;l<s;l++)d[l]=0;return d},N.prototype.mulp=function(s,d,l){var v=2*this.guessLen13b(s.length,d.length),S=this.makeRBT(v),O=this.stub(v),T=new Array(v),_=new Array(v),c=new Array(v),w=new Array(v),x=new Array(v),F=new Array(v),q=l.words;q.length=v,this.convert13b(s.words,s.length,T,v),this.convert13b(d.words,d.length,w,v),this.transform(T,O,_,c,v,S),this.transform(w,O,x,F,v,S);for(var V=0;V<v;V++){var Y=_[V]*x[V]-c[V]*F[V];c[V]=_[V]*F[V]+c[V]*x[V],_[V]=Y}return this.conjugate(_,c,v),this.transform(_,c,q,O,v,S),this.conjugate(q,O,v),this.normalize13b(q,v),l.negative=s.negative^d.negative,l.length=s.length+d.length,l.strip()},o.prototype.mul=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},o.prototype.mulf=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),k(this,s,d)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var d=0,l=0;l<this.length;l++){var v=(this.words[l]|0)*s,S=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=S>>>26,this.words[l]=S&67108863}return d!==0&&(this.words[l]=d,this.length++),this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var d=M(s);if(d.length===0)return new o(1);for(var l=this,v=0;v<d.length&&d[v]===0;v++,l=l.sqr());if(++v<d.length)for(var S=l.sqr();v<d.length;v++,S=S.sqr())d[v]!==0&&(l=l.mul(S));return l},o.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=67108863>>>26-d<<26-d,S;if(d!==0){var O=0;for(S=0;S<this.length;S++){var T=this.words[S]&v,_=(this.words[S]|0)-T<<d;this.words[S]=_|O,O=T>>>26-d}O&&(this.words[S]=O,this.length++)}if(l!==0){for(S=this.length-1;S>=0;S--)this.words[S+l]=this.words[S];for(S=0;S<l;S++)this.words[S]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,d,l){n(typeof s=="number"&&s>=0);var v;d?v=(d-d%26)/26:v=0;var S=s%26,O=Math.min((s-S)/26,this.length),T=67108863^67108863>>>S<<S,_=l;if(v-=O,v=Math.max(0,v),_){for(var c=0;c<O;c++)_.words[c]=this.words[c];_.length=O}if(O!==0)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=v);c--){var x=this.words[c]|0;this.words[c]=w<<26-S|x>>>S,w=x&T}return _&&w!==0&&(_.words[_.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(s,d,l){return n(this.negative===0),this.iushrn(s,d,l)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return!1;var S=this.words[l];return!!(S&v)},o.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(d!==0&&l++,this.length=Math.min(l,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,d,l){var v=s.length+l,S;this._expand(v);var O,T=0;for(S=0;S<s.length;S++){O=(this.words[S+l]|0)+T;var _=(s.words[S]|0)*d;O-=_&67108863,T=(O>>26)-(_/67108864|0),this.words[S+l]=O&67108863}for(;S<this.length-l;S++)O=(this.words[S+l]|0)+T,T=O>>26,this.words[S+l]=O&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,S=0;S<this.length;S++)O=-(this.words[S]|0)+T,T=O>>26,this.words[S]=O&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(s,d){var l=this.length-s.length,v=this.clone(),S=s,O=S.words[S.length-1]|0,T=this._countBits(O);l=26-T,l!==0&&(S=S.ushln(l),v.iushln(l),O=S.words[S.length-1]|0);var _=v.length-S.length,c;if(d!=="mod"){c=new o(null),c.length=_+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var x=v.clone()._ishlnsubmul(S,1,_);x.negative===0&&(v=x,c&&(c.words[_]=1));for(var F=_-1;F>=0;F--){var q=(v.words[S.length+F]|0)*67108864+(v.words[S.length+F-1]|0);for(q=Math.min(q/O|0,67108863),v._ishlnsubmul(S,q,F);v.negative!==0;)q--,v.negative=0,v._ishlnsubmul(S,1,F),v.isZero()||(v.negative^=1);c&&(c.words[F]=q)}return c&&c.strip(),v.strip(),d!=="div"&&l!==0&&v.iushrn(l),{div:c||null,mod:v}},o.prototype.divmod=function(s,d,l){if(n(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,S,O;return this.negative!==0&&s.negative===0?(O=this.neg().divmod(s,d),d!=="mod"&&(v=O.div.neg()),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.iadd(s)),{div:v,mod:S}):this.negative===0&&s.negative!==0?(O=this.divmod(s.neg(),d),d!=="mod"&&(v=O.div.neg()),{div:v,mod:O.mod}):this.negative&s.negative?(O=this.neg().divmod(s.neg(),d),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.isub(s)),{div:O.div,mod:S}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?d==="div"?{div:this.divn(s.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modn(s.words[0]))}:this._wordDiv(s,d)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var l=d.div.negative!==0?d.mod.isub(s):d.mod,v=s.ushrn(1),S=s.andln(1),O=l.cmp(v);return O<0||S===1&&O===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(s){n(s<=67108863);for(var d=(1<<26)%s,l=0,v=this.length-1;v>=0;v--)l=(d*l+(this.words[v]|0))%s;return l},o.prototype.idivn=function(s){n(s<=67108863);for(var d=0,l=this.length-1;l>=0;l--){var v=(this.words[l]|0)+d*67108864;this.words[l]=v/s|0,d=v%s}return this.strip()},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=new o(0),T=new o(1),_=0;d.isEven()&&l.isEven();)d.iushrn(1),l.iushrn(1),++_;for(var c=l.clone(),w=d.clone();!d.isZero();){for(var x=0,F=1;!(d.words[0]&F)&&x<26;++x,F<<=1);if(x>0)for(d.iushrn(x);x-- >0;)(v.isOdd()||S.isOdd())&&(v.iadd(c),S.isub(w)),v.iushrn(1),S.iushrn(1);for(var q=0,V=1;!(l.words[0]&V)&&q<26;++q,V<<=1);if(q>0)for(l.iushrn(q);q-- >0;)(O.isOdd()||T.isOdd())&&(O.iadd(c),T.isub(w)),O.iushrn(1),T.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(O),S.isub(T)):(l.isub(d),O.isub(v),T.isub(S))}return{a:O,b:T,gcd:l.iushln(_)}},o.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=l.clone();d.cmpn(1)>0&&l.cmpn(1)>0;){for(var T=0,_=1;!(d.words[0]&_)&&T<26;++T,_<<=1);if(T>0)for(d.iushrn(T);T-- >0;)v.isOdd()&&v.iadd(O),v.iushrn(1);for(var c=0,w=1;!(l.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(l.iushrn(c);c-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(S)):(l.isub(d),S.isub(v))}var x;return d.cmpn(1)===0?x=v:x=S,x.cmpn(0)<0&&x.iadd(s),x},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),l=s.clone();d.negative=0,l.negative=0;for(var v=0;d.isEven()&&l.isEven();v++)d.iushrn(1),l.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;l.isEven();)l.iushrn(1);var S=d.cmp(l);if(S<0){var O=d;d=l,l=O}else if(S===0||l.cmpn(1)===0)break;d.isub(l)}while(!0);return l.iushln(v)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){n(typeof s=="number");var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return this._expand(l+1),this.words[l]|=v,this;for(var S=v,O=l;S!==0&&O<this.length;O++){var T=this.words[O]|0;T+=S,S=T>>>26,T&=67108863,this.words[O]=T}return S!==0&&(this.words[O]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var d=s<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var l;if(this.length>1)l=1;else{d&&(s=-s),n(s<=67108863,"Number is too big");var v=this.words[0]|0;l=v===s?0:v<s?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var d=this.ucmp(s);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,l=this.length-1;l>=0;l--){var v=this.words[l]|0,S=s.words[l]|0;if(v!==S){v<S?d=-1:v>S&&(d=1);break}}return d},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new Z(s)},o.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function L(s,d){this.name=s,this.p=new o(d,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},L.prototype.ireduce=function(s){var d=s,l;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),l=d.bitLength();while(l>this.n);var v=l<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},L.prototype.split=function(s,d){s.iushrn(this.n,0,d)},L.prototype.imulK=function(s){return s.imul(this.k)};function K(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(K,L),K.prototype.split=function(s,d){for(var l=4194303,v=Math.min(s.length,9),S=0;S<v;S++)d.words[S]=s.words[S];if(d.length=v,s.length<=9){s.words[0]=0,s.length=1;return}var O=s.words[9];for(d.words[d.length++]=O&l,S=10;S<s.length;S++){var T=s.words[S]|0;s.words[S-10]=(T&l)<<4|O>>>22,O=T}O>>>=22,s.words[S-10]=O,O===0&&s.length>10?s.length-=10:s.length-=9},K.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,l=0;l<s.length;l++){var v=s.words[l]|0;d+=v*977,s.words[l]=d&67108863,d=v*64+(d/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function J(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,L);function ce(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ce,L);function oe(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(oe,L),oe.prototype.imulK=function(s){for(var d=0,l=0;l<s.length;l++){var v=(s.words[l]|0)*19+d,S=v&67108863;v>>>=26,s.words[l]=S,d=v}return d!==0&&(s.words[s.length++]=d),s},o._prime=function(s){if(D[s])return D[s];var d;if(s==="k256")d=new K;else if(s==="p224")d=new J;else if(s==="p192")d=new ce;else if(s==="p25519")d=new oe;else throw new Error("Unknown prime "+s);return D[s]=d,d};function Z(s){if(typeof s=="string"){var d=o._prime(s);this.m=d.p,this.prime=d}else n(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}Z.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Z.prototype._verify2=function(s,d){n((s.negative|d.negative)===0,"red works only with positives"),n(s.red&&s.red===d.red,"red works only with red numbers")},Z.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Z.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Z.prototype.add=function(s,d){this._verify2(s,d);var l=s.add(d);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},Z.prototype.iadd=function(s,d){this._verify2(s,d);var l=s.iadd(d);return l.cmp(this.m)>=0&&l.isub(this.m),l},Z.prototype.sub=function(s,d){this._verify2(s,d);var l=s.sub(d);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},Z.prototype.isub=function(s,d){this._verify2(s,d);var l=s.isub(d);return l.cmpn(0)<0&&l.iadd(this.m),l},Z.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},Z.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},Z.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},Z.prototype.isqr=function(s){return this.imul(s,s.clone())},Z.prototype.sqr=function(s){return this.mul(s,s)},Z.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(s,l)}for(var v=this.m.subn(1),S=0;!v.isZero()&&v.andln(1)===0;)S++,v.iushrn(1);n(!v.isZero());var O=new o(1).toRed(this),T=O.redNeg(),_=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,_).cmp(T)!==0;)c.redIAdd(T);for(var w=this.pow(c,v),x=this.pow(s,v.addn(1).iushrn(1)),F=this.pow(s,v),q=S;F.cmp(O)!==0;){for(var V=F,Y=0;V.cmp(O)!==0;Y++)V=V.redSqr();n(Y<q);var Q=this.pow(w,new o(1).iushln(q-Y-1));x=x.redMul(Q),w=Q.redSqr(),F=F.redMul(w),q=Y}return x},Z.prototype.invm=function(s){var d=s._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Z.prototype.pow=function(s,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return s.clone();var l=4,v=new Array(1<<l);v[0]=new o(1).toRed(this),v[1]=s;for(var S=2;S<v.length;S++)v[S]=this.mul(v[S-1],s);var O=v[0],T=0,_=0,c=d.bitLength()%26;for(c===0&&(c=26),S=d.length-1;S>=0;S--){for(var w=d.words[S],x=c-1;x>=0;x--){var F=w>>x&1;if(O!==v[0]&&(O=this.sqr(O)),F===0&&T===0){_=0;continue}T<<=1,T|=F,_++,!(_!==l&&(S!==0||x!==0))&&(O=this.mul(O,v[T]),_=0,T=0)}c=26}return O},Z.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},Z.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},o.mont=function(s){return new ie(s)};function ie(s){Z.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(ie,Z),ie.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ie.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},ie.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var l=s.imul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new o(0)._forceRed(this);var l=s.mul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.invm=function(s){var d=this.imod(s._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,commonjsGlobal)}(bn$5)),bn$5.exports}var bn$4={exports:{}};bn$4.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(e){(function(t,r){function n(s,d){if(!s)throw new Error(d||"Assertion failed")}function a(s,d){s.super_=d;var l=function(){};l.prototype=d.prototype,s.prototype=new l,s.prototype.constructor=s}function o(s,d,l){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((d==="le"||d==="be")&&(l=d,d=10),this._init(s||0,d||10,l||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$1.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,d){return s.cmp(d)>0?s:d},o.min=function(s,d){return s.cmp(d)<0?s:d},o.prototype._init=function(s,d,l){if(typeof s=="number")return this._initNumber(s,d,l);if(typeof s=="object")return this._initArray(s,d,l);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),s=s.toString().replace(/\s+/g,"");var v=0;s[0]==="-"&&(v++,this.negative=1),v<s.length&&(d===16?this._parseHex(s,v,l):(this._parseBase(s,d,v),l==="le"&&this._initArray(this.toArray(),d,l)))},o.prototype._initNumber=function(s,d,l){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),d,l)},o.prototype._initArray=function(s,d,l){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S,O,T=0;if(l==="be")for(v=s.length-1,S=0;v>=0;v-=3)O=s[v]|s[v-1]<<8|s[v-2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);else if(l==="le")for(v=0,S=0;v<s.length;v+=3)O=s[v]|s[v+1]<<8|s[v+2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);return this.strip()};function p(s,d){var l=s.charCodeAt(d);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function b(s,d,l){var v=p(s,l);return l-1>=d&&(v|=p(s,l-1)<<4),v}o.prototype._parseHex=function(s,d,l){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S=0,O=0,T;if(l==="be")for(v=s.length-1;v>=d;v-=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8;else{var _=s.length-d;for(v=_%2===0?d+1:d;v<s.length;v+=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8}this.strip()};function m(s,d,l,v){for(var S=0,O=Math.min(s.length,l),T=d;T<O;T++){var _=s.charCodeAt(T)-48;S*=v,_>=49?S+=_-49+10:_>=17?S+=_-17+10:S+=_}return S}o.prototype._parseBase=function(s,d,l){this.words=[0],this.length=1;for(var v=0,S=1;S<=67108863;S*=d)v++;v--,S=S/d|0;for(var O=s.length-l,T=O%v,_=Math.min(O,O-T)+l,c=0,w=l;w<_;w+=v)c=m(s,w,w+v,d),this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(T!==0){var x=1;for(c=m(s,w,s.length,d),w=0;w<T;w++)x*=d;this.imuln(x),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,d){s=s||10,d=d|0||1;var l;if(s===16||s==="hex"){l="";for(var v=0,S=0,O=0;O<this.length;O++){var T=this.words[O],_=((T<<v|S)&16777215).toString(16);S=T>>>24-v&16777215,S!==0||O!==this.length-1?l=y[6-_.length]+_+l:l=_+l,v+=2,v>=26&&(v-=26,O--)}for(S!==0&&(l=S.toString(16)+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(s===(s|0)&&s>=2&&s<=36){var c=A[s],w=I[s];l="";var x=this.clone();for(x.negative=0;!x.isZero();){var F=x.modn(w).toString(s);x=x.idivn(w),x.isZero()?l=F+l:l=y[c-F.length]+F+l}for(this.isZero()&&(l="0"+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(s,d){return n(typeof u<"u"),this.toArrayLike(u,s,d)},o.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},o.prototype.toArrayLike=function(s,d,l){var v=this.byteLength(),S=l||Math.max(1,v);n(v<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var O=d==="le",T=new s(S),_,c,w=this.clone();if(O){for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[c]=_;for(;c<S;c++)T[c]=0}else{for(c=0;c<S-v;c++)T[c]=0;for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[S-c-1]=_}return T},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var d=s,l=0;return d>=4096&&(l+=13,d>>>=13),d>=64&&(l+=7,d>>>=7),d>=8&&(l+=4,d>>>=4),d>=2&&(l+=2,d>>>=2),l+d},o.prototype._zeroBits=function(s){if(s===0)return 26;var d=s,l=0;return d&8191||(l+=13,d>>>=13),d&127||(l+=7,d>>>=7),d&15||(l+=4,d>>>=4),d&3||(l+=2,d>>>=2),d&1||l++,l},o.prototype.bitLength=function(){var s=this.words[this.length-1],d=this._countBits(s);return(this.length-1)*26+d};function M(s){for(var d=new Array(s.bitLength()),l=0;l<d.length;l++){var v=l/26|0,S=l%26;d[l]=(s.words[v]&1<<S)>>>S}return d}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var l=this._zeroBits(this.words[d]);if(s+=l,l!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},o.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var d;this.length>s.length?d=s:d=this;for(var l=0;l<d.length;l++)this.words[l]=this.words[l]&s.words[l];return this.length=d.length,this.strip()},o.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var d,l;this.length>s.length?(d=this,l=s):(d=s,l=this);for(var v=0;v<l.length;v++)this.words[v]=d.words[v]^l.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var d=Math.ceil(s/26)|0,l=s%26;this._expand(d),l>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return l>0&&(this.words[v]=~this.words[v]&67108863>>26-l),this.strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,d){n(typeof s=="number"&&s>=0);var l=s/26|0,v=s%26;return this._expand(l+1),d?this.words[l]=this.words[l]|1<<v:this.words[l]=this.words[l]&~(1<<v),this.strip()},o.prototype.iadd=function(s){var d;if(this.negative!==0&&s.negative===0)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();var l,v;this.length>s.length?(l=this,v=s):(l=s,v=this);for(var S=0,O=0;O<v.length;O++)d=(l.words[O]|0)+(v.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;for(;S!==0&&O<l.length;O++)d=(l.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;if(this.length=l.length,S!==0)this.words[this.length]=S,this.length++;else if(l!==this)for(;O<l.length;O++)this.words[O]=l.words[O];return this},o.prototype.add=function(s){var d;return s.negative!==0&&this.negative===0?(s.negative=0,d=this.sub(s),s.negative^=1,d):s.negative===0&&this.negative!==0?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var l=this.cmp(s);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,S;l>0?(v=this,S=s):(v=s,S=this);for(var O=0,T=0;T<S.length;T++)d=(v.words[T]|0)-(S.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;for(;O!==0&&T<v.length;T++)d=(v.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;if(O===0&&T<v.length&&v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this.length=Math.max(this.length,T),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function C(s,d,l){l.negative=d.negative^s.negative;var v=s.length+d.length|0;l.length=v,v=v-1|0;var S=s.words[0]|0,O=d.words[0]|0,T=S*O,_=T&67108863,c=T/67108864|0;l.words[0]=_;for(var w=1;w<v;w++){for(var x=c>>>26,F=c&67108863,q=Math.min(w,d.length-1),V=Math.max(0,w-s.length+1);V<=q;V++){var Y=w-V|0;S=s.words[Y]|0,O=d.words[V]|0,T=S*O+F,x+=T/67108864|0,F=T&67108863}l.words[w]=F|0,c=x|0}return c!==0?l.words[w]=c|0:l.length--,l.strip()}var P=function(s,d,l){var v=s.words,S=d.words,O=l.words,T=0,_,c,w,x=v[0]|0,F=x&8191,q=x>>>13,V=v[1]|0,Y=V&8191,Q=V>>>13,G=v[2]|0,H=G&8191,te=G>>>13,W=v[3]|0,U=W&8191,j=W>>>13,ee=v[4]|0,X=ee&8191,ne=ee>>>13,de=v[5]|0,re=de&8191,ae=de>>>13,ue=v[6]|0,se=ue&8191,le=ue>>>13,Re=v[7]|0,he=Re&8191,fe=Re>>>13,Fe=v[8]|0,me=Fe&8191,pe=Fe>>>13,Ue=v[9]|0,ye=Ue&8191,be=Ue>>>13,He=S[0]|0,$e=He&8191,Me=He>>>13,qe=S[1]|0,ge=qe&8191,Oe=qe>>>13,je=S[2]|0,ve=je&8191,Pe=je>>>13,Ke=S[3]|0,_e=Ke&8191,Ce=Ke>>>13,We=S[4]|0,Ee=We&8191,xe=We>>>13,ze=S[5]|0,we=ze&8191,Ne=ze>>>13,Ze=S[6]|0,Se=Ze&8191,Be=Ze>>>13,Xe=S[7]|0,Ae=Xe&8191,ke=Xe>>>13,Ye=S[8]|0,Te=Ye&8191,De=Ye>>>13,Je=S[9]|0,Ie=Je&8191,Le=Je>>>13;l.negative=s.negative^d.negative,l.length=19,_=Math.imul(F,$e),c=Math.imul(F,Me),c=c+Math.imul(q,$e)|0,w=Math.imul(q,Me);var Ve=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,_=Math.imul(Y,$e),c=Math.imul(Y,Me),c=c+Math.imul(Q,$e)|0,w=Math.imul(Q,Me),_=_+Math.imul(F,ge)|0,c=c+Math.imul(F,Oe)|0,c=c+Math.imul(q,ge)|0,w=w+Math.imul(q,Oe)|0;var Ge=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,_=Math.imul(H,$e),c=Math.imul(H,Me),c=c+Math.imul(te,$e)|0,w=Math.imul(te,Me),_=_+Math.imul(Y,ge)|0,c=c+Math.imul(Y,Oe)|0,c=c+Math.imul(Q,ge)|0,w=w+Math.imul(Q,Oe)|0,_=_+Math.imul(F,ve)|0,c=c+Math.imul(F,Pe)|0,c=c+Math.imul(q,ve)|0,w=w+Math.imul(q,Pe)|0;var Qe=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,_=Math.imul(U,$e),c=Math.imul(U,Me),c=c+Math.imul(j,$e)|0,w=Math.imul(j,Me),_=_+Math.imul(H,ge)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,Oe)|0,_=_+Math.imul(Y,ve)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(Q,ve)|0,w=w+Math.imul(Q,Pe)|0,_=_+Math.imul(F,_e)|0,c=c+Math.imul(F,Ce)|0,c=c+Math.imul(q,_e)|0,w=w+Math.imul(q,Ce)|0;var et=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(X,$e),c=Math.imul(X,Me),c=c+Math.imul(ne,$e)|0,w=Math.imul(ne,Me),_=_+Math.imul(U,ge)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(j,ge)|0,w=w+Math.imul(j,Oe)|0,_=_+Math.imul(H,ve)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(te,ve)|0,w=w+Math.imul(te,Pe)|0,_=_+Math.imul(Y,_e)|0,c=c+Math.imul(Y,Ce)|0,c=c+Math.imul(Q,_e)|0,w=w+Math.imul(Q,Ce)|0,_=_+Math.imul(F,Ee)|0,c=c+Math.imul(F,xe)|0,c=c+Math.imul(q,Ee)|0,w=w+Math.imul(q,xe)|0;var tt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,_=Math.imul(re,$e),c=Math.imul(re,Me),c=c+Math.imul(ae,$e)|0,w=Math.imul(ae,Me),_=_+Math.imul(X,ge)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(ne,ge)|0,w=w+Math.imul(ne,Oe)|0,_=_+Math.imul(U,ve)|0,c=c+Math.imul(U,Pe)|0,c=c+Math.imul(j,ve)|0,w=w+Math.imul(j,Pe)|0,_=_+Math.imul(H,_e)|0,c=c+Math.imul(H,Ce)|0,c=c+Math.imul(te,_e)|0,w=w+Math.imul(te,Ce)|0,_=_+Math.imul(Y,Ee)|0,c=c+Math.imul(Y,xe)|0,c=c+Math.imul(Q,Ee)|0,w=w+Math.imul(Q,xe)|0,_=_+Math.imul(F,we)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(q,we)|0,w=w+Math.imul(q,Ne)|0;var rt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,_=Math.imul(se,$e),c=Math.imul(se,Me),c=c+Math.imul(le,$e)|0,w=Math.imul(le,Me),_=_+Math.imul(re,ge)|0,c=c+Math.imul(re,Oe)|0,c=c+Math.imul(ae,ge)|0,w=w+Math.imul(ae,Oe)|0,_=_+Math.imul(X,ve)|0,c=c+Math.imul(X,Pe)|0,c=c+Math.imul(ne,ve)|0,w=w+Math.imul(ne,Pe)|0,_=_+Math.imul(U,_e)|0,c=c+Math.imul(U,Ce)|0,c=c+Math.imul(j,_e)|0,w=w+Math.imul(j,Ce)|0,_=_+Math.imul(H,Ee)|0,c=c+Math.imul(H,xe)|0,c=c+Math.imul(te,Ee)|0,w=w+Math.imul(te,xe)|0,_=_+Math.imul(Y,we)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(Q,we)|0,w=w+Math.imul(Q,Ne)|0,_=_+Math.imul(F,Se)|0,c=c+Math.imul(F,Be)|0,c=c+Math.imul(q,Se)|0,w=w+Math.imul(q,Be)|0;var nt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(he,$e),c=Math.imul(he,Me),c=c+Math.imul(fe,$e)|0,w=Math.imul(fe,Me),_=_+Math.imul(se,ge)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,ge)|0,w=w+Math.imul(le,Oe)|0,_=_+Math.imul(re,ve)|0,c=c+Math.imul(re,Pe)|0,c=c+Math.imul(ae,ve)|0,w=w+Math.imul(ae,Pe)|0,_=_+Math.imul(X,_e)|0,c=c+Math.imul(X,Ce)|0,c=c+Math.imul(ne,_e)|0,w=w+Math.imul(ne,Ce)|0,_=_+Math.imul(U,Ee)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(j,Ee)|0,w=w+Math.imul(j,xe)|0,_=_+Math.imul(H,we)|0,c=c+Math.imul(H,Ne)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Ne)|0,_=_+Math.imul(Y,Se)|0,c=c+Math.imul(Y,Be)|0,c=c+Math.imul(Q,Se)|0,w=w+Math.imul(Q,Be)|0,_=_+Math.imul(F,Ae)|0,c=c+Math.imul(F,ke)|0,c=c+Math.imul(q,Ae)|0,w=w+Math.imul(q,ke)|0;var it=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(it>>>26)|0,it&=67108863,_=Math.imul(me,$e),c=Math.imul(me,Me),c=c+Math.imul(pe,$e)|0,w=Math.imul(pe,Me),_=_+Math.imul(he,ge)|0,c=c+Math.imul(he,Oe)|0,c=c+Math.imul(fe,ge)|0,w=w+Math.imul(fe,Oe)|0,_=_+Math.imul(se,ve)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(le,ve)|0,w=w+Math.imul(le,Pe)|0,_=_+Math.imul(re,_e)|0,c=c+Math.imul(re,Ce)|0,c=c+Math.imul(ae,_e)|0,w=w+Math.imul(ae,Ce)|0,_=_+Math.imul(X,Ee)|0,c=c+Math.imul(X,xe)|0,c=c+Math.imul(ne,Ee)|0,w=w+Math.imul(ne,xe)|0,_=_+Math.imul(U,we)|0,c=c+Math.imul(U,Ne)|0,c=c+Math.imul(j,we)|0,w=w+Math.imul(j,Ne)|0,_=_+Math.imul(H,Se)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(te,Se)|0,w=w+Math.imul(te,Be)|0,_=_+Math.imul(Y,Ae)|0,c=c+Math.imul(Y,ke)|0,c=c+Math.imul(Q,Ae)|0,w=w+Math.imul(Q,ke)|0,_=_+Math.imul(F,Te)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(q,Te)|0,w=w+Math.imul(q,De)|0;var ot=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,_=Math.imul(ye,$e),c=Math.imul(ye,Me),c=c+Math.imul(be,$e)|0,w=Math.imul(be,Me),_=_+Math.imul(me,ge)|0,c=c+Math.imul(me,Oe)|0,c=c+Math.imul(pe,ge)|0,w=w+Math.imul(pe,Oe)|0,_=_+Math.imul(he,ve)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(fe,ve)|0,w=w+Math.imul(fe,Pe)|0,_=_+Math.imul(se,_e)|0,c=c+Math.imul(se,Ce)|0,c=c+Math.imul(le,_e)|0,w=w+Math.imul(le,Ce)|0,_=_+Math.imul(re,Ee)|0,c=c+Math.imul(re,xe)|0,c=c+Math.imul(ae,Ee)|0,w=w+Math.imul(ae,xe)|0,_=_+Math.imul(X,we)|0,c=c+Math.imul(X,Ne)|0,c=c+Math.imul(ne,we)|0,w=w+Math.imul(ne,Ne)|0,_=_+Math.imul(U,Se)|0,c=c+Math.imul(U,Be)|0,c=c+Math.imul(j,Se)|0,w=w+Math.imul(j,Be)|0,_=_+Math.imul(H,Ae)|0,c=c+Math.imul(H,ke)|0,c=c+Math.imul(te,Ae)|0,w=w+Math.imul(te,ke)|0,_=_+Math.imul(Y,Te)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(Q,Te)|0,w=w+Math.imul(Q,De)|0,_=_+Math.imul(F,Ie)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(q,Ie)|0,w=w+Math.imul(q,Le)|0;var st=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,_=Math.imul(ye,ge),c=Math.imul(ye,Oe),c=c+Math.imul(be,ge)|0,w=Math.imul(be,Oe),_=_+Math.imul(me,ve)|0,c=c+Math.imul(me,Pe)|0,c=c+Math.imul(pe,ve)|0,w=w+Math.imul(pe,Pe)|0,_=_+Math.imul(he,_e)|0,c=c+Math.imul(he,Ce)|0,c=c+Math.imul(fe,_e)|0,w=w+Math.imul(fe,Ce)|0,_=_+Math.imul(se,Ee)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,Ee)|0,w=w+Math.imul(le,xe)|0,_=_+Math.imul(re,we)|0,c=c+Math.imul(re,Ne)|0,c=c+Math.imul(ae,we)|0,w=w+Math.imul(ae,Ne)|0,_=_+Math.imul(X,Se)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(ne,Se)|0,w=w+Math.imul(ne,Be)|0,_=_+Math.imul(U,Ae)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(j,Ae)|0,w=w+Math.imul(j,ke)|0,_=_+Math.imul(H,Te)|0,c=c+Math.imul(H,De)|0,c=c+Math.imul(te,Te)|0,w=w+Math.imul(te,De)|0,_=_+Math.imul(Y,Ie)|0,c=c+Math.imul(Y,Le)|0,c=c+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Le)|0;var ct=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(ye,ve),c=Math.imul(ye,Pe),c=c+Math.imul(be,ve)|0,w=Math.imul(be,Pe),_=_+Math.imul(me,_e)|0,c=c+Math.imul(me,Ce)|0,c=c+Math.imul(pe,_e)|0,w=w+Math.imul(pe,Ce)|0,_=_+Math.imul(he,Ee)|0,c=c+Math.imul(he,xe)|0,c=c+Math.imul(fe,Ee)|0,w=w+Math.imul(fe,xe)|0,_=_+Math.imul(se,we)|0,c=c+Math.imul(se,Ne)|0,c=c+Math.imul(le,we)|0,w=w+Math.imul(le,Ne)|0,_=_+Math.imul(re,Se)|0,c=c+Math.imul(re,Be)|0,c=c+Math.imul(ae,Se)|0,w=w+Math.imul(ae,Be)|0,_=_+Math.imul(X,Ae)|0,c=c+Math.imul(X,ke)|0,c=c+Math.imul(ne,Ae)|0,w=w+Math.imul(ne,ke)|0,_=_+Math.imul(U,Te)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(j,Te)|0,w=w+Math.imul(j,De)|0,_=_+Math.imul(H,Ie)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(te,Ie)|0,w=w+Math.imul(te,Le)|0;var lt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(ye,_e),c=Math.imul(ye,Ce),c=c+Math.imul(be,_e)|0,w=Math.imul(be,Ce),_=_+Math.imul(me,Ee)|0,c=c+Math.imul(me,xe)|0,c=c+Math.imul(pe,Ee)|0,w=w+Math.imul(pe,xe)|0,_=_+Math.imul(he,we)|0,c=c+Math.imul(he,Ne)|0,c=c+Math.imul(fe,we)|0,w=w+Math.imul(fe,Ne)|0,_=_+Math.imul(se,Se)|0,c=c+Math.imul(se,Be)|0,c=c+Math.imul(le,Se)|0,w=w+Math.imul(le,Be)|0,_=_+Math.imul(re,Ae)|0,c=c+Math.imul(re,ke)|0,c=c+Math.imul(ae,Ae)|0,w=w+Math.imul(ae,ke)|0,_=_+Math.imul(X,Te)|0,c=c+Math.imul(X,De)|0,c=c+Math.imul(ne,Te)|0,w=w+Math.imul(ne,De)|0,_=_+Math.imul(U,Ie)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(j,Ie)|0,w=w+Math.imul(j,Le)|0;var dt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(ye,Ee),c=Math.imul(ye,xe),c=c+Math.imul(be,Ee)|0,w=Math.imul(be,xe),_=_+Math.imul(me,we)|0,c=c+Math.imul(me,Ne)|0,c=c+Math.imul(pe,we)|0,w=w+Math.imul(pe,Ne)|0,_=_+Math.imul(he,Se)|0,c=c+Math.imul(he,Be)|0,c=c+Math.imul(fe,Se)|0,w=w+Math.imul(fe,Be)|0,_=_+Math.imul(se,Ae)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ae)|0,w=w+Math.imul(le,ke)|0,_=_+Math.imul(re,Te)|0,c=c+Math.imul(re,De)|0,c=c+Math.imul(ae,Te)|0,w=w+Math.imul(ae,De)|0,_=_+Math.imul(X,Ie)|0,c=c+Math.imul(X,Le)|0,c=c+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Le)|0;var ht=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,we),c=Math.imul(ye,Ne),c=c+Math.imul(be,we)|0,w=Math.imul(be,Ne),_=_+Math.imul(me,Se)|0,c=c+Math.imul(me,Be)|0,c=c+Math.imul(pe,Se)|0,w=w+Math.imul(pe,Be)|0,_=_+Math.imul(he,Ae)|0,c=c+Math.imul(he,ke)|0,c=c+Math.imul(fe,Ae)|0,w=w+Math.imul(fe,ke)|0,_=_+Math.imul(se,Te)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,Te)|0,w=w+Math.imul(le,De)|0,_=_+Math.imul(re,Ie)|0,c=c+Math.imul(re,Le)|0,c=c+Math.imul(ae,Ie)|0,w=w+Math.imul(ae,Le)|0;var ft=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,_=Math.imul(ye,Se),c=Math.imul(ye,Be),c=c+Math.imul(be,Se)|0,w=Math.imul(be,Be),_=_+Math.imul(me,Ae)|0,c=c+Math.imul(me,ke)|0,c=c+Math.imul(pe,Ae)|0,w=w+Math.imul(pe,ke)|0,_=_+Math.imul(he,Te)|0,c=c+Math.imul(he,De)|0,c=c+Math.imul(fe,Te)|0,w=w+Math.imul(fe,De)|0,_=_+Math.imul(se,Ie)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ie)|0,w=w+Math.imul(le,Le)|0;var pt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,_=Math.imul(ye,Ae),c=Math.imul(ye,ke),c=c+Math.imul(be,Ae)|0,w=Math.imul(be,ke),_=_+Math.imul(me,Te)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(pe,Te)|0,w=w+Math.imul(pe,De)|0,_=_+Math.imul(he,Ie)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(fe,Ie)|0,w=w+Math.imul(fe,Le)|0;var mt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(ye,Te),c=Math.imul(ye,De),c=c+Math.imul(be,Te)|0,w=Math.imul(be,De),_=_+Math.imul(me,Ie)|0,c=c+Math.imul(me,Le)|0,c=c+Math.imul(pe,Ie)|0,w=w+Math.imul(pe,Le)|0;var yt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(ye,Ie),c=Math.imul(ye,Le),c=c+Math.imul(be,Ie)|0,w=Math.imul(be,Le);var gt=(T+_|0)+((c&8191)<<13)|0;return T=(w+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,O[0]=Ve,O[1]=Ge,O[2]=Qe,O[3]=et,O[4]=tt,O[5]=rt,O[6]=nt,O[7]=it,O[8]=ot,O[9]=st,O[10]=ct,O[11]=lt,O[12]=dt,O[13]=ht,O[14]=ft,O[15]=pt,O[16]=mt,O[17]=yt,O[18]=gt,T!==0&&(O[19]=T,l.length++),l};Math.imul||(P=C);function B(s,d,l){l.negative=d.negative^s.negative,l.length=s.length+d.length;for(var v=0,S=0,O=0;O<l.length-1;O++){var T=S;S=0;for(var _=v&67108863,c=Math.min(O,d.length-1),w=Math.max(0,O-s.length+1);w<=c;w++){var x=O-w,F=s.words[x]|0,q=d.words[w]|0,V=F*q,Y=V&67108863;T=T+(V/67108864|0)|0,Y=Y+_|0,_=Y&67108863,T=T+(Y>>>26)|0,S+=T>>>26,T&=67108863}l.words[O]=_,v=T,T=S}return v!==0?l.words[O]=v:l.length--,l.strip()}function k(s,d,l){var v=new N;return v.mulp(s,d,l)}o.prototype.mulTo=function(s,d){var l,v=this.length+s.length;return this.length===10&&s.length===10?l=P(this,s,d):v<63?l=C(this,s,d):v<1024?l=B(this,s,d):l=k(this,s,d),l};function N(s,d){this.x=s,this.y=d}N.prototype.makeRBT=function(s){for(var d=new Array(s),l=o.prototype._countBits(s)-1,v=0;v<s;v++)d[v]=this.revBin(v,l,s);return d},N.prototype.revBin=function(s,d,l){if(s===0||s===l-1)return s;for(var v=0,S=0;S<d;S++)v|=(s&1)<<d-S-1,s>>=1;return v},N.prototype.permute=function(s,d,l,v,S,O){for(var T=0;T<O;T++)v[T]=d[s[T]],S[T]=l[s[T]]},N.prototype.transform=function(s,d,l,v,S,O){this.permute(O,s,d,l,v,S);for(var T=1;T<S;T<<=1)for(var _=T<<1,c=Math.cos(2*Math.PI/_),w=Math.sin(2*Math.PI/_),x=0;x<S;x+=_)for(var F=c,q=w,V=0;V<T;V++){var Y=l[x+V],Q=v[x+V],G=l[x+V+T],H=v[x+V+T],te=F*G-q*H;H=F*H+q*G,G=te,l[x+V]=Y+G,v[x+V]=Q+H,l[x+V+T]=Y-G,v[x+V+T]=Q-H,V!==_&&(te=c*F-w*q,q=c*q+w*F,F=te)}},N.prototype.guessLen13b=function(s,d){var l=Math.max(d,s)|1,v=l&1,S=0;for(l=l/2|0;l;l=l>>>1)S++;return 1<<S+1+v},N.prototype.conjugate=function(s,d,l){if(!(l<=1))for(var v=0;v<l/2;v++){var S=s[v];s[v]=s[l-v-1],s[l-v-1]=S,S=d[v],d[v]=-d[l-v-1],d[l-v-1]=-S}},N.prototype.normalize13b=function(s,d){for(var l=0,v=0;v<d/2;v++){var S=Math.round(s[2*v+1]/d)*8192+Math.round(s[2*v]/d)+l;s[v]=S&67108863,S<67108864?l=0:l=S/67108864|0}return s},N.prototype.convert13b=function(s,d,l,v){for(var S=0,O=0;O<d;O++)S=S+(s[O]|0),l[2*O]=S&8191,S=S>>>13,l[2*O+1]=S&8191,S=S>>>13;for(O=2*d;O<v;++O)l[O]=0;n(S===0),n((S&-8192)===0)},N.prototype.stub=function(s){for(var d=new Array(s),l=0;l<s;l++)d[l]=0;return d},N.prototype.mulp=function(s,d,l){var v=2*this.guessLen13b(s.length,d.length),S=this.makeRBT(v),O=this.stub(v),T=new Array(v),_=new Array(v),c=new Array(v),w=new Array(v),x=new Array(v),F=new Array(v),q=l.words;q.length=v,this.convert13b(s.words,s.length,T,v),this.convert13b(d.words,d.length,w,v),this.transform(T,O,_,c,v,S),this.transform(w,O,x,F,v,S);for(var V=0;V<v;V++){var Y=_[V]*x[V]-c[V]*F[V];c[V]=_[V]*F[V]+c[V]*x[V],_[V]=Y}return this.conjugate(_,c,v),this.transform(_,c,q,O,v,S),this.conjugate(q,O,v),this.normalize13b(q,v),l.negative=s.negative^d.negative,l.length=s.length+d.length,l.strip()},o.prototype.mul=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},o.prototype.mulf=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),k(this,s,d)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var d=0,l=0;l<this.length;l++){var v=(this.words[l]|0)*s,S=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=S>>>26,this.words[l]=S&67108863}return d!==0&&(this.words[l]=d,this.length++),this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var d=M(s);if(d.length===0)return new o(1);for(var l=this,v=0;v<d.length&&d[v]===0;v++,l=l.sqr());if(++v<d.length)for(var S=l.sqr();v<d.length;v++,S=S.sqr())d[v]!==0&&(l=l.mul(S));return l},o.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=67108863>>>26-d<<26-d,S;if(d!==0){var O=0;for(S=0;S<this.length;S++){var T=this.words[S]&v,_=(this.words[S]|0)-T<<d;this.words[S]=_|O,O=T>>>26-d}O&&(this.words[S]=O,this.length++)}if(l!==0){for(S=this.length-1;S>=0;S--)this.words[S+l]=this.words[S];for(S=0;S<l;S++)this.words[S]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,d,l){n(typeof s=="number"&&s>=0);var v;d?v=(d-d%26)/26:v=0;var S=s%26,O=Math.min((s-S)/26,this.length),T=67108863^67108863>>>S<<S,_=l;if(v-=O,v=Math.max(0,v),_){for(var c=0;c<O;c++)_.words[c]=this.words[c];_.length=O}if(O!==0)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=v);c--){var x=this.words[c]|0;this.words[c]=w<<26-S|x>>>S,w=x&T}return _&&w!==0&&(_.words[_.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(s,d,l){return n(this.negative===0),this.iushrn(s,d,l)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return!1;var S=this.words[l];return!!(S&v)},o.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(d!==0&&l++,this.length=Math.min(l,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,d,l){var v=s.length+l,S;this._expand(v);var O,T=0;for(S=0;S<s.length;S++){O=(this.words[S+l]|0)+T;var _=(s.words[S]|0)*d;O-=_&67108863,T=(O>>26)-(_/67108864|0),this.words[S+l]=O&67108863}for(;S<this.length-l;S++)O=(this.words[S+l]|0)+T,T=O>>26,this.words[S+l]=O&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,S=0;S<this.length;S++)O=-(this.words[S]|0)+T,T=O>>26,this.words[S]=O&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(s,d){var l=this.length-s.length,v=this.clone(),S=s,O=S.words[S.length-1]|0,T=this._countBits(O);l=26-T,l!==0&&(S=S.ushln(l),v.iushln(l),O=S.words[S.length-1]|0);var _=v.length-S.length,c;if(d!=="mod"){c=new o(null),c.length=_+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var x=v.clone()._ishlnsubmul(S,1,_);x.negative===0&&(v=x,c&&(c.words[_]=1));for(var F=_-1;F>=0;F--){var q=(v.words[S.length+F]|0)*67108864+(v.words[S.length+F-1]|0);for(q=Math.min(q/O|0,67108863),v._ishlnsubmul(S,q,F);v.negative!==0;)q--,v.negative=0,v._ishlnsubmul(S,1,F),v.isZero()||(v.negative^=1);c&&(c.words[F]=q)}return c&&c.strip(),v.strip(),d!=="div"&&l!==0&&v.iushrn(l),{div:c||null,mod:v}},o.prototype.divmod=function(s,d,l){if(n(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,S,O;return this.negative!==0&&s.negative===0?(O=this.neg().divmod(s,d),d!=="mod"&&(v=O.div.neg()),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.iadd(s)),{div:v,mod:S}):this.negative===0&&s.negative!==0?(O=this.divmod(s.neg(),d),d!=="mod"&&(v=O.div.neg()),{div:v,mod:O.mod}):this.negative&s.negative?(O=this.neg().divmod(s.neg(),d),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.isub(s)),{div:O.div,mod:S}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?d==="div"?{div:this.divn(s.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modn(s.words[0]))}:this._wordDiv(s,d)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var l=d.div.negative!==0?d.mod.isub(s):d.mod,v=s.ushrn(1),S=s.andln(1),O=l.cmp(v);return O<0||S===1&&O===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(s){n(s<=67108863);for(var d=(1<<26)%s,l=0,v=this.length-1;v>=0;v--)l=(d*l+(this.words[v]|0))%s;return l},o.prototype.idivn=function(s){n(s<=67108863);for(var d=0,l=this.length-1;l>=0;l--){var v=(this.words[l]|0)+d*67108864;this.words[l]=v/s|0,d=v%s}return this.strip()},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=new o(0),T=new o(1),_=0;d.isEven()&&l.isEven();)d.iushrn(1),l.iushrn(1),++_;for(var c=l.clone(),w=d.clone();!d.isZero();){for(var x=0,F=1;!(d.words[0]&F)&&x<26;++x,F<<=1);if(x>0)for(d.iushrn(x);x-- >0;)(v.isOdd()||S.isOdd())&&(v.iadd(c),S.isub(w)),v.iushrn(1),S.iushrn(1);for(var q=0,V=1;!(l.words[0]&V)&&q<26;++q,V<<=1);if(q>0)for(l.iushrn(q);q-- >0;)(O.isOdd()||T.isOdd())&&(O.iadd(c),T.isub(w)),O.iushrn(1),T.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(O),S.isub(T)):(l.isub(d),O.isub(v),T.isub(S))}return{a:O,b:T,gcd:l.iushln(_)}},o.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=l.clone();d.cmpn(1)>0&&l.cmpn(1)>0;){for(var T=0,_=1;!(d.words[0]&_)&&T<26;++T,_<<=1);if(T>0)for(d.iushrn(T);T-- >0;)v.isOdd()&&v.iadd(O),v.iushrn(1);for(var c=0,w=1;!(l.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(l.iushrn(c);c-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(S)):(l.isub(d),S.isub(v))}var x;return d.cmpn(1)===0?x=v:x=S,x.cmpn(0)<0&&x.iadd(s),x},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),l=s.clone();d.negative=0,l.negative=0;for(var v=0;d.isEven()&&l.isEven();v++)d.iushrn(1),l.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;l.isEven();)l.iushrn(1);var S=d.cmp(l);if(S<0){var O=d;d=l,l=O}else if(S===0||l.cmpn(1)===0)break;d.isub(l)}while(!0);return l.iushln(v)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){n(typeof s=="number");var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return this._expand(l+1),this.words[l]|=v,this;for(var S=v,O=l;S!==0&&O<this.length;O++){var T=this.words[O]|0;T+=S,S=T>>>26,T&=67108863,this.words[O]=T}return S!==0&&(this.words[O]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var d=s<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var l;if(this.length>1)l=1;else{d&&(s=-s),n(s<=67108863,"Number is too big");var v=this.words[0]|0;l=v===s?0:v<s?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var d=this.ucmp(s);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,l=this.length-1;l>=0;l--){var v=this.words[l]|0,S=s.words[l]|0;if(v!==S){v<S?d=-1:v>S&&(d=1);break}}return d},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new Z(s)},o.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function L(s,d){this.name=s,this.p=new o(d,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},L.prototype.ireduce=function(s){var d=s,l;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),l=d.bitLength();while(l>this.n);var v=l<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},L.prototype.split=function(s,d){s.iushrn(this.n,0,d)},L.prototype.imulK=function(s){return s.imul(this.k)};function K(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(K,L),K.prototype.split=function(s,d){for(var l=4194303,v=Math.min(s.length,9),S=0;S<v;S++)d.words[S]=s.words[S];if(d.length=v,s.length<=9){s.words[0]=0,s.length=1;return}var O=s.words[9];for(d.words[d.length++]=O&l,S=10;S<s.length;S++){var T=s.words[S]|0;s.words[S-10]=(T&l)<<4|O>>>22,O=T}O>>>=22,s.words[S-10]=O,O===0&&s.length>10?s.length-=10:s.length-=9},K.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,l=0;l<s.length;l++){var v=s.words[l]|0;d+=v*977,s.words[l]=d&67108863,d=v*64+(d/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function J(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,L);function ce(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ce,L);function oe(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(oe,L),oe.prototype.imulK=function(s){for(var d=0,l=0;l<s.length;l++){var v=(s.words[l]|0)*19+d,S=v&67108863;v>>>=26,s.words[l]=S,d=v}return d!==0&&(s.words[s.length++]=d),s},o._prime=function(s){if(D[s])return D[s];var d;if(s==="k256")d=new K;else if(s==="p224")d=new J;else if(s==="p192")d=new ce;else if(s==="p25519")d=new oe;else throw new Error("Unknown prime "+s);return D[s]=d,d};function Z(s){if(typeof s=="string"){var d=o._prime(s);this.m=d.p,this.prime=d}else n(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}Z.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Z.prototype._verify2=function(s,d){n((s.negative|d.negative)===0,"red works only with positives"),n(s.red&&s.red===d.red,"red works only with red numbers")},Z.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Z.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Z.prototype.add=function(s,d){this._verify2(s,d);var l=s.add(d);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},Z.prototype.iadd=function(s,d){this._verify2(s,d);var l=s.iadd(d);return l.cmp(this.m)>=0&&l.isub(this.m),l},Z.prototype.sub=function(s,d){this._verify2(s,d);var l=s.sub(d);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},Z.prototype.isub=function(s,d){this._verify2(s,d);var l=s.isub(d);return l.cmpn(0)<0&&l.iadd(this.m),l},Z.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},Z.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},Z.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},Z.prototype.isqr=function(s){return this.imul(s,s.clone())},Z.prototype.sqr=function(s){return this.mul(s,s)},Z.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(s,l)}for(var v=this.m.subn(1),S=0;!v.isZero()&&v.andln(1)===0;)S++,v.iushrn(1);n(!v.isZero());var O=new o(1).toRed(this),T=O.redNeg(),_=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,_).cmp(T)!==0;)c.redIAdd(T);for(var w=this.pow(c,v),x=this.pow(s,v.addn(1).iushrn(1)),F=this.pow(s,v),q=S;F.cmp(O)!==0;){for(var V=F,Y=0;V.cmp(O)!==0;Y++)V=V.redSqr();n(Y<q);var Q=this.pow(w,new o(1).iushln(q-Y-1));x=x.redMul(Q),w=Q.redSqr(),F=F.redMul(w),q=Y}return x},Z.prototype.invm=function(s){var d=s._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Z.prototype.pow=function(s,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return s.clone();var l=4,v=new Array(1<<l);v[0]=new o(1).toRed(this),v[1]=s;for(var S=2;S<v.length;S++)v[S]=this.mul(v[S-1],s);var O=v[0],T=0,_=0,c=d.bitLength()%26;for(c===0&&(c=26),S=d.length-1;S>=0;S--){for(var w=d.words[S],x=c-1;x>=0;x--){var F=w>>x&1;if(O!==v[0]&&(O=this.sqr(O)),F===0&&T===0){_=0;continue}T<<=1,T|=F,_++,!(_!==l&&(S!==0||x!==0))&&(O=this.mul(O,v[T]),_=0,T=0)}c=26}return O},Z.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},Z.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},o.mont=function(s){return new ie(s)};function ie(s){Z.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(ie,Z),ie.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ie.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},ie.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var l=s.imul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new o(0)._forceRed(this);var l=s.mul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.invm=function(s){var d=this.imod(s._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,commonjsGlobal)}(bn$4)),bn$4.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var e=requireBn$3(),t=requireBrorand();function r(n){this.rand=n||new t.Rand}return mr=r,r.create=function(n){return new r(n)},r.prototype._randbelow=function(n){var a=n.bitLength(),o=Math.ceil(a/8);do var u=new e(this.rand.generate(o));while(u.cmp(n)>=0);return u},r.prototype._randrange=function(n,a){var o=a.sub(n);return n.add(this._randbelow(o))},r.prototype.test=function(n,a,o){var u=n.bitLength(),p=e.mont(n),b=new e(1).toRed(p);a||(a=Math.max(1,u/48|0));for(var m=n.subn(1),y=0;!m.testn(y);y++);for(var A=n.shrn(y),I=m.toRed(p),M=!0;a>0;a--){var C=this._randrange(new e(2),m);o&&o(C);var P=C.toRed(p).redPow(A);if(!(P.cmp(b)===0||P.cmp(I)===0)){for(var B=1;B<y;B++){if(P=P.redSqr(),P.cmp(b)===0)return!1;if(P.cmp(I)===0)break}if(B===y)return!1}}return M},r.prototype.getDivisor=function(n,a){var o=n.bitLength(),u=e.mont(n),p=new e(1).toRed(u);a||(a=Math.max(1,o/48|0));for(var b=n.subn(1),m=0;!b.testn(m);m++);for(var y=n.shrn(m),A=b.toRed(u);a>0;a--){var I=this._randrange(new e(2),b),M=n.gcd(I);if(M.cmpn(1)!==0)return M;var C=I.toRed(u).redPow(y);if(!(C.cmp(p)===0||C.cmp(A)===0)){for(var P=1;P<m;P++){if(C=C.redSqr(),C.cmp(p)===0)return C.fromRed().subn(1).gcd(n);if(C.cmp(A)===0)break}if(P===m)return C=C.redSqr(),C.fromRed().subn(1).gcd(n)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var e=requireBrowser$a();generatePrime=B,B.simpleSieve=C,B.fermatTest=P;var t=requireBn$4(),r=new t(24),n=requireMr(),a=new n,o=new t(1),u=new t(2),p=new t(5);new t(16),new t(8);var b=new t(10),m=new t(3);new t(7);var y=new t(11),A=new t(4);new t(12);var I=null;function M(){if(I!==null)return I;var k=1048576,N=[];N[0]=2;for(var D=1,L=3;L<k;L+=2){for(var K=Math.ceil(Math.sqrt(L)),J=0;J<D&&N[J]<=K&&L%N[J]!==0;J++);D!==J&&N[J]<=K||(N[D++]=L)}return I=N,N}function C(k){for(var N=M(),D=0;D<N.length;D++)if(k.modn(N[D])===0)return k.cmpn(N[D])===0;return!0}function P(k){var N=t.mont(k);return u.toRed(N).redPow(k.subn(1)).fromRed().cmpn(1)===0}function B(k,N){if(k<16)return N===2||N===5?new t([140,123]):new t([140,39]);N=new t(N);for(var D,L;;){for(D=new t(e(Math.ceil(k/8)));D.bitLength()>k;)D.ishrn(1);if(D.isEven()&&D.iadd(o),D.testn(1)||D.iadd(u),N.cmp(u)){if(!N.cmp(p))for(;D.mod(b).cmp(m);)D.iadd(A)}else for(;D.mod(r).cmp(y);)D.iadd(A);if(L=D.shrn(1),C(L)&&C(D)&&P(L)&&P(D)&&a.test(L)&&a.test(D))return D}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$2={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var e=requireBn$4(),t=requireMr(),r=new t,n=new e(24),a=new e(11),o=new e(10),u=new e(3),p=new e(7),b=requireGeneratePrime(),m=requireBrowser$a();dh=C;function y(B,k){return k=k||"utf8",Buffer$2.isBuffer(B)||(B=new Buffer$2(B,k)),this._pub=new e(B),this}function A(B,k){return k=k||"utf8",Buffer$2.isBuffer(B)||(B=new Buffer$2(B,k)),this._priv=new e(B),this}var I={};function M(B,k){var N=k.toString("hex"),D=[N,B.toString(16)].join("_");if(D in I)return I[D];var L=0;if(B.isEven()||!b.simpleSieve||!b.fermatTest(B)||!r.test(B))return L+=1,N==="02"||N==="05"?L+=8:L+=4,I[D]=L,L;r.test(B.shrn(1))||(L+=2);var K;switch(N){case"02":B.mod(n).cmp(a)&&(L+=8);break;case"05":K=B.mod(o),K.cmp(u)&&K.cmp(p)&&(L+=8);break;default:L+=4}return I[D]=L,L}function C(B,k,N){this.setGenerator(k),this.__prime=new e(B),this._prime=e.mont(this.__prime),this._primeLen=B.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,N?(this.setPublicKey=y,this.setPrivateKey=A):this._primeCode=8}Object.defineProperty(C.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=M(this.__prime,this.__gen)),this._primeCode}}),C.prototype.generateKeys=function(){return this._priv||(this._priv=new e(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},C.prototype.computeSecret=function(B){B=new e(B),B=B.toRed(this._prime);var k=B.redPow(this._priv).fromRed(),N=new Buffer$2(k.toArray()),D=this.getPrime();if(N.length<D.length){var L=new Buffer$2(D.length-N.length);L.fill(0),N=Buffer$2.concat([L,N])}return N},C.prototype.getPublicKey=function(B){return P(this._pub,B)},C.prototype.getPrivateKey=function(B){return P(this._priv,B)},C.prototype.getPrime=function(B){return P(this.__prime,B)},C.prototype.getGenerator=function(B){return P(this._gen,B)},C.prototype.setGenerator=function(B,k){return k=k||"utf8",Buffer$2.isBuffer(B)||(B=new Buffer$2(B,k)),this.__gen=B,this._gen=new e(B),this};function P(B,k){var N=new Buffer$2(B.toArray());return k?N.toString(k):N}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$9;hasRequiredBrowser$4=1;var e=requireGeneratePrime(),t=require$$1$2,r=requireDh();function n(u){var p=new Buffer$2(t[u].prime,"hex"),b=new Buffer$2(t[u].gen,"hex");return new r(p,b)}var a={binary:!0,hex:!0,base64:!0};function o(u,p,b,m){return Buffer$2.isBuffer(p)||a[p]===void 0?o(u,"binary",p,b):(p=p||"binary",m=m||"binary",b=b||new Buffer$2([2]),Buffer$2.isBuffer(b)||(b=new Buffer$2(b,m)),typeof u=="number"?new r(e(u,b),b,!0):(Buffer$2.isBuffer(u)||(u=new Buffer$2(u,p)),new r(u,b,!0)))}return browser$9.DiffieHellmanGroup=browser$9.createDiffieHellmanGroup=browser$9.getDiffieHellman=n,browser$9.createDiffieHellman=browser$9.DiffieHellman=o,browser$9}var readableBrowser$1={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1$1>"u"||!process$1$1.version||process$1$1.version.indexOf("v0.")===0||process$1$1.version.indexOf("v1.")===0&&process$1$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:e}:processNextickArgs.exports=process$1$1;function e(t,r,n,a){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,u,p;switch(o){case 0:case 1:return process$1$1.nextTick(t);case 2:return process$1$1.nextTick(function(){t.call(null,r)});case 3:return process$1$1.nextTick(function(){t.call(null,r,n)});case 4:return process$1$1.nextTick(function(){t.call(null,r,n,a)});default:for(u=new Array(o-1),p=0;p<u.length;)u[p++]=arguments[p];return process$1$1.nextTick(function(){t.apply(null,u)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var e={}.toString;return isarray=Array.isArray||function(t){return e.call(t)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(e,t){var r=require$$0$1,n=r.Buffer;function a(u,p){for(var b in u)p[b]=u[b]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o);function o(u,p,b){return n(u,p,b)}a(n,o),o.from=function(u,p,b){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,p,b)},o.alloc=function(u,p,b){if(typeof u!="number")throw new TypeError("Argument must be a number");var m=n(u);return p!==void 0?typeof b=="string"?m.fill(p,b):m.fill(p):m.fill(0),m},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util$1={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$1;hasRequiredUtil=1;function e(P){return Array.isArray?Array.isArray(P):C(P)==="[object Array]"}util$1.isArray=e;function t(P){return typeof P=="boolean"}util$1.isBoolean=t;function r(P){return P===null}util$1.isNull=r;function n(P){return P==null}util$1.isNullOrUndefined=n;function a(P){return typeof P=="number"}util$1.isNumber=a;function o(P){return typeof P=="string"}util$1.isString=o;function u(P){return typeof P=="symbol"}util$1.isSymbol=u;function p(P){return P===void 0}util$1.isUndefined=p;function b(P){return C(P)==="[object RegExp]"}util$1.isRegExp=b;function m(P){return typeof P=="object"&&P!==null}util$1.isObject=m;function y(P){return C(P)==="[object Date]"}util$1.isDate=y;function A(P){return C(P)==="[object Error]"||P instanceof Error}util$1.isError=A;function I(P){return typeof P=="function"}util$1.isFunction=I;function M(P){return P===null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||typeof P=="symbol"||typeof P>"u"}util$1.isPrimitive=M,util$1.isBuffer=require$$0$1.Buffer.isBuffer;function C(P){return Object.prototype.toString.call(P)}return util$1}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(e){function t(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}var r=requireSafeBuffer().Buffer,n=util$2;function a(o,u,p){o.copy(u,p)}e.exports=function(){function o(){t(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(u){var p={data:u,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},o.prototype.unshift=function(u){var p={data:u,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length},o.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(u){if(this.length===0)return"";for(var p=this.head,b=""+p.data;p=p.next;)b+=u+p.data;return b},o.prototype.concat=function(u){if(this.length===0)return r.alloc(0);for(var p=r.allocUnsafe(u>>>0),b=this.head,m=0;b;)a(b.data,p,m),m+=b.data.length,b=b.next;return p},o}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var o=n.inspect({length:this.length});return this.constructor.name+" "+o})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var e=requireProcessNextickArgs();function t(a,o){var u=this,p=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return p||b?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(n,this,a)):e.nextTick(n,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(m){!o&&m?u._writableState?u._writableState.errorEmitted||(u._writableState.errorEmitted=!0,e.nextTick(n,u,m)):e.nextTick(n,u,m):o&&o(m)}),this)}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function n(a,o){a.emit("error",o)}return destroy_1={destroy:t,undestroy:r},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var e=requireProcessNextickArgs();_stream_writable=P;function t(T){var _=this;this.next=null,this.entry=null,this.finish=function(){O(_,T)}}var r=!process$1$1.browser&&["v0.10","v0.9."].indexOf(process$1$1.version.slice(0,5))>-1?setImmediate:e.nextTick,n;P.WritableState=M;var a=Object.create(requireUtil());a.inherits=inherits_browserExports;var o={deprecate:browser$f},u=requireStreamBrowser(),p=requireSafeBuffer().Buffer,b=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function m(T){return p.from(T)}function y(T){return p.isBuffer(T)||T instanceof b}var A=requireDestroy();a.inherits(P,u);function I(){}function M(T,_){n=n||require_stream_duplex(),T=T||{};var c=_ instanceof n;this.objectMode=!!T.objectMode,c&&(this.objectMode=this.objectMode||!!T.writableObjectMode);var w=T.highWaterMark,x=T.writableHighWaterMark,F=this.objectMode?16:16*1024;w||w===0?this.highWaterMark=w:c&&(x||x===0)?this.highWaterMark=x:this.highWaterMark=F,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=T.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){ce(_,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}M.prototype.getBuffer=function(){for(var T=this.bufferedRequest,_=[];T;)_.push(T),T=T.next;return _},function(){try{Object.defineProperty(M.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(T){return C.call(this,T)?!0:this!==P?!1:T&&T._writableState instanceof M}})):C=function(T){return T instanceof this};function P(T){if(n=n||require_stream_duplex(),!C.call(P,this)&&!(this instanceof n))return new P(T);this._writableState=new M(T,this),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),u.call(this)}P.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function B(T,_){var c=new Error("write after end");T.emit("error",c),e.nextTick(_,c)}function k(T,_,c,w){var x=!0,F=!1;return c===null?F=new TypeError("May not write null values to stream"):typeof c!="string"&&c!==void 0&&!_.objectMode&&(F=new TypeError("Invalid non-string/buffer chunk")),F&&(T.emit("error",F),e.nextTick(w,F),x=!1),x}P.prototype.write=function(T,_,c){var w=this._writableState,x=!1,F=!w.objectMode&&y(T);return F&&!p.isBuffer(T)&&(T=m(T)),typeof _=="function"&&(c=_,_=null),F?_="buffer":_||(_=w.defaultEncoding),typeof c!="function"&&(c=I),w.ended?B(this,c):(F||k(this,w,T,c))&&(w.pendingcb++,x=D(this,w,F,T,_,c)),x},P.prototype.cork=function(){var T=this._writableState;T.corked++},P.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,!T.writing&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&ie(this,T))},P.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+T);return this._writableState.defaultEncoding=T,this};function N(T,_,c){return!T.objectMode&&T.decodeStrings!==!1&&typeof _=="string"&&(_=p.from(_,c)),_}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(T,_,c,w,x,F){if(!c){var q=N(_,w,x);w!==q&&(c=!0,x="buffer",w=q)}var V=_.objectMode?1:w.length;_.length+=V;var Y=_.length<_.highWaterMark;if(Y||(_.needDrain=!0),_.writing||_.corked){var Q=_.lastBufferedRequest;_.lastBufferedRequest={chunk:w,encoding:x,isBuf:c,callback:F,next:null},Q?Q.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else L(T,_,!1,V,w,x,F);return Y}function L(T,_,c,w,x,F,q){_.writelen=w,_.writecb=q,_.writing=!0,_.sync=!0,c?T._writev(x,_.onwrite):T._write(x,F,_.onwrite),_.sync=!1}function K(T,_,c,w,x){--_.pendingcb,c?(e.nextTick(x,w),e.nextTick(v,T,_),T._writableState.errorEmitted=!0,T.emit("error",w)):(x(w),T._writableState.errorEmitted=!0,T.emit("error",w),v(T,_))}function J(T){T.writing=!1,T.writecb=null,T.length-=T.writelen,T.writelen=0}function ce(T,_){var c=T._writableState,w=c.sync,x=c.writecb;if(J(c),_)K(T,c,w,_,x);else{var F=s(c);!F&&!c.corked&&!c.bufferProcessing&&c.bufferedRequest&&ie(T,c),w?r(oe,T,c,F,x):oe(T,c,F,x)}}function oe(T,_,c,w){c||Z(T,_),_.pendingcb--,w(),v(T,_)}function Z(T,_){_.length===0&&_.needDrain&&(_.needDrain=!1,T.emit("drain"))}function ie(T,_){_.bufferProcessing=!0;var c=_.bufferedRequest;if(T._writev&&c&&c.next){var w=_.bufferedRequestCount,x=new Array(w),F=_.corkedRequestsFree;F.entry=c;for(var q=0,V=!0;c;)x[q]=c,c.isBuf||(V=!1),c=c.next,q+=1;x.allBuffers=V,L(T,_,!0,_.length,x,"",F.finish),_.pendingcb++,_.lastBufferedRequest=null,F.next?(_.corkedRequestsFree=F.next,F.next=null):_.corkedRequestsFree=new t(_),_.bufferedRequestCount=0}else{for(;c;){var Y=c.chunk,Q=c.encoding,G=c.callback,H=_.objectMode?1:Y.length;if(L(T,_,!1,H,Y,Q,G),c=c.next,_.bufferedRequestCount--,_.writing)break}c===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=c,_.bufferProcessing=!1}P.prototype._write=function(T,_,c){c(new Error("_write() is not implemented"))},P.prototype._writev=null,P.prototype.end=function(T,_,c){var w=this._writableState;typeof T=="function"?(c=T,T=null,_=null):typeof _=="function"&&(c=_,_=null),T!=null&&this.write(T,_),w.corked&&(w.corked=1,this.uncork()),w.ending||S(this,w,c)};function s(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function d(T,_){T._final(function(c){_.pendingcb--,c&&T.emit("error",c),_.prefinished=!0,T.emit("prefinish"),v(T,_)})}function l(T,_){!_.prefinished&&!_.finalCalled&&(typeof T._final=="function"?(_.pendingcb++,_.finalCalled=!0,e.nextTick(d,T,_)):(_.prefinished=!0,T.emit("prefinish")))}function v(T,_){var c=s(_);return c&&(l(T,_),_.pendingcb===0&&(_.finished=!0,T.emit("finish"))),c}function S(T,_,c){_.ending=!0,v(T,_),c&&(_.finished?e.nextTick(c):T.once("finish",c)),_.ended=!0,T.writable=!1}function O(T,_,c){var w=T.entry;for(T.entry=null;w;){var x=w.callback;_.pendingcb--,x(c),w=w.next}_.corkedRequestsFree.next=T}return Object.defineProperty(P.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),P.prototype.destroy=A.destroy,P.prototype._undestroy=A.undestroy,P.prototype._destroy=function(T,_){this.end(),_(T)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var e=requireProcessNextickArgs(),t=Object.keys||function(A){var I=[];for(var M in A)I.push(M);return I};_stream_duplex=b;var r=Object.create(requireUtil());r.inherits=inherits_browserExports;var n=require_stream_readable(),a=require_stream_writable();r.inherits(b,n);for(var o=t(a.prototype),u=0;u<o.length;u++){var p=o[u];b.prototype[p]||(b.prototype[p]=a.prototype[p])}function b(A){if(!(this instanceof b))return new b(A);n.call(this,A),a.call(this,A),A&&A.readable===!1&&(this.readable=!1),A&&A.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,A&&A.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",m)}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(){this.allowHalfOpen||this._writableState.ended||e.nextTick(y,this)}function y(A){A.end()}return Object.defineProperty(b.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),b.prototype._destroy=function(A,I){this.push(null),this.end(),e.nextTick(I,A)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var e=requireProcessNextickArgs();_stream_readable=N;var t=requireIsarray(),r;N.ReadableState=k,eventsExports.EventEmitter;var n=function(G,H){return G.listeners(H).length},a=requireStreamBrowser(),o=requireSafeBuffer().Buffer,u=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function p(G){return o.from(G)}function b(G){return o.isBuffer(G)||G instanceof u}var m=Object.create(requireUtil());m.inherits=inherits_browserExports;var y=util$2,A=void 0;y&&y.debuglog?A=y.debuglog("stream"):A=function(){};var I=requireBufferList(),M=requireDestroy(),C;m.inherits(N,a);var P=["error","close","destroy","pause","resume"];function B(G,H,te){if(typeof G.prependListener=="function")return G.prependListener(H,te);!G._events||!G._events[H]?G.on(H,te):t(G._events[H])?G._events[H].unshift(te):G._events[H]=[te,G._events[H]]}function k(G,H){r=r||require_stream_duplex(),G=G||{};var te=H instanceof r;this.objectMode=!!G.objectMode,te&&(this.objectMode=this.objectMode||!!G.readableObjectMode);var W=G.highWaterMark,U=G.readableHighWaterMark,j=this.objectMode?16:16*1024;W||W===0?this.highWaterMark=W:te&&(U||U===0)?this.highWaterMark=U:this.highWaterMark=j,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(C||(C=requireString_decoder().StringDecoder),this.decoder=new C(G.encoding),this.encoding=G.encoding)}function N(G){if(r=r||require_stream_duplex(),!(this instanceof N))return new N(G);this._readableState=new k(G,this),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),a.call(this)}Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),N.prototype.destroy=M.destroy,N.prototype._undestroy=M.undestroy,N.prototype._destroy=function(G,H){this.push(null),H(G)},N.prototype.push=function(G,H){var te=this._readableState,W;return te.objectMode?W=!0:typeof G=="string"&&(H=H||te.defaultEncoding,H!==te.encoding&&(G=o.from(G,H),H=""),W=!0),D(this,G,H,!1,W)},N.prototype.unshift=function(G){return D(this,G,null,!0,!1)};function D(G,H,te,W,U){var j=G._readableState;if(H===null)j.reading=!1,ie(G,j);else{var ee;U||(ee=K(j,H)),ee?G.emit("error",ee):j.objectMode||H&&H.length>0?(typeof H!="string"&&!j.objectMode&&Object.getPrototypeOf(H)!==o.prototype&&(H=p(H)),W?j.endEmitted?G.emit("error",new Error("stream.unshift() after end event")):L(G,j,H,!0):j.ended?G.emit("error",new Error("stream.push() after EOF")):(j.reading=!1,j.decoder&&!te?(H=j.decoder.write(H),j.objectMode||H.length!==0?L(G,j,H,!1):l(G,j)):L(G,j,H,!1))):W||(j.reading=!1)}return J(j)}function L(G,H,te,W){H.flowing&&H.length===0&&!H.sync?(G.emit("data",te),G.read(0)):(H.length+=H.objectMode?1:te.length,W?H.buffer.unshift(te):H.buffer.push(te),H.needReadable&&s(G)),l(G,H)}function K(G,H){var te;return!b(H)&&typeof H!="string"&&H!==void 0&&!G.objectMode&&(te=new TypeError("Invalid non-string/buffer chunk")),te}function J(G){return!G.ended&&(G.needReadable||G.length<G.highWaterMark||G.length===0)}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(G){return C||(C=requireString_decoder().StringDecoder),this._readableState.decoder=new C(G),this._readableState.encoding=G,this};var ce=8388608;function oe(G){return G>=ce?G=ce:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function Z(G,H){return G<=0||H.length===0&&H.ended?0:H.objectMode?1:G!==G?H.flowing&&H.length?H.buffer.head.data.length:H.length:(G>H.highWaterMark&&(H.highWaterMark=oe(G)),G<=H.length?G:H.ended?H.length:(H.needReadable=!0,0))}N.prototype.read=function(G){A("read",G),G=parseInt(G,10);var H=this._readableState,te=G;if(G!==0&&(H.emittedReadable=!1),G===0&&H.needReadable&&(H.length>=H.highWaterMark||H.ended))return A("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?V(this):s(this),null;if(G=Z(G,H),G===0&&H.ended)return H.length===0&&V(this),null;var W=H.needReadable;A("need readable",W),(H.length===0||H.length-G<H.highWaterMark)&&(W=!0,A("length less than watermark",W)),H.ended||H.reading?(W=!1,A("reading or ended",W)):W&&(A("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0),this._read(H.highWaterMark),H.sync=!1,H.reading||(G=Z(te,H)));var U;return G>0?U=w(G,H):U=null,U===null?(H.needReadable=!0,G=0):H.length-=G,H.length===0&&(H.ended||(H.needReadable=!0),te!==G&&H.ended&&V(this)),U!==null&&this.emit("data",U),U};function ie(G,H){if(!H.ended){if(H.decoder){var te=H.decoder.end();te&&te.length&&(H.buffer.push(te),H.length+=H.objectMode?1:te.length)}H.ended=!0,s(G)}}function s(G){var H=G._readableState;H.needReadable=!1,H.emittedReadable||(A("emitReadable",H.flowing),H.emittedReadable=!0,H.sync?e.nextTick(d,G):d(G))}function d(G){A("emit readable"),G.emit("readable"),c(G)}function l(G,H){H.readingMore||(H.readingMore=!0,e.nextTick(v,G,H))}function v(G,H){for(var te=H.length;!H.reading&&!H.flowing&&!H.ended&&H.length<H.highWaterMark&&(A("maybeReadMore read 0"),G.read(0),te!==H.length);)te=H.length;H.readingMore=!1}N.prototype._read=function(G){this.emit("error",new Error("_read() is not implemented"))},N.prototype.pipe=function(G,H){var te=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=G;break;case 1:W.pipes=[W.pipes,G];break;default:W.pipes.push(G);break}W.pipesCount+=1,A("pipe count=%d opts=%j",W.pipesCount,H);var U=(!H||H.end!==!1)&&G!==process$1$1.stdout&&G!==process$1$1.stderr,j=U?X:he;W.endEmitted?e.nextTick(j):te.once("end",j),G.on("unpipe",ee);function ee(fe,Fe){A("onunpipe"),fe===te&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,re())}function X(){A("onend"),G.end()}var ne=S(te);G.on("drain",ne);var de=!1;function re(){A("cleanup"),G.removeListener("close",le),G.removeListener("finish",Re),G.removeListener("drain",ne),G.removeListener("error",se),G.removeListener("unpipe",ee),te.removeListener("end",X),te.removeListener("end",he),te.removeListener("data",ue),de=!0,W.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&ne()}var ae=!1;te.on("data",ue);function ue(fe){A("ondata"),ae=!1;var Fe=G.write(fe);Fe===!1&&!ae&&((W.pipesCount===1&&W.pipes===G||W.pipesCount>1&&Q(W.pipes,G)!==-1)&&!de&&(A("false write response, pause",W.awaitDrain),W.awaitDrain++,ae=!0),te.pause())}function se(fe){A("onerror",fe),he(),G.removeListener("error",se),n(G,"error")===0&&G.emit("error",fe)}B(G,"error",se);function le(){G.removeListener("finish",Re),he()}G.once("close",le);function Re(){A("onfinish"),G.removeListener("close",le),he()}G.once("finish",Re);function he(){A("unpipe"),te.unpipe(G)}return G.emit("pipe",te),W.flowing||(A("pipe resume"),te.resume()),G};function S(G){return function(){var H=G._readableState;A("pipeOnDrain",H.awaitDrain),H.awaitDrain&&H.awaitDrain--,H.awaitDrain===0&&n(G,"data")&&(H.flowing=!0,c(G))}}N.prototype.unpipe=function(G){var H=this._readableState,te={hasUnpiped:!1};if(H.pipesCount===0)return this;if(H.pipesCount===1)return G&&G!==H.pipes?this:(G||(G=H.pipes),H.pipes=null,H.pipesCount=0,H.flowing=!1,G&&G.emit("unpipe",this,te),this);if(!G){var W=H.pipes,U=H.pipesCount;H.pipes=null,H.pipesCount=0,H.flowing=!1;for(var j=0;j<U;j++)W[j].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=Q(H.pipes,G);return ee===-1?this:(H.pipes.splice(ee,1),H.pipesCount-=1,H.pipesCount===1&&(H.pipes=H.pipes[0]),G.emit("unpipe",this,te),this)},N.prototype.on=function(G,H){var te=a.prototype.on.call(this,G,H);if(G==="data")this._readableState.flowing!==!1&&this.resume();else if(G==="readable"){var W=this._readableState;!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&s(this):e.nextTick(O,this))}return te},N.prototype.addListener=N.prototype.on;function O(G){A("readable nexttick read 0"),G.read(0)}N.prototype.resume=function(){var G=this._readableState;return G.flowing||(A("resume"),G.flowing=!0,T(this,G)),this};function T(G,H){H.resumeScheduled||(H.resumeScheduled=!0,e.nextTick(_,G,H))}function _(G,H){H.reading||(A("resume read 0"),G.read(0)),H.resumeScheduled=!1,H.awaitDrain=0,G.emit("resume"),c(G),H.flowing&&!H.reading&&G.read(0)}N.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function c(G){var H=G._readableState;for(A("flow",H.flowing);H.flowing&&G.read()!==null;);}N.prototype.wrap=function(G){var H=this,te=this._readableState,W=!1;G.on("end",function(){if(A("wrapped end"),te.decoder&&!te.ended){var ee=te.decoder.end();ee&&ee.length&&H.push(ee)}H.push(null)}),G.on("data",function(ee){if(A("wrapped data"),te.decoder&&(ee=te.decoder.write(ee)),!(te.objectMode&&ee==null)&&!(!te.objectMode&&(!ee||!ee.length))){var X=H.push(ee);X||(W=!0,G.pause())}});for(var U in G)this[U]===void 0&&typeof G[U]=="function"&&(this[U]=function(ee){return function(){return G[ee].apply(G,arguments)}}(U));for(var j=0;j<P.length;j++)G.on(P[j],this.emit.bind(this,P[j]));return this._read=function(ee){A("wrapped _read",ee),W&&(W=!1,G.resume())},this},Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),N._fromList=w;function w(G,H){if(H.length===0)return null;var te;return H.objectMode?te=H.buffer.shift():!G||G>=H.length?(H.decoder?te=H.buffer.join(""):H.buffer.length===1?te=H.buffer.head.data:te=H.buffer.concat(H.length),H.buffer.clear()):te=x(G,H.buffer,H.decoder),te}function x(G,H,te){var W;return G<H.head.data.length?(W=H.head.data.slice(0,G),H.head.data=H.head.data.slice(G)):G===H.head.data.length?W=H.shift():W=te?F(G,H):q(G,H),W}function F(G,H){var te=H.head,W=1,U=te.data;for(G-=U.length;te=te.next;){var j=te.data,ee=G>j.length?j.length:G;if(ee===j.length?U+=j:U+=j.slice(0,G),G-=ee,G===0){ee===j.length?(++W,te.next?H.head=te.next:H.head=H.tail=null):(H.head=te,te.data=j.slice(ee));break}++W}return H.length-=W,U}function q(G,H){var te=o.allocUnsafe(G),W=H.head,U=1;for(W.data.copy(te),G-=W.data.length;W=W.next;){var j=W.data,ee=G>j.length?j.length:G;if(j.copy(te,te.length-G,0,ee),G-=ee,G===0){ee===j.length?(++U,W.next?H.head=W.next:H.head=H.tail=null):(H.head=W,W.data=j.slice(ee));break}++U}return H.length-=U,te}function V(G){var H=G._readableState;if(H.length>0)throw new Error('"endReadable()" called on non-empty stream');H.endEmitted||(H.ended=!0,e.nextTick(Y,H,G))}function Y(G,H){!G.endEmitted&&G.length===0&&(G.endEmitted=!0,H.readable=!1,H.emit("end"))}function Q(G,H){for(var te=0,W=G.length;te<W;te++)if(G[te]===H)return te;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=n;var e=require_stream_duplex(),t=Object.create(requireUtil());t.inherits=inherits_browserExports,t.inherits(n,e);function r(u,p){var b=this._transformState;b.transforming=!1;var m=b.writecb;if(!m)return this.emit("error",new Error("write callback called multiple times"));b.writechunk=null,b.writecb=null,p!=null&&this.push(p),m(u);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function n(u){if(!(this instanceof n))return new n(u);e.call(this,u),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",a)}function a(){var u=this;typeof this._flush=="function"?this._flush(function(p,b){o(u,p,b)}):o(this,null,null)}n.prototype.push=function(u,p){return this._transformState.needTransform=!1,e.prototype.push.call(this,u,p)},n.prototype._transform=function(u,p,b){throw new Error("_transform() is not implemented")},n.prototype._write=function(u,p,b){var m=this._transformState;if(m.writecb=b,m.writechunk=u,m.writeencoding=p,!m.transforming){var y=this._readableState;(m.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},n.prototype._read=function(u){var p=this._transformState;p.writechunk!==null&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},n.prototype._destroy=function(u,p){var b=this;e.prototype._destroy.call(this,u,function(m){p(m),b.emit("close")})};function o(u,p,b){if(p)return u.emit("error",p);if(b!=null&&u.push(b),u._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(u._transformState.transforming)throw new Error("Calling transform done when still transforming");return u.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=r;var e=require_stream_transform(),t=Object.create(requireUtil());t.inherits=inherits_browserExports,t.inherits(r,e);function r(n){if(!(this instanceof r))return new r(n);e.call(this,n)}return r.prototype._transform=function(n,a,o){o(null,n)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(e,t){t=e.exports=require_stream_readable(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=require_stream_transform(),t.PassThrough=require_stream_passthrough()}(readableBrowser$1,readableBrowser$1.exports)),readableBrowser$1.exports}var sign$5={exports:{}},bn$3={exports:{}};bn$3.exports,function(e){(function(t,r){function n(l,v){if(!l)throw new Error(v||"Assertion failed")}function a(l,v){l.super_=v;var S=function(){};S.prototype=v.prototype,l.prototype=new S,l.prototype.constructor=l}function o(l,v,S){if(o.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((v==="le"||v==="be")&&(S=v,v=10),this._init(l||0,v||10,S||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$1.Buffer}catch{}o.isBN=function(l){return l instanceof o?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===o.wordSize&&Array.isArray(l.words)},o.max=function(l,v){return l.cmp(v)>0?l:v},o.min=function(l,v){return l.cmp(v)<0?l:v},o.prototype._init=function(l,v,S){if(typeof l=="number")return this._initNumber(l,v,S);if(typeof l=="object")return this._initArray(l,v,S);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),l=l.toString().replace(/\s+/g,"");var O=0;l[0]==="-"&&(O++,this.negative=1),O<l.length&&(v===16?this._parseHex(l,O,S):(this._parseBase(l,v,O),S==="le"&&this._initArray(this.toArray(),v,S)))},o.prototype._initNumber=function(l,v,S){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),v,S)},o.prototype._initArray=function(l,v,S){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var T,_,c=0;if(S==="be")for(O=l.length-1,T=0;O>=0;O-=3)_=l[O]|l[O-1]<<8|l[O-2]<<16,this.words[T]|=_<<c&67108863,this.words[T+1]=_>>>26-c&67108863,c+=24,c>=26&&(c-=26,T++);else if(S==="le")for(O=0,T=0;O<l.length;O+=3)_=l[O]|l[O+1]<<8|l[O+2]<<16,this.words[T]|=_<<c&67108863,this.words[T+1]=_>>>26-c&67108863,c+=24,c>=26&&(c-=26,T++);return this._strip()};function p(l,v){var S=l.charCodeAt(v);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;n(!1,"Invalid character in "+l)}function b(l,v,S){var O=p(l,S);return S-1>=v&&(O|=p(l,S-1)<<4),O}o.prototype._parseHex=function(l,v,S){this.length=Math.ceil((l.length-v)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var T=0,_=0,c;if(S==="be")for(O=l.length-1;O>=v;O-=2)c=b(l,v,O)<<T,this.words[_]|=c&67108863,T>=18?(T-=18,_+=1,this.words[_]|=c>>>26):T+=8;else{var w=l.length-v;for(O=w%2===0?v+1:v;O<l.length;O+=2)c=b(l,v,O)<<T,this.words[_]|=c&67108863,T>=18?(T-=18,_+=1,this.words[_]|=c>>>26):T+=8}this._strip()};function m(l,v,S,O){for(var T=0,_=0,c=Math.min(l.length,S),w=v;w<c;w++){var x=l.charCodeAt(w)-48;T*=O,x>=49?_=x-49+10:x>=17?_=x-17+10:_=x,n(x>=0&&_<O,"Invalid character"),T+=_}return T}o.prototype._parseBase=function(l,v,S){this.words=[0],this.length=1;for(var O=0,T=1;T<=67108863;T*=v)O++;O--,T=T/v|0;for(var _=l.length-S,c=_%O,w=Math.min(_,_-c)+S,x=0,F=S;F<w;F+=O)x=m(l,F,F+O,v),this.imuln(T),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x);if(c!==0){var q=1;for(x=m(l,F,l.length,v),F=0;F<c;F++)q*=v;this.imuln(q),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x)}this._strip()},o.prototype.copy=function(l){l.words=new Array(this.length);for(var v=0;v<this.length;v++)l.words[v]=this.words[v];l.length=this.length,l.negative=this.negative,l.red=this.red};function y(l,v){l.words=v.words,l.length=v.length,l.negative=v.negative,l.red=v.red}if(o.prototype._move=function(l){y(l,this)},o.prototype.clone=function(){var l=new o(null);return this.copy(l),l},o.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{o.prototype.inspect=A}else o.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(l,v){l=l||10,v=v|0||1;var S;if(l===16||l==="hex"){S="";for(var O=0,T=0,_=0;_<this.length;_++){var c=this.words[_],w=((c<<O|T)&16777215).toString(16);T=c>>>24-O&16777215,O+=2,O>=26&&(O-=26,_--),T!==0||_!==this.length-1?S=I[6-w.length]+w+S:S=w+S}for(T!==0&&(S=T.toString(16)+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(l===(l|0)&&l>=2&&l<=36){var x=M[l],F=C[l];S="";var q=this.clone();for(q.negative=0;!q.isZero();){var V=q.modrn(F).toString(l);q=q.idivn(F),q.isZero()?S=V+S:S=I[x-V.length]+V+S}for(this.isZero()&&(S="0"+S);S.length%v!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(l,v){return this.toArrayLike(u,l,v)}),o.prototype.toArray=function(l,v){return this.toArrayLike(Array,l,v)};var P=function(l,v){return l.allocUnsafe?l.allocUnsafe(v):new l(v)};o.prototype.toArrayLike=function(l,v,S){this._strip();var O=this.byteLength(),T=S||Math.max(1,O);n(O<=T,"byte array longer than desired length"),n(T>0,"Requested array length <= 0");var _=P(l,T),c=v==="le"?"LE":"BE";return this["_toArrayLike"+c](_,O),_},o.prototype._toArrayLikeLE=function(l,v){for(var S=0,O=0,T=0,_=0;T<this.length;T++){var c=this.words[T]<<_|O;l[S++]=c&255,S<l.length&&(l[S++]=c>>8&255),S<l.length&&(l[S++]=c>>16&255),_===6?(S<l.length&&(l[S++]=c>>24&255),O=0,_=0):(O=c>>>24,_+=2)}if(S<l.length)for(l[S++]=O;S<l.length;)l[S++]=0},o.prototype._toArrayLikeBE=function(l,v){for(var S=l.length-1,O=0,T=0,_=0;T<this.length;T++){var c=this.words[T]<<_|O;l[S--]=c&255,S>=0&&(l[S--]=c>>8&255),S>=0&&(l[S--]=c>>16&255),_===6?(S>=0&&(l[S--]=c>>24&255),O=0,_=0):(O=c>>>24,_+=2)}if(S>=0)for(l[S--]=O;S>=0;)l[S--]=0},Math.clz32?o.prototype._countBits=function(l){return 32-Math.clz32(l)}:o.prototype._countBits=function(l){var v=l,S=0;return v>=4096&&(S+=13,v>>>=13),v>=64&&(S+=7,v>>>=7),v>=8&&(S+=4,v>>>=4),v>=2&&(S+=2,v>>>=2),S+v},o.prototype._zeroBits=function(l){if(l===0)return 26;var v=l,S=0;return v&8191||(S+=13,v>>>=13),v&127||(S+=7,v>>>=7),v&15||(S+=4,v>>>=4),v&3||(S+=2,v>>>=2),v&1||S++,S},o.prototype.bitLength=function(){var l=this.words[this.length-1],v=this._countBits(l);return(this.length-1)*26+v};function B(l){for(var v=new Array(l.bitLength()),S=0;S<v.length;S++){var O=S/26|0,T=S%26;v[S]=l.words[O]>>>T&1}return v}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,v=0;v<this.length;v++){var S=this._zeroBits(this.words[v]);if(l+=S,S!==26)break}return l},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},o.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var v=0;v<l.length;v++)this.words[v]=this.words[v]|l.words[v];return this._strip()},o.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},o.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},o.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},o.prototype.iuand=function(l){var v;this.length>l.length?v=l:v=this;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]&l.words[S];return this.length=v.length,this._strip()},o.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},o.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},o.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},o.prototype.iuxor=function(l){var v,S;this.length>l.length?(v=this,S=l):(v=l,S=this);for(var O=0;O<S.length;O++)this.words[O]=v.words[O]^S.words[O];if(this!==v)for(;O<v.length;O++)this.words[O]=v.words[O];return this.length=v.length,this._strip()},o.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},o.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},o.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},o.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var v=Math.ceil(l/26)|0,S=l%26;this._expand(v),S>0&&v--;for(var O=0;O<v;O++)this.words[O]=~this.words[O]&67108863;return S>0&&(this.words[O]=~this.words[O]&67108863>>26-S),this._strip()},o.prototype.notn=function(l){return this.clone().inotn(l)},o.prototype.setn=function(l,v){n(typeof l=="number"&&l>=0);var S=l/26|0,O=l%26;return this._expand(S+1),v?this.words[S]=this.words[S]|1<<O:this.words[S]=this.words[S]&~(1<<O),this._strip()},o.prototype.iadd=function(l){var v;if(this.negative!==0&&l.negative===0)return this.negative=0,v=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,v=this.isub(l),l.negative=1,v._normSign();var S,O;this.length>l.length?(S=this,O=l):(S=l,O=this);for(var T=0,_=0;_<O.length;_++)v=(S.words[_]|0)+(O.words[_]|0)+T,this.words[_]=v&67108863,T=v>>>26;for(;T!==0&&_<S.length;_++)v=(S.words[_]|0)+T,this.words[_]=v&67108863,T=v>>>26;if(this.length=S.length,T!==0)this.words[this.length]=T,this.length++;else if(S!==this)for(;_<S.length;_++)this.words[_]=S.words[_];return this},o.prototype.add=function(l){var v;return l.negative!==0&&this.negative===0?(l.negative=0,v=this.sub(l),l.negative^=1,v):l.negative===0&&this.negative!==0?(this.negative=0,v=l.sub(this),this.negative=1,v):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},o.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var v=this.iadd(l);return l.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var S=this.cmp(l);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,T;S>0?(O=this,T=l):(O=l,T=this);for(var _=0,c=0;c<T.length;c++)v=(O.words[c]|0)-(T.words[c]|0)+_,_=v>>26,this.words[c]=v&67108863;for(;_!==0&&c<O.length;c++)v=(O.words[c]|0)+_,_=v>>26,this.words[c]=v&67108863;if(_===0&&c<O.length&&O!==this)for(;c<O.length;c++)this.words[c]=O.words[c];return this.length=Math.max(this.length,c),O!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(l){return this.clone().isub(l)};function k(l,v,S){S.negative=v.negative^l.negative;var O=l.length+v.length|0;S.length=O,O=O-1|0;var T=l.words[0]|0,_=v.words[0]|0,c=T*_,w=c&67108863,x=c/67108864|0;S.words[0]=w;for(var F=1;F<O;F++){for(var q=x>>>26,V=x&67108863,Y=Math.min(F,v.length-1),Q=Math.max(0,F-l.length+1);Q<=Y;Q++){var G=F-Q|0;T=l.words[G]|0,_=v.words[Q]|0,c=T*_+V,q+=c/67108864|0,V=c&67108863}S.words[F]=V|0,x=q|0}return x!==0?S.words[F]=x|0:S.length--,S._strip()}var N=function(l,v,S){var O=l.words,T=v.words,_=S.words,c=0,w,x,F,q=O[0]|0,V=q&8191,Y=q>>>13,Q=O[1]|0,G=Q&8191,H=Q>>>13,te=O[2]|0,W=te&8191,U=te>>>13,j=O[3]|0,ee=j&8191,X=j>>>13,ne=O[4]|0,de=ne&8191,re=ne>>>13,ae=O[5]|0,ue=ae&8191,se=ae>>>13,le=O[6]|0,Re=le&8191,he=le>>>13,fe=O[7]|0,Fe=fe&8191,me=fe>>>13,pe=O[8]|0,Ue=pe&8191,ye=pe>>>13,be=O[9]|0,He=be&8191,$e=be>>>13,Me=T[0]|0,qe=Me&8191,ge=Me>>>13,Oe=T[1]|0,je=Oe&8191,ve=Oe>>>13,Pe=T[2]|0,Ke=Pe&8191,_e=Pe>>>13,Ce=T[3]|0,We=Ce&8191,Ee=Ce>>>13,xe=T[4]|0,ze=xe&8191,we=xe>>>13,Ne=T[5]|0,Ze=Ne&8191,Se=Ne>>>13,Be=T[6]|0,Xe=Be&8191,Ae=Be>>>13,ke=T[7]|0,Ye=ke&8191,Te=ke>>>13,De=T[8]|0,Je=De&8191,Ie=De>>>13,Le=T[9]|0,Ve=Le&8191,Ge=Le>>>13;S.negative=l.negative^v.negative,S.length=19,w=Math.imul(V,qe),x=Math.imul(V,ge),x=x+Math.imul(Y,qe)|0,F=Math.imul(Y,ge);var Qe=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,w=Math.imul(G,qe),x=Math.imul(G,ge),x=x+Math.imul(H,qe)|0,F=Math.imul(H,ge),w=w+Math.imul(V,je)|0,x=x+Math.imul(V,ve)|0,x=x+Math.imul(Y,je)|0,F=F+Math.imul(Y,ve)|0;var et=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(et>>>26)|0,et&=67108863,w=Math.imul(W,qe),x=Math.imul(W,ge),x=x+Math.imul(U,qe)|0,F=Math.imul(U,ge),w=w+Math.imul(G,je)|0,x=x+Math.imul(G,ve)|0,x=x+Math.imul(H,je)|0,F=F+Math.imul(H,ve)|0,w=w+Math.imul(V,Ke)|0,x=x+Math.imul(V,_e)|0,x=x+Math.imul(Y,Ke)|0,F=F+Math.imul(Y,_e)|0;var tt=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(tt>>>26)|0,tt&=67108863,w=Math.imul(ee,qe),x=Math.imul(ee,ge),x=x+Math.imul(X,qe)|0,F=Math.imul(X,ge),w=w+Math.imul(W,je)|0,x=x+Math.imul(W,ve)|0,x=x+Math.imul(U,je)|0,F=F+Math.imul(U,ve)|0,w=w+Math.imul(G,Ke)|0,x=x+Math.imul(G,_e)|0,x=x+Math.imul(H,Ke)|0,F=F+Math.imul(H,_e)|0,w=w+Math.imul(V,We)|0,x=x+Math.imul(V,Ee)|0,x=x+Math.imul(Y,We)|0,F=F+Math.imul(Y,Ee)|0;var rt=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(de,qe),x=Math.imul(de,ge),x=x+Math.imul(re,qe)|0,F=Math.imul(re,ge),w=w+Math.imul(ee,je)|0,x=x+Math.imul(ee,ve)|0,x=x+Math.imul(X,je)|0,F=F+Math.imul(X,ve)|0,w=w+Math.imul(W,Ke)|0,x=x+Math.imul(W,_e)|0,x=x+Math.imul(U,Ke)|0,F=F+Math.imul(U,_e)|0,w=w+Math.imul(G,We)|0,x=x+Math.imul(G,Ee)|0,x=x+Math.imul(H,We)|0,F=F+Math.imul(H,Ee)|0,w=w+Math.imul(V,ze)|0,x=x+Math.imul(V,we)|0,x=x+Math.imul(Y,ze)|0,F=F+Math.imul(Y,we)|0;var nt=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(nt>>>26)|0,nt&=67108863,w=Math.imul(ue,qe),x=Math.imul(ue,ge),x=x+Math.imul(se,qe)|0,F=Math.imul(se,ge),w=w+Math.imul(de,je)|0,x=x+Math.imul(de,ve)|0,x=x+Math.imul(re,je)|0,F=F+Math.imul(re,ve)|0,w=w+Math.imul(ee,Ke)|0,x=x+Math.imul(ee,_e)|0,x=x+Math.imul(X,Ke)|0,F=F+Math.imul(X,_e)|0,w=w+Math.imul(W,We)|0,x=x+Math.imul(W,Ee)|0,x=x+Math.imul(U,We)|0,F=F+Math.imul(U,Ee)|0,w=w+Math.imul(G,ze)|0,x=x+Math.imul(G,we)|0,x=x+Math.imul(H,ze)|0,F=F+Math.imul(H,we)|0,w=w+Math.imul(V,Ze)|0,x=x+Math.imul(V,Se)|0,x=x+Math.imul(Y,Ze)|0,F=F+Math.imul(Y,Se)|0;var it=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(it>>>26)|0,it&=67108863,w=Math.imul(Re,qe),x=Math.imul(Re,ge),x=x+Math.imul(he,qe)|0,F=Math.imul(he,ge),w=w+Math.imul(ue,je)|0,x=x+Math.imul(ue,ve)|0,x=x+Math.imul(se,je)|0,F=F+Math.imul(se,ve)|0,w=w+Math.imul(de,Ke)|0,x=x+Math.imul(de,_e)|0,x=x+Math.imul(re,Ke)|0,F=F+Math.imul(re,_e)|0,w=w+Math.imul(ee,We)|0,x=x+Math.imul(ee,Ee)|0,x=x+Math.imul(X,We)|0,F=F+Math.imul(X,Ee)|0,w=w+Math.imul(W,ze)|0,x=x+Math.imul(W,we)|0,x=x+Math.imul(U,ze)|0,F=F+Math.imul(U,we)|0,w=w+Math.imul(G,Ze)|0,x=x+Math.imul(G,Se)|0,x=x+Math.imul(H,Ze)|0,F=F+Math.imul(H,Se)|0,w=w+Math.imul(V,Xe)|0,x=x+Math.imul(V,Ae)|0,x=x+Math.imul(Y,Xe)|0,F=F+Math.imul(Y,Ae)|0;var ot=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(Fe,qe),x=Math.imul(Fe,ge),x=x+Math.imul(me,qe)|0,F=Math.imul(me,ge),w=w+Math.imul(Re,je)|0,x=x+Math.imul(Re,ve)|0,x=x+Math.imul(he,je)|0,F=F+Math.imul(he,ve)|0,w=w+Math.imul(ue,Ke)|0,x=x+Math.imul(ue,_e)|0,x=x+Math.imul(se,Ke)|0,F=F+Math.imul(se,_e)|0,w=w+Math.imul(de,We)|0,x=x+Math.imul(de,Ee)|0,x=x+Math.imul(re,We)|0,F=F+Math.imul(re,Ee)|0,w=w+Math.imul(ee,ze)|0,x=x+Math.imul(ee,we)|0,x=x+Math.imul(X,ze)|0,F=F+Math.imul(X,we)|0,w=w+Math.imul(W,Ze)|0,x=x+Math.imul(W,Se)|0,x=x+Math.imul(U,Ze)|0,F=F+Math.imul(U,Se)|0,w=w+Math.imul(G,Xe)|0,x=x+Math.imul(G,Ae)|0,x=x+Math.imul(H,Xe)|0,F=F+Math.imul(H,Ae)|0,w=w+Math.imul(V,Ye)|0,x=x+Math.imul(V,Te)|0,x=x+Math.imul(Y,Ye)|0,F=F+Math.imul(Y,Te)|0;var st=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Ue,qe),x=Math.imul(Ue,ge),x=x+Math.imul(ye,qe)|0,F=Math.imul(ye,ge),w=w+Math.imul(Fe,je)|0,x=x+Math.imul(Fe,ve)|0,x=x+Math.imul(me,je)|0,F=F+Math.imul(me,ve)|0,w=w+Math.imul(Re,Ke)|0,x=x+Math.imul(Re,_e)|0,x=x+Math.imul(he,Ke)|0,F=F+Math.imul(he,_e)|0,w=w+Math.imul(ue,We)|0,x=x+Math.imul(ue,Ee)|0,x=x+Math.imul(se,We)|0,F=F+Math.imul(se,Ee)|0,w=w+Math.imul(de,ze)|0,x=x+Math.imul(de,we)|0,x=x+Math.imul(re,ze)|0,F=F+Math.imul(re,we)|0,w=w+Math.imul(ee,Ze)|0,x=x+Math.imul(ee,Se)|0,x=x+Math.imul(X,Ze)|0,F=F+Math.imul(X,Se)|0,w=w+Math.imul(W,Xe)|0,x=x+Math.imul(W,Ae)|0,x=x+Math.imul(U,Xe)|0,F=F+Math.imul(U,Ae)|0,w=w+Math.imul(G,Ye)|0,x=x+Math.imul(G,Te)|0,x=x+Math.imul(H,Ye)|0,F=F+Math.imul(H,Te)|0,w=w+Math.imul(V,Je)|0,x=x+Math.imul(V,Ie)|0,x=x+Math.imul(Y,Je)|0,F=F+Math.imul(Y,Ie)|0;var ct=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(He,qe),x=Math.imul(He,ge),x=x+Math.imul($e,qe)|0,F=Math.imul($e,ge),w=w+Math.imul(Ue,je)|0,x=x+Math.imul(Ue,ve)|0,x=x+Math.imul(ye,je)|0,F=F+Math.imul(ye,ve)|0,w=w+Math.imul(Fe,Ke)|0,x=x+Math.imul(Fe,_e)|0,x=x+Math.imul(me,Ke)|0,F=F+Math.imul(me,_e)|0,w=w+Math.imul(Re,We)|0,x=x+Math.imul(Re,Ee)|0,x=x+Math.imul(he,We)|0,F=F+Math.imul(he,Ee)|0,w=w+Math.imul(ue,ze)|0,x=x+Math.imul(ue,we)|0,x=x+Math.imul(se,ze)|0,F=F+Math.imul(se,we)|0,w=w+Math.imul(de,Ze)|0,x=x+Math.imul(de,Se)|0,x=x+Math.imul(re,Ze)|0,F=F+Math.imul(re,Se)|0,w=w+Math.imul(ee,Xe)|0,x=x+Math.imul(ee,Ae)|0,x=x+Math.imul(X,Xe)|0,F=F+Math.imul(X,Ae)|0,w=w+Math.imul(W,Ye)|0,x=x+Math.imul(W,Te)|0,x=x+Math.imul(U,Ye)|0,F=F+Math.imul(U,Te)|0,w=w+Math.imul(G,Je)|0,x=x+Math.imul(G,Ie)|0,x=x+Math.imul(H,Je)|0,F=F+Math.imul(H,Ie)|0,w=w+Math.imul(V,Ve)|0,x=x+Math.imul(V,Ge)|0,x=x+Math.imul(Y,Ve)|0,F=F+Math.imul(Y,Ge)|0;var lt=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(lt>>>26)|0,lt&=67108863,w=Math.imul(He,je),x=Math.imul(He,ve),x=x+Math.imul($e,je)|0,F=Math.imul($e,ve),w=w+Math.imul(Ue,Ke)|0,x=x+Math.imul(Ue,_e)|0,x=x+Math.imul(ye,Ke)|0,F=F+Math.imul(ye,_e)|0,w=w+Math.imul(Fe,We)|0,x=x+Math.imul(Fe,Ee)|0,x=x+Math.imul(me,We)|0,F=F+Math.imul(me,Ee)|0,w=w+Math.imul(Re,ze)|0,x=x+Math.imul(Re,we)|0,x=x+Math.imul(he,ze)|0,F=F+Math.imul(he,we)|0,w=w+Math.imul(ue,Ze)|0,x=x+Math.imul(ue,Se)|0,x=x+Math.imul(se,Ze)|0,F=F+Math.imul(se,Se)|0,w=w+Math.imul(de,Xe)|0,x=x+Math.imul(de,Ae)|0,x=x+Math.imul(re,Xe)|0,F=F+Math.imul(re,Ae)|0,w=w+Math.imul(ee,Ye)|0,x=x+Math.imul(ee,Te)|0,x=x+Math.imul(X,Ye)|0,F=F+Math.imul(X,Te)|0,w=w+Math.imul(W,Je)|0,x=x+Math.imul(W,Ie)|0,x=x+Math.imul(U,Je)|0,F=F+Math.imul(U,Ie)|0,w=w+Math.imul(G,Ve)|0,x=x+Math.imul(G,Ge)|0,x=x+Math.imul(H,Ve)|0,F=F+Math.imul(H,Ge)|0;var dt=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(He,Ke),x=Math.imul(He,_e),x=x+Math.imul($e,Ke)|0,F=Math.imul($e,_e),w=w+Math.imul(Ue,We)|0,x=x+Math.imul(Ue,Ee)|0,x=x+Math.imul(ye,We)|0,F=F+Math.imul(ye,Ee)|0,w=w+Math.imul(Fe,ze)|0,x=x+Math.imul(Fe,we)|0,x=x+Math.imul(me,ze)|0,F=F+Math.imul(me,we)|0,w=w+Math.imul(Re,Ze)|0,x=x+Math.imul(Re,Se)|0,x=x+Math.imul(he,Ze)|0,F=F+Math.imul(he,Se)|0,w=w+Math.imul(ue,Xe)|0,x=x+Math.imul(ue,Ae)|0,x=x+Math.imul(se,Xe)|0,F=F+Math.imul(se,Ae)|0,w=w+Math.imul(de,Ye)|0,x=x+Math.imul(de,Te)|0,x=x+Math.imul(re,Ye)|0,F=F+Math.imul(re,Te)|0,w=w+Math.imul(ee,Je)|0,x=x+Math.imul(ee,Ie)|0,x=x+Math.imul(X,Je)|0,F=F+Math.imul(X,Ie)|0,w=w+Math.imul(W,Ve)|0,x=x+Math.imul(W,Ge)|0,x=x+Math.imul(U,Ve)|0,F=F+Math.imul(U,Ge)|0;var ht=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(ht>>>26)|0,ht&=67108863,w=Math.imul(He,We),x=Math.imul(He,Ee),x=x+Math.imul($e,We)|0,F=Math.imul($e,Ee),w=w+Math.imul(Ue,ze)|0,x=x+Math.imul(Ue,we)|0,x=x+Math.imul(ye,ze)|0,F=F+Math.imul(ye,we)|0,w=w+Math.imul(Fe,Ze)|0,x=x+Math.imul(Fe,Se)|0,x=x+Math.imul(me,Ze)|0,F=F+Math.imul(me,Se)|0,w=w+Math.imul(Re,Xe)|0,x=x+Math.imul(Re,Ae)|0,x=x+Math.imul(he,Xe)|0,F=F+Math.imul(he,Ae)|0,w=w+Math.imul(ue,Ye)|0,x=x+Math.imul(ue,Te)|0,x=x+Math.imul(se,Ye)|0,F=F+Math.imul(se,Te)|0,w=w+Math.imul(de,Je)|0,x=x+Math.imul(de,Ie)|0,x=x+Math.imul(re,Je)|0,F=F+Math.imul(re,Ie)|0,w=w+Math.imul(ee,Ve)|0,x=x+Math.imul(ee,Ge)|0,x=x+Math.imul(X,Ve)|0,F=F+Math.imul(X,Ge)|0;var ft=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(He,ze),x=Math.imul(He,we),x=x+Math.imul($e,ze)|0,F=Math.imul($e,we),w=w+Math.imul(Ue,Ze)|0,x=x+Math.imul(Ue,Se)|0,x=x+Math.imul(ye,Ze)|0,F=F+Math.imul(ye,Se)|0,w=w+Math.imul(Fe,Xe)|0,x=x+Math.imul(Fe,Ae)|0,x=x+Math.imul(me,Xe)|0,F=F+Math.imul(me,Ae)|0,w=w+Math.imul(Re,Ye)|0,x=x+Math.imul(Re,Te)|0,x=x+Math.imul(he,Ye)|0,F=F+Math.imul(he,Te)|0,w=w+Math.imul(ue,Je)|0,x=x+Math.imul(ue,Ie)|0,x=x+Math.imul(se,Je)|0,F=F+Math.imul(se,Ie)|0,w=w+Math.imul(de,Ve)|0,x=x+Math.imul(de,Ge)|0,x=x+Math.imul(re,Ve)|0,F=F+Math.imul(re,Ge)|0;var pt=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(pt>>>26)|0,pt&=67108863,w=Math.imul(He,Ze),x=Math.imul(He,Se),x=x+Math.imul($e,Ze)|0,F=Math.imul($e,Se),w=w+Math.imul(Ue,Xe)|0,x=x+Math.imul(Ue,Ae)|0,x=x+Math.imul(ye,Xe)|0,F=F+Math.imul(ye,Ae)|0,w=w+Math.imul(Fe,Ye)|0,x=x+Math.imul(Fe,Te)|0,x=x+Math.imul(me,Ye)|0,F=F+Math.imul(me,Te)|0,w=w+Math.imul(Re,Je)|0,x=x+Math.imul(Re,Ie)|0,x=x+Math.imul(he,Je)|0,F=F+Math.imul(he,Ie)|0,w=w+Math.imul(ue,Ve)|0,x=x+Math.imul(ue,Ge)|0,x=x+Math.imul(se,Ve)|0,F=F+Math.imul(se,Ge)|0;var mt=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(mt>>>26)|0,mt&=67108863,w=Math.imul(He,Xe),x=Math.imul(He,Ae),x=x+Math.imul($e,Xe)|0,F=Math.imul($e,Ae),w=w+Math.imul(Ue,Ye)|0,x=x+Math.imul(Ue,Te)|0,x=x+Math.imul(ye,Ye)|0,F=F+Math.imul(ye,Te)|0,w=w+Math.imul(Fe,Je)|0,x=x+Math.imul(Fe,Ie)|0,x=x+Math.imul(me,Je)|0,F=F+Math.imul(me,Ie)|0,w=w+Math.imul(Re,Ve)|0,x=x+Math.imul(Re,Ge)|0,x=x+Math.imul(he,Ve)|0,F=F+Math.imul(he,Ge)|0;var yt=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(yt>>>26)|0,yt&=67108863,w=Math.imul(He,Ye),x=Math.imul(He,Te),x=x+Math.imul($e,Ye)|0,F=Math.imul($e,Te),w=w+Math.imul(Ue,Je)|0,x=x+Math.imul(Ue,Ie)|0,x=x+Math.imul(ye,Je)|0,F=F+Math.imul(ye,Ie)|0,w=w+Math.imul(Fe,Ve)|0,x=x+Math.imul(Fe,Ge)|0,x=x+Math.imul(me,Ve)|0,F=F+Math.imul(me,Ge)|0;var gt=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(gt>>>26)|0,gt&=67108863,w=Math.imul(He,Je),x=Math.imul(He,Ie),x=x+Math.imul($e,Je)|0,F=Math.imul($e,Ie),w=w+Math.imul(Ue,Ve)|0,x=x+Math.imul(Ue,Ge)|0,x=x+Math.imul(ye,Ve)|0,F=F+Math.imul(ye,Ge)|0;var St=(c+w|0)+((x&8191)<<13)|0;c=(F+(x>>>13)|0)+(St>>>26)|0,St&=67108863,w=Math.imul(He,Ve),x=Math.imul(He,Ge),x=x+Math.imul($e,Ve)|0,F=Math.imul($e,Ge);var At=(c+w|0)+((x&8191)<<13)|0;return c=(F+(x>>>13)|0)+(At>>>26)|0,At&=67108863,_[0]=Qe,_[1]=et,_[2]=tt,_[3]=rt,_[4]=nt,_[5]=it,_[6]=ot,_[7]=st,_[8]=ct,_[9]=lt,_[10]=dt,_[11]=ht,_[12]=ft,_[13]=pt,_[14]=mt,_[15]=yt,_[16]=gt,_[17]=St,_[18]=At,c!==0&&(_[19]=c,S.length++),S};Math.imul||(N=k);function D(l,v,S){S.negative=v.negative^l.negative,S.length=l.length+v.length;for(var O=0,T=0,_=0;_<S.length-1;_++){var c=T;T=0;for(var w=O&67108863,x=Math.min(_,v.length-1),F=Math.max(0,_-l.length+1);F<=x;F++){var q=_-F,V=l.words[q]|0,Y=v.words[F]|0,Q=V*Y,G=Q&67108863;c=c+(Q/67108864|0)|0,G=G+w|0,w=G&67108863,c=c+(G>>>26)|0,T+=c>>>26,c&=67108863}S.words[_]=w,O=c,c=T}return O!==0?S.words[_]=O:S.length--,S._strip()}function L(l,v,S){return D(l,v,S)}o.prototype.mulTo=function(l,v){var S,O=this.length+l.length;return this.length===10&&l.length===10?S=N(this,l,v):O<63?S=k(this,l,v):O<1024?S=D(this,l,v):S=L(this,l,v),S},o.prototype.mul=function(l){var v=new o(null);return v.words=new Array(this.length+l.length),this.mulTo(l,v)},o.prototype.mulf=function(l){var v=new o(null);return v.words=new Array(this.length+l.length),L(this,l,v)},o.prototype.imul=function(l){return this.clone().mulTo(l,this)},o.prototype.imuln=function(l){var v=l<0;v&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var S=0,O=0;O<this.length;O++){var T=(this.words[O]|0)*l,_=(T&67108863)+(S&67108863);S>>=26,S+=T/67108864|0,S+=_>>>26,this.words[O]=_&67108863}return S!==0&&(this.words[O]=S,this.length++),v?this.ineg():this},o.prototype.muln=function(l){return this.clone().imuln(l)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(l){var v=B(l);if(v.length===0)return new o(1);for(var S=this,O=0;O<v.length&&v[O]===0;O++,S=S.sqr());if(++O<v.length)for(var T=S.sqr();O<v.length;O++,T=T.sqr())v[O]!==0&&(S=S.mul(T));return S},o.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var v=l%26,S=(l-v)/26,O=67108863>>>26-v<<26-v,T;if(v!==0){var _=0;for(T=0;T<this.length;T++){var c=this.words[T]&O,w=(this.words[T]|0)-c<<v;this.words[T]=w|_,_=c>>>26-v}_&&(this.words[T]=_,this.length++)}if(S!==0){for(T=this.length-1;T>=0;T--)this.words[T+S]=this.words[T];for(T=0;T<S;T++)this.words[T]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},o.prototype.iushrn=function(l,v,S){n(typeof l=="number"&&l>=0);var O;v?O=(v-v%26)/26:O=0;var T=l%26,_=Math.min((l-T)/26,this.length),c=67108863^67108863>>>T<<T,w=S;if(O-=_,O=Math.max(0,O),w){for(var x=0;x<_;x++)w.words[x]=this.words[x];w.length=_}if(_!==0)if(this.length>_)for(this.length-=_,x=0;x<this.length;x++)this.words[x]=this.words[x+_];else this.words[0]=0,this.length=1;var F=0;for(x=this.length-1;x>=0&&(F!==0||x>=O);x--){var q=this.words[x]|0;this.words[x]=F<<26-T|q>>>T,F=q&c}return w&&F!==0&&(w.words[w.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(l,v,S){return n(this.negative===0),this.iushrn(l,v,S)},o.prototype.shln=function(l){return this.clone().ishln(l)},o.prototype.ushln=function(l){return this.clone().iushln(l)},o.prototype.shrn=function(l){return this.clone().ishrn(l)},o.prototype.ushrn=function(l){return this.clone().iushrn(l)},o.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var v=l%26,S=(l-v)/26,O=1<<v;if(this.length<=S)return!1;var T=this.words[S];return!!(T&O)},o.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var v=l%26,S=(l-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(v!==0&&S++,this.length=Math.min(S,this.length),v!==0){var O=67108863^67108863>>>v<<v;this.words[this.length-1]&=O}return this._strip()},o.prototype.maskn=function(l){return this.clone().imaskn(l)},o.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},o.prototype._iaddn=function(l){this.words[0]+=l;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},o.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},o.prototype.addn=function(l){return this.clone().iaddn(l)},o.prototype.subn=function(l){return this.clone().isubn(l)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(l,v,S){var O=l.length+S,T;this._expand(O);var _,c=0;for(T=0;T<l.length;T++){_=(this.words[T+S]|0)+c;var w=(l.words[T]|0)*v;_-=w&67108863,c=(_>>26)-(w/67108864|0),this.words[T+S]=_&67108863}for(;T<this.length-S;T++)_=(this.words[T+S]|0)+c,c=_>>26,this.words[T+S]=_&67108863;if(c===0)return this._strip();for(n(c===-1),c=0,T=0;T<this.length;T++)_=-(this.words[T]|0)+c,c=_>>26,this.words[T]=_&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(l,v){var S=this.length-l.length,O=this.clone(),T=l,_=T.words[T.length-1]|0,c=this._countBits(_);S=26-c,S!==0&&(T=T.ushln(S),O.iushln(S),_=T.words[T.length-1]|0);var w=O.length-T.length,x;if(v!=="mod"){x=new o(null),x.length=w+1,x.words=new Array(x.length);for(var F=0;F<x.length;F++)x.words[F]=0}var q=O.clone()._ishlnsubmul(T,1,w);q.negative===0&&(O=q,x&&(x.words[w]=1));for(var V=w-1;V>=0;V--){var Y=(O.words[T.length+V]|0)*67108864+(O.words[T.length+V-1]|0);for(Y=Math.min(Y/_|0,67108863),O._ishlnsubmul(T,Y,V);O.negative!==0;)Y--,O.negative=0,O._ishlnsubmul(T,1,V),O.isZero()||(O.negative^=1);x&&(x.words[V]=Y)}return x&&x._strip(),O._strip(),v!=="div"&&S!==0&&O.iushrn(S),{div:x||null,mod:O}},o.prototype.divmod=function(l,v,S){if(n(!l.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var O,T,_;return this.negative!==0&&l.negative===0?(_=this.neg().divmod(l,v),v!=="mod"&&(O=_.div.neg()),v!=="div"&&(T=_.mod.neg(),S&&T.negative!==0&&T.iadd(l)),{div:O,mod:T}):this.negative===0&&l.negative!==0?(_=this.divmod(l.neg(),v),v!=="mod"&&(O=_.div.neg()),{div:O,mod:_.mod}):this.negative&l.negative?(_=this.neg().divmod(l.neg(),v),v!=="div"&&(T=_.mod.neg(),S&&T.negative!==0&&T.isub(l)),{div:_.div,mod:T}):l.length>this.length||this.cmp(l)<0?{div:new o(0),mod:this}:l.length===1?v==="div"?{div:this.divn(l.words[0]),mod:null}:v==="mod"?{div:null,mod:new o(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new o(this.modrn(l.words[0]))}:this._wordDiv(l,v)},o.prototype.div=function(l){return this.divmod(l,"div",!1).div},o.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},o.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},o.prototype.divRound=function(l){var v=this.divmod(l);if(v.mod.isZero())return v.div;var S=v.div.negative!==0?v.mod.isub(l):v.mod,O=l.ushrn(1),T=l.andln(1),_=S.cmp(O);return _<0||T===1&&_===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},o.prototype.modrn=function(l){var v=l<0;v&&(l=-l),n(l<=67108863);for(var S=(1<<26)%l,O=0,T=this.length-1;T>=0;T--)O=(S*O+(this.words[T]|0))%l;return v?-O:O},o.prototype.modn=function(l){return this.modrn(l)},o.prototype.idivn=function(l){var v=l<0;v&&(l=-l),n(l<=67108863);for(var S=0,O=this.length-1;O>=0;O--){var T=(this.words[O]|0)+S*67108864;this.words[O]=T/l|0,S=T%l}return this._strip(),v?this.ineg():this},o.prototype.divn=function(l){return this.clone().idivn(l)},o.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var v=this,S=l.clone();v.negative!==0?v=v.umod(l):v=v.clone();for(var O=new o(1),T=new o(0),_=new o(0),c=new o(1),w=0;v.isEven()&&S.isEven();)v.iushrn(1),S.iushrn(1),++w;for(var x=S.clone(),F=v.clone();!v.isZero();){for(var q=0,V=1;!(v.words[0]&V)&&q<26;++q,V<<=1);if(q>0)for(v.iushrn(q);q-- >0;)(O.isOdd()||T.isOdd())&&(O.iadd(x),T.isub(F)),O.iushrn(1),T.iushrn(1);for(var Y=0,Q=1;!(S.words[0]&Q)&&Y<26;++Y,Q<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)(_.isOdd()||c.isOdd())&&(_.iadd(x),c.isub(F)),_.iushrn(1),c.iushrn(1);v.cmp(S)>=0?(v.isub(S),O.isub(_),T.isub(c)):(S.isub(v),_.isub(O),c.isub(T))}return{a:_,b:c,gcd:S.iushln(w)}},o.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var v=this,S=l.clone();v.negative!==0?v=v.umod(l):v=v.clone();for(var O=new o(1),T=new o(0),_=S.clone();v.cmpn(1)>0&&S.cmpn(1)>0;){for(var c=0,w=1;!(v.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(v.iushrn(c);c-- >0;)O.isOdd()&&O.iadd(_),O.iushrn(1);for(var x=0,F=1;!(S.words[0]&F)&&x<26;++x,F<<=1);if(x>0)for(S.iushrn(x);x-- >0;)T.isOdd()&&T.iadd(_),T.iushrn(1);v.cmp(S)>=0?(v.isub(S),O.isub(T)):(S.isub(v),T.isub(O))}var q;return v.cmpn(1)===0?q=O:q=T,q.cmpn(0)<0&&q.iadd(l),q},o.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var v=this.clone(),S=l.clone();v.negative=0,S.negative=0;for(var O=0;v.isEven()&&S.isEven();O++)v.iushrn(1),S.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;S.isEven();)S.iushrn(1);var T=v.cmp(S);if(T<0){var _=v;v=S,S=_}else if(T===0||S.cmpn(1)===0)break;v.isub(S)}while(!0);return S.iushln(O)},o.prototype.invm=function(l){return this.egcd(l).a.umod(l)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(l){return this.words[0]&l},o.prototype.bincn=function(l){n(typeof l=="number");var v=l%26,S=(l-v)/26,O=1<<v;if(this.length<=S)return this._expand(S+1),this.words[S]|=O,this;for(var T=O,_=S;T!==0&&_<this.length;_++){var c=this.words[_]|0;c+=T,T=c>>>26,c&=67108863,this.words[_]=c}return T!==0&&(this.words[_]=T,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(l){var v=l<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var S;if(this.length>1)S=1;else{v&&(l=-l),n(l<=67108863,"Number is too big");var O=this.words[0]|0;S=O===l?0:O<l?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var v=this.ucmp(l);return this.negative!==0?-v|0:v},o.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var v=0,S=this.length-1;S>=0;S--){var O=this.words[S]|0,T=l.words[S]|0;if(O!==T){O<T?v=-1:O>T&&(v=1);break}}return v},o.prototype.gtn=function(l){return this.cmpn(l)===1},o.prototype.gt=function(l){return this.cmp(l)===1},o.prototype.gten=function(l){return this.cmpn(l)>=0},o.prototype.gte=function(l){return this.cmp(l)>=0},o.prototype.ltn=function(l){return this.cmpn(l)===-1},o.prototype.lt=function(l){return this.cmp(l)===-1},o.prototype.lten=function(l){return this.cmpn(l)<=0},o.prototype.lte=function(l){return this.cmp(l)<=0},o.prototype.eqn=function(l){return this.cmpn(l)===0},o.prototype.eq=function(l){return this.cmp(l)===0},o.red=function(l){return new s(l)},o.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(l){return this.red=l,this},o.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},o.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},o.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},o.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},o.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},o.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},o.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},o.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var K={k256:null,p224:null,p192:null,p25519:null};function J(l,v){this.name=l,this.p=new o(v,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var l=new o(null);return l.words=new Array(Math.ceil(this.n/13)),l},J.prototype.ireduce=function(l){var v=l,S;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),S=v.bitLength();while(S>this.n);var O=S<this.n?-1:v.ucmp(this.p);return O===0?(v.words[0]=0,v.length=1):O>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},J.prototype.split=function(l,v){l.iushrn(this.n,0,v)},J.prototype.imulK=function(l){return l.imul(this.k)};function ce(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(ce,J),ce.prototype.split=function(l,v){for(var S=4194303,O=Math.min(l.length,9),T=0;T<O;T++)v.words[T]=l.words[T];if(v.length=O,l.length<=9){l.words[0]=0,l.length=1;return}var _=l.words[9];for(v.words[v.length++]=_&S,T=10;T<l.length;T++){var c=l.words[T]|0;l.words[T-10]=(c&S)<<4|_>>>22,_=c}_>>>=22,l.words[T-10]=_,_===0&&l.length>10?l.length-=10:l.length-=9},ce.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var v=0,S=0;S<l.length;S++){var O=l.words[S]|0;v+=O*977,l.words[S]=v&67108863,v=O*64+(v/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function oe(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(oe,J);function Z(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(Z,J);function ie(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ie,J),ie.prototype.imulK=function(l){for(var v=0,S=0;S<l.length;S++){var O=(l.words[S]|0)*19+v,T=O&67108863;O>>>=26,l.words[S]=T,v=O}return v!==0&&(l.words[l.length++]=v),l},o._prime=function(l){if(K[l])return K[l];var v;if(l==="k256")v=new ce;else if(l==="p224")v=new oe;else if(l==="p192")v=new Z;else if(l==="p25519")v=new ie;else throw new Error("Unknown prime "+l);return K[l]=v,v};function s(l){if(typeof l=="string"){var v=o._prime(l);this.m=v.p,this.prime=v}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}s.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},s.prototype._verify2=function(l,v){n((l.negative|v.negative)===0,"red works only with positives"),n(l.red&&l.red===v.red,"red works only with red numbers")},s.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(y(l,l.umod(this.m)._forceRed(this)),l)},s.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},s.prototype.add=function(l,v){this._verify2(l,v);var S=l.add(v);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},s.prototype.iadd=function(l,v){this._verify2(l,v);var S=l.iadd(v);return S.cmp(this.m)>=0&&S.isub(this.m),S},s.prototype.sub=function(l,v){this._verify2(l,v);var S=l.sub(v);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},s.prototype.isub=function(l,v){this._verify2(l,v);var S=l.isub(v);return S.cmpn(0)<0&&S.iadd(this.m),S},s.prototype.shl=function(l,v){return this._verify1(l),this.imod(l.ushln(v))},s.prototype.imul=function(l,v){return this._verify2(l,v),this.imod(l.imul(v))},s.prototype.mul=function(l,v){return this._verify2(l,v),this.imod(l.mul(v))},s.prototype.isqr=function(l){return this.imul(l,l.clone())},s.prototype.sqr=function(l){return this.mul(l,l)},s.prototype.sqrt=function(l){if(l.isZero())return l.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(l,S)}for(var O=this.m.subn(1),T=0;!O.isZero()&&O.andln(1)===0;)T++,O.iushrn(1);n(!O.isZero());var _=new o(1).toRed(this),c=_.redNeg(),w=this.m.subn(1).iushrn(1),x=this.m.bitLength();for(x=new o(2*x*x).toRed(this);this.pow(x,w).cmp(c)!==0;)x.redIAdd(c);for(var F=this.pow(x,O),q=this.pow(l,O.addn(1).iushrn(1)),V=this.pow(l,O),Y=T;V.cmp(_)!==0;){for(var Q=V,G=0;Q.cmp(_)!==0;G++)Q=Q.redSqr();n(G<Y);var H=this.pow(F,new o(1).iushln(Y-G-1));q=q.redMul(H),F=H.redSqr(),V=V.redMul(F),Y=G}return q},s.prototype.invm=function(l){var v=l._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},s.prototype.pow=function(l,v){if(v.isZero())return new o(1).toRed(this);if(v.cmpn(1)===0)return l.clone();var S=4,O=new Array(1<<S);O[0]=new o(1).toRed(this),O[1]=l;for(var T=2;T<O.length;T++)O[T]=this.mul(O[T-1],l);var _=O[0],c=0,w=0,x=v.bitLength()%26;for(x===0&&(x=26),T=v.length-1;T>=0;T--){for(var F=v.words[T],q=x-1;q>=0;q--){var V=F>>q&1;if(_!==O[0]&&(_=this.sqr(_)),V===0&&c===0){w=0;continue}c<<=1,c|=V,w++,!(w!==S&&(T!==0||q!==0))&&(_=this.mul(_,O[c]),w=0,c=0)}x=26}return _},s.prototype.convertTo=function(l){var v=l.umod(this.m);return v===l?v.clone():v},s.prototype.convertFrom=function(l){var v=l.clone();return v.red=null,v},o.mont=function(l){return new d(l)};function d(l){s.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(d,s),d.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},d.prototype.convertFrom=function(l){var v=this.imod(l.mul(this.rinv));return v.red=null,v},d.prototype.imul=function(l,v){if(l.isZero()||v.isZero())return l.words[0]=0,l.length=1,l;var S=l.imul(v),O=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=S.isub(O).iushrn(this.shift),_=T;return T.cmp(this.m)>=0?_=T.isub(this.m):T.cmpn(0)<0&&(_=T.iadd(this.m)),_._forceRed(this)},d.prototype.mul=function(l,v){if(l.isZero()||v.isZero())return new o(0)._forceRed(this);var S=l.mul(v),O=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=S.isub(O).iushrn(this.shift),_=T;return T.cmp(this.m)>=0?_=T.isub(this.m):T.cmpn(0)<0&&(_=T.iadd(this.m)),_._forceRed(this)},d.prototype.invm=function(l){var v=this.imod(l._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(e,commonjsGlobal)}(bn$3);var bnExports=bn$3.exports;const BN$7=getDefaultExportFromCjs$1(bnExports);var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var e=bnExports,t=requireBrowser$a();function r(o){var u=n(o),p=u.toRed(e.mont(o.modulus)).redPow(new e(o.publicExponent)).fromRed();return{blinder:p,unblinder:u.invm(o.modulus)}}function n(o){var u=o.modulus.byteLength(),p;do p=new e(t(u));while(p.cmp(o.modulus)>=0||!p.umod(o.prime1)||!p.umod(o.prime2));return p}function a(o,u){var p=r(u),b=u.modulus.byteLength(),m=new e(o).mul(p.blinder).umod(u.modulus),y=m.toRed(e.mont(u.prime1)),A=m.toRed(e.mont(u.prime2)),I=u.coefficient,M=u.prime1,C=u.prime2,P=y.redPow(u.exponent1).fromRed(),B=A.redPow(u.exponent2).fromRed(),k=P.isub(B).imul(I).umod(M).imul(C);return B.iadd(k).imul(p.unblinder).umod(u.modulus).toArrayLike(Buffer$2,"be",b)}return a.getr=n,browserifyRsa=a,browserifyRsa}var asn1$1={},asn1={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(e){(function(t,r){function n(s,d){if(!s)throw new Error(d||"Assertion failed")}function a(s,d){s.super_=d;var l=function(){};l.prototype=d.prototype,s.prototype=new l,s.prototype.constructor=s}function o(s,d,l){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((d==="le"||d==="be")&&(l=d,d=10),this._init(s||0,d||10,l||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$1.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,d){return s.cmp(d)>0?s:d},o.min=function(s,d){return s.cmp(d)<0?s:d},o.prototype._init=function(s,d,l){if(typeof s=="number")return this._initNumber(s,d,l);if(typeof s=="object")return this._initArray(s,d,l);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),s=s.toString().replace(/\s+/g,"");var v=0;s[0]==="-"&&(v++,this.negative=1),v<s.length&&(d===16?this._parseHex(s,v,l):(this._parseBase(s,d,v),l==="le"&&this._initArray(this.toArray(),d,l)))},o.prototype._initNumber=function(s,d,l){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),d,l)},o.prototype._initArray=function(s,d,l){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S,O,T=0;if(l==="be")for(v=s.length-1,S=0;v>=0;v-=3)O=s[v]|s[v-1]<<8|s[v-2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);else if(l==="le")for(v=0,S=0;v<s.length;v+=3)O=s[v]|s[v+1]<<8|s[v+2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);return this.strip()};function p(s,d){var l=s.charCodeAt(d);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function b(s,d,l){var v=p(s,l);return l-1>=d&&(v|=p(s,l-1)<<4),v}o.prototype._parseHex=function(s,d,l){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S=0,O=0,T;if(l==="be")for(v=s.length-1;v>=d;v-=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8;else{var _=s.length-d;for(v=_%2===0?d+1:d;v<s.length;v+=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8}this.strip()};function m(s,d,l,v){for(var S=0,O=Math.min(s.length,l),T=d;T<O;T++){var _=s.charCodeAt(T)-48;S*=v,_>=49?S+=_-49+10:_>=17?S+=_-17+10:S+=_}return S}o.prototype._parseBase=function(s,d,l){this.words=[0],this.length=1;for(var v=0,S=1;S<=67108863;S*=d)v++;v--,S=S/d|0;for(var O=s.length-l,T=O%v,_=Math.min(O,O-T)+l,c=0,w=l;w<_;w+=v)c=m(s,w,w+v,d),this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(T!==0){var x=1;for(c=m(s,w,s.length,d),w=0;w<T;w++)x*=d;this.imuln(x),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,d){s=s||10,d=d|0||1;var l;if(s===16||s==="hex"){l="";for(var v=0,S=0,O=0;O<this.length;O++){var T=this.words[O],_=((T<<v|S)&16777215).toString(16);S=T>>>24-v&16777215,S!==0||O!==this.length-1?l=y[6-_.length]+_+l:l=_+l,v+=2,v>=26&&(v-=26,O--)}for(S!==0&&(l=S.toString(16)+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(s===(s|0)&&s>=2&&s<=36){var c=A[s],w=I[s];l="";var x=this.clone();for(x.negative=0;!x.isZero();){var F=x.modn(w).toString(s);x=x.idivn(w),x.isZero()?l=F+l:l=y[c-F.length]+F+l}for(this.isZero()&&(l="0"+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(s,d){return n(typeof u<"u"),this.toArrayLike(u,s,d)},o.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},o.prototype.toArrayLike=function(s,d,l){var v=this.byteLength(),S=l||Math.max(1,v);n(v<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var O=d==="le",T=new s(S),_,c,w=this.clone();if(O){for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[c]=_;for(;c<S;c++)T[c]=0}else{for(c=0;c<S-v;c++)T[c]=0;for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[S-c-1]=_}return T},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var d=s,l=0;return d>=4096&&(l+=13,d>>>=13),d>=64&&(l+=7,d>>>=7),d>=8&&(l+=4,d>>>=4),d>=2&&(l+=2,d>>>=2),l+d},o.prototype._zeroBits=function(s){if(s===0)return 26;var d=s,l=0;return d&8191||(l+=13,d>>>=13),d&127||(l+=7,d>>>=7),d&15||(l+=4,d>>>=4),d&3||(l+=2,d>>>=2),d&1||l++,l},o.prototype.bitLength=function(){var s=this.words[this.length-1],d=this._countBits(s);return(this.length-1)*26+d};function M(s){for(var d=new Array(s.bitLength()),l=0;l<d.length;l++){var v=l/26|0,S=l%26;d[l]=(s.words[v]&1<<S)>>>S}return d}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var l=this._zeroBits(this.words[d]);if(s+=l,l!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},o.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var d;this.length>s.length?d=s:d=this;for(var l=0;l<d.length;l++)this.words[l]=this.words[l]&s.words[l];return this.length=d.length,this.strip()},o.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var d,l;this.length>s.length?(d=this,l=s):(d=s,l=this);for(var v=0;v<l.length;v++)this.words[v]=d.words[v]^l.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var d=Math.ceil(s/26)|0,l=s%26;this._expand(d),l>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return l>0&&(this.words[v]=~this.words[v]&67108863>>26-l),this.strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,d){n(typeof s=="number"&&s>=0);var l=s/26|0,v=s%26;return this._expand(l+1),d?this.words[l]=this.words[l]|1<<v:this.words[l]=this.words[l]&~(1<<v),this.strip()},o.prototype.iadd=function(s){var d;if(this.negative!==0&&s.negative===0)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();var l,v;this.length>s.length?(l=this,v=s):(l=s,v=this);for(var S=0,O=0;O<v.length;O++)d=(l.words[O]|0)+(v.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;for(;S!==0&&O<l.length;O++)d=(l.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;if(this.length=l.length,S!==0)this.words[this.length]=S,this.length++;else if(l!==this)for(;O<l.length;O++)this.words[O]=l.words[O];return this},o.prototype.add=function(s){var d;return s.negative!==0&&this.negative===0?(s.negative=0,d=this.sub(s),s.negative^=1,d):s.negative===0&&this.negative!==0?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var l=this.cmp(s);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,S;l>0?(v=this,S=s):(v=s,S=this);for(var O=0,T=0;T<S.length;T++)d=(v.words[T]|0)-(S.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;for(;O!==0&&T<v.length;T++)d=(v.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;if(O===0&&T<v.length&&v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this.length=Math.max(this.length,T),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function C(s,d,l){l.negative=d.negative^s.negative;var v=s.length+d.length|0;l.length=v,v=v-1|0;var S=s.words[0]|0,O=d.words[0]|0,T=S*O,_=T&67108863,c=T/67108864|0;l.words[0]=_;for(var w=1;w<v;w++){for(var x=c>>>26,F=c&67108863,q=Math.min(w,d.length-1),V=Math.max(0,w-s.length+1);V<=q;V++){var Y=w-V|0;S=s.words[Y]|0,O=d.words[V]|0,T=S*O+F,x+=T/67108864|0,F=T&67108863}l.words[w]=F|0,c=x|0}return c!==0?l.words[w]=c|0:l.length--,l.strip()}var P=function(s,d,l){var v=s.words,S=d.words,O=l.words,T=0,_,c,w,x=v[0]|0,F=x&8191,q=x>>>13,V=v[1]|0,Y=V&8191,Q=V>>>13,G=v[2]|0,H=G&8191,te=G>>>13,W=v[3]|0,U=W&8191,j=W>>>13,ee=v[4]|0,X=ee&8191,ne=ee>>>13,de=v[5]|0,re=de&8191,ae=de>>>13,ue=v[6]|0,se=ue&8191,le=ue>>>13,Re=v[7]|0,he=Re&8191,fe=Re>>>13,Fe=v[8]|0,me=Fe&8191,pe=Fe>>>13,Ue=v[9]|0,ye=Ue&8191,be=Ue>>>13,He=S[0]|0,$e=He&8191,Me=He>>>13,qe=S[1]|0,ge=qe&8191,Oe=qe>>>13,je=S[2]|0,ve=je&8191,Pe=je>>>13,Ke=S[3]|0,_e=Ke&8191,Ce=Ke>>>13,We=S[4]|0,Ee=We&8191,xe=We>>>13,ze=S[5]|0,we=ze&8191,Ne=ze>>>13,Ze=S[6]|0,Se=Ze&8191,Be=Ze>>>13,Xe=S[7]|0,Ae=Xe&8191,ke=Xe>>>13,Ye=S[8]|0,Te=Ye&8191,De=Ye>>>13,Je=S[9]|0,Ie=Je&8191,Le=Je>>>13;l.negative=s.negative^d.negative,l.length=19,_=Math.imul(F,$e),c=Math.imul(F,Me),c=c+Math.imul(q,$e)|0,w=Math.imul(q,Me);var Ve=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,_=Math.imul(Y,$e),c=Math.imul(Y,Me),c=c+Math.imul(Q,$e)|0,w=Math.imul(Q,Me),_=_+Math.imul(F,ge)|0,c=c+Math.imul(F,Oe)|0,c=c+Math.imul(q,ge)|0,w=w+Math.imul(q,Oe)|0;var Ge=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,_=Math.imul(H,$e),c=Math.imul(H,Me),c=c+Math.imul(te,$e)|0,w=Math.imul(te,Me),_=_+Math.imul(Y,ge)|0,c=c+Math.imul(Y,Oe)|0,c=c+Math.imul(Q,ge)|0,w=w+Math.imul(Q,Oe)|0,_=_+Math.imul(F,ve)|0,c=c+Math.imul(F,Pe)|0,c=c+Math.imul(q,ve)|0,w=w+Math.imul(q,Pe)|0;var Qe=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,_=Math.imul(U,$e),c=Math.imul(U,Me),c=c+Math.imul(j,$e)|0,w=Math.imul(j,Me),_=_+Math.imul(H,ge)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,Oe)|0,_=_+Math.imul(Y,ve)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(Q,ve)|0,w=w+Math.imul(Q,Pe)|0,_=_+Math.imul(F,_e)|0,c=c+Math.imul(F,Ce)|0,c=c+Math.imul(q,_e)|0,w=w+Math.imul(q,Ce)|0;var et=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(X,$e),c=Math.imul(X,Me),c=c+Math.imul(ne,$e)|0,w=Math.imul(ne,Me),_=_+Math.imul(U,ge)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(j,ge)|0,w=w+Math.imul(j,Oe)|0,_=_+Math.imul(H,ve)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(te,ve)|0,w=w+Math.imul(te,Pe)|0,_=_+Math.imul(Y,_e)|0,c=c+Math.imul(Y,Ce)|0,c=c+Math.imul(Q,_e)|0,w=w+Math.imul(Q,Ce)|0,_=_+Math.imul(F,Ee)|0,c=c+Math.imul(F,xe)|0,c=c+Math.imul(q,Ee)|0,w=w+Math.imul(q,xe)|0;var tt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,_=Math.imul(re,$e),c=Math.imul(re,Me),c=c+Math.imul(ae,$e)|0,w=Math.imul(ae,Me),_=_+Math.imul(X,ge)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(ne,ge)|0,w=w+Math.imul(ne,Oe)|0,_=_+Math.imul(U,ve)|0,c=c+Math.imul(U,Pe)|0,c=c+Math.imul(j,ve)|0,w=w+Math.imul(j,Pe)|0,_=_+Math.imul(H,_e)|0,c=c+Math.imul(H,Ce)|0,c=c+Math.imul(te,_e)|0,w=w+Math.imul(te,Ce)|0,_=_+Math.imul(Y,Ee)|0,c=c+Math.imul(Y,xe)|0,c=c+Math.imul(Q,Ee)|0,w=w+Math.imul(Q,xe)|0,_=_+Math.imul(F,we)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(q,we)|0,w=w+Math.imul(q,Ne)|0;var rt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,_=Math.imul(se,$e),c=Math.imul(se,Me),c=c+Math.imul(le,$e)|0,w=Math.imul(le,Me),_=_+Math.imul(re,ge)|0,c=c+Math.imul(re,Oe)|0,c=c+Math.imul(ae,ge)|0,w=w+Math.imul(ae,Oe)|0,_=_+Math.imul(X,ve)|0,c=c+Math.imul(X,Pe)|0,c=c+Math.imul(ne,ve)|0,w=w+Math.imul(ne,Pe)|0,_=_+Math.imul(U,_e)|0,c=c+Math.imul(U,Ce)|0,c=c+Math.imul(j,_e)|0,w=w+Math.imul(j,Ce)|0,_=_+Math.imul(H,Ee)|0,c=c+Math.imul(H,xe)|0,c=c+Math.imul(te,Ee)|0,w=w+Math.imul(te,xe)|0,_=_+Math.imul(Y,we)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(Q,we)|0,w=w+Math.imul(Q,Ne)|0,_=_+Math.imul(F,Se)|0,c=c+Math.imul(F,Be)|0,c=c+Math.imul(q,Se)|0,w=w+Math.imul(q,Be)|0;var nt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(he,$e),c=Math.imul(he,Me),c=c+Math.imul(fe,$e)|0,w=Math.imul(fe,Me),_=_+Math.imul(se,ge)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,ge)|0,w=w+Math.imul(le,Oe)|0,_=_+Math.imul(re,ve)|0,c=c+Math.imul(re,Pe)|0,c=c+Math.imul(ae,ve)|0,w=w+Math.imul(ae,Pe)|0,_=_+Math.imul(X,_e)|0,c=c+Math.imul(X,Ce)|0,c=c+Math.imul(ne,_e)|0,w=w+Math.imul(ne,Ce)|0,_=_+Math.imul(U,Ee)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(j,Ee)|0,w=w+Math.imul(j,xe)|0,_=_+Math.imul(H,we)|0,c=c+Math.imul(H,Ne)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Ne)|0,_=_+Math.imul(Y,Se)|0,c=c+Math.imul(Y,Be)|0,c=c+Math.imul(Q,Se)|0,w=w+Math.imul(Q,Be)|0,_=_+Math.imul(F,Ae)|0,c=c+Math.imul(F,ke)|0,c=c+Math.imul(q,Ae)|0,w=w+Math.imul(q,ke)|0;var it=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(it>>>26)|0,it&=67108863,_=Math.imul(me,$e),c=Math.imul(me,Me),c=c+Math.imul(pe,$e)|0,w=Math.imul(pe,Me),_=_+Math.imul(he,ge)|0,c=c+Math.imul(he,Oe)|0,c=c+Math.imul(fe,ge)|0,w=w+Math.imul(fe,Oe)|0,_=_+Math.imul(se,ve)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(le,ve)|0,w=w+Math.imul(le,Pe)|0,_=_+Math.imul(re,_e)|0,c=c+Math.imul(re,Ce)|0,c=c+Math.imul(ae,_e)|0,w=w+Math.imul(ae,Ce)|0,_=_+Math.imul(X,Ee)|0,c=c+Math.imul(X,xe)|0,c=c+Math.imul(ne,Ee)|0,w=w+Math.imul(ne,xe)|0,_=_+Math.imul(U,we)|0,c=c+Math.imul(U,Ne)|0,c=c+Math.imul(j,we)|0,w=w+Math.imul(j,Ne)|0,_=_+Math.imul(H,Se)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(te,Se)|0,w=w+Math.imul(te,Be)|0,_=_+Math.imul(Y,Ae)|0,c=c+Math.imul(Y,ke)|0,c=c+Math.imul(Q,Ae)|0,w=w+Math.imul(Q,ke)|0,_=_+Math.imul(F,Te)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(q,Te)|0,w=w+Math.imul(q,De)|0;var ot=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,_=Math.imul(ye,$e),c=Math.imul(ye,Me),c=c+Math.imul(be,$e)|0,w=Math.imul(be,Me),_=_+Math.imul(me,ge)|0,c=c+Math.imul(me,Oe)|0,c=c+Math.imul(pe,ge)|0,w=w+Math.imul(pe,Oe)|0,_=_+Math.imul(he,ve)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(fe,ve)|0,w=w+Math.imul(fe,Pe)|0,_=_+Math.imul(se,_e)|0,c=c+Math.imul(se,Ce)|0,c=c+Math.imul(le,_e)|0,w=w+Math.imul(le,Ce)|0,_=_+Math.imul(re,Ee)|0,c=c+Math.imul(re,xe)|0,c=c+Math.imul(ae,Ee)|0,w=w+Math.imul(ae,xe)|0,_=_+Math.imul(X,we)|0,c=c+Math.imul(X,Ne)|0,c=c+Math.imul(ne,we)|0,w=w+Math.imul(ne,Ne)|0,_=_+Math.imul(U,Se)|0,c=c+Math.imul(U,Be)|0,c=c+Math.imul(j,Se)|0,w=w+Math.imul(j,Be)|0,_=_+Math.imul(H,Ae)|0,c=c+Math.imul(H,ke)|0,c=c+Math.imul(te,Ae)|0,w=w+Math.imul(te,ke)|0,_=_+Math.imul(Y,Te)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(Q,Te)|0,w=w+Math.imul(Q,De)|0,_=_+Math.imul(F,Ie)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(q,Ie)|0,w=w+Math.imul(q,Le)|0;var st=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,_=Math.imul(ye,ge),c=Math.imul(ye,Oe),c=c+Math.imul(be,ge)|0,w=Math.imul(be,Oe),_=_+Math.imul(me,ve)|0,c=c+Math.imul(me,Pe)|0,c=c+Math.imul(pe,ve)|0,w=w+Math.imul(pe,Pe)|0,_=_+Math.imul(he,_e)|0,c=c+Math.imul(he,Ce)|0,c=c+Math.imul(fe,_e)|0,w=w+Math.imul(fe,Ce)|0,_=_+Math.imul(se,Ee)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,Ee)|0,w=w+Math.imul(le,xe)|0,_=_+Math.imul(re,we)|0,c=c+Math.imul(re,Ne)|0,c=c+Math.imul(ae,we)|0,w=w+Math.imul(ae,Ne)|0,_=_+Math.imul(X,Se)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(ne,Se)|0,w=w+Math.imul(ne,Be)|0,_=_+Math.imul(U,Ae)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(j,Ae)|0,w=w+Math.imul(j,ke)|0,_=_+Math.imul(H,Te)|0,c=c+Math.imul(H,De)|0,c=c+Math.imul(te,Te)|0,w=w+Math.imul(te,De)|0,_=_+Math.imul(Y,Ie)|0,c=c+Math.imul(Y,Le)|0,c=c+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Le)|0;var ct=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(ye,ve),c=Math.imul(ye,Pe),c=c+Math.imul(be,ve)|0,w=Math.imul(be,Pe),_=_+Math.imul(me,_e)|0,c=c+Math.imul(me,Ce)|0,c=c+Math.imul(pe,_e)|0,w=w+Math.imul(pe,Ce)|0,_=_+Math.imul(he,Ee)|0,c=c+Math.imul(he,xe)|0,c=c+Math.imul(fe,Ee)|0,w=w+Math.imul(fe,xe)|0,_=_+Math.imul(se,we)|0,c=c+Math.imul(se,Ne)|0,c=c+Math.imul(le,we)|0,w=w+Math.imul(le,Ne)|0,_=_+Math.imul(re,Se)|0,c=c+Math.imul(re,Be)|0,c=c+Math.imul(ae,Se)|0,w=w+Math.imul(ae,Be)|0,_=_+Math.imul(X,Ae)|0,c=c+Math.imul(X,ke)|0,c=c+Math.imul(ne,Ae)|0,w=w+Math.imul(ne,ke)|0,_=_+Math.imul(U,Te)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(j,Te)|0,w=w+Math.imul(j,De)|0,_=_+Math.imul(H,Ie)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(te,Ie)|0,w=w+Math.imul(te,Le)|0;var lt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(ye,_e),c=Math.imul(ye,Ce),c=c+Math.imul(be,_e)|0,w=Math.imul(be,Ce),_=_+Math.imul(me,Ee)|0,c=c+Math.imul(me,xe)|0,c=c+Math.imul(pe,Ee)|0,w=w+Math.imul(pe,xe)|0,_=_+Math.imul(he,we)|0,c=c+Math.imul(he,Ne)|0,c=c+Math.imul(fe,we)|0,w=w+Math.imul(fe,Ne)|0,_=_+Math.imul(se,Se)|0,c=c+Math.imul(se,Be)|0,c=c+Math.imul(le,Se)|0,w=w+Math.imul(le,Be)|0,_=_+Math.imul(re,Ae)|0,c=c+Math.imul(re,ke)|0,c=c+Math.imul(ae,Ae)|0,w=w+Math.imul(ae,ke)|0,_=_+Math.imul(X,Te)|0,c=c+Math.imul(X,De)|0,c=c+Math.imul(ne,Te)|0,w=w+Math.imul(ne,De)|0,_=_+Math.imul(U,Ie)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(j,Ie)|0,w=w+Math.imul(j,Le)|0;var dt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(ye,Ee),c=Math.imul(ye,xe),c=c+Math.imul(be,Ee)|0,w=Math.imul(be,xe),_=_+Math.imul(me,we)|0,c=c+Math.imul(me,Ne)|0,c=c+Math.imul(pe,we)|0,w=w+Math.imul(pe,Ne)|0,_=_+Math.imul(he,Se)|0,c=c+Math.imul(he,Be)|0,c=c+Math.imul(fe,Se)|0,w=w+Math.imul(fe,Be)|0,_=_+Math.imul(se,Ae)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ae)|0,w=w+Math.imul(le,ke)|0,_=_+Math.imul(re,Te)|0,c=c+Math.imul(re,De)|0,c=c+Math.imul(ae,Te)|0,w=w+Math.imul(ae,De)|0,_=_+Math.imul(X,Ie)|0,c=c+Math.imul(X,Le)|0,c=c+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Le)|0;var ht=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,we),c=Math.imul(ye,Ne),c=c+Math.imul(be,we)|0,w=Math.imul(be,Ne),_=_+Math.imul(me,Se)|0,c=c+Math.imul(me,Be)|0,c=c+Math.imul(pe,Se)|0,w=w+Math.imul(pe,Be)|0,_=_+Math.imul(he,Ae)|0,c=c+Math.imul(he,ke)|0,c=c+Math.imul(fe,Ae)|0,w=w+Math.imul(fe,ke)|0,_=_+Math.imul(se,Te)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,Te)|0,w=w+Math.imul(le,De)|0,_=_+Math.imul(re,Ie)|0,c=c+Math.imul(re,Le)|0,c=c+Math.imul(ae,Ie)|0,w=w+Math.imul(ae,Le)|0;var ft=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,_=Math.imul(ye,Se),c=Math.imul(ye,Be),c=c+Math.imul(be,Se)|0,w=Math.imul(be,Be),_=_+Math.imul(me,Ae)|0,c=c+Math.imul(me,ke)|0,c=c+Math.imul(pe,Ae)|0,w=w+Math.imul(pe,ke)|0,_=_+Math.imul(he,Te)|0,c=c+Math.imul(he,De)|0,c=c+Math.imul(fe,Te)|0,w=w+Math.imul(fe,De)|0,_=_+Math.imul(se,Ie)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ie)|0,w=w+Math.imul(le,Le)|0;var pt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,_=Math.imul(ye,Ae),c=Math.imul(ye,ke),c=c+Math.imul(be,Ae)|0,w=Math.imul(be,ke),_=_+Math.imul(me,Te)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(pe,Te)|0,w=w+Math.imul(pe,De)|0,_=_+Math.imul(he,Ie)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(fe,Ie)|0,w=w+Math.imul(fe,Le)|0;var mt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(ye,Te),c=Math.imul(ye,De),c=c+Math.imul(be,Te)|0,w=Math.imul(be,De),_=_+Math.imul(me,Ie)|0,c=c+Math.imul(me,Le)|0,c=c+Math.imul(pe,Ie)|0,w=w+Math.imul(pe,Le)|0;var yt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(ye,Ie),c=Math.imul(ye,Le),c=c+Math.imul(be,Ie)|0,w=Math.imul(be,Le);var gt=(T+_|0)+((c&8191)<<13)|0;return T=(w+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,O[0]=Ve,O[1]=Ge,O[2]=Qe,O[3]=et,O[4]=tt,O[5]=rt,O[6]=nt,O[7]=it,O[8]=ot,O[9]=st,O[10]=ct,O[11]=lt,O[12]=dt,O[13]=ht,O[14]=ft,O[15]=pt,O[16]=mt,O[17]=yt,O[18]=gt,T!==0&&(O[19]=T,l.length++),l};Math.imul||(P=C);function B(s,d,l){l.negative=d.negative^s.negative,l.length=s.length+d.length;for(var v=0,S=0,O=0;O<l.length-1;O++){var T=S;S=0;for(var _=v&67108863,c=Math.min(O,d.length-1),w=Math.max(0,O-s.length+1);w<=c;w++){var x=O-w,F=s.words[x]|0,q=d.words[w]|0,V=F*q,Y=V&67108863;T=T+(V/67108864|0)|0,Y=Y+_|0,_=Y&67108863,T=T+(Y>>>26)|0,S+=T>>>26,T&=67108863}l.words[O]=_,v=T,T=S}return v!==0?l.words[O]=v:l.length--,l.strip()}function k(s,d,l){var v=new N;return v.mulp(s,d,l)}o.prototype.mulTo=function(s,d){var l,v=this.length+s.length;return this.length===10&&s.length===10?l=P(this,s,d):v<63?l=C(this,s,d):v<1024?l=B(this,s,d):l=k(this,s,d),l};function N(s,d){this.x=s,this.y=d}N.prototype.makeRBT=function(s){for(var d=new Array(s),l=o.prototype._countBits(s)-1,v=0;v<s;v++)d[v]=this.revBin(v,l,s);return d},N.prototype.revBin=function(s,d,l){if(s===0||s===l-1)return s;for(var v=0,S=0;S<d;S++)v|=(s&1)<<d-S-1,s>>=1;return v},N.prototype.permute=function(s,d,l,v,S,O){for(var T=0;T<O;T++)v[T]=d[s[T]],S[T]=l[s[T]]},N.prototype.transform=function(s,d,l,v,S,O){this.permute(O,s,d,l,v,S);for(var T=1;T<S;T<<=1)for(var _=T<<1,c=Math.cos(2*Math.PI/_),w=Math.sin(2*Math.PI/_),x=0;x<S;x+=_)for(var F=c,q=w,V=0;V<T;V++){var Y=l[x+V],Q=v[x+V],G=l[x+V+T],H=v[x+V+T],te=F*G-q*H;H=F*H+q*G,G=te,l[x+V]=Y+G,v[x+V]=Q+H,l[x+V+T]=Y-G,v[x+V+T]=Q-H,V!==_&&(te=c*F-w*q,q=c*q+w*F,F=te)}},N.prototype.guessLen13b=function(s,d){var l=Math.max(d,s)|1,v=l&1,S=0;for(l=l/2|0;l;l=l>>>1)S++;return 1<<S+1+v},N.prototype.conjugate=function(s,d,l){if(!(l<=1))for(var v=0;v<l/2;v++){var S=s[v];s[v]=s[l-v-1],s[l-v-1]=S,S=d[v],d[v]=-d[l-v-1],d[l-v-1]=-S}},N.prototype.normalize13b=function(s,d){for(var l=0,v=0;v<d/2;v++){var S=Math.round(s[2*v+1]/d)*8192+Math.round(s[2*v]/d)+l;s[v]=S&67108863,S<67108864?l=0:l=S/67108864|0}return s},N.prototype.convert13b=function(s,d,l,v){for(var S=0,O=0;O<d;O++)S=S+(s[O]|0),l[2*O]=S&8191,S=S>>>13,l[2*O+1]=S&8191,S=S>>>13;for(O=2*d;O<v;++O)l[O]=0;n(S===0),n((S&-8192)===0)},N.prototype.stub=function(s){for(var d=new Array(s),l=0;l<s;l++)d[l]=0;return d},N.prototype.mulp=function(s,d,l){var v=2*this.guessLen13b(s.length,d.length),S=this.makeRBT(v),O=this.stub(v),T=new Array(v),_=new Array(v),c=new Array(v),w=new Array(v),x=new Array(v),F=new Array(v),q=l.words;q.length=v,this.convert13b(s.words,s.length,T,v),this.convert13b(d.words,d.length,w,v),this.transform(T,O,_,c,v,S),this.transform(w,O,x,F,v,S);for(var V=0;V<v;V++){var Y=_[V]*x[V]-c[V]*F[V];c[V]=_[V]*F[V]+c[V]*x[V],_[V]=Y}return this.conjugate(_,c,v),this.transform(_,c,q,O,v,S),this.conjugate(q,O,v),this.normalize13b(q,v),l.negative=s.negative^d.negative,l.length=s.length+d.length,l.strip()},o.prototype.mul=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},o.prototype.mulf=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),k(this,s,d)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var d=0,l=0;l<this.length;l++){var v=(this.words[l]|0)*s,S=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=S>>>26,this.words[l]=S&67108863}return d!==0&&(this.words[l]=d,this.length++),this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var d=M(s);if(d.length===0)return new o(1);for(var l=this,v=0;v<d.length&&d[v]===0;v++,l=l.sqr());if(++v<d.length)for(var S=l.sqr();v<d.length;v++,S=S.sqr())d[v]!==0&&(l=l.mul(S));return l},o.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=67108863>>>26-d<<26-d,S;if(d!==0){var O=0;for(S=0;S<this.length;S++){var T=this.words[S]&v,_=(this.words[S]|0)-T<<d;this.words[S]=_|O,O=T>>>26-d}O&&(this.words[S]=O,this.length++)}if(l!==0){for(S=this.length-1;S>=0;S--)this.words[S+l]=this.words[S];for(S=0;S<l;S++)this.words[S]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,d,l){n(typeof s=="number"&&s>=0);var v;d?v=(d-d%26)/26:v=0;var S=s%26,O=Math.min((s-S)/26,this.length),T=67108863^67108863>>>S<<S,_=l;if(v-=O,v=Math.max(0,v),_){for(var c=0;c<O;c++)_.words[c]=this.words[c];_.length=O}if(O!==0)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=v);c--){var x=this.words[c]|0;this.words[c]=w<<26-S|x>>>S,w=x&T}return _&&w!==0&&(_.words[_.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(s,d,l){return n(this.negative===0),this.iushrn(s,d,l)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return!1;var S=this.words[l];return!!(S&v)},o.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(d!==0&&l++,this.length=Math.min(l,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,d,l){var v=s.length+l,S;this._expand(v);var O,T=0;for(S=0;S<s.length;S++){O=(this.words[S+l]|0)+T;var _=(s.words[S]|0)*d;O-=_&67108863,T=(O>>26)-(_/67108864|0),this.words[S+l]=O&67108863}for(;S<this.length-l;S++)O=(this.words[S+l]|0)+T,T=O>>26,this.words[S+l]=O&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,S=0;S<this.length;S++)O=-(this.words[S]|0)+T,T=O>>26,this.words[S]=O&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(s,d){var l=this.length-s.length,v=this.clone(),S=s,O=S.words[S.length-1]|0,T=this._countBits(O);l=26-T,l!==0&&(S=S.ushln(l),v.iushln(l),O=S.words[S.length-1]|0);var _=v.length-S.length,c;if(d!=="mod"){c=new o(null),c.length=_+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var x=v.clone()._ishlnsubmul(S,1,_);x.negative===0&&(v=x,c&&(c.words[_]=1));for(var F=_-1;F>=0;F--){var q=(v.words[S.length+F]|0)*67108864+(v.words[S.length+F-1]|0);for(q=Math.min(q/O|0,67108863),v._ishlnsubmul(S,q,F);v.negative!==0;)q--,v.negative=0,v._ishlnsubmul(S,1,F),v.isZero()||(v.negative^=1);c&&(c.words[F]=q)}return c&&c.strip(),v.strip(),d!=="div"&&l!==0&&v.iushrn(l),{div:c||null,mod:v}},o.prototype.divmod=function(s,d,l){if(n(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,S,O;return this.negative!==0&&s.negative===0?(O=this.neg().divmod(s,d),d!=="mod"&&(v=O.div.neg()),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.iadd(s)),{div:v,mod:S}):this.negative===0&&s.negative!==0?(O=this.divmod(s.neg(),d),d!=="mod"&&(v=O.div.neg()),{div:v,mod:O.mod}):this.negative&s.negative?(O=this.neg().divmod(s.neg(),d),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.isub(s)),{div:O.div,mod:S}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?d==="div"?{div:this.divn(s.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modn(s.words[0]))}:this._wordDiv(s,d)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var l=d.div.negative!==0?d.mod.isub(s):d.mod,v=s.ushrn(1),S=s.andln(1),O=l.cmp(v);return O<0||S===1&&O===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(s){n(s<=67108863);for(var d=(1<<26)%s,l=0,v=this.length-1;v>=0;v--)l=(d*l+(this.words[v]|0))%s;return l},o.prototype.idivn=function(s){n(s<=67108863);for(var d=0,l=this.length-1;l>=0;l--){var v=(this.words[l]|0)+d*67108864;this.words[l]=v/s|0,d=v%s}return this.strip()},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=new o(0),T=new o(1),_=0;d.isEven()&&l.isEven();)d.iushrn(1),l.iushrn(1),++_;for(var c=l.clone(),w=d.clone();!d.isZero();){for(var x=0,F=1;!(d.words[0]&F)&&x<26;++x,F<<=1);if(x>0)for(d.iushrn(x);x-- >0;)(v.isOdd()||S.isOdd())&&(v.iadd(c),S.isub(w)),v.iushrn(1),S.iushrn(1);for(var q=0,V=1;!(l.words[0]&V)&&q<26;++q,V<<=1);if(q>0)for(l.iushrn(q);q-- >0;)(O.isOdd()||T.isOdd())&&(O.iadd(c),T.isub(w)),O.iushrn(1),T.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(O),S.isub(T)):(l.isub(d),O.isub(v),T.isub(S))}return{a:O,b:T,gcd:l.iushln(_)}},o.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=l.clone();d.cmpn(1)>0&&l.cmpn(1)>0;){for(var T=0,_=1;!(d.words[0]&_)&&T<26;++T,_<<=1);if(T>0)for(d.iushrn(T);T-- >0;)v.isOdd()&&v.iadd(O),v.iushrn(1);for(var c=0,w=1;!(l.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(l.iushrn(c);c-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(S)):(l.isub(d),S.isub(v))}var x;return d.cmpn(1)===0?x=v:x=S,x.cmpn(0)<0&&x.iadd(s),x},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),l=s.clone();d.negative=0,l.negative=0;for(var v=0;d.isEven()&&l.isEven();v++)d.iushrn(1),l.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;l.isEven();)l.iushrn(1);var S=d.cmp(l);if(S<0){var O=d;d=l,l=O}else if(S===0||l.cmpn(1)===0)break;d.isub(l)}while(!0);return l.iushln(v)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){n(typeof s=="number");var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return this._expand(l+1),this.words[l]|=v,this;for(var S=v,O=l;S!==0&&O<this.length;O++){var T=this.words[O]|0;T+=S,S=T>>>26,T&=67108863,this.words[O]=T}return S!==0&&(this.words[O]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var d=s<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var l;if(this.length>1)l=1;else{d&&(s=-s),n(s<=67108863,"Number is too big");var v=this.words[0]|0;l=v===s?0:v<s?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var d=this.ucmp(s);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,l=this.length-1;l>=0;l--){var v=this.words[l]|0,S=s.words[l]|0;if(v!==S){v<S?d=-1:v>S&&(d=1);break}}return d},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new Z(s)},o.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function L(s,d){this.name=s,this.p=new o(d,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},L.prototype.ireduce=function(s){var d=s,l;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),l=d.bitLength();while(l>this.n);var v=l<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},L.prototype.split=function(s,d){s.iushrn(this.n,0,d)},L.prototype.imulK=function(s){return s.imul(this.k)};function K(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(K,L),K.prototype.split=function(s,d){for(var l=4194303,v=Math.min(s.length,9),S=0;S<v;S++)d.words[S]=s.words[S];if(d.length=v,s.length<=9){s.words[0]=0,s.length=1;return}var O=s.words[9];for(d.words[d.length++]=O&l,S=10;S<s.length;S++){var T=s.words[S]|0;s.words[S-10]=(T&l)<<4|O>>>22,O=T}O>>>=22,s.words[S-10]=O,O===0&&s.length>10?s.length-=10:s.length-=9},K.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,l=0;l<s.length;l++){var v=s.words[l]|0;d+=v*977,s.words[l]=d&67108863,d=v*64+(d/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function J(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,L);function ce(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ce,L);function oe(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(oe,L),oe.prototype.imulK=function(s){for(var d=0,l=0;l<s.length;l++){var v=(s.words[l]|0)*19+d,S=v&67108863;v>>>=26,s.words[l]=S,d=v}return d!==0&&(s.words[s.length++]=d),s},o._prime=function(s){if(D[s])return D[s];var d;if(s==="k256")d=new K;else if(s==="p224")d=new J;else if(s==="p192")d=new ce;else if(s==="p25519")d=new oe;else throw new Error("Unknown prime "+s);return D[s]=d,d};function Z(s){if(typeof s=="string"){var d=o._prime(s);this.m=d.p,this.prime=d}else n(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}Z.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Z.prototype._verify2=function(s,d){n((s.negative|d.negative)===0,"red works only with positives"),n(s.red&&s.red===d.red,"red works only with red numbers")},Z.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Z.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Z.prototype.add=function(s,d){this._verify2(s,d);var l=s.add(d);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},Z.prototype.iadd=function(s,d){this._verify2(s,d);var l=s.iadd(d);return l.cmp(this.m)>=0&&l.isub(this.m),l},Z.prototype.sub=function(s,d){this._verify2(s,d);var l=s.sub(d);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},Z.prototype.isub=function(s,d){this._verify2(s,d);var l=s.isub(d);return l.cmpn(0)<0&&l.iadd(this.m),l},Z.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},Z.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},Z.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},Z.prototype.isqr=function(s){return this.imul(s,s.clone())},Z.prototype.sqr=function(s){return this.mul(s,s)},Z.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(s,l)}for(var v=this.m.subn(1),S=0;!v.isZero()&&v.andln(1)===0;)S++,v.iushrn(1);n(!v.isZero());var O=new o(1).toRed(this),T=O.redNeg(),_=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,_).cmp(T)!==0;)c.redIAdd(T);for(var w=this.pow(c,v),x=this.pow(s,v.addn(1).iushrn(1)),F=this.pow(s,v),q=S;F.cmp(O)!==0;){for(var V=F,Y=0;V.cmp(O)!==0;Y++)V=V.redSqr();n(Y<q);var Q=this.pow(w,new o(1).iushln(q-Y-1));x=x.redMul(Q),w=Q.redSqr(),F=F.redMul(w),q=Y}return x},Z.prototype.invm=function(s){var d=s._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Z.prototype.pow=function(s,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return s.clone();var l=4,v=new Array(1<<l);v[0]=new o(1).toRed(this),v[1]=s;for(var S=2;S<v.length;S++)v[S]=this.mul(v[S-1],s);var O=v[0],T=0,_=0,c=d.bitLength()%26;for(c===0&&(c=26),S=d.length-1;S>=0;S--){for(var w=d.words[S],x=c-1;x>=0;x--){var F=w>>x&1;if(O!==v[0]&&(O=this.sqr(O)),F===0&&T===0){_=0;continue}T<<=1,T|=F,_++,!(_!==l&&(S!==0||x!==0))&&(O=this.mul(O,v[T]),_=0,T=0)}c=26}return O},Z.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},Z.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},o.mont=function(s){return new ie(s)};function ie(s){Z.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(ie,Z),ie.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ie.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},ie.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var l=s.imul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new o(0)._forceRed(this);var l=s.mul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.invm=function(s){var d=this.imod(s._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,commonjsGlobal)}(bn$2)),bn$2.exports}var api$1={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch{return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,a=r.execScript;!n&&a&&(a.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(p){r[p]=e[p]}),forEach(globals,function(p){e[p]&&(r[p]=e[p])});var o=Object_keys(r),u=n.call(r,this.code);return forEach(Object_keys(r),function(p){(p in e||indexOf(o,p)===-1)&&(e[p]=r[p])}),forEach(globals,function(p){p in e||defineProp(e,p,r[p])}),document.body.removeChild(t),u},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),function(n){e[n]=t[n]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return typeof e=="object"&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(e){var t=requireAsn1$1(),r=inherits_browserExports,n=e;n.define=function(o,u){return new a(o,u)};function a(o,u){this.name=o,this.body=u,this.decoders={},this.encoders={}}a.prototype._createNamed=function(o){var u;try{u=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{u=function(p){this._initNamed(p)}}return r(u,o),u.prototype._initNamed=function(p){o.call(this,p)},new u(this)},a.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(t.decoders[o])),this.decoders[o]},a.prototype.decode=function(o,u,p){return this._getDecoder(u).decode(o,p)},a.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(t.encoders[o])),this.encoders[o]},a.prototype.encode=function(o,u,p){return this._getEncoder(u).encode(o,p)}}(api$1)),api$1}var base$2={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var e=inherits_browserExports;function t(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}reporter.Reporter=t,t.prototype.isError=function(n){return n instanceof r},t.prototype.save=function(){var n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},t.prototype.restore=function(n){var a=this._reporterState;a.obj=n.obj,a.path=a.path.slice(0,n.pathLen)},t.prototype.enterKey=function(n){return this._reporterState.path.push(n)},t.prototype.exitKey=function(n){var a=this._reporterState;a.path=a.path.slice(0,n-1)},t.prototype.leaveKey=function(n,a,o){var u=this._reporterState;this.exitKey(n),u.obj!==null&&(u.obj[a]=o)},t.prototype.path=function(){return this._reporterState.path.join("/")},t.prototype.enterObject=function(){var n=this._reporterState,a=n.obj;return n.obj={},a},t.prototype.leaveObject=function(n){var a=this._reporterState,o=a.obj;return a.obj=n,o},t.prototype.error=function(n){var a,o=this._reporterState,u=n instanceof r;if(u?a=n:a=new r(o.path.map(function(p){return"["+JSON.stringify(p)+"]"}).join(""),n.message||n,n.stack),!o.options.partial)throw a;return u||o.errors.push(a),a},t.prototype.wrapResult=function(n){var a=this._reporterState;return a.options.partial?{result:this.isError(n)?null:n,errors:a.errors}:n};function r(n,a){this.path=n,this.rethrow(a)}return e(r,Error),r.prototype.rethrow=function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var e=inherits_browserExports,t=requireBase().Reporter,r=require$$0$1.Buffer;function n(o,u){if(t.call(this,u),!r.isBuffer(o)){this.error("Input not Buffer");return}this.base=o,this.offset=0,this.length=o.length}e(n,t),buffer.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},n.prototype.restore=function(o){var u=new n(this.base);return u.offset=o.offset,u.length=this.offset,this.offset=o.offset,t.prototype.restore.call(this,o.reporter),u},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},n.prototype.skip=function(o,u){if(!(this.offset+o<=this.length))return this.error(u||"DecoderBuffer overrun");var p=new n(this.base);return p._reporterState=this._reporterState,p.offset=this.offset,p.length=this.offset+o,this.offset+=o,p},n.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function a(o,u){if(Array.isArray(o))this.length=0,this.value=o.map(function(p){return p instanceof a||(p=new a(p,u)),this.length+=p.length,p},this);else if(typeof o=="number"){if(!(0<=o&&o<=255))return u.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=r.byteLength(o);else if(r.isBuffer(o))this.value=o,this.length=o.length;else return u.error("Unsupported type: "+typeof o)}return buffer.EncoderBuffer=a,a.prototype.join=function(o,u){return o||(o=new r(this.length)),u||(u=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(p){p.join(o,u),u+=p.length}):(typeof this.value=="number"?o[u]=this.value:typeof this.value=="string"?o.write(this.value,u):r.isBuffer(this.value)&&this.value.copy(o,u),u+=this.length)),o},buffer}var node$1,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1;var e=requireBase().Reporter,t=requireBase().EncoderBuffer,r=requireBase().DecoderBuffer,n=minimalisticAssert,a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function p(m,y){var A={};this._baseState=A,A.enc=m,A.parent=y||null,A.children=null,A.tag=null,A.args=null,A.reverseArgs=null,A.choice=null,A.optional=!1,A.any=!1,A.obj=!1,A.use=null,A.useDecoder=null,A.key=null,A.default=null,A.explicit=null,A.implicit=null,A.contains=null,A.parent||(A.children=[],this._wrap())}node$1=p;var b=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return p.prototype.clone=function(){var m=this._baseState,y={};b.forEach(function(I){y[I]=m[I]});var A=new this.constructor(y.parent);return A._baseState=y,A},p.prototype._wrap=function(){var m=this._baseState;o.forEach(function(y){this[y]=function(){var A=new this.constructor(this);return m.children.push(A),A[y].apply(A,arguments)}},this)},p.prototype._init=function(m){var y=this._baseState;n(y.parent===null),m.call(this),y.children=y.children.filter(function(A){return A._baseState.parent===this},this),n.equal(y.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(m){var y=this._baseState,A=m.filter(function(I){return I instanceof this.constructor},this);m=m.filter(function(I){return!(I instanceof this.constructor)},this),A.length!==0&&(n(y.children===null),y.children=A,A.forEach(function(I){I._baseState.parent=this},this)),m.length!==0&&(n(y.args===null),y.args=m,y.reverseArgs=m.map(function(I){if(typeof I!="object"||I.constructor!==Object)return I;var M={};return Object.keys(I).forEach(function(C){C==(C|0)&&(C|=0);var P=I[C];M[P]=C}),M}))},u.forEach(function(m){p.prototype[m]=function(){var y=this._baseState;throw new Error(m+" not implemented for encoding: "+y.enc)}}),a.forEach(function(m){p.prototype[m]=function(){var y=this._baseState,A=Array.prototype.slice.call(arguments);return n(y.tag===null),y.tag=m,this._useArgs(A),this}}),p.prototype.use=function(m){n(m);var y=this._baseState;return n(y.use===null),y.use=m,this},p.prototype.optional=function(){var m=this._baseState;return m.optional=!0,this},p.prototype.def=function(m){var y=this._baseState;return n(y.default===null),y.default=m,y.optional=!0,this},p.prototype.explicit=function(m){var y=this._baseState;return n(y.explicit===null&&y.implicit===null),y.explicit=m,this},p.prototype.implicit=function(m){var y=this._baseState;return n(y.explicit===null&&y.implicit===null),y.implicit=m,this},p.prototype.obj=function(){var m=this._baseState,y=Array.prototype.slice.call(arguments);return m.obj=!0,y.length!==0&&this._useArgs(y),this},p.prototype.key=function(m){var y=this._baseState;return n(y.key===null),y.key=m,this},p.prototype.any=function(){var m=this._baseState;return m.any=!0,this},p.prototype.choice=function(m){var y=this._baseState;return n(y.choice===null),y.choice=m,this._useArgs(Object.keys(m).map(function(A){return m[A]})),this},p.prototype.contains=function(m){var y=this._baseState;return n(y.use===null),y.contains=m,this},p.prototype._decode=function(m,y){var A=this._baseState;if(A.parent===null)return m.wrapResult(A.children[0]._decode(m,y));var I=A.default,M=!0,C=null;if(A.key!==null&&(C=m.enterKey(A.key)),A.optional){var P=null;if(A.explicit!==null?P=A.explicit:A.implicit!==null?P=A.implicit:A.tag!==null&&(P=A.tag),P===null&&!A.any){var B=m.save();try{A.choice===null?this._decodeGeneric(A.tag,m,y):this._decodeChoice(m,y),M=!0}catch{M=!1}m.restore(B)}else if(M=this._peekTag(m,P,A.any),m.isError(M))return M}var k;if(A.obj&&M&&(k=m.enterObject()),M){if(A.explicit!==null){var N=this._decodeTag(m,A.explicit);if(m.isError(N))return N;m=N}var D=m.offset;if(A.use===null&&A.choice===null){if(A.any)var B=m.save();var L=this._decodeTag(m,A.implicit!==null?A.implicit:A.tag,A.any);if(m.isError(L))return L;A.any?I=m.raw(B):m=L}if(y&&y.track&&A.tag!==null&&y.track(m.path(),D,m.length,"tagged"),y&&y.track&&A.tag!==null&&y.track(m.path(),m.offset,m.length,"content"),A.any?I=I:A.choice===null?I=this._decodeGeneric(A.tag,m,y):I=this._decodeChoice(m,y),m.isError(I))return I;if(!A.any&&A.choice===null&&A.children!==null&&A.children.forEach(function(J){J._decode(m,y)}),A.contains&&(A.tag==="octstr"||A.tag==="bitstr")){var K=new r(I);I=this._getUse(A.contains,m._reporterState.obj)._decode(K,y)}}return A.obj&&M&&(I=m.leaveObject(k)),A.key!==null&&(I!==null||M===!0)?m.leaveKey(C,A.key,I):C!==null&&m.exitKey(C),I},p.prototype._decodeGeneric=function(m,y,A){var I=this._baseState;return m==="seq"||m==="set"?null:m==="seqof"||m==="setof"?this._decodeList(y,m,I.args[0],A):/str$/.test(m)?this._decodeStr(y,m,A):m==="objid"&&I.args?this._decodeObjid(y,I.args[0],I.args[1],A):m==="objid"?this._decodeObjid(y,null,null,A):m==="gentime"||m==="utctime"?this._decodeTime(y,m,A):m==="null_"?this._decodeNull(y,A):m==="bool"?this._decodeBool(y,A):m==="objDesc"?this._decodeStr(y,m,A):m==="int"||m==="enum"?this._decodeInt(y,I.args&&I.args[0],A):I.use!==null?this._getUse(I.use,y._reporterState.obj)._decode(y,A):y.error("unknown tag: "+m)},p.prototype._getUse=function(m,y){var A=this._baseState;return A.useDecoder=this._use(m,y),n(A.useDecoder._baseState.parent===null),A.useDecoder=A.useDecoder._baseState.children[0],A.implicit!==A.useDecoder._baseState.implicit&&(A.useDecoder=A.useDecoder.clone(),A.useDecoder._baseState.implicit=A.implicit),A.useDecoder},p.prototype._decodeChoice=function(m,y){var A=this._baseState,I=null,M=!1;return Object.keys(A.choice).some(function(C){var P=m.save(),B=A.choice[C];try{var k=B._decode(m,y);if(m.isError(k))return!1;I={type:C,value:k},M=!0}catch{return m.restore(P),!1}return!0},this),M?I:m.error("Choice not matched")},p.prototype._createEncoderBuffer=function(m){return new t(m,this.reporter)},p.prototype._encode=function(m,y,A){var I=this._baseState;if(!(I.default!==null&&I.default===m)){var M=this._encodeValue(m,y,A);if(M!==void 0&&!this._skipDefault(M,y,A))return M}},p.prototype._encodeValue=function(m,y,A){var I=this._baseState;if(I.parent===null)return I.children[0]._encode(m,y||new e);var B=null;if(this.reporter=y,I.optional&&m===void 0)if(I.default!==null)m=I.default;else return;var M=null,C=!1;if(I.any)B=this._createEncoderBuffer(m);else if(I.choice)B=this._encodeChoice(m,y);else if(I.contains)M=this._getUse(I.contains,A)._encode(m,y),C=!0;else if(I.children)M=I.children.map(function(D){if(D._baseState.tag==="null_")return D._encode(null,y,m);if(D._baseState.key===null)return y.error("Child should have a key");var L=y.enterKey(D._baseState.key);if(typeof m!="object")return y.error("Child expected, but input is not object");var K=D._encode(m[D._baseState.key],y,m);return y.leaveKey(L),K},this).filter(function(D){return D}),M=this._createEncoderBuffer(M);else if(I.tag==="seqof"||I.tag==="setof"){if(!(I.args&&I.args.length===1))return y.error("Too many args for : "+I.tag);if(!Array.isArray(m))return y.error("seqof/setof, but data is not Array");var P=this.clone();P._baseState.implicit=null,M=this._createEncoderBuffer(m.map(function(D){var L=this._baseState;return this._getUse(L.args[0],m)._encode(D,y)},P))}else I.use!==null?B=this._getUse(I.use,A)._encode(m,y):(M=this._encodePrimitive(I.tag,m),C=!0);var B;if(!I.any&&I.choice===null){var k=I.implicit!==null?I.implicit:I.tag,N=I.implicit===null?"universal":"context";k===null?I.use===null&&y.error("Tag could be omitted only for .use()"):I.use===null&&(B=this._encodeComposite(k,C,N,M))}return I.explicit!==null&&(B=this._encodeComposite(I.explicit,!1,"context",B)),B},p.prototype._encodeChoice=function(m,y){var A=this._baseState,I=A.choice[m.type];return I||n(!1,m.type+" not found in "+JSON.stringify(Object.keys(A.choice))),I._encode(m.value,y)},p.prototype._encodePrimitive=function(m,y){var A=this._baseState;if(/str$/.test(m))return this._encodeStr(y,m);if(m==="objid"&&A.args)return this._encodeObjid(y,A.reverseArgs[0],A.args[1]);if(m==="objid")return this._encodeObjid(y,null,null);if(m==="gentime"||m==="utctime")return this._encodeTime(y,m);if(m==="null_")return this._encodeNull();if(m==="int"||m==="enum")return this._encodeInt(y,A.args&&A.reverseArgs[0]);if(m==="bool")return this._encodeBool(y);if(m==="objDesc")return this._encodeStr(y,m);throw new Error("Unsupported tag: "+m)},p.prototype._isNumstr=function(m){return/^[0-9 ]*$/.test(m)},p.prototype._isPrintstr=function(m){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(m)},node$1}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(e){var t=e;t.Reporter=requireReporter().Reporter,t.DecoderBuffer=requireBuffer().DecoderBuffer,t.EncoderBuffer=requireBuffer().EncoderBuffer,t.Node=requireNode()}(base$2)),base$2}var constants$1={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(e){var t=requireConstants();e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t._reverse(e.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(e){var t=e;t._reverse=function(r){var n={};return Object.keys(r).forEach(function(a){(a|0)==a&&(a=a|0);var o=r[a];n[o]=a}),n},t.der=requireDer$2()}(constants$1)),constants$1}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var e=inherits_browserExports,t=requireAsn1$1(),r=t.base,n=t.bignum,a=t.constants.der;function o(m){this.enc="der",this.name=m.name,this.entity=m,this.tree=new u,this.tree._init(m.body)}der_1$1=o,o.prototype.decode=function(m,y){return m instanceof r.DecoderBuffer||(m=new r.DecoderBuffer(m,y)),this.tree._decode(m,y)};function u(m){r.Node.call(this,"der",m)}e(u,r.Node),u.prototype._peekTag=function(m,y,A){if(m.isEmpty())return!1;var I=m.save(),M=p(m,'Failed to peek tag: "'+y+'"');return m.isError(M)?M:(m.restore(I),M.tag===y||M.tagStr===y||M.tagStr+"of"===y||A)},u.prototype._decodeTag=function(m,y,A){var I=p(m,'Failed to decode tag of "'+y+'"');if(m.isError(I))return I;var M=b(m,I.primitive,'Failed to get length of "'+y+'"');if(m.isError(M))return M;if(!A&&I.tag!==y&&I.tagStr!==y&&I.tagStr+"of"!==y)return m.error('Failed to match tag: "'+y+'"');if(I.primitive||M!==null)return m.skip(M,'Failed to match body of: "'+y+'"');var C=m.save(),P=this._skipUntilEnd(m,'Failed to skip indefinite length body: "'+this.tag+'"');return m.isError(P)?P:(M=m.offset-C.offset,m.restore(C),m.skip(M,'Failed to match body of: "'+y+'"'))},u.prototype._skipUntilEnd=function(m,y){for(;;){var A=p(m,y);if(m.isError(A))return A;var I=b(m,A.primitive,y);if(m.isError(I))return I;var M;if(A.primitive||I!==null?M=m.skip(I):M=this._skipUntilEnd(m,y),m.isError(M))return M;if(A.tagStr==="end")break}},u.prototype._decodeList=function(m,y,A,I){for(var M=[];!m.isEmpty();){var C=this._peekTag(m,"end");if(m.isError(C))return C;var P=A.decode(m,"der",I);if(m.isError(P)&&C)break;M.push(P)}return M},u.prototype._decodeStr=function(m,y){if(y==="bitstr"){var A=m.readUInt8();return m.isError(A)?A:{unused:A,data:m.raw()}}else if(y==="bmpstr"){var I=m.raw();if(I.length%2===1)return m.error("Decoding of string type: bmpstr length mismatch");for(var M="",C=0;C<I.length/2;C++)M+=String.fromCharCode(I.readUInt16BE(C*2));return M}else if(y==="numstr"){var P=m.raw().toString("ascii");return this._isNumstr(P)?P:m.error("Decoding of string type: numstr unsupported characters")}else{if(y==="octstr"||y==="objDesc")return m.raw();if(y==="printstr"){var B=m.raw().toString("ascii");return this._isPrintstr(B)?B:m.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(y)?m.raw().toString():m.error("Decoding of string type: "+y+" unsupported")}},u.prototype._decodeObjid=function(m,y,A){for(var I,M=[],C=0;!m.isEmpty();){var P=m.readUInt8();C<<=7,C|=P&127,P&128||(M.push(C),C=0)}P&128&&M.push(C);var B=M[0]/40|0,k=M[0]%40;if(A?I=M:I=[B,k].concat(M.slice(1)),y){var N=y[I.join(" ")];N===void 0&&(N=y[I.join(".")]),N!==void 0&&(I=N)}return I},u.prototype._decodeTime=function(m,y){var A=m.raw().toString();if(y==="gentime")var I=A.slice(0,4)|0,M=A.slice(4,6)|0,C=A.slice(6,8)|0,P=A.slice(8,10)|0,B=A.slice(10,12)|0,k=A.slice(12,14)|0;else if(y==="utctime"){var I=A.slice(0,2)|0,M=A.slice(2,4)|0,C=A.slice(4,6)|0,P=A.slice(6,8)|0,B=A.slice(8,10)|0,k=A.slice(10,12)|0;I<70?I=2e3+I:I=1900+I}else return m.error("Decoding "+y+" time is not supported yet");return Date.UTC(I,M-1,C,P,B,k,0)},u.prototype._decodeNull=function(m){return null},u.prototype._decodeBool=function(m){var y=m.readUInt8();return m.isError(y)?y:y!==0},u.prototype._decodeInt=function(m,y){var A=m.raw(),I=new n(A);return y&&(I=y[I.toString(10)]||I),I},u.prototype._use=function(m,y){return typeof m=="function"&&(m=m(y)),m._getDecoder("der").tree};function p(m,y){var A=m.readUInt8(y);if(m.isError(A))return A;var I=a.tagClass[A>>6],M=(A&32)===0;if((A&31)===31){var C=A;for(A=0;(C&128)===128;){if(C=m.readUInt8(y),m.isError(C))return C;A<<=7,A|=C&127}}else A&=31;var P=a.tag[A];return{cls:I,primitive:M,tag:A,tagStr:P}}function b(m,y,A){var I=m.readUInt8(A);if(m.isError(I))return I;if(!y&&I===128)return null;if(!(I&128))return I;var M=I&127;if(M>4)return m.error("length octect is too long");I=0;for(var C=0;C<M;C++){I<<=8;var P=m.readUInt8(A);if(m.isError(P))return P;I|=P}return I}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var e=inherits_browserExports,t=require$$0$1.Buffer,r=requireDer$1();function n(a){r.call(this,a),this.enc="pem"}return e(n,r),pem$1=n,n.prototype.decode=function(a,o){for(var u=a.toString().split(/[\r\n]+/g),p=o.label.toUpperCase(),b=/^-----(BEGIN|END) ([^-]+)-----$/,m=-1,y=-1,A=0;A<u.length;A++){var I=u[A].match(b);if(I!==null&&I[2]===p)if(m===-1){if(I[1]!=="BEGIN")break;m=A}else{if(I[1]!=="END")break;y=A;break}}if(m===-1||y===-1)throw new Error("PEM section not found for: "+p);var M=u.slice(m+1,y).join("");M.replace(/[^a-z0-9\+\/=]+/gi,"");var C=new t(M,"base64");return r.prototype.decode.call(this,C,o)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(e){var t=e;t.der=requireDer$1(),t.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var e=inherits_browserExports,t=require$$0$1.Buffer,r=requireAsn1$1(),n=r.base,a=r.constants.der;function o(m){this.enc="der",this.name=m.name,this.entity=m,this.tree=new u,this.tree._init(m.body)}der_1=o,o.prototype.encode=function(m,y){return this.tree._encode(m,y).join()};function u(m){n.Node.call(this,"der",m)}e(u,n.Node),u.prototype._encodeComposite=function(m,y,A,I){var M=b(m,y,A,this.reporter);if(I.length<128){var B=new t(2);return B[0]=M,B[1]=I.length,this._createEncoderBuffer([B,I])}for(var C=1,P=I.length;P>=256;P>>=8)C++;var B=new t(2+C);B[0]=M,B[1]=128|C;for(var P=1+C,k=I.length;k>0;P--,k>>=8)B[P]=k&255;return this._createEncoderBuffer([B,I])},u.prototype._encodeStr=function(m,y){if(y==="bitstr")return this._createEncoderBuffer([m.unused|0,m.data]);if(y==="bmpstr"){for(var A=new t(m.length*2),I=0;I<m.length;I++)A.writeUInt16BE(m.charCodeAt(I),I*2);return this._createEncoderBuffer(A)}else return y==="numstr"?this._isNumstr(m)?this._createEncoderBuffer(m):this.reporter.error("Encoding of string type: numstr supports only digits and space"):y==="printstr"?this._isPrintstr(m)?this._createEncoderBuffer(m):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(y)?this._createEncoderBuffer(m):y==="objDesc"?this._createEncoderBuffer(m):this.reporter.error("Encoding of string type: "+y+" unsupported")},u.prototype._encodeObjid=function(m,y,A){if(typeof m=="string"){if(!y)return this.reporter.error("string objid given, but no values map found");if(!y.hasOwnProperty(m))return this.reporter.error("objid not found in values map");m=y[m].split(/[\s\.]+/g);for(var I=0;I<m.length;I++)m[I]|=0}else if(Array.isArray(m)){m=m.slice();for(var I=0;I<m.length;I++)m[I]|=0}if(!Array.isArray(m))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(m));if(!A){if(m[1]>=40)return this.reporter.error("Second objid identifier OOB");m.splice(0,2,m[0]*40+m[1])}for(var M=0,I=0;I<m.length;I++){var C=m[I];for(M++;C>=128;C>>=7)M++}for(var P=new t(M),B=P.length-1,I=m.length-1;I>=0;I--){var C=m[I];for(P[B--]=C&127;(C>>=7)>0;)P[B--]=128|C&127}return this._createEncoderBuffer(P)};function p(m){return m<10?"0"+m:m}u.prototype._encodeTime=function(m,y){var A,I=new Date(m);return y==="gentime"?A=[p(I.getFullYear()),p(I.getUTCMonth()+1),p(I.getUTCDate()),p(I.getUTCHours()),p(I.getUTCMinutes()),p(I.getUTCSeconds()),"Z"].join(""):y==="utctime"?A=[p(I.getFullYear()%100),p(I.getUTCMonth()+1),p(I.getUTCDate()),p(I.getUTCHours()),p(I.getUTCMinutes()),p(I.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+y+" time is not supported yet"),this._encodeStr(A,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(m,y){if(typeof m=="string"){if(!y)return this.reporter.error("String int or enum given, but no values map");if(!y.hasOwnProperty(m))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(m));m=y[m]}if(typeof m!="number"&&!t.isBuffer(m)){var A=m.toArray();!m.sign&&A[0]&128&&A.unshift(0),m=new t(A)}if(t.isBuffer(m)){var I=m.length;m.length===0&&I++;var M=new t(I);return m.copy(M),m.length===0&&(M[0]=0),this._createEncoderBuffer(M)}if(m<128)return this._createEncoderBuffer(m);if(m<256)return this._createEncoderBuffer([0,m]);for(var I=1,C=m;C>=256;C>>=8)I++;for(var M=new Array(I),C=M.length-1;C>=0;C--)M[C]=m&255,m>>=8;return M[0]&128&&M.unshift(0),this._createEncoderBuffer(new t(M))},u.prototype._encodeBool=function(m){return this._createEncoderBuffer(m?255:0)},u.prototype._use=function(m,y){return typeof m=="function"&&(m=m(y)),m._getEncoder("der").tree},u.prototype._skipDefault=function(m,y,A){var I=this._baseState,M;if(I.default===null)return!1;var C=m.join();if(I.defaultBuffer===void 0&&(I.defaultBuffer=this._encodeValue(I.default,y,A).join()),C.length!==I.defaultBuffer.length)return!1;for(M=0;M<C.length;M++)if(C[M]!==I.defaultBuffer[M])return!1;return!0};function b(m,y,A,I){var M;if(m==="seqof"?m="seq":m==="setof"&&(m="set"),a.tagByName.hasOwnProperty(m))M=a.tagByName[m];else if(typeof m=="number"&&(m|0)===m)M=m;else return I.error("Unknown tag: "+m);return M>=31?I.error("Multi-octet tag encoding unsupported"):(y||(M|=32),M|=a.tagClassByName[A||"universal"]<<6,M)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var e=inherits_browserExports,t=requireDer();function r(n){t.call(this,n),this.enc="pem"}return e(r,t),pem=r,r.prototype.encode=function(n,a){for(var o=t.prototype.encode.call(this,n),u=o.toString("base64"),p=["-----BEGIN "+a.label+"-----"],b=0;b<u.length;b+=64)p.push(u.slice(b,b+64));return p.push("-----END "+a.label+"-----"),p.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(e){var t=e;t.der=requireDer(),t.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(e){var t=e;t.bignum=requireBn$2(),t.define=requireApi().define,t.base=requireBase(),t.constants=requireConstants(),t.decoders=requireDecoders(),t.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var e=requireAsn1$1(),t=e.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),r=e.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),n=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}),o=e.define("RelativeDistinguishedName",function(){this.setof(r)}),u=e.define("RDNSequence",function(){this.seqof(o)}),p=e.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),b=e.define("Validity",function(){this.seq().obj(this.key("notBefore").use(t),this.key("notAfter").use(t))}),m=e.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=e.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(p),this.key("validity").use(b),this.key("subject").use(p),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(m).optional())}),A=e.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())});return certificate=A,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var e=requireAsn1$1();asn1$1.certificate=requireCertificate();var t=e.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=t;var r=e.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=r;var n=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),a=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=a;var o=e.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=o;var u=e.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=u;var p=e.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=p,asn1$1.DSAparam=e.define("DSAparam",function(){this.int()});var b=e.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),m=e.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=m,asn1$1.signature=e.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=requireEvp_bytestokey(),a=requireBrowser$6(),o=safeBufferExports.Buffer;return fixProc=function(u,p){var b=u.toString(),m=b.match(e),y;if(m){var A="aes"+m[1],I=o.from(m[2],"hex"),M=o.from(m[3].replace(/[\r\n]/g,""),"base64"),C=n(p,I.slice(0,8),parseInt(m[1],10)).key,P=[],B=a.createDecipheriv(A,C,I);P.push(B.update(M)),P.push(B.final()),y=o.concat(P)}else{var k=b.match(r);y=o.from(k[2].replace(/[\r\n]/g,""),"base64")}var N=b.match(t)[1];return{tag:N,data:y}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var e=requireAsn1(),t=require$$1$1,r=requireFixProc(),n=requireBrowser$6(),a=requireBrowser$7(),o=safeBufferExports.Buffer;function u(b,m){var y=b.algorithm.decrypt.kde.kdeparams.salt,A=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),I=t[b.algorithm.decrypt.cipher.algo.join(".")],M=b.algorithm.decrypt.cipher.iv,C=b.subjectPrivateKey,P=parseInt(I.split("-")[1],10)/8,B=a.pbkdf2Sync(m,y,A,P,"sha1"),k=n.createDecipheriv(I,B,M),N=[];return N.push(k.update(C)),N.push(k.final()),o.concat(N)}function p(b){var m;typeof b=="object"&&!o.isBuffer(b)&&(m=b.passphrase,b=b.key),typeof b=="string"&&(b=o.from(b));var y=r(b,m),A=y.tag,I=y.data,M,C;switch(A){case"CERTIFICATE":C=e.certificate.decode(I,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(C||(C=e.PublicKey.decode(I,"der")),M=C.algorithm.algorithm.join("."),M){case"1.2.840.113549.1.1.1":return e.RSAPublicKey.decode(C.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return C.subjectPrivateKey=C.subjectPublicKey,{type:"ec",data:C};case"1.2.840.10040.4.1":return C.algorithm.params.pub_key=e.DSAparam.decode(C.subjectPublicKey.data,"der"),{type:"dsa",data:C.algorithm.params};default:throw new Error("unknown key id "+M)}case"ENCRYPTED PRIVATE KEY":I=e.EncryptedPrivateKey.decode(I,"der"),I=u(I,m);case"PRIVATE KEY":switch(C=e.PrivateKey.decode(I,"der"),M=C.algorithm.algorithm.join("."),M){case"1.2.840.113549.1.1.1":return e.RSAPrivateKey.decode(C.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:C.algorithm.curve,privateKey:e.ECPrivateKey.decode(C.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return C.algorithm.params.priv_key=e.DSAparam.decode(C.subjectPrivateKey,"der"),{type:"dsa",params:C.algorithm.params};default:throw new Error("unknown key id "+M)}case"RSA PUBLIC KEY":return e.RSAPublicKey.decode(I,"der");case"RSA PRIVATE KEY":return e.RSAPrivateKey.decode(I,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:e.DSAPrivateKey.decode(I,"der")};case"EC PRIVATE KEY":return I=e.ECPrivateKey.decode(I,"der"),{curve:I.parameters.value,privateKey:I.privateKey};default:throw new Error("unknown key type "+A)}}return p.signature=e.signature,parseAsn1=p,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$5.exports;hasRequiredSign=1;var e=safeBufferExports.Buffer,t=requireBrowser$8(),r=requireBrowserifyRsa(),n=requireElliptic().ec,a=bnExports,o=requireParseAsn1(),u=require$$4,p=1;function b(k,N,D,L,K){var J=o(N);if(J.curve){if(L!=="ecdsa"&&L!=="ecdsa/rsa")throw new Error("wrong private key type");return m(k,J)}else if(J.type==="dsa"){if(L!=="dsa")throw new Error("wrong private key type");return y(k,J,D)}if(L!=="rsa"&&L!=="ecdsa/rsa")throw new Error("wrong private key type");if(N.padding!==void 0&&N.padding!==p)throw new Error("illegal or unsupported padding mode");k=e.concat([K,k]);for(var ce=J.modulus.byteLength(),oe=[0,1];k.length+oe.length+1<ce;)oe.push(255);oe.push(0);for(var Z=-1;++Z<k.length;)oe.push(k[Z]);var ie=r(oe,J);return ie}function m(k,N){var D=u[N.curve.join(".")];if(!D)throw new Error("unknown curve "+N.curve.join("."));var L=new n(D),K=L.keyFromPrivate(N.privateKey),J=K.sign(k);return e.from(J.toDER())}function y(k,N,D){for(var L=N.params.priv_key,K=N.params.p,J=N.params.q,ce=N.params.g,oe=new a(0),Z,ie=M(k,J).mod(J),s=!1,d=I(L,J,k,D);s===!1;)Z=P(J,d,D),oe=B(ce,Z,K,J),s=Z.invm(J).imul(ie.add(L.mul(oe))).mod(J),s.cmpn(0)===0&&(s=!1,oe=new a(0));return A(oe,s)}function A(k,N){k=k.toArray(),N=N.toArray(),k[0]&128&&(k=[0].concat(k)),N[0]&128&&(N=[0].concat(N));var D=k.length+N.length+4,L=[48,D,2,k.length];return L=L.concat(k,[2,N.length],N),e.from(L)}function I(k,N,D,L){if(k=e.from(k.toArray()),k.length<N.byteLength()){var K=e.alloc(N.byteLength()-k.length);k=e.concat([K,k])}var J=D.length,ce=C(D,N),oe=e.alloc(J);oe.fill(1);var Z=e.alloc(J);return Z=t(L,Z).update(oe).update(e.from([0])).update(k).update(ce).digest(),oe=t(L,Z).update(oe).digest(),Z=t(L,Z).update(oe).update(e.from([1])).update(k).update(ce).digest(),oe=t(L,Z).update(oe).digest(),{k:Z,v:oe}}function M(k,N){var D=new a(k),L=(k.length<<3)-N.bitLength();return L>0&&D.ishrn(L),D}function C(k,N){k=M(k,N),k=k.mod(N);var D=e.from(k.toArray());if(D.length<N.byteLength()){var L=e.alloc(N.byteLength()-D.length);D=e.concat([L,D])}return D}function P(k,N,D){var L,K;do{for(L=e.alloc(0);L.length*8<k.bitLength();)N.v=t(D,N.k).update(N.v).digest(),L=e.concat([L,N.v]);K=M(L,k),N.k=t(D,N.k).update(N.v).update(e.from([0])).digest(),N.v=t(D,N.k).update(N.v).digest()}while(K.cmp(k)!==-1);return K}function B(k,N,D,L){return k.toRed(a.mont(D)).redPow(N).fromRed().mod(L)}return sign$5.exports=b,sign$5.exports.getKey=I,sign$5.exports.makeKey=P,sign$5.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var e=safeBufferExports.Buffer,t=bnExports,r=requireElliptic().ec,n=requireParseAsn1(),a=require$$4;function o(m,y,A,I,M){var C=n(A);if(C.type==="ec"){if(I!=="ecdsa"&&I!=="ecdsa/rsa")throw new Error("wrong public key type");return u(m,y,C)}else if(C.type==="dsa"){if(I!=="dsa")throw new Error("wrong public key type");return p(m,y,C)}if(I!=="rsa"&&I!=="ecdsa/rsa")throw new Error("wrong public key type");y=e.concat([M,y]);for(var P=C.modulus.byteLength(),B=[1],k=0;y.length+B.length+2<P;)B.push(255),k+=1;B.push(0);for(var N=-1;++N<y.length;)B.push(y[N]);B=e.from(B);var D=t.mont(C.modulus);m=new t(m).toRed(D),m=m.redPow(new t(C.publicExponent)),m=e.from(m.fromRed().toArray());var L=k<8?1:0;for(P=Math.min(m.length,B.length),m.length!==B.length&&(L=1),N=-1;++N<P;)L|=m[N]^B[N];return L===0}function u(m,y,A){var I=a[A.data.algorithm.curve.join(".")];if(!I)throw new Error("unknown curve "+A.data.algorithm.curve.join("."));var M=new r(I),C=A.data.subjectPrivateKey.data;return M.verify(y,m,C)}function p(m,y,A){var I=A.data.p,M=A.data.q,C=A.data.g,P=A.data.pub_key,B=n.signature.decode(m,"der"),k=B.s,N=B.r;b(k,M),b(N,M);var D=t.mont(I),L=k.invm(M),K=C.toRed(D).redPow(new t(y).mul(L).mod(M)).fromRed().mul(P.toRed(D).redPow(N.mul(L).mod(M)).fromRed()).mod(I).mod(M);return K.cmp(N)===0}function b(m,y){if(m.cmpn(0)<=0)throw new Error("invalid sig");if(m.cmp(y)>=0)throw new Error("invalid sig")}return verify_1=o,verify_1}var browser$8,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$8;hasRequiredBrowser$3=1;var e=safeBufferExports.Buffer,t=requireBrowser$9(),r=requireReadableBrowser(),n=inherits_browserExports,a=requireSign(),o=requireVerify(),u=require$$6;Object.keys(u).forEach(function(A){u[A].id=e.from(u[A].id,"hex"),u[A.toLowerCase()]=u[A]});function p(A){r.Writable.call(this);var I=u[A];if(!I)throw new Error("Unknown message digest");this._hashType=I.hash,this._hash=t(I.hash),this._tag=I.id,this._signType=I.sign}n(p,r.Writable),p.prototype._write=function(A,I,M){this._hash.update(A),M()},p.prototype.update=function(A,I){return this._hash.update(typeof A=="string"?e.from(A,I):A),this},p.prototype.sign=function(A,I){this.end();var M=this._hash.digest(),C=a(M,A,this._hashType,this._signType,this._tag);return I?C.toString(I):C};function b(A){r.Writable.call(this);var I=u[A];if(!I)throw new Error("Unknown message digest");this._hash=t(I.hash),this._tag=I.id,this._signType=I.sign}n(b,r.Writable),b.prototype._write=function(A,I,M){this._hash.update(A),M()},b.prototype.update=function(A,I){return this._hash.update(typeof A=="string"?e.from(A,I):A),this},b.prototype.verify=function(A,I,M){var C=typeof I=="string"?e.from(I,M):I;this.end();var P=this._hash.digest();return o(C,P,A,this._signType,this._tag)};function m(A){return new p(A)}function y(A){return new b(A)}return browser$8={Sign:m,Verify:y,createSign:m,createVerify:y},browser$8}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(e){(function(t,r){function n(s,d){if(!s)throw new Error(d||"Assertion failed")}function a(s,d){s.super_=d;var l=function(){};l.prototype=d.prototype,s.prototype=new l,s.prototype.constructor=s}function o(s,d,l){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((d==="le"||d==="be")&&(l=d,d=10),this._init(s||0,d||10,l||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$1.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,d){return s.cmp(d)>0?s:d},o.min=function(s,d){return s.cmp(d)<0?s:d},o.prototype._init=function(s,d,l){if(typeof s=="number")return this._initNumber(s,d,l);if(typeof s=="object")return this._initArray(s,d,l);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),s=s.toString().replace(/\s+/g,"");var v=0;s[0]==="-"&&(v++,this.negative=1),v<s.length&&(d===16?this._parseHex(s,v,l):(this._parseBase(s,d,v),l==="le"&&this._initArray(this.toArray(),d,l)))},o.prototype._initNumber=function(s,d,l){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),d,l)},o.prototype._initArray=function(s,d,l){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S,O,T=0;if(l==="be")for(v=s.length-1,S=0;v>=0;v-=3)O=s[v]|s[v-1]<<8|s[v-2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);else if(l==="le")for(v=0,S=0;v<s.length;v+=3)O=s[v]|s[v+1]<<8|s[v+2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);return this.strip()};function p(s,d){var l=s.charCodeAt(d);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function b(s,d,l){var v=p(s,l);return l-1>=d&&(v|=p(s,l-1)<<4),v}o.prototype._parseHex=function(s,d,l){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S=0,O=0,T;if(l==="be")for(v=s.length-1;v>=d;v-=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8;else{var _=s.length-d;for(v=_%2===0?d+1:d;v<s.length;v+=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8}this.strip()};function m(s,d,l,v){for(var S=0,O=Math.min(s.length,l),T=d;T<O;T++){var _=s.charCodeAt(T)-48;S*=v,_>=49?S+=_-49+10:_>=17?S+=_-17+10:S+=_}return S}o.prototype._parseBase=function(s,d,l){this.words=[0],this.length=1;for(var v=0,S=1;S<=67108863;S*=d)v++;v--,S=S/d|0;for(var O=s.length-l,T=O%v,_=Math.min(O,O-T)+l,c=0,w=l;w<_;w+=v)c=m(s,w,w+v,d),this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(T!==0){var x=1;for(c=m(s,w,s.length,d),w=0;w<T;w++)x*=d;this.imuln(x),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,d){s=s||10,d=d|0||1;var l;if(s===16||s==="hex"){l="";for(var v=0,S=0,O=0;O<this.length;O++){var T=this.words[O],_=((T<<v|S)&16777215).toString(16);S=T>>>24-v&16777215,S!==0||O!==this.length-1?l=y[6-_.length]+_+l:l=_+l,v+=2,v>=26&&(v-=26,O--)}for(S!==0&&(l=S.toString(16)+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(s===(s|0)&&s>=2&&s<=36){var c=A[s],w=I[s];l="";var x=this.clone();for(x.negative=0;!x.isZero();){var F=x.modn(w).toString(s);x=x.idivn(w),x.isZero()?l=F+l:l=y[c-F.length]+F+l}for(this.isZero()&&(l="0"+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(s,d){return n(typeof u<"u"),this.toArrayLike(u,s,d)},o.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},o.prototype.toArrayLike=function(s,d,l){var v=this.byteLength(),S=l||Math.max(1,v);n(v<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var O=d==="le",T=new s(S),_,c,w=this.clone();if(O){for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[c]=_;for(;c<S;c++)T[c]=0}else{for(c=0;c<S-v;c++)T[c]=0;for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[S-c-1]=_}return T},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var d=s,l=0;return d>=4096&&(l+=13,d>>>=13),d>=64&&(l+=7,d>>>=7),d>=8&&(l+=4,d>>>=4),d>=2&&(l+=2,d>>>=2),l+d},o.prototype._zeroBits=function(s){if(s===0)return 26;var d=s,l=0;return d&8191||(l+=13,d>>>=13),d&127||(l+=7,d>>>=7),d&15||(l+=4,d>>>=4),d&3||(l+=2,d>>>=2),d&1||l++,l},o.prototype.bitLength=function(){var s=this.words[this.length-1],d=this._countBits(s);return(this.length-1)*26+d};function M(s){for(var d=new Array(s.bitLength()),l=0;l<d.length;l++){var v=l/26|0,S=l%26;d[l]=(s.words[v]&1<<S)>>>S}return d}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var l=this._zeroBits(this.words[d]);if(s+=l,l!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},o.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var d;this.length>s.length?d=s:d=this;for(var l=0;l<d.length;l++)this.words[l]=this.words[l]&s.words[l];return this.length=d.length,this.strip()},o.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var d,l;this.length>s.length?(d=this,l=s):(d=s,l=this);for(var v=0;v<l.length;v++)this.words[v]=d.words[v]^l.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var d=Math.ceil(s/26)|0,l=s%26;this._expand(d),l>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return l>0&&(this.words[v]=~this.words[v]&67108863>>26-l),this.strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,d){n(typeof s=="number"&&s>=0);var l=s/26|0,v=s%26;return this._expand(l+1),d?this.words[l]=this.words[l]|1<<v:this.words[l]=this.words[l]&~(1<<v),this.strip()},o.prototype.iadd=function(s){var d;if(this.negative!==0&&s.negative===0)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();var l,v;this.length>s.length?(l=this,v=s):(l=s,v=this);for(var S=0,O=0;O<v.length;O++)d=(l.words[O]|0)+(v.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;for(;S!==0&&O<l.length;O++)d=(l.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;if(this.length=l.length,S!==0)this.words[this.length]=S,this.length++;else if(l!==this)for(;O<l.length;O++)this.words[O]=l.words[O];return this},o.prototype.add=function(s){var d;return s.negative!==0&&this.negative===0?(s.negative=0,d=this.sub(s),s.negative^=1,d):s.negative===0&&this.negative!==0?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var l=this.cmp(s);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,S;l>0?(v=this,S=s):(v=s,S=this);for(var O=0,T=0;T<S.length;T++)d=(v.words[T]|0)-(S.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;for(;O!==0&&T<v.length;T++)d=(v.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;if(O===0&&T<v.length&&v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this.length=Math.max(this.length,T),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function C(s,d,l){l.negative=d.negative^s.negative;var v=s.length+d.length|0;l.length=v,v=v-1|0;var S=s.words[0]|0,O=d.words[0]|0,T=S*O,_=T&67108863,c=T/67108864|0;l.words[0]=_;for(var w=1;w<v;w++){for(var x=c>>>26,F=c&67108863,q=Math.min(w,d.length-1),V=Math.max(0,w-s.length+1);V<=q;V++){var Y=w-V|0;S=s.words[Y]|0,O=d.words[V]|0,T=S*O+F,x+=T/67108864|0,F=T&67108863}l.words[w]=F|0,c=x|0}return c!==0?l.words[w]=c|0:l.length--,l.strip()}var P=function(s,d,l){var v=s.words,S=d.words,O=l.words,T=0,_,c,w,x=v[0]|0,F=x&8191,q=x>>>13,V=v[1]|0,Y=V&8191,Q=V>>>13,G=v[2]|0,H=G&8191,te=G>>>13,W=v[3]|0,U=W&8191,j=W>>>13,ee=v[4]|0,X=ee&8191,ne=ee>>>13,de=v[5]|0,re=de&8191,ae=de>>>13,ue=v[6]|0,se=ue&8191,le=ue>>>13,Re=v[7]|0,he=Re&8191,fe=Re>>>13,Fe=v[8]|0,me=Fe&8191,pe=Fe>>>13,Ue=v[9]|0,ye=Ue&8191,be=Ue>>>13,He=S[0]|0,$e=He&8191,Me=He>>>13,qe=S[1]|0,ge=qe&8191,Oe=qe>>>13,je=S[2]|0,ve=je&8191,Pe=je>>>13,Ke=S[3]|0,_e=Ke&8191,Ce=Ke>>>13,We=S[4]|0,Ee=We&8191,xe=We>>>13,ze=S[5]|0,we=ze&8191,Ne=ze>>>13,Ze=S[6]|0,Se=Ze&8191,Be=Ze>>>13,Xe=S[7]|0,Ae=Xe&8191,ke=Xe>>>13,Ye=S[8]|0,Te=Ye&8191,De=Ye>>>13,Je=S[9]|0,Ie=Je&8191,Le=Je>>>13;l.negative=s.negative^d.negative,l.length=19,_=Math.imul(F,$e),c=Math.imul(F,Me),c=c+Math.imul(q,$e)|0,w=Math.imul(q,Me);var Ve=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,_=Math.imul(Y,$e),c=Math.imul(Y,Me),c=c+Math.imul(Q,$e)|0,w=Math.imul(Q,Me),_=_+Math.imul(F,ge)|0,c=c+Math.imul(F,Oe)|0,c=c+Math.imul(q,ge)|0,w=w+Math.imul(q,Oe)|0;var Ge=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,_=Math.imul(H,$e),c=Math.imul(H,Me),c=c+Math.imul(te,$e)|0,w=Math.imul(te,Me),_=_+Math.imul(Y,ge)|0,c=c+Math.imul(Y,Oe)|0,c=c+Math.imul(Q,ge)|0,w=w+Math.imul(Q,Oe)|0,_=_+Math.imul(F,ve)|0,c=c+Math.imul(F,Pe)|0,c=c+Math.imul(q,ve)|0,w=w+Math.imul(q,Pe)|0;var Qe=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,_=Math.imul(U,$e),c=Math.imul(U,Me),c=c+Math.imul(j,$e)|0,w=Math.imul(j,Me),_=_+Math.imul(H,ge)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,Oe)|0,_=_+Math.imul(Y,ve)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(Q,ve)|0,w=w+Math.imul(Q,Pe)|0,_=_+Math.imul(F,_e)|0,c=c+Math.imul(F,Ce)|0,c=c+Math.imul(q,_e)|0,w=w+Math.imul(q,Ce)|0;var et=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(X,$e),c=Math.imul(X,Me),c=c+Math.imul(ne,$e)|0,w=Math.imul(ne,Me),_=_+Math.imul(U,ge)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(j,ge)|0,w=w+Math.imul(j,Oe)|0,_=_+Math.imul(H,ve)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(te,ve)|0,w=w+Math.imul(te,Pe)|0,_=_+Math.imul(Y,_e)|0,c=c+Math.imul(Y,Ce)|0,c=c+Math.imul(Q,_e)|0,w=w+Math.imul(Q,Ce)|0,_=_+Math.imul(F,Ee)|0,c=c+Math.imul(F,xe)|0,c=c+Math.imul(q,Ee)|0,w=w+Math.imul(q,xe)|0;var tt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,_=Math.imul(re,$e),c=Math.imul(re,Me),c=c+Math.imul(ae,$e)|0,w=Math.imul(ae,Me),_=_+Math.imul(X,ge)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(ne,ge)|0,w=w+Math.imul(ne,Oe)|0,_=_+Math.imul(U,ve)|0,c=c+Math.imul(U,Pe)|0,c=c+Math.imul(j,ve)|0,w=w+Math.imul(j,Pe)|0,_=_+Math.imul(H,_e)|0,c=c+Math.imul(H,Ce)|0,c=c+Math.imul(te,_e)|0,w=w+Math.imul(te,Ce)|0,_=_+Math.imul(Y,Ee)|0,c=c+Math.imul(Y,xe)|0,c=c+Math.imul(Q,Ee)|0,w=w+Math.imul(Q,xe)|0,_=_+Math.imul(F,we)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(q,we)|0,w=w+Math.imul(q,Ne)|0;var rt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,_=Math.imul(se,$e),c=Math.imul(se,Me),c=c+Math.imul(le,$e)|0,w=Math.imul(le,Me),_=_+Math.imul(re,ge)|0,c=c+Math.imul(re,Oe)|0,c=c+Math.imul(ae,ge)|0,w=w+Math.imul(ae,Oe)|0,_=_+Math.imul(X,ve)|0,c=c+Math.imul(X,Pe)|0,c=c+Math.imul(ne,ve)|0,w=w+Math.imul(ne,Pe)|0,_=_+Math.imul(U,_e)|0,c=c+Math.imul(U,Ce)|0,c=c+Math.imul(j,_e)|0,w=w+Math.imul(j,Ce)|0,_=_+Math.imul(H,Ee)|0,c=c+Math.imul(H,xe)|0,c=c+Math.imul(te,Ee)|0,w=w+Math.imul(te,xe)|0,_=_+Math.imul(Y,we)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(Q,we)|0,w=w+Math.imul(Q,Ne)|0,_=_+Math.imul(F,Se)|0,c=c+Math.imul(F,Be)|0,c=c+Math.imul(q,Se)|0,w=w+Math.imul(q,Be)|0;var nt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(he,$e),c=Math.imul(he,Me),c=c+Math.imul(fe,$e)|0,w=Math.imul(fe,Me),_=_+Math.imul(se,ge)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,ge)|0,w=w+Math.imul(le,Oe)|0,_=_+Math.imul(re,ve)|0,c=c+Math.imul(re,Pe)|0,c=c+Math.imul(ae,ve)|0,w=w+Math.imul(ae,Pe)|0,_=_+Math.imul(X,_e)|0,c=c+Math.imul(X,Ce)|0,c=c+Math.imul(ne,_e)|0,w=w+Math.imul(ne,Ce)|0,_=_+Math.imul(U,Ee)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(j,Ee)|0,w=w+Math.imul(j,xe)|0,_=_+Math.imul(H,we)|0,c=c+Math.imul(H,Ne)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Ne)|0,_=_+Math.imul(Y,Se)|0,c=c+Math.imul(Y,Be)|0,c=c+Math.imul(Q,Se)|0,w=w+Math.imul(Q,Be)|0,_=_+Math.imul(F,Ae)|0,c=c+Math.imul(F,ke)|0,c=c+Math.imul(q,Ae)|0,w=w+Math.imul(q,ke)|0;var it=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(it>>>26)|0,it&=67108863,_=Math.imul(me,$e),c=Math.imul(me,Me),c=c+Math.imul(pe,$e)|0,w=Math.imul(pe,Me),_=_+Math.imul(he,ge)|0,c=c+Math.imul(he,Oe)|0,c=c+Math.imul(fe,ge)|0,w=w+Math.imul(fe,Oe)|0,_=_+Math.imul(se,ve)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(le,ve)|0,w=w+Math.imul(le,Pe)|0,_=_+Math.imul(re,_e)|0,c=c+Math.imul(re,Ce)|0,c=c+Math.imul(ae,_e)|0,w=w+Math.imul(ae,Ce)|0,_=_+Math.imul(X,Ee)|0,c=c+Math.imul(X,xe)|0,c=c+Math.imul(ne,Ee)|0,w=w+Math.imul(ne,xe)|0,_=_+Math.imul(U,we)|0,c=c+Math.imul(U,Ne)|0,c=c+Math.imul(j,we)|0,w=w+Math.imul(j,Ne)|0,_=_+Math.imul(H,Se)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(te,Se)|0,w=w+Math.imul(te,Be)|0,_=_+Math.imul(Y,Ae)|0,c=c+Math.imul(Y,ke)|0,c=c+Math.imul(Q,Ae)|0,w=w+Math.imul(Q,ke)|0,_=_+Math.imul(F,Te)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(q,Te)|0,w=w+Math.imul(q,De)|0;var ot=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,_=Math.imul(ye,$e),c=Math.imul(ye,Me),c=c+Math.imul(be,$e)|0,w=Math.imul(be,Me),_=_+Math.imul(me,ge)|0,c=c+Math.imul(me,Oe)|0,c=c+Math.imul(pe,ge)|0,w=w+Math.imul(pe,Oe)|0,_=_+Math.imul(he,ve)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(fe,ve)|0,w=w+Math.imul(fe,Pe)|0,_=_+Math.imul(se,_e)|0,c=c+Math.imul(se,Ce)|0,c=c+Math.imul(le,_e)|0,w=w+Math.imul(le,Ce)|0,_=_+Math.imul(re,Ee)|0,c=c+Math.imul(re,xe)|0,c=c+Math.imul(ae,Ee)|0,w=w+Math.imul(ae,xe)|0,_=_+Math.imul(X,we)|0,c=c+Math.imul(X,Ne)|0,c=c+Math.imul(ne,we)|0,w=w+Math.imul(ne,Ne)|0,_=_+Math.imul(U,Se)|0,c=c+Math.imul(U,Be)|0,c=c+Math.imul(j,Se)|0,w=w+Math.imul(j,Be)|0,_=_+Math.imul(H,Ae)|0,c=c+Math.imul(H,ke)|0,c=c+Math.imul(te,Ae)|0,w=w+Math.imul(te,ke)|0,_=_+Math.imul(Y,Te)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(Q,Te)|0,w=w+Math.imul(Q,De)|0,_=_+Math.imul(F,Ie)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(q,Ie)|0,w=w+Math.imul(q,Le)|0;var st=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,_=Math.imul(ye,ge),c=Math.imul(ye,Oe),c=c+Math.imul(be,ge)|0,w=Math.imul(be,Oe),_=_+Math.imul(me,ve)|0,c=c+Math.imul(me,Pe)|0,c=c+Math.imul(pe,ve)|0,w=w+Math.imul(pe,Pe)|0,_=_+Math.imul(he,_e)|0,c=c+Math.imul(he,Ce)|0,c=c+Math.imul(fe,_e)|0,w=w+Math.imul(fe,Ce)|0,_=_+Math.imul(se,Ee)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,Ee)|0,w=w+Math.imul(le,xe)|0,_=_+Math.imul(re,we)|0,c=c+Math.imul(re,Ne)|0,c=c+Math.imul(ae,we)|0,w=w+Math.imul(ae,Ne)|0,_=_+Math.imul(X,Se)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(ne,Se)|0,w=w+Math.imul(ne,Be)|0,_=_+Math.imul(U,Ae)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(j,Ae)|0,w=w+Math.imul(j,ke)|0,_=_+Math.imul(H,Te)|0,c=c+Math.imul(H,De)|0,c=c+Math.imul(te,Te)|0,w=w+Math.imul(te,De)|0,_=_+Math.imul(Y,Ie)|0,c=c+Math.imul(Y,Le)|0,c=c+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Le)|0;var ct=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(ye,ve),c=Math.imul(ye,Pe),c=c+Math.imul(be,ve)|0,w=Math.imul(be,Pe),_=_+Math.imul(me,_e)|0,c=c+Math.imul(me,Ce)|0,c=c+Math.imul(pe,_e)|0,w=w+Math.imul(pe,Ce)|0,_=_+Math.imul(he,Ee)|0,c=c+Math.imul(he,xe)|0,c=c+Math.imul(fe,Ee)|0,w=w+Math.imul(fe,xe)|0,_=_+Math.imul(se,we)|0,c=c+Math.imul(se,Ne)|0,c=c+Math.imul(le,we)|0,w=w+Math.imul(le,Ne)|0,_=_+Math.imul(re,Se)|0,c=c+Math.imul(re,Be)|0,c=c+Math.imul(ae,Se)|0,w=w+Math.imul(ae,Be)|0,_=_+Math.imul(X,Ae)|0,c=c+Math.imul(X,ke)|0,c=c+Math.imul(ne,Ae)|0,w=w+Math.imul(ne,ke)|0,_=_+Math.imul(U,Te)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(j,Te)|0,w=w+Math.imul(j,De)|0,_=_+Math.imul(H,Ie)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(te,Ie)|0,w=w+Math.imul(te,Le)|0;var lt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(ye,_e),c=Math.imul(ye,Ce),c=c+Math.imul(be,_e)|0,w=Math.imul(be,Ce),_=_+Math.imul(me,Ee)|0,c=c+Math.imul(me,xe)|0,c=c+Math.imul(pe,Ee)|0,w=w+Math.imul(pe,xe)|0,_=_+Math.imul(he,we)|0,c=c+Math.imul(he,Ne)|0,c=c+Math.imul(fe,we)|0,w=w+Math.imul(fe,Ne)|0,_=_+Math.imul(se,Se)|0,c=c+Math.imul(se,Be)|0,c=c+Math.imul(le,Se)|0,w=w+Math.imul(le,Be)|0,_=_+Math.imul(re,Ae)|0,c=c+Math.imul(re,ke)|0,c=c+Math.imul(ae,Ae)|0,w=w+Math.imul(ae,ke)|0,_=_+Math.imul(X,Te)|0,c=c+Math.imul(X,De)|0,c=c+Math.imul(ne,Te)|0,w=w+Math.imul(ne,De)|0,_=_+Math.imul(U,Ie)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(j,Ie)|0,w=w+Math.imul(j,Le)|0;var dt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(ye,Ee),c=Math.imul(ye,xe),c=c+Math.imul(be,Ee)|0,w=Math.imul(be,xe),_=_+Math.imul(me,we)|0,c=c+Math.imul(me,Ne)|0,c=c+Math.imul(pe,we)|0,w=w+Math.imul(pe,Ne)|0,_=_+Math.imul(he,Se)|0,c=c+Math.imul(he,Be)|0,c=c+Math.imul(fe,Se)|0,w=w+Math.imul(fe,Be)|0,_=_+Math.imul(se,Ae)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ae)|0,w=w+Math.imul(le,ke)|0,_=_+Math.imul(re,Te)|0,c=c+Math.imul(re,De)|0,c=c+Math.imul(ae,Te)|0,w=w+Math.imul(ae,De)|0,_=_+Math.imul(X,Ie)|0,c=c+Math.imul(X,Le)|0,c=c+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Le)|0;var ht=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,we),c=Math.imul(ye,Ne),c=c+Math.imul(be,we)|0,w=Math.imul(be,Ne),_=_+Math.imul(me,Se)|0,c=c+Math.imul(me,Be)|0,c=c+Math.imul(pe,Se)|0,w=w+Math.imul(pe,Be)|0,_=_+Math.imul(he,Ae)|0,c=c+Math.imul(he,ke)|0,c=c+Math.imul(fe,Ae)|0,w=w+Math.imul(fe,ke)|0,_=_+Math.imul(se,Te)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,Te)|0,w=w+Math.imul(le,De)|0,_=_+Math.imul(re,Ie)|0,c=c+Math.imul(re,Le)|0,c=c+Math.imul(ae,Ie)|0,w=w+Math.imul(ae,Le)|0;var ft=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,_=Math.imul(ye,Se),c=Math.imul(ye,Be),c=c+Math.imul(be,Se)|0,w=Math.imul(be,Be),_=_+Math.imul(me,Ae)|0,c=c+Math.imul(me,ke)|0,c=c+Math.imul(pe,Ae)|0,w=w+Math.imul(pe,ke)|0,_=_+Math.imul(he,Te)|0,c=c+Math.imul(he,De)|0,c=c+Math.imul(fe,Te)|0,w=w+Math.imul(fe,De)|0,_=_+Math.imul(se,Ie)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ie)|0,w=w+Math.imul(le,Le)|0;var pt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,_=Math.imul(ye,Ae),c=Math.imul(ye,ke),c=c+Math.imul(be,Ae)|0,w=Math.imul(be,ke),_=_+Math.imul(me,Te)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(pe,Te)|0,w=w+Math.imul(pe,De)|0,_=_+Math.imul(he,Ie)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(fe,Ie)|0,w=w+Math.imul(fe,Le)|0;var mt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(ye,Te),c=Math.imul(ye,De),c=c+Math.imul(be,Te)|0,w=Math.imul(be,De),_=_+Math.imul(me,Ie)|0,c=c+Math.imul(me,Le)|0,c=c+Math.imul(pe,Ie)|0,w=w+Math.imul(pe,Le)|0;var yt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(ye,Ie),c=Math.imul(ye,Le),c=c+Math.imul(be,Ie)|0,w=Math.imul(be,Le);var gt=(T+_|0)+((c&8191)<<13)|0;return T=(w+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,O[0]=Ve,O[1]=Ge,O[2]=Qe,O[3]=et,O[4]=tt,O[5]=rt,O[6]=nt,O[7]=it,O[8]=ot,O[9]=st,O[10]=ct,O[11]=lt,O[12]=dt,O[13]=ht,O[14]=ft,O[15]=pt,O[16]=mt,O[17]=yt,O[18]=gt,T!==0&&(O[19]=T,l.length++),l};Math.imul||(P=C);function B(s,d,l){l.negative=d.negative^s.negative,l.length=s.length+d.length;for(var v=0,S=0,O=0;O<l.length-1;O++){var T=S;S=0;for(var _=v&67108863,c=Math.min(O,d.length-1),w=Math.max(0,O-s.length+1);w<=c;w++){var x=O-w,F=s.words[x]|0,q=d.words[w]|0,V=F*q,Y=V&67108863;T=T+(V/67108864|0)|0,Y=Y+_|0,_=Y&67108863,T=T+(Y>>>26)|0,S+=T>>>26,T&=67108863}l.words[O]=_,v=T,T=S}return v!==0?l.words[O]=v:l.length--,l.strip()}function k(s,d,l){var v=new N;return v.mulp(s,d,l)}o.prototype.mulTo=function(s,d){var l,v=this.length+s.length;return this.length===10&&s.length===10?l=P(this,s,d):v<63?l=C(this,s,d):v<1024?l=B(this,s,d):l=k(this,s,d),l};function N(s,d){this.x=s,this.y=d}N.prototype.makeRBT=function(s){for(var d=new Array(s),l=o.prototype._countBits(s)-1,v=0;v<s;v++)d[v]=this.revBin(v,l,s);return d},N.prototype.revBin=function(s,d,l){if(s===0||s===l-1)return s;for(var v=0,S=0;S<d;S++)v|=(s&1)<<d-S-1,s>>=1;return v},N.prototype.permute=function(s,d,l,v,S,O){for(var T=0;T<O;T++)v[T]=d[s[T]],S[T]=l[s[T]]},N.prototype.transform=function(s,d,l,v,S,O){this.permute(O,s,d,l,v,S);for(var T=1;T<S;T<<=1)for(var _=T<<1,c=Math.cos(2*Math.PI/_),w=Math.sin(2*Math.PI/_),x=0;x<S;x+=_)for(var F=c,q=w,V=0;V<T;V++){var Y=l[x+V],Q=v[x+V],G=l[x+V+T],H=v[x+V+T],te=F*G-q*H;H=F*H+q*G,G=te,l[x+V]=Y+G,v[x+V]=Q+H,l[x+V+T]=Y-G,v[x+V+T]=Q-H,V!==_&&(te=c*F-w*q,q=c*q+w*F,F=te)}},N.prototype.guessLen13b=function(s,d){var l=Math.max(d,s)|1,v=l&1,S=0;for(l=l/2|0;l;l=l>>>1)S++;return 1<<S+1+v},N.prototype.conjugate=function(s,d,l){if(!(l<=1))for(var v=0;v<l/2;v++){var S=s[v];s[v]=s[l-v-1],s[l-v-1]=S,S=d[v],d[v]=-d[l-v-1],d[l-v-1]=-S}},N.prototype.normalize13b=function(s,d){for(var l=0,v=0;v<d/2;v++){var S=Math.round(s[2*v+1]/d)*8192+Math.round(s[2*v]/d)+l;s[v]=S&67108863,S<67108864?l=0:l=S/67108864|0}return s},N.prototype.convert13b=function(s,d,l,v){for(var S=0,O=0;O<d;O++)S=S+(s[O]|0),l[2*O]=S&8191,S=S>>>13,l[2*O+1]=S&8191,S=S>>>13;for(O=2*d;O<v;++O)l[O]=0;n(S===0),n((S&-8192)===0)},N.prototype.stub=function(s){for(var d=new Array(s),l=0;l<s;l++)d[l]=0;return d},N.prototype.mulp=function(s,d,l){var v=2*this.guessLen13b(s.length,d.length),S=this.makeRBT(v),O=this.stub(v),T=new Array(v),_=new Array(v),c=new Array(v),w=new Array(v),x=new Array(v),F=new Array(v),q=l.words;q.length=v,this.convert13b(s.words,s.length,T,v),this.convert13b(d.words,d.length,w,v),this.transform(T,O,_,c,v,S),this.transform(w,O,x,F,v,S);for(var V=0;V<v;V++){var Y=_[V]*x[V]-c[V]*F[V];c[V]=_[V]*F[V]+c[V]*x[V],_[V]=Y}return this.conjugate(_,c,v),this.transform(_,c,q,O,v,S),this.conjugate(q,O,v),this.normalize13b(q,v),l.negative=s.negative^d.negative,l.length=s.length+d.length,l.strip()},o.prototype.mul=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},o.prototype.mulf=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),k(this,s,d)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var d=0,l=0;l<this.length;l++){var v=(this.words[l]|0)*s,S=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=S>>>26,this.words[l]=S&67108863}return d!==0&&(this.words[l]=d,this.length++),this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var d=M(s);if(d.length===0)return new o(1);for(var l=this,v=0;v<d.length&&d[v]===0;v++,l=l.sqr());if(++v<d.length)for(var S=l.sqr();v<d.length;v++,S=S.sqr())d[v]!==0&&(l=l.mul(S));return l},o.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=67108863>>>26-d<<26-d,S;if(d!==0){var O=0;for(S=0;S<this.length;S++){var T=this.words[S]&v,_=(this.words[S]|0)-T<<d;this.words[S]=_|O,O=T>>>26-d}O&&(this.words[S]=O,this.length++)}if(l!==0){for(S=this.length-1;S>=0;S--)this.words[S+l]=this.words[S];for(S=0;S<l;S++)this.words[S]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,d,l){n(typeof s=="number"&&s>=0);var v;d?v=(d-d%26)/26:v=0;var S=s%26,O=Math.min((s-S)/26,this.length),T=67108863^67108863>>>S<<S,_=l;if(v-=O,v=Math.max(0,v),_){for(var c=0;c<O;c++)_.words[c]=this.words[c];_.length=O}if(O!==0)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=v);c--){var x=this.words[c]|0;this.words[c]=w<<26-S|x>>>S,w=x&T}return _&&w!==0&&(_.words[_.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(s,d,l){return n(this.negative===0),this.iushrn(s,d,l)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return!1;var S=this.words[l];return!!(S&v)},o.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(d!==0&&l++,this.length=Math.min(l,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,d,l){var v=s.length+l,S;this._expand(v);var O,T=0;for(S=0;S<s.length;S++){O=(this.words[S+l]|0)+T;var _=(s.words[S]|0)*d;O-=_&67108863,T=(O>>26)-(_/67108864|0),this.words[S+l]=O&67108863}for(;S<this.length-l;S++)O=(this.words[S+l]|0)+T,T=O>>26,this.words[S+l]=O&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,S=0;S<this.length;S++)O=-(this.words[S]|0)+T,T=O>>26,this.words[S]=O&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(s,d){var l=this.length-s.length,v=this.clone(),S=s,O=S.words[S.length-1]|0,T=this._countBits(O);l=26-T,l!==0&&(S=S.ushln(l),v.iushln(l),O=S.words[S.length-1]|0);var _=v.length-S.length,c;if(d!=="mod"){c=new o(null),c.length=_+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var x=v.clone()._ishlnsubmul(S,1,_);x.negative===0&&(v=x,c&&(c.words[_]=1));for(var F=_-1;F>=0;F--){var q=(v.words[S.length+F]|0)*67108864+(v.words[S.length+F-1]|0);for(q=Math.min(q/O|0,67108863),v._ishlnsubmul(S,q,F);v.negative!==0;)q--,v.negative=0,v._ishlnsubmul(S,1,F),v.isZero()||(v.negative^=1);c&&(c.words[F]=q)}return c&&c.strip(),v.strip(),d!=="div"&&l!==0&&v.iushrn(l),{div:c||null,mod:v}},o.prototype.divmod=function(s,d,l){if(n(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,S,O;return this.negative!==0&&s.negative===0?(O=this.neg().divmod(s,d),d!=="mod"&&(v=O.div.neg()),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.iadd(s)),{div:v,mod:S}):this.negative===0&&s.negative!==0?(O=this.divmod(s.neg(),d),d!=="mod"&&(v=O.div.neg()),{div:v,mod:O.mod}):this.negative&s.negative?(O=this.neg().divmod(s.neg(),d),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.isub(s)),{div:O.div,mod:S}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?d==="div"?{div:this.divn(s.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modn(s.words[0]))}:this._wordDiv(s,d)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var l=d.div.negative!==0?d.mod.isub(s):d.mod,v=s.ushrn(1),S=s.andln(1),O=l.cmp(v);return O<0||S===1&&O===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(s){n(s<=67108863);for(var d=(1<<26)%s,l=0,v=this.length-1;v>=0;v--)l=(d*l+(this.words[v]|0))%s;return l},o.prototype.idivn=function(s){n(s<=67108863);for(var d=0,l=this.length-1;l>=0;l--){var v=(this.words[l]|0)+d*67108864;this.words[l]=v/s|0,d=v%s}return this.strip()},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=new o(0),T=new o(1),_=0;d.isEven()&&l.isEven();)d.iushrn(1),l.iushrn(1),++_;for(var c=l.clone(),w=d.clone();!d.isZero();){for(var x=0,F=1;!(d.words[0]&F)&&x<26;++x,F<<=1);if(x>0)for(d.iushrn(x);x-- >0;)(v.isOdd()||S.isOdd())&&(v.iadd(c),S.isub(w)),v.iushrn(1),S.iushrn(1);for(var q=0,V=1;!(l.words[0]&V)&&q<26;++q,V<<=1);if(q>0)for(l.iushrn(q);q-- >0;)(O.isOdd()||T.isOdd())&&(O.iadd(c),T.isub(w)),O.iushrn(1),T.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(O),S.isub(T)):(l.isub(d),O.isub(v),T.isub(S))}return{a:O,b:T,gcd:l.iushln(_)}},o.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=l.clone();d.cmpn(1)>0&&l.cmpn(1)>0;){for(var T=0,_=1;!(d.words[0]&_)&&T<26;++T,_<<=1);if(T>0)for(d.iushrn(T);T-- >0;)v.isOdd()&&v.iadd(O),v.iushrn(1);for(var c=0,w=1;!(l.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(l.iushrn(c);c-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(S)):(l.isub(d),S.isub(v))}var x;return d.cmpn(1)===0?x=v:x=S,x.cmpn(0)<0&&x.iadd(s),x},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),l=s.clone();d.negative=0,l.negative=0;for(var v=0;d.isEven()&&l.isEven();v++)d.iushrn(1),l.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;l.isEven();)l.iushrn(1);var S=d.cmp(l);if(S<0){var O=d;d=l,l=O}else if(S===0||l.cmpn(1)===0)break;d.isub(l)}while(!0);return l.iushln(v)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){n(typeof s=="number");var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return this._expand(l+1),this.words[l]|=v,this;for(var S=v,O=l;S!==0&&O<this.length;O++){var T=this.words[O]|0;T+=S,S=T>>>26,T&=67108863,this.words[O]=T}return S!==0&&(this.words[O]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var d=s<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var l;if(this.length>1)l=1;else{d&&(s=-s),n(s<=67108863,"Number is too big");var v=this.words[0]|0;l=v===s?0:v<s?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var d=this.ucmp(s);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,l=this.length-1;l>=0;l--){var v=this.words[l]|0,S=s.words[l]|0;if(v!==S){v<S?d=-1:v>S&&(d=1);break}}return d},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new Z(s)},o.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function L(s,d){this.name=s,this.p=new o(d,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},L.prototype.ireduce=function(s){var d=s,l;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),l=d.bitLength();while(l>this.n);var v=l<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},L.prototype.split=function(s,d){s.iushrn(this.n,0,d)},L.prototype.imulK=function(s){return s.imul(this.k)};function K(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(K,L),K.prototype.split=function(s,d){for(var l=4194303,v=Math.min(s.length,9),S=0;S<v;S++)d.words[S]=s.words[S];if(d.length=v,s.length<=9){s.words[0]=0,s.length=1;return}var O=s.words[9];for(d.words[d.length++]=O&l,S=10;S<s.length;S++){var T=s.words[S]|0;s.words[S-10]=(T&l)<<4|O>>>22,O=T}O>>>=22,s.words[S-10]=O,O===0&&s.length>10?s.length-=10:s.length-=9},K.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,l=0;l<s.length;l++){var v=s.words[l]|0;d+=v*977,s.words[l]=d&67108863,d=v*64+(d/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function J(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,L);function ce(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ce,L);function oe(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(oe,L),oe.prototype.imulK=function(s){for(var d=0,l=0;l<s.length;l++){var v=(s.words[l]|0)*19+d,S=v&67108863;v>>>=26,s.words[l]=S,d=v}return d!==0&&(s.words[s.length++]=d),s},o._prime=function(s){if(D[s])return D[s];var d;if(s==="k256")d=new K;else if(s==="p224")d=new J;else if(s==="p192")d=new ce;else if(s==="p25519")d=new oe;else throw new Error("Unknown prime "+s);return D[s]=d,d};function Z(s){if(typeof s=="string"){var d=o._prime(s);this.m=d.p,this.prime=d}else n(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}Z.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Z.prototype._verify2=function(s,d){n((s.negative|d.negative)===0,"red works only with positives"),n(s.red&&s.red===d.red,"red works only with red numbers")},Z.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Z.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Z.prototype.add=function(s,d){this._verify2(s,d);var l=s.add(d);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},Z.prototype.iadd=function(s,d){this._verify2(s,d);var l=s.iadd(d);return l.cmp(this.m)>=0&&l.isub(this.m),l},Z.prototype.sub=function(s,d){this._verify2(s,d);var l=s.sub(d);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},Z.prototype.isub=function(s,d){this._verify2(s,d);var l=s.isub(d);return l.cmpn(0)<0&&l.iadd(this.m),l},Z.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},Z.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},Z.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},Z.prototype.isqr=function(s){return this.imul(s,s.clone())},Z.prototype.sqr=function(s){return this.mul(s,s)},Z.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(s,l)}for(var v=this.m.subn(1),S=0;!v.isZero()&&v.andln(1)===0;)S++,v.iushrn(1);n(!v.isZero());var O=new o(1).toRed(this),T=O.redNeg(),_=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,_).cmp(T)!==0;)c.redIAdd(T);for(var w=this.pow(c,v),x=this.pow(s,v.addn(1).iushrn(1)),F=this.pow(s,v),q=S;F.cmp(O)!==0;){for(var V=F,Y=0;V.cmp(O)!==0;Y++)V=V.redSqr();n(Y<q);var Q=this.pow(w,new o(1).iushln(q-Y-1));x=x.redMul(Q),w=Q.redSqr(),F=F.redMul(w),q=Y}return x},Z.prototype.invm=function(s){var d=s._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Z.prototype.pow=function(s,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return s.clone();var l=4,v=new Array(1<<l);v[0]=new o(1).toRed(this),v[1]=s;for(var S=2;S<v.length;S++)v[S]=this.mul(v[S-1],s);var O=v[0],T=0,_=0,c=d.bitLength()%26;for(c===0&&(c=26),S=d.length-1;S>=0;S--){for(var w=d.words[S],x=c-1;x>=0;x--){var F=w>>x&1;if(O!==v[0]&&(O=this.sqr(O)),F===0&&T===0){_=0;continue}T<<=1,T|=F,_++,!(_!==l&&(S!==0||x!==0))&&(O=this.mul(O,v[T]),_=0,T=0)}c=26}return O},Z.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},Z.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},o.mont=function(s){return new ie(s)};function ie(s){Z.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(ie,Z),ie.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ie.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},ie.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var l=s.imul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new o(0)._forceRed(this);var l=s.mul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.invm=function(s){var d=this.imod(s._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,commonjsGlobal)}(bn$1)),bn$1.exports}var browser$7,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$7;hasRequiredBrowser$2=1;var e=requireElliptic(),t=requireBn$1();browser$7=function(o){return new n(o)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(o){this.curveType=r[o],this.curveType||(this.curveType={name:o}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(o,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(o,u)},n.prototype.computeSecret=function(o,u,p){u=u||"utf8",Buffer$2.isBuffer(o)||(o=new Buffer$2(o,u));var b=this.curve.keyFromPublic(o).getPublic(),m=b.mul(this.keys.getPrivate()).getX();return a(m,p,this.curveType.byteLength)},n.prototype.getPublicKey=function(o,u){var p=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(p[p.length-1]%2?p[0]=7:p[0]=6),a(p,o)},n.prototype.getPrivateKey=function(o){return a(this.keys.getPrivate(),o)},n.prototype.setPublicKey=function(o,u){return u=u||"utf8",Buffer$2.isBuffer(o)||(o=new Buffer$2(o,u)),this.keys._importPublic(o),this},n.prototype.setPrivateKey=function(o,u){u=u||"utf8",Buffer$2.isBuffer(o)||(o=new Buffer$2(o,u));var p=new t(o);return p=p.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(p),this};function a(o,u,p){Array.isArray(o)||(o=o.toArray());var b=new Buffer$2(o);if(p&&b.length<p){var m=new Buffer$2(p-b.length);m.fill(0),b=Buffer$2.concat([m,b])}return u?b.toString(u):b}return browser$7}var browser$6={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var e=requireBrowser$9(),t=safeBufferExports.Buffer;mgf=function(n,a){for(var o=t.alloc(0),u=0,p;o.length<a;)p=r(u++),o=t.concat([o,e("sha1").update(n).update(p).digest()]);return o.slice(0,a)};function r(n){var a=t.allocUnsafe(4);return a.writeUInt32BE(n,0),a}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}),xor}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(e){(function(t,r){function n(s,d){if(!s)throw new Error(d||"Assertion failed")}function a(s,d){s.super_=d;var l=function(){};l.prototype=d.prototype,s.prototype=new l,s.prototype.constructor=s}function o(s,d,l){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((d==="le"||d==="be")&&(l=d,d=10),this._init(s||0,d||10,l||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=require$$0$1.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,d){return s.cmp(d)>0?s:d},o.min=function(s,d){return s.cmp(d)<0?s:d},o.prototype._init=function(s,d,l){if(typeof s=="number")return this._initNumber(s,d,l);if(typeof s=="object")return this._initArray(s,d,l);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),s=s.toString().replace(/\s+/g,"");var v=0;s[0]==="-"&&(v++,this.negative=1),v<s.length&&(d===16?this._parseHex(s,v,l):(this._parseBase(s,d,v),l==="le"&&this._initArray(this.toArray(),d,l)))},o.prototype._initNumber=function(s,d,l){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),d,l)},o.prototype._initArray=function(s,d,l){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S,O,T=0;if(l==="be")for(v=s.length-1,S=0;v>=0;v-=3)O=s[v]|s[v-1]<<8|s[v-2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);else if(l==="le")for(v=0,S=0;v<s.length;v+=3)O=s[v]|s[v+1]<<8|s[v+2]<<16,this.words[S]|=O<<T&67108863,this.words[S+1]=O>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);return this.strip()};function p(s,d){var l=s.charCodeAt(d);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function b(s,d,l){var v=p(s,l);return l-1>=d&&(v|=p(s,l-1)<<4),v}o.prototype._parseHex=function(s,d,l){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S=0,O=0,T;if(l==="be")for(v=s.length-1;v>=d;v-=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8;else{var _=s.length-d;for(v=_%2===0?d+1:d;v<s.length;v+=2)T=b(s,d,v)<<S,this.words[O]|=T&67108863,S>=18?(S-=18,O+=1,this.words[O]|=T>>>26):S+=8}this.strip()};function m(s,d,l,v){for(var S=0,O=Math.min(s.length,l),T=d;T<O;T++){var _=s.charCodeAt(T)-48;S*=v,_>=49?S+=_-49+10:_>=17?S+=_-17+10:S+=_}return S}o.prototype._parseBase=function(s,d,l){this.words=[0],this.length=1;for(var v=0,S=1;S<=67108863;S*=d)v++;v--,S=S/d|0;for(var O=s.length-l,T=O%v,_=Math.min(O,O-T)+l,c=0,w=l;w<_;w+=v)c=m(s,w,w+v,d),this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(T!==0){var x=1;for(c=m(s,w,s.length,d),w=0;w<T;w++)x*=d;this.imuln(x),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,d){s=s||10,d=d|0||1;var l;if(s===16||s==="hex"){l="";for(var v=0,S=0,O=0;O<this.length;O++){var T=this.words[O],_=((T<<v|S)&16777215).toString(16);S=T>>>24-v&16777215,S!==0||O!==this.length-1?l=y[6-_.length]+_+l:l=_+l,v+=2,v>=26&&(v-=26,O--)}for(S!==0&&(l=S.toString(16)+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(s===(s|0)&&s>=2&&s<=36){var c=A[s],w=I[s];l="";var x=this.clone();for(x.negative=0;!x.isZero();){var F=x.modn(w).toString(s);x=x.idivn(w),x.isZero()?l=F+l:l=y[c-F.length]+F+l}for(this.isZero()&&(l="0"+l);l.length%d!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(s,d){return n(typeof u<"u"),this.toArrayLike(u,s,d)},o.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},o.prototype.toArrayLike=function(s,d,l){var v=this.byteLength(),S=l||Math.max(1,v);n(v<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0"),this.strip();var O=d==="le",T=new s(S),_,c,w=this.clone();if(O){for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[c]=_;for(;c<S;c++)T[c]=0}else{for(c=0;c<S-v;c++)T[c]=0;for(c=0;!w.isZero();c++)_=w.andln(255),w.iushrn(8),T[S-c-1]=_}return T},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var d=s,l=0;return d>=4096&&(l+=13,d>>>=13),d>=64&&(l+=7,d>>>=7),d>=8&&(l+=4,d>>>=4),d>=2&&(l+=2,d>>>=2),l+d},o.prototype._zeroBits=function(s){if(s===0)return 26;var d=s,l=0;return d&8191||(l+=13,d>>>=13),d&127||(l+=7,d>>>=7),d&15||(l+=4,d>>>=4),d&3||(l+=2,d>>>=2),d&1||l++,l},o.prototype.bitLength=function(){var s=this.words[this.length-1],d=this._countBits(s);return(this.length-1)*26+d};function M(s){for(var d=new Array(s.bitLength()),l=0;l<d.length;l++){var v=l/26|0,S=l%26;d[l]=(s.words[v]&1<<S)>>>S}return d}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var l=this._zeroBits(this.words[d]);if(s+=l,l!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},o.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var d;this.length>s.length?d=s:d=this;for(var l=0;l<d.length;l++)this.words[l]=this.words[l]&s.words[l];return this.length=d.length,this.strip()},o.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var d,l;this.length>s.length?(d=this,l=s):(d=s,l=this);for(var v=0;v<l.length;v++)this.words[v]=d.words[v]^l.words[v];if(this!==d)for(;v<d.length;v++)this.words[v]=d.words[v];return this.length=d.length,this.strip()},o.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var d=Math.ceil(s/26)|0,l=s%26;this._expand(d),l>0&&d--;for(var v=0;v<d;v++)this.words[v]=~this.words[v]&67108863;return l>0&&(this.words[v]=~this.words[v]&67108863>>26-l),this.strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,d){n(typeof s=="number"&&s>=0);var l=s/26|0,v=s%26;return this._expand(l+1),d?this.words[l]=this.words[l]|1<<v:this.words[l]=this.words[l]&~(1<<v),this.strip()},o.prototype.iadd=function(s){var d;if(this.negative!==0&&s.negative===0)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();var l,v;this.length>s.length?(l=this,v=s):(l=s,v=this);for(var S=0,O=0;O<v.length;O++)d=(l.words[O]|0)+(v.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;for(;S!==0&&O<l.length;O++)d=(l.words[O]|0)+S,this.words[O]=d&67108863,S=d>>>26;if(this.length=l.length,S!==0)this.words[this.length]=S,this.length++;else if(l!==this)for(;O<l.length;O++)this.words[O]=l.words[O];return this},o.prototype.add=function(s){var d;return s.negative!==0&&this.negative===0?(s.negative=0,d=this.sub(s),s.negative^=1,d):s.negative===0&&this.negative!==0?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var l=this.cmp(s);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,S;l>0?(v=this,S=s):(v=s,S=this);for(var O=0,T=0;T<S.length;T++)d=(v.words[T]|0)-(S.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;for(;O!==0&&T<v.length;T++)d=(v.words[T]|0)+O,O=d>>26,this.words[T]=d&67108863;if(O===0&&T<v.length&&v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this.length=Math.max(this.length,T),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function C(s,d,l){l.negative=d.negative^s.negative;var v=s.length+d.length|0;l.length=v,v=v-1|0;var S=s.words[0]|0,O=d.words[0]|0,T=S*O,_=T&67108863,c=T/67108864|0;l.words[0]=_;for(var w=1;w<v;w++){for(var x=c>>>26,F=c&67108863,q=Math.min(w,d.length-1),V=Math.max(0,w-s.length+1);V<=q;V++){var Y=w-V|0;S=s.words[Y]|0,O=d.words[V]|0,T=S*O+F,x+=T/67108864|0,F=T&67108863}l.words[w]=F|0,c=x|0}return c!==0?l.words[w]=c|0:l.length--,l.strip()}var P=function(s,d,l){var v=s.words,S=d.words,O=l.words,T=0,_,c,w,x=v[0]|0,F=x&8191,q=x>>>13,V=v[1]|0,Y=V&8191,Q=V>>>13,G=v[2]|0,H=G&8191,te=G>>>13,W=v[3]|0,U=W&8191,j=W>>>13,ee=v[4]|0,X=ee&8191,ne=ee>>>13,de=v[5]|0,re=de&8191,ae=de>>>13,ue=v[6]|0,se=ue&8191,le=ue>>>13,Re=v[7]|0,he=Re&8191,fe=Re>>>13,Fe=v[8]|0,me=Fe&8191,pe=Fe>>>13,Ue=v[9]|0,ye=Ue&8191,be=Ue>>>13,He=S[0]|0,$e=He&8191,Me=He>>>13,qe=S[1]|0,ge=qe&8191,Oe=qe>>>13,je=S[2]|0,ve=je&8191,Pe=je>>>13,Ke=S[3]|0,_e=Ke&8191,Ce=Ke>>>13,We=S[4]|0,Ee=We&8191,xe=We>>>13,ze=S[5]|0,we=ze&8191,Ne=ze>>>13,Ze=S[6]|0,Se=Ze&8191,Be=Ze>>>13,Xe=S[7]|0,Ae=Xe&8191,ke=Xe>>>13,Ye=S[8]|0,Te=Ye&8191,De=Ye>>>13,Je=S[9]|0,Ie=Je&8191,Le=Je>>>13;l.negative=s.negative^d.negative,l.length=19,_=Math.imul(F,$e),c=Math.imul(F,Me),c=c+Math.imul(q,$e)|0,w=Math.imul(q,Me);var Ve=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,_=Math.imul(Y,$e),c=Math.imul(Y,Me),c=c+Math.imul(Q,$e)|0,w=Math.imul(Q,Me),_=_+Math.imul(F,ge)|0,c=c+Math.imul(F,Oe)|0,c=c+Math.imul(q,ge)|0,w=w+Math.imul(q,Oe)|0;var Ge=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,_=Math.imul(H,$e),c=Math.imul(H,Me),c=c+Math.imul(te,$e)|0,w=Math.imul(te,Me),_=_+Math.imul(Y,ge)|0,c=c+Math.imul(Y,Oe)|0,c=c+Math.imul(Q,ge)|0,w=w+Math.imul(Q,Oe)|0,_=_+Math.imul(F,ve)|0,c=c+Math.imul(F,Pe)|0,c=c+Math.imul(q,ve)|0,w=w+Math.imul(q,Pe)|0;var Qe=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,_=Math.imul(U,$e),c=Math.imul(U,Me),c=c+Math.imul(j,$e)|0,w=Math.imul(j,Me),_=_+Math.imul(H,ge)|0,c=c+Math.imul(H,Oe)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,Oe)|0,_=_+Math.imul(Y,ve)|0,c=c+Math.imul(Y,Pe)|0,c=c+Math.imul(Q,ve)|0,w=w+Math.imul(Q,Pe)|0,_=_+Math.imul(F,_e)|0,c=c+Math.imul(F,Ce)|0,c=c+Math.imul(q,_e)|0,w=w+Math.imul(q,Ce)|0;var et=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(X,$e),c=Math.imul(X,Me),c=c+Math.imul(ne,$e)|0,w=Math.imul(ne,Me),_=_+Math.imul(U,ge)|0,c=c+Math.imul(U,Oe)|0,c=c+Math.imul(j,ge)|0,w=w+Math.imul(j,Oe)|0,_=_+Math.imul(H,ve)|0,c=c+Math.imul(H,Pe)|0,c=c+Math.imul(te,ve)|0,w=w+Math.imul(te,Pe)|0,_=_+Math.imul(Y,_e)|0,c=c+Math.imul(Y,Ce)|0,c=c+Math.imul(Q,_e)|0,w=w+Math.imul(Q,Ce)|0,_=_+Math.imul(F,Ee)|0,c=c+Math.imul(F,xe)|0,c=c+Math.imul(q,Ee)|0,w=w+Math.imul(q,xe)|0;var tt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(tt>>>26)|0,tt&=67108863,_=Math.imul(re,$e),c=Math.imul(re,Me),c=c+Math.imul(ae,$e)|0,w=Math.imul(ae,Me),_=_+Math.imul(X,ge)|0,c=c+Math.imul(X,Oe)|0,c=c+Math.imul(ne,ge)|0,w=w+Math.imul(ne,Oe)|0,_=_+Math.imul(U,ve)|0,c=c+Math.imul(U,Pe)|0,c=c+Math.imul(j,ve)|0,w=w+Math.imul(j,Pe)|0,_=_+Math.imul(H,_e)|0,c=c+Math.imul(H,Ce)|0,c=c+Math.imul(te,_e)|0,w=w+Math.imul(te,Ce)|0,_=_+Math.imul(Y,Ee)|0,c=c+Math.imul(Y,xe)|0,c=c+Math.imul(Q,Ee)|0,w=w+Math.imul(Q,xe)|0,_=_+Math.imul(F,we)|0,c=c+Math.imul(F,Ne)|0,c=c+Math.imul(q,we)|0,w=w+Math.imul(q,Ne)|0;var rt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,_=Math.imul(se,$e),c=Math.imul(se,Me),c=c+Math.imul(le,$e)|0,w=Math.imul(le,Me),_=_+Math.imul(re,ge)|0,c=c+Math.imul(re,Oe)|0,c=c+Math.imul(ae,ge)|0,w=w+Math.imul(ae,Oe)|0,_=_+Math.imul(X,ve)|0,c=c+Math.imul(X,Pe)|0,c=c+Math.imul(ne,ve)|0,w=w+Math.imul(ne,Pe)|0,_=_+Math.imul(U,_e)|0,c=c+Math.imul(U,Ce)|0,c=c+Math.imul(j,_e)|0,w=w+Math.imul(j,Ce)|0,_=_+Math.imul(H,Ee)|0,c=c+Math.imul(H,xe)|0,c=c+Math.imul(te,Ee)|0,w=w+Math.imul(te,xe)|0,_=_+Math.imul(Y,we)|0,c=c+Math.imul(Y,Ne)|0,c=c+Math.imul(Q,we)|0,w=w+Math.imul(Q,Ne)|0,_=_+Math.imul(F,Se)|0,c=c+Math.imul(F,Be)|0,c=c+Math.imul(q,Se)|0,w=w+Math.imul(q,Be)|0;var nt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(he,$e),c=Math.imul(he,Me),c=c+Math.imul(fe,$e)|0,w=Math.imul(fe,Me),_=_+Math.imul(se,ge)|0,c=c+Math.imul(se,Oe)|0,c=c+Math.imul(le,ge)|0,w=w+Math.imul(le,Oe)|0,_=_+Math.imul(re,ve)|0,c=c+Math.imul(re,Pe)|0,c=c+Math.imul(ae,ve)|0,w=w+Math.imul(ae,Pe)|0,_=_+Math.imul(X,_e)|0,c=c+Math.imul(X,Ce)|0,c=c+Math.imul(ne,_e)|0,w=w+Math.imul(ne,Ce)|0,_=_+Math.imul(U,Ee)|0,c=c+Math.imul(U,xe)|0,c=c+Math.imul(j,Ee)|0,w=w+Math.imul(j,xe)|0,_=_+Math.imul(H,we)|0,c=c+Math.imul(H,Ne)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Ne)|0,_=_+Math.imul(Y,Se)|0,c=c+Math.imul(Y,Be)|0,c=c+Math.imul(Q,Se)|0,w=w+Math.imul(Q,Be)|0,_=_+Math.imul(F,Ae)|0,c=c+Math.imul(F,ke)|0,c=c+Math.imul(q,Ae)|0,w=w+Math.imul(q,ke)|0;var it=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(it>>>26)|0,it&=67108863,_=Math.imul(me,$e),c=Math.imul(me,Me),c=c+Math.imul(pe,$e)|0,w=Math.imul(pe,Me),_=_+Math.imul(he,ge)|0,c=c+Math.imul(he,Oe)|0,c=c+Math.imul(fe,ge)|0,w=w+Math.imul(fe,Oe)|0,_=_+Math.imul(se,ve)|0,c=c+Math.imul(se,Pe)|0,c=c+Math.imul(le,ve)|0,w=w+Math.imul(le,Pe)|0,_=_+Math.imul(re,_e)|0,c=c+Math.imul(re,Ce)|0,c=c+Math.imul(ae,_e)|0,w=w+Math.imul(ae,Ce)|0,_=_+Math.imul(X,Ee)|0,c=c+Math.imul(X,xe)|0,c=c+Math.imul(ne,Ee)|0,w=w+Math.imul(ne,xe)|0,_=_+Math.imul(U,we)|0,c=c+Math.imul(U,Ne)|0,c=c+Math.imul(j,we)|0,w=w+Math.imul(j,Ne)|0,_=_+Math.imul(H,Se)|0,c=c+Math.imul(H,Be)|0,c=c+Math.imul(te,Se)|0,w=w+Math.imul(te,Be)|0,_=_+Math.imul(Y,Ae)|0,c=c+Math.imul(Y,ke)|0,c=c+Math.imul(Q,Ae)|0,w=w+Math.imul(Q,ke)|0,_=_+Math.imul(F,Te)|0,c=c+Math.imul(F,De)|0,c=c+Math.imul(q,Te)|0,w=w+Math.imul(q,De)|0;var ot=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ot>>>26)|0,ot&=67108863,_=Math.imul(ye,$e),c=Math.imul(ye,Me),c=c+Math.imul(be,$e)|0,w=Math.imul(be,Me),_=_+Math.imul(me,ge)|0,c=c+Math.imul(me,Oe)|0,c=c+Math.imul(pe,ge)|0,w=w+Math.imul(pe,Oe)|0,_=_+Math.imul(he,ve)|0,c=c+Math.imul(he,Pe)|0,c=c+Math.imul(fe,ve)|0,w=w+Math.imul(fe,Pe)|0,_=_+Math.imul(se,_e)|0,c=c+Math.imul(se,Ce)|0,c=c+Math.imul(le,_e)|0,w=w+Math.imul(le,Ce)|0,_=_+Math.imul(re,Ee)|0,c=c+Math.imul(re,xe)|0,c=c+Math.imul(ae,Ee)|0,w=w+Math.imul(ae,xe)|0,_=_+Math.imul(X,we)|0,c=c+Math.imul(X,Ne)|0,c=c+Math.imul(ne,we)|0,w=w+Math.imul(ne,Ne)|0,_=_+Math.imul(U,Se)|0,c=c+Math.imul(U,Be)|0,c=c+Math.imul(j,Se)|0,w=w+Math.imul(j,Be)|0,_=_+Math.imul(H,Ae)|0,c=c+Math.imul(H,ke)|0,c=c+Math.imul(te,Ae)|0,w=w+Math.imul(te,ke)|0,_=_+Math.imul(Y,Te)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(Q,Te)|0,w=w+Math.imul(Q,De)|0,_=_+Math.imul(F,Ie)|0,c=c+Math.imul(F,Le)|0,c=c+Math.imul(q,Ie)|0,w=w+Math.imul(q,Le)|0;var st=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,_=Math.imul(ye,ge),c=Math.imul(ye,Oe),c=c+Math.imul(be,ge)|0,w=Math.imul(be,Oe),_=_+Math.imul(me,ve)|0,c=c+Math.imul(me,Pe)|0,c=c+Math.imul(pe,ve)|0,w=w+Math.imul(pe,Pe)|0,_=_+Math.imul(he,_e)|0,c=c+Math.imul(he,Ce)|0,c=c+Math.imul(fe,_e)|0,w=w+Math.imul(fe,Ce)|0,_=_+Math.imul(se,Ee)|0,c=c+Math.imul(se,xe)|0,c=c+Math.imul(le,Ee)|0,w=w+Math.imul(le,xe)|0,_=_+Math.imul(re,we)|0,c=c+Math.imul(re,Ne)|0,c=c+Math.imul(ae,we)|0,w=w+Math.imul(ae,Ne)|0,_=_+Math.imul(X,Se)|0,c=c+Math.imul(X,Be)|0,c=c+Math.imul(ne,Se)|0,w=w+Math.imul(ne,Be)|0,_=_+Math.imul(U,Ae)|0,c=c+Math.imul(U,ke)|0,c=c+Math.imul(j,Ae)|0,w=w+Math.imul(j,ke)|0,_=_+Math.imul(H,Te)|0,c=c+Math.imul(H,De)|0,c=c+Math.imul(te,Te)|0,w=w+Math.imul(te,De)|0,_=_+Math.imul(Y,Ie)|0,c=c+Math.imul(Y,Le)|0,c=c+Math.imul(Q,Ie)|0,w=w+Math.imul(Q,Le)|0;var ct=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(ye,ve),c=Math.imul(ye,Pe),c=c+Math.imul(be,ve)|0,w=Math.imul(be,Pe),_=_+Math.imul(me,_e)|0,c=c+Math.imul(me,Ce)|0,c=c+Math.imul(pe,_e)|0,w=w+Math.imul(pe,Ce)|0,_=_+Math.imul(he,Ee)|0,c=c+Math.imul(he,xe)|0,c=c+Math.imul(fe,Ee)|0,w=w+Math.imul(fe,xe)|0,_=_+Math.imul(se,we)|0,c=c+Math.imul(se,Ne)|0,c=c+Math.imul(le,we)|0,w=w+Math.imul(le,Ne)|0,_=_+Math.imul(re,Se)|0,c=c+Math.imul(re,Be)|0,c=c+Math.imul(ae,Se)|0,w=w+Math.imul(ae,Be)|0,_=_+Math.imul(X,Ae)|0,c=c+Math.imul(X,ke)|0,c=c+Math.imul(ne,Ae)|0,w=w+Math.imul(ne,ke)|0,_=_+Math.imul(U,Te)|0,c=c+Math.imul(U,De)|0,c=c+Math.imul(j,Te)|0,w=w+Math.imul(j,De)|0,_=_+Math.imul(H,Ie)|0,c=c+Math.imul(H,Le)|0,c=c+Math.imul(te,Ie)|0,w=w+Math.imul(te,Le)|0;var lt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(lt>>>26)|0,lt&=67108863,_=Math.imul(ye,_e),c=Math.imul(ye,Ce),c=c+Math.imul(be,_e)|0,w=Math.imul(be,Ce),_=_+Math.imul(me,Ee)|0,c=c+Math.imul(me,xe)|0,c=c+Math.imul(pe,Ee)|0,w=w+Math.imul(pe,xe)|0,_=_+Math.imul(he,we)|0,c=c+Math.imul(he,Ne)|0,c=c+Math.imul(fe,we)|0,w=w+Math.imul(fe,Ne)|0,_=_+Math.imul(se,Se)|0,c=c+Math.imul(se,Be)|0,c=c+Math.imul(le,Se)|0,w=w+Math.imul(le,Be)|0,_=_+Math.imul(re,Ae)|0,c=c+Math.imul(re,ke)|0,c=c+Math.imul(ae,Ae)|0,w=w+Math.imul(ae,ke)|0,_=_+Math.imul(X,Te)|0,c=c+Math.imul(X,De)|0,c=c+Math.imul(ne,Te)|0,w=w+Math.imul(ne,De)|0,_=_+Math.imul(U,Ie)|0,c=c+Math.imul(U,Le)|0,c=c+Math.imul(j,Ie)|0,w=w+Math.imul(j,Le)|0;var dt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(ye,Ee),c=Math.imul(ye,xe),c=c+Math.imul(be,Ee)|0,w=Math.imul(be,xe),_=_+Math.imul(me,we)|0,c=c+Math.imul(me,Ne)|0,c=c+Math.imul(pe,we)|0,w=w+Math.imul(pe,Ne)|0,_=_+Math.imul(he,Se)|0,c=c+Math.imul(he,Be)|0,c=c+Math.imul(fe,Se)|0,w=w+Math.imul(fe,Be)|0,_=_+Math.imul(se,Ae)|0,c=c+Math.imul(se,ke)|0,c=c+Math.imul(le,Ae)|0,w=w+Math.imul(le,ke)|0,_=_+Math.imul(re,Te)|0,c=c+Math.imul(re,De)|0,c=c+Math.imul(ae,Te)|0,w=w+Math.imul(ae,De)|0,_=_+Math.imul(X,Ie)|0,c=c+Math.imul(X,Le)|0,c=c+Math.imul(ne,Ie)|0,w=w+Math.imul(ne,Le)|0;var ht=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,_=Math.imul(ye,we),c=Math.imul(ye,Ne),c=c+Math.imul(be,we)|0,w=Math.imul(be,Ne),_=_+Math.imul(me,Se)|0,c=c+Math.imul(me,Be)|0,c=c+Math.imul(pe,Se)|0,w=w+Math.imul(pe,Be)|0,_=_+Math.imul(he,Ae)|0,c=c+Math.imul(he,ke)|0,c=c+Math.imul(fe,Ae)|0,w=w+Math.imul(fe,ke)|0,_=_+Math.imul(se,Te)|0,c=c+Math.imul(se,De)|0,c=c+Math.imul(le,Te)|0,w=w+Math.imul(le,De)|0,_=_+Math.imul(re,Ie)|0,c=c+Math.imul(re,Le)|0,c=c+Math.imul(ae,Ie)|0,w=w+Math.imul(ae,Le)|0;var ft=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,_=Math.imul(ye,Se),c=Math.imul(ye,Be),c=c+Math.imul(be,Se)|0,w=Math.imul(be,Be),_=_+Math.imul(me,Ae)|0,c=c+Math.imul(me,ke)|0,c=c+Math.imul(pe,Ae)|0,w=w+Math.imul(pe,ke)|0,_=_+Math.imul(he,Te)|0,c=c+Math.imul(he,De)|0,c=c+Math.imul(fe,Te)|0,w=w+Math.imul(fe,De)|0,_=_+Math.imul(se,Ie)|0,c=c+Math.imul(se,Le)|0,c=c+Math.imul(le,Ie)|0,w=w+Math.imul(le,Le)|0;var pt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,_=Math.imul(ye,Ae),c=Math.imul(ye,ke),c=c+Math.imul(be,Ae)|0,w=Math.imul(be,ke),_=_+Math.imul(me,Te)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(pe,Te)|0,w=w+Math.imul(pe,De)|0,_=_+Math.imul(he,Ie)|0,c=c+Math.imul(he,Le)|0,c=c+Math.imul(fe,Ie)|0,w=w+Math.imul(fe,Le)|0;var mt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(ye,Te),c=Math.imul(ye,De),c=c+Math.imul(be,Te)|0,w=Math.imul(be,De),_=_+Math.imul(me,Ie)|0,c=c+Math.imul(me,Le)|0,c=c+Math.imul(pe,Ie)|0,w=w+Math.imul(pe,Le)|0;var yt=(T+_|0)+((c&8191)<<13)|0;T=(w+(c>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(ye,Ie),c=Math.imul(ye,Le),c=c+Math.imul(be,Ie)|0,w=Math.imul(be,Le);var gt=(T+_|0)+((c&8191)<<13)|0;return T=(w+(c>>>13)|0)+(gt>>>26)|0,gt&=67108863,O[0]=Ve,O[1]=Ge,O[2]=Qe,O[3]=et,O[4]=tt,O[5]=rt,O[6]=nt,O[7]=it,O[8]=ot,O[9]=st,O[10]=ct,O[11]=lt,O[12]=dt,O[13]=ht,O[14]=ft,O[15]=pt,O[16]=mt,O[17]=yt,O[18]=gt,T!==0&&(O[19]=T,l.length++),l};Math.imul||(P=C);function B(s,d,l){l.negative=d.negative^s.negative,l.length=s.length+d.length;for(var v=0,S=0,O=0;O<l.length-1;O++){var T=S;S=0;for(var _=v&67108863,c=Math.min(O,d.length-1),w=Math.max(0,O-s.length+1);w<=c;w++){var x=O-w,F=s.words[x]|0,q=d.words[w]|0,V=F*q,Y=V&67108863;T=T+(V/67108864|0)|0,Y=Y+_|0,_=Y&67108863,T=T+(Y>>>26)|0,S+=T>>>26,T&=67108863}l.words[O]=_,v=T,T=S}return v!==0?l.words[O]=v:l.length--,l.strip()}function k(s,d,l){var v=new N;return v.mulp(s,d,l)}o.prototype.mulTo=function(s,d){var l,v=this.length+s.length;return this.length===10&&s.length===10?l=P(this,s,d):v<63?l=C(this,s,d):v<1024?l=B(this,s,d):l=k(this,s,d),l};function N(s,d){this.x=s,this.y=d}N.prototype.makeRBT=function(s){for(var d=new Array(s),l=o.prototype._countBits(s)-1,v=0;v<s;v++)d[v]=this.revBin(v,l,s);return d},N.prototype.revBin=function(s,d,l){if(s===0||s===l-1)return s;for(var v=0,S=0;S<d;S++)v|=(s&1)<<d-S-1,s>>=1;return v},N.prototype.permute=function(s,d,l,v,S,O){for(var T=0;T<O;T++)v[T]=d[s[T]],S[T]=l[s[T]]},N.prototype.transform=function(s,d,l,v,S,O){this.permute(O,s,d,l,v,S);for(var T=1;T<S;T<<=1)for(var _=T<<1,c=Math.cos(2*Math.PI/_),w=Math.sin(2*Math.PI/_),x=0;x<S;x+=_)for(var F=c,q=w,V=0;V<T;V++){var Y=l[x+V],Q=v[x+V],G=l[x+V+T],H=v[x+V+T],te=F*G-q*H;H=F*H+q*G,G=te,l[x+V]=Y+G,v[x+V]=Q+H,l[x+V+T]=Y-G,v[x+V+T]=Q-H,V!==_&&(te=c*F-w*q,q=c*q+w*F,F=te)}},N.prototype.guessLen13b=function(s,d){var l=Math.max(d,s)|1,v=l&1,S=0;for(l=l/2|0;l;l=l>>>1)S++;return 1<<S+1+v},N.prototype.conjugate=function(s,d,l){if(!(l<=1))for(var v=0;v<l/2;v++){var S=s[v];s[v]=s[l-v-1],s[l-v-1]=S,S=d[v],d[v]=-d[l-v-1],d[l-v-1]=-S}},N.prototype.normalize13b=function(s,d){for(var l=0,v=0;v<d/2;v++){var S=Math.round(s[2*v+1]/d)*8192+Math.round(s[2*v]/d)+l;s[v]=S&67108863,S<67108864?l=0:l=S/67108864|0}return s},N.prototype.convert13b=function(s,d,l,v){for(var S=0,O=0;O<d;O++)S=S+(s[O]|0),l[2*O]=S&8191,S=S>>>13,l[2*O+1]=S&8191,S=S>>>13;for(O=2*d;O<v;++O)l[O]=0;n(S===0),n((S&-8192)===0)},N.prototype.stub=function(s){for(var d=new Array(s),l=0;l<s;l++)d[l]=0;return d},N.prototype.mulp=function(s,d,l){var v=2*this.guessLen13b(s.length,d.length),S=this.makeRBT(v),O=this.stub(v),T=new Array(v),_=new Array(v),c=new Array(v),w=new Array(v),x=new Array(v),F=new Array(v),q=l.words;q.length=v,this.convert13b(s.words,s.length,T,v),this.convert13b(d.words,d.length,w,v),this.transform(T,O,_,c,v,S),this.transform(w,O,x,F,v,S);for(var V=0;V<v;V++){var Y=_[V]*x[V]-c[V]*F[V];c[V]=_[V]*F[V]+c[V]*x[V],_[V]=Y}return this.conjugate(_,c,v),this.transform(_,c,q,O,v,S),this.conjugate(q,O,v),this.normalize13b(q,v),l.negative=s.negative^d.negative,l.length=s.length+d.length,l.strip()},o.prototype.mul=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},o.prototype.mulf=function(s){var d=new o(null);return d.words=new Array(this.length+s.length),k(this,s,d)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){n(typeof s=="number"),n(s<67108864);for(var d=0,l=0;l<this.length;l++){var v=(this.words[l]|0)*s,S=(v&67108863)+(d&67108863);d>>=26,d+=v/67108864|0,d+=S>>>26,this.words[l]=S&67108863}return d!==0&&(this.words[l]=d,this.length++),this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var d=M(s);if(d.length===0)return new o(1);for(var l=this,v=0;v<d.length&&d[v]===0;v++,l=l.sqr());if(++v<d.length)for(var S=l.sqr();v<d.length;v++,S=S.sqr())d[v]!==0&&(l=l.mul(S));return l},o.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=67108863>>>26-d<<26-d,S;if(d!==0){var O=0;for(S=0;S<this.length;S++){var T=this.words[S]&v,_=(this.words[S]|0)-T<<d;this.words[S]=_|O,O=T>>>26-d}O&&(this.words[S]=O,this.length++)}if(l!==0){for(S=this.length-1;S>=0;S--)this.words[S+l]=this.words[S];for(S=0;S<l;S++)this.words[S]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,d,l){n(typeof s=="number"&&s>=0);var v;d?v=(d-d%26)/26:v=0;var S=s%26,O=Math.min((s-S)/26,this.length),T=67108863^67108863>>>S<<S,_=l;if(v-=O,v=Math.max(0,v),_){for(var c=0;c<O;c++)_.words[c]=this.words[c];_.length=O}if(O!==0)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=v);c--){var x=this.words[c]|0;this.words[c]=w<<26-S|x>>>S,w=x&T}return _&&w!==0&&(_.words[_.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(s,d,l){return n(this.negative===0),this.iushrn(s,d,l)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return!1;var S=this.words[l];return!!(S&v)},o.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var d=s%26,l=(s-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(d!==0&&l++,this.length=Math.min(l,this.length),d!==0){var v=67108863^67108863>>>d<<d;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},o.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,d,l){var v=s.length+l,S;this._expand(v);var O,T=0;for(S=0;S<s.length;S++){O=(this.words[S+l]|0)+T;var _=(s.words[S]|0)*d;O-=_&67108863,T=(O>>26)-(_/67108864|0),this.words[S+l]=O&67108863}for(;S<this.length-l;S++)O=(this.words[S+l]|0)+T,T=O>>26,this.words[S+l]=O&67108863;if(T===0)return this.strip();for(n(T===-1),T=0,S=0;S<this.length;S++)O=-(this.words[S]|0)+T,T=O>>26,this.words[S]=O&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(s,d){var l=this.length-s.length,v=this.clone(),S=s,O=S.words[S.length-1]|0,T=this._countBits(O);l=26-T,l!==0&&(S=S.ushln(l),v.iushln(l),O=S.words[S.length-1]|0);var _=v.length-S.length,c;if(d!=="mod"){c=new o(null),c.length=_+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var x=v.clone()._ishlnsubmul(S,1,_);x.negative===0&&(v=x,c&&(c.words[_]=1));for(var F=_-1;F>=0;F--){var q=(v.words[S.length+F]|0)*67108864+(v.words[S.length+F-1]|0);for(q=Math.min(q/O|0,67108863),v._ishlnsubmul(S,q,F);v.negative!==0;)q--,v.negative=0,v._ishlnsubmul(S,1,F),v.isZero()||(v.negative^=1);c&&(c.words[F]=q)}return c&&c.strip(),v.strip(),d!=="div"&&l!==0&&v.iushrn(l),{div:c||null,mod:v}},o.prototype.divmod=function(s,d,l){if(n(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,S,O;return this.negative!==0&&s.negative===0?(O=this.neg().divmod(s,d),d!=="mod"&&(v=O.div.neg()),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.iadd(s)),{div:v,mod:S}):this.negative===0&&s.negative!==0?(O=this.divmod(s.neg(),d),d!=="mod"&&(v=O.div.neg()),{div:v,mod:O.mod}):this.negative&s.negative?(O=this.neg().divmod(s.neg(),d),d!=="div"&&(S=O.mod.neg(),l&&S.negative!==0&&S.isub(s)),{div:O.div,mod:S}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?d==="div"?{div:this.divn(s.words[0]),mod:null}:d==="mod"?{div:null,mod:new o(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modn(s.words[0]))}:this._wordDiv(s,d)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var l=d.div.negative!==0?d.mod.isub(s):d.mod,v=s.ushrn(1),S=s.andln(1),O=l.cmp(v);return O<0||S===1&&O===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},o.prototype.modn=function(s){n(s<=67108863);for(var d=(1<<26)%s,l=0,v=this.length-1;v>=0;v--)l=(d*l+(this.words[v]|0))%s;return l},o.prototype.idivn=function(s){n(s<=67108863);for(var d=0,l=this.length-1;l>=0;l--){var v=(this.words[l]|0)+d*67108864;this.words[l]=v/s|0,d=v%s}return this.strip()},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=new o(0),T=new o(1),_=0;d.isEven()&&l.isEven();)d.iushrn(1),l.iushrn(1),++_;for(var c=l.clone(),w=d.clone();!d.isZero();){for(var x=0,F=1;!(d.words[0]&F)&&x<26;++x,F<<=1);if(x>0)for(d.iushrn(x);x-- >0;)(v.isOdd()||S.isOdd())&&(v.iadd(c),S.isub(w)),v.iushrn(1),S.iushrn(1);for(var q=0,V=1;!(l.words[0]&V)&&q<26;++q,V<<=1);if(q>0)for(l.iushrn(q);q-- >0;)(O.isOdd()||T.isOdd())&&(O.iadd(c),T.isub(w)),O.iushrn(1),T.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(O),S.isub(T)):(l.isub(d),O.isub(v),T.isub(S))}return{a:O,b:T,gcd:l.iushln(_)}},o.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var d=this,l=s.clone();d.negative!==0?d=d.umod(s):d=d.clone();for(var v=new o(1),S=new o(0),O=l.clone();d.cmpn(1)>0&&l.cmpn(1)>0;){for(var T=0,_=1;!(d.words[0]&_)&&T<26;++T,_<<=1);if(T>0)for(d.iushrn(T);T-- >0;)v.isOdd()&&v.iadd(O),v.iushrn(1);for(var c=0,w=1;!(l.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(l.iushrn(c);c-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);d.cmp(l)>=0?(d.isub(l),v.isub(S)):(l.isub(d),S.isub(v))}var x;return d.cmpn(1)===0?x=v:x=S,x.cmpn(0)<0&&x.iadd(s),x},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),l=s.clone();d.negative=0,l.negative=0;for(var v=0;d.isEven()&&l.isEven();v++)d.iushrn(1),l.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;l.isEven();)l.iushrn(1);var S=d.cmp(l);if(S<0){var O=d;d=l,l=O}else if(S===0||l.cmpn(1)===0)break;d.isub(l)}while(!0);return l.iushln(v)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){n(typeof s=="number");var d=s%26,l=(s-d)/26,v=1<<d;if(this.length<=l)return this._expand(l+1),this.words[l]|=v,this;for(var S=v,O=l;S!==0&&O<this.length;O++){var T=this.words[O]|0;T+=S,S=T>>>26,T&=67108863,this.words[O]=T}return S!==0&&(this.words[O]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var d=s<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var l;if(this.length>1)l=1;else{d&&(s=-s),n(s<=67108863,"Number is too big");var v=this.words[0]|0;l=v===s?0:v<s?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var d=this.ucmp(s);return this.negative!==0?-d|0:d},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,l=this.length-1;l>=0;l--){var v=this.words[l]|0,S=s.words[l]|0;if(v!==S){v<S?d=-1:v>S&&(d=1);break}}return d},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new Z(s)},o.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var D={k256:null,p224:null,p192:null,p25519:null};function L(s,d){this.name=s,this.p=new o(d,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},L.prototype.ireduce=function(s){var d=s,l;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),l=d.bitLength();while(l>this.n);var v=l<this.n?-1:d.ucmp(this.p);return v===0?(d.words[0]=0,d.length=1):v>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},L.prototype.split=function(s,d){s.iushrn(this.n,0,d)},L.prototype.imulK=function(s){return s.imul(this.k)};function K(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(K,L),K.prototype.split=function(s,d){for(var l=4194303,v=Math.min(s.length,9),S=0;S<v;S++)d.words[S]=s.words[S];if(d.length=v,s.length<=9){s.words[0]=0,s.length=1;return}var O=s.words[9];for(d.words[d.length++]=O&l,S=10;S<s.length;S++){var T=s.words[S]|0;s.words[S-10]=(T&l)<<4|O>>>22,O=T}O>>>=22,s.words[S-10]=O,O===0&&s.length>10?s.length-=10:s.length-=9},K.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,l=0;l<s.length;l++){var v=s.words[l]|0;d+=v*977,s.words[l]=d&67108863,d=v*64+(d/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function J(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(J,L);function ce(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(ce,L);function oe(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(oe,L),oe.prototype.imulK=function(s){for(var d=0,l=0;l<s.length;l++){var v=(s.words[l]|0)*19+d,S=v&67108863;v>>>=26,s.words[l]=S,d=v}return d!==0&&(s.words[s.length++]=d),s},o._prime=function(s){if(D[s])return D[s];var d;if(s==="k256")d=new K;else if(s==="p224")d=new J;else if(s==="p192")d=new ce;else if(s==="p25519")d=new oe;else throw new Error("Unknown prime "+s);return D[s]=d,d};function Z(s){if(typeof s=="string"){var d=o._prime(s);this.m=d.p,this.prime=d}else n(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}Z.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Z.prototype._verify2=function(s,d){n((s.negative|d.negative)===0,"red works only with positives"),n(s.red&&s.red===d.red,"red works only with red numbers")},Z.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},Z.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Z.prototype.add=function(s,d){this._verify2(s,d);var l=s.add(d);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},Z.prototype.iadd=function(s,d){this._verify2(s,d);var l=s.iadd(d);return l.cmp(this.m)>=0&&l.isub(this.m),l},Z.prototype.sub=function(s,d){this._verify2(s,d);var l=s.sub(d);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},Z.prototype.isub=function(s,d){this._verify2(s,d);var l=s.isub(d);return l.cmpn(0)<0&&l.iadd(this.m),l},Z.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},Z.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},Z.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},Z.prototype.isqr=function(s){return this.imul(s,s.clone())},Z.prototype.sqr=function(s){return this.mul(s,s)},Z.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(s,l)}for(var v=this.m.subn(1),S=0;!v.isZero()&&v.andln(1)===0;)S++,v.iushrn(1);n(!v.isZero());var O=new o(1).toRed(this),T=O.redNeg(),_=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);this.pow(c,_).cmp(T)!==0;)c.redIAdd(T);for(var w=this.pow(c,v),x=this.pow(s,v.addn(1).iushrn(1)),F=this.pow(s,v),q=S;F.cmp(O)!==0;){for(var V=F,Y=0;V.cmp(O)!==0;Y++)V=V.redSqr();n(Y<q);var Q=this.pow(w,new o(1).iushln(q-Y-1));x=x.redMul(Q),w=Q.redSqr(),F=F.redMul(w),q=Y}return x},Z.prototype.invm=function(s){var d=s._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Z.prototype.pow=function(s,d){if(d.isZero())return new o(1).toRed(this);if(d.cmpn(1)===0)return s.clone();var l=4,v=new Array(1<<l);v[0]=new o(1).toRed(this),v[1]=s;for(var S=2;S<v.length;S++)v[S]=this.mul(v[S-1],s);var O=v[0],T=0,_=0,c=d.bitLength()%26;for(c===0&&(c=26),S=d.length-1;S>=0;S--){for(var w=d.words[S],x=c-1;x>=0;x--){var F=w>>x&1;if(O!==v[0]&&(O=this.sqr(O)),F===0&&T===0){_=0;continue}T<<=1,T|=F,_++,!(_!==l&&(S!==0||x!==0))&&(O=this.mul(O,v[T]),_=0,T=0)}c=26}return O},Z.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},Z.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},o.mont=function(s){return new ie(s)};function ie(s){Z.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(ie,Z),ie.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},ie.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},ie.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var l=s.imul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new o(0)._forceRed(this);var l=s.mul(d),v=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=l.isub(v).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},ie.prototype.invm=function(s){var d=this.imod(s._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,commonjsGlobal)}(bn)),bn.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var e=requireBn(),t=safeBufferExports.Buffer;function r(n,a){return t.from(n.toRed(e.mont(a.modulus)).redPow(new e(a.publicExponent)).fromRed().toArray())}return withPublic_1=r,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var e=requireParseAsn1(),t=requireBrowser$a(),r=requireBrowser$9(),n=requireMgf(),a=requireXor(),o=requireBn(),u=requireWithPublic(),p=requireBrowserifyRsa(),b=safeBufferExports.Buffer;publicEncrypt=function(I,M,C){var P;I.padding?P=I.padding:C?P=1:P=4;var B=e(I),k;if(P===4)k=m(B,M);else if(P===1)k=y(B,M,C);else if(P===3){if(k=new o(M),k.cmp(B.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return C?p(k,B):u(k,B)};function m(I,M){var C=I.modulus.byteLength(),P=M.length,B=r("sha1").update(b.alloc(0)).digest(),k=B.length,N=2*k;if(P>C-N-2)throw new Error("message too long");var D=b.alloc(C-P-N-2),L=C-k-1,K=t(k),J=a(b.concat([B,D,b.alloc(1,1),M],L),n(K,L)),ce=a(K,n(J,k));return new o(b.concat([b.alloc(1),ce,J],C))}function y(I,M,C){var P=M.length,B=I.modulus.byteLength();if(P>B-11)throw new Error("message too long");var k;return C?k=b.alloc(B-P-3,255):k=A(B-P-3),new o(b.concat([b.from([0,C?1:2]),k,b.alloc(1),M],B))}function A(I){for(var M=b.allocUnsafe(I),C=0,P=t(I*2),B=0,k;C<I;)B===P.length&&(P=t(I*2),B=0),k=P[B++],k&&(M[C++]=k);return M}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var e=requireParseAsn1(),t=requireMgf(),r=requireXor(),n=requireBn(),a=requireBrowserifyRsa(),o=requireBrowser$9(),u=requireWithPublic(),p=safeBufferExports.Buffer;privateDecrypt=function(A,I,M){var C;A.padding?C=A.padding:M?C=1:C=4;var P=e(A),B=P.modulus.byteLength();if(I.length>B||new n(I).cmp(P.modulus)>=0)throw new Error("decryption error");var k;M?k=u(new n(I),P):k=a(I,P);var N=p.alloc(B-k.length);if(k=p.concat([N,k],B),C===4)return b(P,k);if(C===1)return m(P,k,M);if(C===3)return k;throw new Error("unknown padding")};function b(A,I){var M=A.modulus.byteLength(),C=o("sha1").update(p.alloc(0)).digest(),P=C.length;if(I[0]!==0)throw new Error("decryption error");var B=I.slice(1,P+1),k=I.slice(P+1),N=r(B,t(k,P)),D=r(k,t(N,M-P-1));if(y(C,D.slice(0,P)))throw new Error("decryption error");for(var L=P;D[L]===0;)L++;if(D[L++]!==1)throw new Error("decryption error");return D.slice(L)}function m(A,I,M){for(var C=I.slice(0,2),P=2,B=0;I[P++]!==0;)if(P>=I.length){B++;break}var k=I.slice(2,P-1);if((C.toString("hex")!=="0002"&&!M||C.toString("hex")!=="0001"&&M)&&B++,k.length<8&&B++,B)throw new Error("decryption error");return I.slice(P)}function y(A,I){A=p.from(A),I=p.from(I);var M=0,C=A.length;A.length!==I.length&&(M++,C=Math.min(A.length,I.length));for(var P=-1;++P<C;)M+=A[P]^I[P];return M}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(e){e.publicEncrypt=requirePublicEncrypt(),e.privateDecrypt=requirePrivateDecrypt(),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}}(browser$6)),browser$6}var browser$5={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$5;hasRequiredBrowser=1;function e(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var t=safeBufferExports,r=requireBrowser$a(),n=t.Buffer,a=t.kMaxLength,o=commonjsGlobal.crypto||commonjsGlobal.msCrypto,u=Math.pow(2,32)-1;function p(I,M){if(typeof I!="number"||I!==I)throw new TypeError("offset must be a number");if(I>u||I<0)throw new TypeError("offset must be a uint32");if(I>a||I>M)throw new RangeError("offset out of range")}function b(I,M,C){if(typeof I!="number"||I!==I)throw new TypeError("size must be a number");if(I>u||I<0)throw new TypeError("size must be a uint32");if(I+M>C||I>a)throw new RangeError("buffer too small")}o&&o.getRandomValues||!process$1$1.browser?(browser$5.randomFill=m,browser$5.randomFillSync=A):(browser$5.randomFill=e,browser$5.randomFillSync=e);function m(I,M,C,P){if(!n.isBuffer(I)&&!(I instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof M=="function")P=M,M=0,C=I.length;else if(typeof C=="function")P=C,C=I.length-M;else if(typeof P!="function")throw new TypeError('"cb" argument must be a function');return p(M,I.length),b(C,M,I.length),y(I,M,C,P)}function y(I,M,C,P){if(process$1$1.browser){var B=I.buffer,k=new Uint8Array(B,M,C);if(o.getRandomValues(k),P){process$1$1.nextTick(function(){P(null,I)});return}return I}if(P){r(C,function(D,L){if(D)return P(D);L.copy(I,M),P(null,I)});return}var N=r(C);return N.copy(I,M),I}function A(I,M,C){if(typeof M>"u"&&(M=0),!n.isBuffer(I)&&!(I instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(M,I.length),C===void 0&&(C=I.length-M),b(C,M,I.length),y(I,M,C)}return browser$5}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$a(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var e=requireAlgos(),t=Object.keys(e),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);cryptoBrowserify.getHashes=function(){return r};var n=requireBrowser$7();cryptoBrowserify.pbkdf2=n.pbkdf2,cryptoBrowserify.pbkdf2Sync=n.pbkdf2Sync;var a=requireBrowser$5();cryptoBrowserify.Cipher=a.Cipher,cryptoBrowserify.createCipher=a.createCipher,cryptoBrowserify.Cipheriv=a.Cipheriv,cryptoBrowserify.createCipheriv=a.createCipheriv,cryptoBrowserify.Decipher=a.Decipher,cryptoBrowserify.createDecipher=a.createDecipher,cryptoBrowserify.Decipheriv=a.Decipheriv,cryptoBrowserify.createDecipheriv=a.createDecipheriv,cryptoBrowserify.getCiphers=a.getCiphers,cryptoBrowserify.listCiphers=a.listCiphers;var o=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=o.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=o.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=o.getDiffieHellman,cryptoBrowserify.createDiffieHellman=o.createDiffieHellman,cryptoBrowserify.DiffieHellman=o.DiffieHellman;var u=requireBrowser$3();cryptoBrowserify.createSign=u.createSign,cryptoBrowserify.Sign=u.Sign,cryptoBrowserify.createVerify=u.createVerify,cryptoBrowserify.Verify=u.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var p=requireBrowser$1();cryptoBrowserify.publicEncrypt=p.publicEncrypt,cryptoBrowserify.privateEncrypt=p.privateEncrypt,cryptoBrowserify.publicDecrypt=p.publicDecrypt,cryptoBrowserify.privateDecrypt=p.privateDecrypt;var b=requireBrowser();return cryptoBrowserify.randomFill=b.randomFill,cryptoBrowserify.randomFillSync=b.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var e;brorand.exports=function(n){return e||(e=new t(null)),e.generate(n)};function t(n){this.rand=n}if(brorand.exports.Rand=t,t.prototype.generate=function(n){return this._rand(n)},t.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var a=new Uint8Array(n),o=0;o<a.length;o++)a[o]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(n){var a=new Uint8Array(n);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(n){var a=new Uint8Array(n);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=requireCryptoBrowserify();if(typeof r.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(n){return r.randomBytes(n)}}catch{}return brorand.exports}var curve$1={},BN$6=bnExports$1,utils$k=utils$n,getNAF=utils$k.getNAF,getJSF=utils$k.getJSF,assert$a=utils$k.assert;function BaseCurve(e,t){this.type=e,this.p=new BN$6(t.p,16),this.red=t.prime?BN$6.red(t.prime):BN$6.mont(this.p),this.zero=new BN$6(0).toRed(this.red),this.one=new BN$6(1).toRed(this.red),this.two=new BN$6(2).toRed(this.red),this.n=t.n&&new BN$6(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function e(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function e(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function e(t,r){assert$a(t.precomputed);var n=t._getDoubles(),a=getNAF(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var u=[],p,b;for(p=0;p<a.length;p+=n.step){b=0;for(var m=p+n.step-1;m>=p;m--)b=(b<<1)+a[m];u.push(b)}for(var y=this.jpoint(null,null,null),A=this.jpoint(null,null,null),I=o;I>0;I--){for(p=0;p<u.length;p++)b=u[p],b===I?A=A.mixedAdd(n.points[p]):b===-I&&(A=A.mixedAdd(n.points[p].neg()));y=y.add(A)}return y.toP()},BaseCurve.prototype._wnafMul=function e(t,r){var n=4,a=t._getNAFPoints(n);n=a.wnd;for(var o=a.points,u=getNAF(r,n,this._bitLength),p=this.jpoint(null,null,null),b=u.length-1;b>=0;b--){for(var m=0;b>=0&&u[b]===0;b--)m++;if(b>=0&&m++,p=p.dblp(m),b<0)break;var y=u[b];assert$a(y!==0),t.type==="affine"?y>0?p=p.mixedAdd(o[y-1>>1]):p=p.mixedAdd(o[-y-1>>1].neg()):y>0?p=p.add(o[y-1>>1]):p=p.add(o[-y-1>>1].neg())}return t.type==="affine"?p.toP():p},BaseCurve.prototype._wnafMulAdd=function e(t,r,n,a,o){var u=this._wnafT1,p=this._wnafT2,b=this._wnafT3,m=0,y,A,I;for(y=0;y<a;y++){I=r[y];var M=I._getNAFPoints(t);u[y]=M.wnd,p[y]=M.points}for(y=a-1;y>=1;y-=2){var C=y-1,P=y;if(u[C]!==1||u[P]!==1){b[C]=getNAF(n[C],u[C],this._bitLength),b[P]=getNAF(n[P],u[P],this._bitLength),m=Math.max(b[C].length,m),m=Math.max(b[P].length,m);continue}var B=[r[C],null,null,r[P]];r[C].y.cmp(r[P].y)===0?(B[1]=r[C].add(r[P]),B[2]=r[C].toJ().mixedAdd(r[P].neg())):r[C].y.cmp(r[P].y.redNeg())===0?(B[1]=r[C].toJ().mixedAdd(r[P]),B[2]=r[C].add(r[P].neg())):(B[1]=r[C].toJ().mixedAdd(r[P]),B[2]=r[C].toJ().mixedAdd(r[P].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],N=getJSF(n[C],n[P]);for(m=Math.max(N[0].length,m),b[C]=new Array(m),b[P]=new Array(m),A=0;A<m;A++){var D=N[0][A]|0,L=N[1][A]|0;b[C][A]=k[(D+1)*3+(L+1)],b[P][A]=0,p[C]=B}}var K=this.jpoint(null,null,null),J=this._wnafT4;for(y=m;y>=0;y--){for(var ce=0;y>=0;){var oe=!0;for(A=0;A<a;A++)J[A]=b[A][y]|0,J[A]!==0&&(oe=!1);if(!oe)break;ce++,y--}if(y>=0&&ce++,K=K.dblp(ce),y<0)break;for(A=0;A<a;A++){var Z=J[A];Z!==0&&(Z>0?I=p[A][Z-1>>1]:Z<0&&(I=p[A][-Z-1>>1].neg()),I.type==="affine"?K=K.mixedAdd(I):K=K.add(I))}}for(y=0;y<a;y++)p[y]=null;return o?K:K.toP()};function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function e(){throw new Error("Not implemented")},BasePoint.prototype.validate=function e(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function e(t,r){t=utils$k.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?assert$a(t[t.length-1]%2===0):t[0]===7&&assert$a(t[t.length-1]%2===1);var a=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return a}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function e(t){return this.encode(t,!0)},BasePoint.prototype._encode=function e(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))},BasePoint.prototype.encode=function e(t,r){return utils$k.encode(this._encode(r),t)},BasePoint.prototype.precompute=function e(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this},BasePoint.prototype._hasDoubles=function e(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1},BasePoint.prototype._getDoubles=function e(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],a=this,o=0;o<r;o+=t){for(var u=0;u<t;u++)a=a.dbl();n.push(a)}return{step:t,points:n}},BasePoint.prototype._getNAFPoints=function e(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,a=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(a);return{wnd:t,points:r}},BasePoint.prototype._getBeta=function e(){return null},BasePoint.prototype.dblp=function e(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var utils$j=utils$n,BN$5=bnExports$1,inherits$2=inherits_browserExports,Base$2=base$1,assert$9=utils$j.assert;function ShortCurve(e){Base$2.call(this,"short",e),this.a=new BN$5(e.a,16).toRed(this.red),this.b=new BN$5(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$2(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function e(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new BN$5(t.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);r=a[0].cmp(a[1])<0?a[0]:a[1],r=r.toRed(this.red)}if(t.lambda)n=new BN$5(t.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],assert$9(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var u;return t.basis?u=t.basis.map(function(p){return{a:new BN$5(p.a,16),b:new BN$5(p.b,16)}}):u=this._getEndoBasis(n),{beta:r,lambda:n,basis:u}}},ShortCurve.prototype._getEndoRoots=function e(t){var r=t===this.p?this.red:BN$5.mont(t),n=new BN$5(2).toRed(r).redInvm(),a=n.redNeg(),o=new BN$5(3).toRed(r).redNeg().redSqrt().redMul(n),u=a.redAdd(o).fromRed(),p=a.redSub(o).fromRed();return[u,p]},ShortCurve.prototype._getEndoBasis=function e(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,a=this.n.clone(),o=new BN$5(1),u=new BN$5(0),p=new BN$5(0),b=new BN$5(1),m,y,A,I,M,C,P,B=0,k,N;n.cmpn(0)!==0;){var D=a.div(n);k=a.sub(D.mul(n)),N=p.sub(D.mul(o));var L=b.sub(D.mul(u));if(!A&&k.cmp(r)<0)m=P.neg(),y=o,A=k.neg(),I=N;else if(A&&++B===2)break;P=k,a=n,n=k,p=o,o=N,b=u,u=L}M=k.neg(),C=N;var K=A.sqr().add(I.sqr()),J=M.sqr().add(C.sqr());return J.cmp(K)>=0&&(M=m,C=y),A.negative&&(A=A.neg(),I=I.neg()),M.negative&&(M=M.neg(),C=C.neg()),[{a:A,b:I},{a:M,b:C}]},ShortCurve.prototype._endoSplit=function e(t){var r=this.endo.basis,n=r[0],a=r[1],o=a.b.mul(t).divRound(this.n),u=n.b.neg().mul(t).divRound(this.n),p=o.mul(n.a),b=u.mul(a.a),m=o.mul(n.b),y=u.mul(a.b),A=t.sub(p).sub(b),I=m.add(y).neg();return{k1:A,k2:I}},ShortCurve.prototype.pointFromX=function e(t,r){t=new BN$5(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),a=n.redSqrt();if(a.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=a.fromRed().isOdd();return(r&&!o||!r&&o)&&(a=a.redNeg()),this.point(t,a)},ShortCurve.prototype.validate=function e(t){if(t.inf)return!0;var r=t.x,n=t.y,a=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(a).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0},ShortCurve.prototype._endoWnafMulAdd=function e(t,r,n){for(var a=this._endoWnafT1,o=this._endoWnafT2,u=0;u<t.length;u++){var p=this._endoSplit(r[u]),b=t[u],m=b._getBeta();p.k1.negative&&(p.k1.ineg(),b=b.neg(!0)),p.k2.negative&&(p.k2.ineg(),m=m.neg(!0)),a[u*2]=b,a[u*2+1]=m,o[u*2]=p.k1,o[u*2+1]=p.k2}for(var y=this._wnafMulAdd(1,a,o,u*2,n),A=0;A<u*2;A++)a[A]=null,o[A]=null;return y};function Point$2(e,t,r,n){Base$2.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$5(t,16),this.y=new BN$5(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$2(Point$2,Base$2.BasePoint),ShortCurve.prototype.point=function e(t,r,n){return new Point$2(this,t,r,n)},ShortCurve.prototype.pointFromJSON=function e(t,r){return Point$2.fromJSON(this,t,r)},Point$2.prototype._getBeta=function e(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,a=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(a)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(a)}}}return r}},Point$2.prototype.toJSON=function e(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point$2.fromJSON=function e(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var a=t.point(r[0],r[1],n);if(!r[2])return a;function o(p){return t.point(p[0],p[1],n)}var u=r[2];return a.precomputed={beta:null,doubles:u.doubles&&{step:u.doubles.step,points:[a].concat(u.doubles.points.map(o))},naf:u.naf&&{wnd:u.naf.wnd,points:[a].concat(u.naf.points.map(o))}},a},Point$2.prototype.inspect=function e(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point$2.prototype.isInfinity=function e(){return this.inf},Point$2.prototype.add=function e(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),a=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,a)},Point$2.prototype.dbl=function e(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),a=t.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(a),u=o.redSqr().redISub(this.x.redAdd(this.x)),p=o.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,p)},Point$2.prototype.getX=function e(){return this.x.fromRed()},Point$2.prototype.getY=function e(){return this.y.fromRed()},Point$2.prototype.mul=function e(t){return t=new BN$5(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Point$2.prototype.mulAdd=function e(t,r,n){var a=[this,r],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,o):this.curve._wnafMulAdd(1,a,o,2)},Point$2.prototype.jmulAdd=function e(t,r,n){var a=[this,r],o=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(a,o,!0):this.curve._wnafMulAdd(1,a,o,2,!0)},Point$2.prototype.eq=function e(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},Point$2.prototype.neg=function e(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,a=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(a)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(a)}}}return r},Point$2.prototype.toJ=function e(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function JPoint(e,t,r,n){Base$2.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$5(0)):(this.x=new BN$5(t,16),this.y=new BN$5(r,16),this.z=new BN$5(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$2(JPoint,Base$2.BasePoint),ShortCurve.prototype.jpoint=function e(t,r,n){return new JPoint(this,t,r,n)},JPoint.prototype.toP=function e(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),a=this.y.redMul(r).redMul(t);return this.curve.point(n,a)},JPoint.prototype.neg=function e(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function e(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),a=this.x.redMul(r),o=t.x.redMul(n),u=this.y.redMul(r.redMul(t.z)),p=t.y.redMul(n.redMul(this.z)),b=a.redSub(o),m=u.redSub(p);if(b.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var y=b.redSqr(),A=y.redMul(b),I=a.redMul(y),M=m.redSqr().redIAdd(A).redISub(I).redISub(I),C=m.redMul(I.redISub(M)).redISub(u.redMul(A)),P=this.z.redMul(t.z).redMul(b);return this.curve.jpoint(M,C,P)},JPoint.prototype.mixedAdd=function e(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,a=t.x.redMul(r),o=this.y,u=t.y.redMul(r).redMul(this.z),p=n.redSub(a),b=o.redSub(u);if(p.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=p.redSqr(),y=m.redMul(p),A=n.redMul(m),I=b.redSqr().redIAdd(y).redISub(A).redISub(A),M=b.redMul(A.redISub(I)).redISub(o.redMul(y)),C=this.z.redMul(p);return this.curve.jpoint(I,M,C)},JPoint.prototype.dblp=function e(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var a=this.curve.a,o=this.curve.tinv,u=this.x,p=this.y,b=this.z,m=b.redSqr().redSqr(),y=p.redAdd(p);for(r=0;r<t;r++){var A=u.redSqr(),I=y.redSqr(),M=I.redSqr(),C=A.redAdd(A).redIAdd(A).redIAdd(a.redMul(m)),P=u.redMul(I),B=C.redSqr().redISub(P.redAdd(P)),k=P.redISub(B),N=C.redMul(k);N=N.redIAdd(N).redISub(M);var D=y.redMul(b);r+1<t&&(m=m.redMul(M)),u=B,b=D,y=N}return this.curve.jpoint(u,y.redMul(o),b)},JPoint.prototype.dbl=function e(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function e(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),o=this.y.redSqr(),u=o.redSqr(),p=this.x.redAdd(o).redSqr().redISub(a).redISub(u);p=p.redIAdd(p);var b=a.redAdd(a).redIAdd(a),m=b.redSqr().redISub(p).redISub(p),y=u.redIAdd(u);y=y.redIAdd(y),y=y.redIAdd(y),t=m,r=b.redMul(p.redISub(m)).redISub(y),n=this.y.redAdd(this.y)}else{var A=this.x.redSqr(),I=this.y.redSqr(),M=I.redSqr(),C=this.x.redAdd(I).redSqr().redISub(A).redISub(M);C=C.redIAdd(C);var P=A.redAdd(A).redIAdd(A),B=P.redSqr(),k=M.redIAdd(M);k=k.redIAdd(k),k=k.redIAdd(k),t=B.redISub(C).redISub(C),r=P.redMul(C.redISub(t)).redISub(k),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)},JPoint.prototype._threeDbl=function e(){var t,r,n;if(this.zOne){var a=this.x.redSqr(),o=this.y.redSqr(),u=o.redSqr(),p=this.x.redAdd(o).redSqr().redISub(a).redISub(u);p=p.redIAdd(p);var b=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),m=b.redSqr().redISub(p).redISub(p);t=m;var y=u.redIAdd(u);y=y.redIAdd(y),y=y.redIAdd(y),r=b.redMul(p.redISub(m)).redISub(y),n=this.y.redAdd(this.y)}else{var A=this.z.redSqr(),I=this.y.redSqr(),M=this.x.redMul(I),C=this.x.redSub(A).redMul(this.x.redAdd(A));C=C.redAdd(C).redIAdd(C);var P=M.redIAdd(M);P=P.redIAdd(P);var B=P.redAdd(P);t=C.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(I).redISub(A);var k=I.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),r=C.redMul(P.redISub(t)).redISub(k)}return this.curve.jpoint(t,r,n)},JPoint.prototype._dbl=function e(){var t=this.curve.a,r=this.x,n=this.y,a=this.z,o=a.redSqr().redSqr(),u=r.redSqr(),p=n.redSqr(),b=u.redAdd(u).redIAdd(u).redIAdd(t.redMul(o)),m=r.redAdd(r);m=m.redIAdd(m);var y=m.redMul(p),A=b.redSqr().redISub(y.redAdd(y)),I=y.redISub(A),M=p.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M);var C=b.redMul(I).redISub(M),P=n.redAdd(n).redMul(a);return this.curve.jpoint(A,C,P)},JPoint.prototype.trpl=function e(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),a=r.redSqr(),o=t.redAdd(t).redIAdd(t),u=o.redSqr(),p=this.x.redAdd(r).redSqr().redISub(t).redISub(a);p=p.redIAdd(p),p=p.redAdd(p).redIAdd(p),p=p.redISub(u);var b=p.redSqr(),m=a.redIAdd(a);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=o.redIAdd(p).redSqr().redISub(u).redISub(b).redISub(m),A=r.redMul(y);A=A.redIAdd(A),A=A.redIAdd(A);var I=this.x.redMul(b).redISub(A);I=I.redIAdd(I),I=I.redIAdd(I);var M=this.y.redMul(y.redMul(m.redISub(y)).redISub(p.redMul(b)));M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M);var C=this.z.redAdd(p).redSqr().redISub(n).redISub(b);return this.curve.jpoint(I,M,C)},JPoint.prototype.mul=function e(t,r){return t=new BN$5(t,r),this.curve._wnafMul(this,t)},JPoint.prototype.eq=function e(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var a=r.redMul(this.z),o=n.redMul(t.z);return this.y.redMul(o).redISub(t.y.redMul(a)).cmpn(0)===0},JPoint.prototype.eqXToP=function e(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var a=t.clone(),o=this.curve.redN.redMul(r);;){if(a.iadd(this.curve.n),a.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}},JPoint.prototype.inspect=function e(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function e(){return this.z.cmpn(0)===0};var BN$4=bnExports$1,inherits$1=inherits_browserExports,Base$1=base$1,utils$i=utils$n;function MontCurve(e){Base$1.call(this,"mont",e),this.a=new BN$4(e.a,16).toRed(this.red),this.b=new BN$4(e.b,16).toRed(this.red),this.i4=new BN$4(4).toRed(this.red).redInvm(),this.two=new BN$4(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$1(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function e(t){var r=t.normalize().x,n=r.redSqr(),a=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=a.redSqrt();return o.redSqr().cmp(a)===0};function Point$1(e,t,r){Base$1.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$4(t,16),this.z=new BN$4(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$1(Point$1,Base$1.BasePoint),MontCurve.prototype.decodePoint=function e(t,r){return this.point(utils$i.toArray(t,r),1)},MontCurve.prototype.point=function e(t,r){return new Point$1(this,t,r)},MontCurve.prototype.pointFromJSON=function e(t){return Point$1.fromJSON(this,t)},Point$1.prototype.precompute=function e(){},Point$1.prototype._encode=function e(){return this.getX().toArray("be",this.curve.p.byteLength())},Point$1.fromJSON=function e(t,r){return new Point$1(t,r[0],r[1]||t.one)},Point$1.prototype.inspect=function e(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point$1.prototype.isInfinity=function e(){return this.z.cmpn(0)===0},Point$1.prototype.dbl=function e(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),a=n.redSqr(),o=r.redSub(a),u=r.redMul(a),p=o.redMul(a.redAdd(this.curve.a24.redMul(o)));return this.curve.point(u,p)},Point$1.prototype.add=function e(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.diffAdd=function e(t,r){var n=this.x.redAdd(this.z),a=this.x.redSub(this.z),o=t.x.redAdd(t.z),u=t.x.redSub(t.z),p=u.redMul(n),b=o.redMul(a),m=r.z.redMul(p.redAdd(b).redSqr()),y=r.x.redMul(p.redISub(b).redSqr());return this.curve.point(m,y)},Point$1.prototype.mul=function e(t){for(var r=t.clone(),n=this,a=this.curve.point(null,null),o=this,u=[];r.cmpn(0)!==0;r.iushrn(1))u.push(r.andln(1));for(var p=u.length-1;p>=0;p--)u[p]===0?(n=n.diffAdd(a,o),a=a.dbl()):(a=n.diffAdd(a,o),n=n.dbl());return a},Point$1.prototype.mulAdd=function e(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.jumlAdd=function e(){throw new Error("Not supported on Montgomery curve")},Point$1.prototype.eq=function e(t){return this.getX().cmp(t.getX())===0},Point$1.prototype.normalize=function e(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point$1.prototype.getX=function e(){return this.normalize(),this.x.fromRed()};var utils$h=utils$n,BN$3=bnExports$1,inherits=inherits_browserExports,Base=base$1,assert$8=utils$h.assert;function EdwardsCurve(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",e),this.a=new BN$3(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$3(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$3(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$8(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}inherits(EdwardsCurve,Base);var edwards$1=EdwardsCurve;EdwardsCurve.prototype._mulA=function e(t){return this.mOneA?t.redNeg():this.a.redMul(t)},EdwardsCurve.prototype._mulC=function e(t){return this.oneC?t:this.c.redMul(t)},EdwardsCurve.prototype.jpoint=function e(t,r,n,a){return this.point(t,r,n,a)},EdwardsCurve.prototype.pointFromX=function e(t,r){t=new BN$3(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),u=a.redMul(o.redInvm()),p=u.redSqrt();if(p.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(r&&!b||!r&&b)&&(p=p.redNeg()),this.point(t,p)},EdwardsCurve.prototype.pointFromY=function e(t,r){t=new BN$3(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),a=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),u=a.redMul(o.redInvm());if(u.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var p=u.redSqrt();if(p.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==r&&(p=p.redNeg()),this.point(p,t)},EdwardsCurve.prototype.validate=function e(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),a=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return a.cmp(o)===0};function Point(e,t,r,n,a){Base.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$3(t,16),this.y=new BN$3(r,16),this.z=n?new BN$3(n,16):this.curve.one,this.t=a&&new BN$3(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function e(t){return Point.fromJSON(this,t)},EdwardsCurve.prototype.point=function e(t,r,n,a){return new Point(this,t,r,n,a)},Point.fromJSON=function e(t,r){return new Point(t,r[0],r[1],r[2])},Point.prototype.inspect=function e(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function e(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},Point.prototype._extDbl=function e(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var a=this.curve._mulA(t),o=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),u=a.redAdd(r),p=u.redSub(n),b=a.redSub(r),m=o.redMul(p),y=u.redMul(b),A=o.redMul(b),I=p.redMul(u);return this.curve.point(m,y,I,A)},Point.prototype._projDbl=function e(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),a,o,u,p,b,m;if(this.curve.twisted){p=this.curve._mulA(r);var y=p.redAdd(n);this.zOne?(a=t.redSub(r).redSub(n).redMul(y.redSub(this.curve.two)),o=y.redMul(p.redSub(n)),u=y.redSqr().redSub(y).redSub(y)):(b=this.z.redSqr(),m=y.redSub(b).redISub(b),a=t.redSub(r).redISub(n).redMul(m),o=y.redMul(p.redSub(n)),u=y.redMul(m))}else p=r.redAdd(n),b=this.curve._mulC(this.z).redSqr(),m=p.redSub(b).redSub(b),a=this.curve._mulC(t.redISub(p)).redMul(m),o=this.curve._mulC(p).redMul(r.redISub(n)),u=p.redMul(m);return this.curve.point(a,o,u)},Point.prototype.dbl=function e(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function e(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),a=this.t.redMul(this.curve.dd).redMul(t.t),o=this.z.redMul(t.z.redAdd(t.z)),u=n.redSub(r),p=o.redSub(a),b=o.redAdd(a),m=n.redAdd(r),y=u.redMul(p),A=b.redMul(m),I=u.redMul(m),M=p.redMul(b);return this.curve.point(y,A,M,I)},Point.prototype._projAdd=function e(t){var r=this.z.redMul(t.z),n=r.redSqr(),a=this.x.redMul(t.x),o=this.y.redMul(t.y),u=this.curve.d.redMul(a).redMul(o),p=n.redSub(u),b=n.redAdd(u),m=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(a).redISub(o),y=r.redMul(p).redMul(m),A,I;return this.curve.twisted?(A=r.redMul(b).redMul(o.redSub(this.curve._mulA(a))),I=p.redMul(b)):(A=r.redMul(b).redMul(o.redSub(a)),I=this.curve._mulC(p).redMul(b)),this.curve.point(y,A,I)},Point.prototype.add=function e(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},Point.prototype.mul=function e(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},Point.prototype.mulAdd=function e(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)},Point.prototype.jmulAdd=function e(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)},Point.prototype.normalize=function e(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function e(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function e(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function e(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function e(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0},Point.prototype.eqXToP=function e(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),a=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),this.x.cmp(r)===0)return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add,function(e){var t=e;t.base=base$1,t.short=short,t.mont=mont,t.edwards=edwards$1}(curve$1);var curves$1={},secp256k1$4,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1$4={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1$4}(function(e){var t=e,r=hash$6,n=curve$1,a=utils$n,o=a.assert;function u(m){m.type==="short"?this.curve=new n.short(m):m.type==="edwards"?this.curve=new n.edwards(m):this.curve=new n.mont(m),this.g=this.curve.g,this.n=this.curve.n,this.hash=m.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=u;function p(m,y){Object.defineProperty(t,m,{configurable:!0,enumerable:!0,get:function(){var A=new u(y);return Object.defineProperty(t,m,{configurable:!0,enumerable:!0,value:A}),A}})}p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var b;try{b=requireSecp256k1()}catch{b=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",b]})})(curves$1);var hash$4=hash$6,utils$g=utils$m,assert$7=minimalisticAssert;function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils$g.toArray(e.entropy,e.entropyEnc||"hex"),r=utils$g.toArray(e.nonce,e.nonceEnc||"hex"),n=utils$g.toArray(e.pers,e.persEnc||"hex");assert$7(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function e(t,r,n){var a=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function e(){return new hash$4.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function e(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function e(t,r,n,a){typeof r!="string"&&(a=n,n=r,r=null),t=utils$g.toArray(t,r),n=utils$g.toArray(n,a),assert$7(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},HmacDRBG.prototype.generate=function e(t,r,n,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(a=n,n=r,r=null),n&&(n=utils$g.toArray(n,a||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var u=o.slice(0,t);return this._update(n),this._reseed++,utils$g.encode(u,r)};var BN$2=bnExports$1,utils$f=utils$n,assert$6=utils$f.assert;function KeyPair$2(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$1=KeyPair$2;KeyPair$2.fromPublic=function e(t,r,n){return r instanceof KeyPair$2?r:new KeyPair$2(t,{pub:r,pubEnc:n})},KeyPair$2.fromPrivate=function e(t,r,n){return r instanceof KeyPair$2?r:new KeyPair$2(t,{priv:r,privEnc:n})},KeyPair$2.prototype.validate=function e(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair$2.prototype.getPublic=function e(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub},KeyPair$2.prototype.getPrivate=function e(t){return t==="hex"?this.priv.toString(16,2):this.priv},KeyPair$2.prototype._importPrivate=function e(t,r){this.priv=new BN$2(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair$2.prototype._importPublic=function e(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?assert$6(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$6(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)},KeyPair$2.prototype.derive=function e(t){return t.validate()||assert$6(t.validate(),"public point not validated"),t.mul(this.priv).getX()},KeyPair$2.prototype.sign=function e(t,r,n){return this.ec.sign(t,this,r,n)},KeyPair$2.prototype.verify=function e(t,r){return this.ec.verify(t,r,this)},KeyPair$2.prototype.inspect=function e(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$1=bnExports$1,utils$e=utils$n,assert$5=utils$e.assert;function Signature$2(e,t){if(e instanceof Signature$2)return e;this._importDER(e,t)||(assert$5(e.r&&e.s,"Signature without r or s"),this.r=new BN$1(e.r,16),this.s=new BN$1(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var signature$1=Signature$2;function Position(){this.place=0}function getLength(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var a=0,o=0,u=t.place;o<n;o++,u++)a<<=8,a|=e[u],a>>>=0;return a<=127?!1:(t.place=u,a)}function rmPadding(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Signature$2.prototype._importDER=function e(t,r){t=utils$e.toArray(t,r);var n=new Position;if(t[n.place++]!==48)return!1;var a=getLength(t,n);if(a===!1||a+n.place!==t.length||t[n.place++]!==2)return!1;var o=getLength(t,n);if(o===!1)return!1;var u=t.slice(n.place,o+n.place);if(n.place+=o,t[n.place++]!==2)return!1;var p=getLength(t,n);if(p===!1||t.length!==p+n.place)return!1;var b=t.slice(n.place,p+n.place);if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;if(b[0]===0)if(b[1]&128)b=b.slice(1);else return!1;return this.r=new BN$1(u),this.s=new BN$1(b),this.recoveryParam=null,!0};function constructLength(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Signature$2.prototype.toDER=function e(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=rmPadding(r),n=rmPadding(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var a=[2];constructLength(a,r.length),a=a.concat(r),a.push(2),constructLength(a,n.length);var o=a.concat(n),u=[48];return constructLength(u,o.length),u=u.concat(o),utils$e.encode(u,t)};const signature$2=getDefaultExportFromCjs$1(signature$1);var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var e=bnExports$1,t=hmacDrbg,r=utils$n,n=curves$1,a=requireBrorand(),o=r.assert,u=key$1,p=signature$1;function b(m){if(!(this instanceof b))return new b(m);typeof m=="string"&&(o(Object.prototype.hasOwnProperty.call(n,m),"Unknown curve "+m),m=n[m]),m instanceof n.PresetCurve&&(m={curve:m}),this.curve=m.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=m.curve.g,this.g.precompute(m.curve.n.bitLength()+1),this.hash=m.hash||m.curve.hash}return ec=b,b.prototype.keyPair=function(m){return new u(this,m)},b.prototype.keyFromPrivate=function(m,y){return u.fromPrivate(this,m,y)},b.prototype.keyFromPublic=function(m,y){return u.fromPublic(this,m,y)},b.prototype.genKeyPair=function(m){m||(m={});for(var y=new t({hash:this.hash,pers:m.pers,persEnc:m.persEnc||"utf8",entropy:m.entropy||a(this.hash.hmacStrength),entropyEnc:m.entropy&&m.entropyEnc||"utf8",nonce:this.n.toArray()}),A=this.n.byteLength(),I=this.n.sub(new e(2));;){var M=new e(y.generate(A));if(!(M.cmp(I)>0))return M.iaddn(1),this.keyFromPrivate(M)}},b.prototype._truncateToN=function(m,y){var A=m.byteLength()*8-this.n.bitLength();return A>0&&(m=m.ushrn(A)),!y&&m.cmp(this.n)>=0?m.sub(this.n):m},b.prototype.sign=function(m,y,A,I){typeof A=="object"&&(I=A,A=null),I||(I={}),y=this.keyFromPrivate(y,A),m=this._truncateToN(new e(m,16));for(var M=this.n.byteLength(),C=y.getPrivate().toArray("be",M),P=m.toArray("be",M),B=new t({hash:this.hash,entropy:C,nonce:P,pers:I.pers,persEnc:I.persEnc||"utf8"}),k=this.n.sub(new e(1)),N=0;;N++){var D=I.k?I.k(N):new e(B.generate(this.n.byteLength()));if(D=this._truncateToN(D,!0),!(D.cmpn(1)<=0||D.cmp(k)>=0)){var L=this.g.mul(D);if(!L.isInfinity()){var K=L.getX(),J=K.umod(this.n);if(J.cmpn(0)!==0){var ce=D.invm(this.n).mul(J.mul(y.getPrivate()).iadd(m));if(ce=ce.umod(this.n),ce.cmpn(0)!==0){var oe=(L.getY().isOdd()?1:0)|(K.cmp(J)!==0?2:0);return I.canonical&&ce.cmp(this.nh)>0&&(ce=this.n.sub(ce),oe^=1),new p({r:J,s:ce,recoveryParam:oe})}}}}}},b.prototype.verify=function(m,y,A,I){m=this._truncateToN(new e(m,16)),A=this.keyFromPublic(A,I),y=new p(y,"hex");var M=y.r,C=y.s;if(M.cmpn(1)<0||M.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var P=C.invm(this.n),B=P.mul(m).umod(this.n),k=P.mul(M).umod(this.n),N;return this.curve._maxwellTrick?(N=this.g.jmulAdd(B,A.getPublic(),k),N.isInfinity()?!1:N.eqXToP(M)):(N=this.g.mulAdd(B,A.getPublic(),k),N.isInfinity()?!1:N.getX().umod(this.n).cmp(M)===0)},b.prototype.recoverPubKey=function(m,y,A,I){o((3&A)===A,"The recovery param is more than two bits"),y=new p(y,I);var M=this.n,C=new e(m),P=y.r,B=y.s,k=A&1,N=A>>1;if(P.cmp(this.curve.p.umod(this.curve.n))>=0&&N)throw new Error("Unable to find sencond key candinate");N?P=this.curve.pointFromX(P.add(this.curve.n),k):P=this.curve.pointFromX(P,k);var D=y.r.invm(M),L=M.sub(C).mul(D).umod(M),K=B.mul(D).umod(M);return this.g.mulAdd(L,P,K)},b.prototype.getKeyRecoveryParam=function(m,y,A,I){if(y=new p(y,I),y.recoveryParam!==null)return y.recoveryParam;for(var M=0;M<4;M++){var C;try{C=this.recoverPubKey(m,y,M)}catch{continue}if(C.eq(A))return M}throw new Error("Unable to find valid recovery factor")},ec}var utils$d=utils$n,assert$4=utils$d.assert,parseBytes$2=utils$d.parseBytes,cachedProperty$1=utils$d.cachedProperty;function KeyPair$1(e,t){this.eddsa=e,this._secret=parseBytes$2(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=parseBytes$2(t.pub)}KeyPair$1.fromPublic=function e(t,r){return r instanceof KeyPair$1?r:new KeyPair$1(t,{pub:r})},KeyPair$1.fromSecret=function e(t,r){return r instanceof KeyPair$1?r:new KeyPair$1(t,{secret:r})},KeyPair$1.prototype.secret=function e(){return this._secret},cachedProperty$1(KeyPair$1,"pubBytes",function e(){return this.eddsa.encodePoint(this.pub())}),cachedProperty$1(KeyPair$1,"pub",function e(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty$1(KeyPair$1,"privBytes",function e(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,a=r.slice(0,t.encodingLength);return a[0]&=248,a[n]&=127,a[n]|=64,a}),cachedProperty$1(KeyPair$1,"priv",function e(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty$1(KeyPair$1,"hash",function e(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty$1(KeyPair$1,"messagePrefix",function e(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair$1.prototype.sign=function e(t){return assert$4(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},KeyPair$1.prototype.verify=function e(t,r){return this.eddsa.verify(t,r,this)},KeyPair$1.prototype.getSecret=function e(t){return assert$4(this._secret,"KeyPair is public only"),utils$d.encode(this.secret(),t)},KeyPair$1.prototype.getPublic=function e(t){return utils$d.encode(this.pubBytes(),t)};var key=KeyPair$1,BN=bnExports$1,utils$c=utils$n,assert$3=utils$c.assert,cachedProperty=utils$c.cachedProperty,parseBytes$1=utils$c.parseBytes;function Signature$1(e,t){this.eddsa=e,typeof t!="object"&&(t=parseBytes$1(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),assert$3(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof BN&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}cachedProperty(Signature$1,"S",function e(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature$1,"R",function e(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature$1,"Rencoded",function e(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature$1,"Sencoded",function e(){return this.eddsa.encodeInt(this.S())}),Signature$1.prototype.toBytes=function e(){return this.Rencoded().concat(this.Sencoded())},Signature$1.prototype.toHex=function e(){return utils$c.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash$3=hash$6,curves=curves$1,utils$b=utils$n,assert$2=utils$b.assert,parseBytes=utils$b.parseBytes,KeyPair=key,Signature=signature;function EDDSA(e){if(assert$2(e==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(e);e=curves[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=hash$3.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function e(t,r){t=parseBytes(t);var n=this.keyFromSecret(r),a=this.hashInt(n.messagePrefix(),t),o=this.g.mul(a),u=this.encodePoint(o),p=this.hashInt(u,n.pubBytes(),t).mul(n.priv()),b=a.add(p).umod(this.curve.n);return this.makeSignature({R:o,S:b,Rencoded:u})},EDDSA.prototype.verify=function e(t,r,n){t=parseBytes(t),r=this.makeSignature(r);var a=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),a.pubBytes(),t),u=this.g.mul(r.S()),p=r.R().add(a.pub().mul(o));return p.eq(u)},EDDSA.prototype.hashInt=function e(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return utils$b.intFromLE(t.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function e(t){return KeyPair.fromPublic(this,t)},EDDSA.prototype.keyFromSecret=function e(t){return KeyPair.fromSecret(this,t)},EDDSA.prototype.makeSignature=function e(t){return t instanceof Signature?t:new Signature(this,t)},EDDSA.prototype.encodePoint=function e(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r},EDDSA.prototype.decodePoint=function e(t){t=utils$b.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),a=(t[r]&128)!==0,o=utils$b.intFromLE(n);return this.curve.pointFromY(o,a)},EDDSA.prototype.encodeInt=function e(t){return t.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function e(t){return utils$b.intFromLE(t)},EDDSA.prototype.isPoint=function e(t){return t instanceof this.pointClass};var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(e){var t=e;t.version=require$$0$2.version,t.utils=utils$n,t.rand=requireBrorand(),t.curve=curve$1,t.curves=curves$1,t.ec=requireEc(),t.eddsa=eddsa}(elliptic)),elliptic}var ellipticExports=requireElliptic(),readableBrowser={exports:{}};(function(e,t){t=e.exports=require_stream_readable$1(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable$1(),t.Duplex=require_stream_duplex$1(),t.Transform=_stream_transform$1,t.PassThrough=_stream_passthrough$1,t.finished=endOfStream,t.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports;const{Transform:Transform$1}=readableBrowserExports;var keccak$2=e=>class Tt extends Transform$1{constructor(r,n,a,o,u){super(u),this._rate=r,this._capacity=n,this._delimitedSuffix=a,this._hashBitLength=o,this._options=u,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,a){let o=null;try{this.update(r,n)}catch(u){o=u}a(o)}_flush(r){let n=null;try{this.push(this.digest())}catch(a){n=a}r(n)}update(r,n){if(!Buffer$2.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer$2.isBuffer(r)||(r=Buffer$2.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Tt(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform}=readableBrowserExports;var shake=e=>class It extends Transform{constructor(r,n,a,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=a,this._options=o,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,a){let o=null;try{this.update(r,n)}catch(u){o=u}a(o)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer$2.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer$2.isBuffer(r)||(r=Buffer$2.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let a=this._state.squeeze(r);return n!==void 0&&(a=a.toString(n)),a}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new It(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const createKeccak=keccak$2,createShake=shake;var api=function(e){const t=createKeccak(e),r=createShake(e);return function(n,a){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,a);case"keccak256":return new t(1088,512,null,256,a);case"keccak384":return new t(832,768,null,384,a);case"keccak512":return new t(576,1024,null,512,a);case"sha3-224":return new t(1152,448,6,224,a);case"sha3-256":return new t(1088,512,6,256,a);case"sha3-384":return new t(832,768,6,384,a);case"sha3-512":return new t(576,1024,6,512,a);case"shake128":return new r(1344,256,31,a);case"shake256":return new r(1088,512,31,a);default:throw new Error("Invald algorithm: "+n)}}},keccakStateUnroll={};const P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];keccakStateUnroll.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],p=e[5]^e[15]^e[25]^e[35]^e[45],b=e[6]^e[16]^e[26]^e[36]^e[46],m=e[7]^e[17]^e[27]^e[37]^e[47],y=e[8]^e[18]^e[28]^e[38]^e[48],A=e[9]^e[19]^e[29]^e[39]^e[49];let I=y^(a<<1|o>>>31),M=A^(o<<1|a>>>31);const C=e[0]^I,P=e[1]^M,B=e[10]^I,k=e[11]^M,N=e[20]^I,D=e[21]^M,L=e[30]^I,K=e[31]^M,J=e[40]^I,ce=e[41]^M;I=r^(u<<1|p>>>31),M=n^(p<<1|u>>>31);const oe=e[2]^I,Z=e[3]^M,ie=e[12]^I,s=e[13]^M,d=e[22]^I,l=e[23]^M,v=e[32]^I,S=e[33]^M,O=e[42]^I,T=e[43]^M;I=a^(b<<1|m>>>31),M=o^(m<<1|b>>>31);const _=e[4]^I,c=e[5]^M,w=e[14]^I,x=e[15]^M,F=e[24]^I,q=e[25]^M,V=e[34]^I,Y=e[35]^M,Q=e[44]^I,G=e[45]^M;I=u^(y<<1|A>>>31),M=p^(A<<1|y>>>31);const H=e[6]^I,te=e[7]^M,W=e[16]^I,U=e[17]^M,j=e[26]^I,ee=e[27]^M,X=e[36]^I,ne=e[37]^M,de=e[46]^I,re=e[47]^M;I=b^(r<<1|n>>>31),M=m^(n<<1|r>>>31);const ae=e[8]^I,ue=e[9]^M,se=e[18]^I,le=e[19]^M,Re=e[28]^I,he=e[29]^M,fe=e[38]^I,Fe=e[39]^M,me=e[48]^I,pe=e[49]^M,Ue=C,ye=P,be=k<<4|B>>>28,He=B<<4|k>>>28,$e=N<<3|D>>>29,Me=D<<3|N>>>29,qe=K<<9|L>>>23,ge=L<<9|K>>>23,Oe=J<<18|ce>>>14,je=ce<<18|J>>>14,ve=oe<<1|Z>>>31,Pe=Z<<1|oe>>>31,Ke=s<<12|ie>>>20,_e=ie<<12|s>>>20,Ce=d<<10|l>>>22,We=l<<10|d>>>22,Ee=S<<13|v>>>19,xe=v<<13|S>>>19,ze=O<<2|T>>>30,we=T<<2|O>>>30,Ne=c<<30|_>>>2,Ze=_<<30|c>>>2,Se=w<<6|x>>>26,Be=x<<6|w>>>26,Xe=q<<11|F>>>21,Ae=F<<11|q>>>21,ke=V<<15|Y>>>17,Ye=Y<<15|V>>>17,Te=G<<29|Q>>>3,De=Q<<29|G>>>3,Je=H<<28|te>>>4,Ie=te<<28|H>>>4,Le=U<<23|W>>>9,Ve=W<<23|U>>>9,Ge=j<<25|ee>>>7,Qe=ee<<25|j>>>7,et=X<<21|ne>>>11,tt=ne<<21|X>>>11,rt=re<<24|de>>>8,nt=de<<24|re>>>8,it=ae<<27|ue>>>5,ot=ue<<27|ae>>>5,st=se<<20|le>>>12,ct=le<<20|se>>>12,lt=he<<7|Re>>>25,dt=Re<<7|he>>>25,ht=fe<<8|Fe>>>24,ft=Fe<<8|fe>>>24,pt=me<<14|pe>>>18,mt=pe<<14|me>>>18;e[0]=Ue^~Ke&Xe,e[1]=ye^~_e&Ae,e[10]=Je^~st&$e,e[11]=Ie^~ct&Me,e[20]=ve^~Se&Ge,e[21]=Pe^~Be&Qe,e[30]=it^~be&Ce,e[31]=ot^~He&We,e[40]=Ne^~Le&lt,e[41]=Ze^~Ve&dt,e[2]=Ke^~Xe&et,e[3]=_e^~Ae&tt,e[12]=st^~$e&Ee,e[13]=ct^~Me&xe,e[22]=Se^~Ge&ht,e[23]=Be^~Qe&ft,e[32]=be^~Ce&ke,e[33]=He^~We&Ye,e[42]=Le^~lt&qe,e[43]=Ve^~dt&ge,e[4]=Xe^~et&pt,e[5]=Ae^~tt&mt,e[14]=$e^~Ee&Te,e[15]=Me^~xe&De,e[24]=Ge^~ht&Oe,e[25]=Qe^~ft&je,e[34]=Ce^~ke&rt,e[35]=We^~Ye&nt,e[44]=lt^~qe&ze,e[45]=dt^~ge&we,e[6]=et^~pt&Ue,e[7]=tt^~mt&ye,e[16]=Ee^~Te&Je,e[17]=xe^~De&Ie,e[26]=ht^~Oe&ve,e[27]=ft^~je&Pe,e[36]=ke^~rt&it,e[37]=Ye^~nt&ot,e[46]=qe^~ze&Ne,e[47]=ge^~we&Ze,e[8]=pt^~Ue&Ke,e[9]=mt^~ye&_e,e[18]=Te^~Je&st,e[19]=De^~Ie&ct,e[28]=Oe^~ve&Se,e[29]=je^~Pe&Be,e[38]=rt^~it&be,e[39]=nt^~ot&He,e[48]=ze^~Ne&Le,e[49]=we^~Ze&Ve,e[0]^=P1600_ROUND_CONSTANTS[t*2],e[1]^=P1600_ROUND_CONSTANTS[t*2+1]}};const keccakState=keccakStateUnroll;function Keccak$1(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak$1.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},Keccak$1.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0)},Keccak$1.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&keccakState.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),keccakState.p1600(this.state),this.count=0,this.squeezing=!0},Keccak$1.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer$2.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0);return t},Keccak$1.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var keccak$1=Keccak$1,js=api(keccak$1);const keccak=getDefaultExportFromCjs$1(js);var npm={},client={},eventemitter3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(b,m,y){this.fn=b,this.context=m,this.once=y||!1}function o(b,m,y,A,I){if(typeof y!="function")throw new TypeError("The listener must be a function");var M=new a(y,A||b,I),C=r?r+m:m;return b._events[C]?b._events[C].fn?b._events[C]=[b._events[C],M]:b._events[C].push(M):(b._events[C]=M,b._eventsCount++),b}function u(b,m){--b._eventsCount===0?b._events=new n:delete b._events[m]}function p(){this._events=new n,this._eventsCount=0}p.prototype.eventNames=function(){var b=[],m,y;if(this._eventsCount===0)return b;for(y in m=this._events)t.call(m,y)&&b.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(m)):b},p.prototype.listeners=function(b){var m=r?r+b:b,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var A=0,I=y.length,M=new Array(I);A<I;A++)M[A]=y[A].fn;return M},p.prototype.listenerCount=function(b){var m=r?r+b:b,y=this._events[m];return y?y.fn?1:y.length:0},p.prototype.emit=function(b,m,y,A,I,M){var C=r?r+b:b;if(!this._events[C])return!1;var P=this._events[C],B=arguments.length,k,N;if(P.fn){switch(P.once&&this.removeListener(b,P.fn,void 0,!0),B){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,m),!0;case 3:return P.fn.call(P.context,m,y),!0;case 4:return P.fn.call(P.context,m,y,A),!0;case 5:return P.fn.call(P.context,m,y,A,I),!0;case 6:return P.fn.call(P.context,m,y,A,I,M),!0}for(N=1,k=new Array(B-1);N<B;N++)k[N-1]=arguments[N];P.fn.apply(P.context,k)}else{var D=P.length,L;for(N=0;N<D;N++)switch(P[N].once&&this.removeListener(b,P[N].fn,void 0,!0),B){case 1:P[N].fn.call(P[N].context);break;case 2:P[N].fn.call(P[N].context,m);break;case 3:P[N].fn.call(P[N].context,m,y);break;case 4:P[N].fn.call(P[N].context,m,y,A);break;default:if(!k)for(L=1,k=new Array(B-1);L<B;L++)k[L-1]=arguments[L];P[N].fn.apply(P[N].context,k)}}return!0},p.prototype.on=function(b,m,y){return o(this,b,m,y,!1)},p.prototype.once=function(b,m,y){return o(this,b,m,y,!0)},p.prototype.removeListener=function(b,m,y,A){var I=r?r+b:b;if(!this._events[I])return this;if(!m)return u(this,I),this;var M=this._events[I];if(M.fn)M.fn===m&&(!A||M.once)&&(!y||M.context===y)&&u(this,I);else{for(var C=0,P=[],B=M.length;C<B;C++)(M[C].fn!==m||A&&!M[C].once||y&&M[C].context!==y)&&P.push(M[C]);P.length?this._events[I]=P.length===1?P[0]:P:u(this,I)}return this},p.prototype.removeAllListeners=function(b){var m;return b?(m=r?r+b:b,this._events[m]&&u(this,m)):(this._events=new n,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=r,p.EventEmitter=p,e.exports=p})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs$1(eventemitter3Exports);var errors$1={};Object.defineProperty(errors$1,"__esModule",{value:!0}),errors$1.XRPLFaucetError=errors$1.NotFoundError=errors$1.ValidationError=errors$1.ResponseFormatError=errors$1.TimeoutError=errors$1.RippledNotInitializedError=errors$1.DisconnectedError=errors$1.NotConnectedError=errors$1.RippledError=errors$1.ConnectionError=errors$1.UnexpectedError=errors$1.XrplError=void 0;class XrplError extends Error{constructor(t="",r){super(t),this.name=this.constructor.name,this.message=t,this.data=r,Error.captureStackTrace!=null&&Error.captureStackTrace(this,this.constructor)}toString(){let t=`[${this.name}(${this.message}`;return this.data&&(t+=`, ${JSON.stringify(this.data)}`),t+=")]",t}inspect(){return this.toString()}}errors$1.XrplError=XrplError;class RippledError extends XrplError{}errors$1.RippledError=RippledError;class UnexpectedError extends XrplError{}errors$1.UnexpectedError=UnexpectedError;let ConnectionError$1=class extends XrplError{};errors$1.ConnectionError=ConnectionError$1;class NotConnectedError extends ConnectionError$1{}errors$1.NotConnectedError=NotConnectedError;class DisconnectedError extends ConnectionError$1{}errors$1.DisconnectedError=DisconnectedError;class RippledNotInitializedError extends ConnectionError$1{}errors$1.RippledNotInitializedError=RippledNotInitializedError;class TimeoutError extends ConnectionError$1{}errors$1.TimeoutError=TimeoutError;class ResponseFormatError extends ConnectionError$1{}errors$1.ResponseFormatError=ResponseFormatError;class ValidationError extends XrplError{}errors$1.ValidationError=ValidationError;class XRPLFaucetError extends XrplError{}errors$1.XRPLFaucetError=XRPLFaucetError;class NotFoundError extends XrplError{constructor(t="Not found"){super(t)}}errors$1.NotFoundError=NotFoundError;var flags={},AccountRoot={};Object.defineProperty(AccountRoot,"__esModule",{value:!0}),AccountRoot.AccountRootFlags=void 0;var AccountRootFlags;(function(e){e[e.lsfPasswordSpent=65536]="lsfPasswordSpent",e[e.lsfRequireDestTag=131072]="lsfRequireDestTag",e[e.lsfRequireAuth=262144]="lsfRequireAuth",e[e.lsfDisallowXRP=524288]="lsfDisallowXRP",e[e.lsfDisableMaster=1048576]="lsfDisableMaster",e[e.lsfNoFreeze=2097152]="lsfNoFreeze",e[e.lsfGlobalFreeze=4194304]="lsfGlobalFreeze",e[e.lsfDefaultRipple=8388608]="lsfDefaultRipple",e[e.lsfDepositAuth=16777216]="lsfDepositAuth",e[e.lsfAMM=33554432]="lsfAMM",e[e.lsfDisallowIncomingNFTokenOffer=67108864]="lsfDisallowIncomingNFTokenOffer",e[e.lsfDisallowIncomingCheck=134217728]="lsfDisallowIncomingCheck",e[e.lsfDisallowIncomingPayChan=268435456]="lsfDisallowIncomingPayChan",e[e.lsfDisallowIncomingTrustline=536870912]="lsfDisallowIncomingTrustline",e[e.lsfAllowTrustLineClawback=2147483648]="lsfAllowTrustLineClawback"})(AccountRootFlags||(AccountRoot.AccountRootFlags=AccountRootFlags={}));var accountSet={},common$1={},dist$5={},browser$4={},shared={};Object.defineProperty(shared,"__esModule",{value:!0}),shared.equal=shared.concat=shared.HEX_REGEX=void 0;const utils_1$H=utils$o;shared.HEX_REGEX=/^[A-F0-9]*$/iu;function concat(e){return(0,utils_1$H.concatBytes)(...e)}shared.concat=concat;function equal$1(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new Int8Array(e),n=new Int8Array(t);for(let a=0;a!==e.byteLength;a++)if(r[a]!==n[a])return!1;return!0}shared.equal=equal$1,function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(m,y,A,I){I===void 0&&(I=A);var M=Object.getOwnPropertyDescriptor(y,A);(!M||("get"in M?!y.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return y[A]}}),Object.defineProperty(m,I,M)}:function(m,y,A,I){I===void 0&&(I=A),m[I]=y[A]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(m,y){for(var A in m)A!=="default"&&!Object.prototype.hasOwnProperty.call(y,A)&&t(y,m,A)};Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.stringToHex=e.hexToString=e.hexToBytes=e.bytesToHex=void 0;const n=utils$o,a=shared,o=m=>(0,n.bytesToHex)(m instanceof Uint8Array?m:Uint8Array.from(m)).toUpperCase();e.bytesToHex=o;const u=m=>{const y=m.length,A=new Uint8Array(y/2);if(!a.HEX_REGEX.test(m))throw new Error("Invalid hex string");for(let I=0;I<A.length;I++){const M=I*2,C=m.slice(M,M+2),P=Number.parseInt(C,16);if(Number.isNaN(P)||P<0)throw new Error("Invalid byte sequence");A[I]=P}return A};e.hexToBytes=u;const p=(m,y="utf8")=>new TextDecoder(y).decode((0,e.hexToBytes)(m));e.hexToString=p;const b=m=>(0,e.bytesToHex)(new TextEncoder().encode(m));e.stringToHex=b,e.randomBytes=n.randomBytes,r(shared,e)}(browser$4);var xrpCodec={},browser$3={},wrapNoble$1={},normalizeInput$1={};Object.defineProperty(normalizeInput$1,"__esModule",{value:!0});function normalizeInput(e){return Array.isArray(e)?new Uint8Array(e):e}normalizeInput$1.default=normalizeInput;var __importDefault$n=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wrapNoble$1,"__esModule",{value:!0});const normalizeInput_1=__importDefault$n(normalizeInput$1);function wrapNoble(e){function t(r){return e((0,normalizeInput_1.default)(r))}return t.create=()=>{const r=e.create();return{update(n){return r.update((0,normalizeInput_1.default)(n)),this},digest(){return r.digest()}}},t}wrapNoble$1.default=wrapNoble;var __importDefault$m=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(browser$3,"__esModule",{value:!0}),browser$3.sha256=void 0;const sha256_1$1=sha256$3,wrapNoble_1$2=__importDefault$m(wrapNoble$1);browser$3.sha256=(0,wrapNoble_1$2.default)(sha256_1$1.sha256);var utils$a={};Object.defineProperty(utils$a,"__esModule",{value:!0}),utils$a.concatArgs=utils$a.arrayEqual=void 0;function arrayEqual(e,t){return e.length!==t.length?!1:e.every((r,n)=>r===t[n])}utils$a.arrayEqual=arrayEqual;function isScalar(e){return typeof e=="number"}function concatArgs(...e){return e.flatMap(t=>isScalar(t)?[t]:Array.from(t))}utils$a.concatArgs=concatArgs,Object.defineProperty(xrpCodec,"__esModule",{value:!0}),xrpCodec.isValidClassicAddress=xrpCodec.decodeAccountPublic=xrpCodec.encodeAccountPublic=xrpCodec.encodeNodePublic=xrpCodec.decodeNodePublic=xrpCodec.decodeAddress=xrpCodec.decodeAccountID=xrpCodec.encodeAddress=xrpCodec.encodeAccountID=xrpCodec.decodeSeed=xrpCodec.encodeSeed=xrpCodec.codec=void 0;const base_1=lib$1,sha256_1=browser$3,utils_1$G=utils$a;class Codec{constructor(t){this._sha256=t.sha256,this._codec=base_1.base58xrp}encode(t,r){const n=r.versions;return this._encodeVersioned(t,n,r.expectedLength)}decode(t,r){var n;const a=r.versions,o=r.versionTypes,u=this.decodeChecked(t);if(a.length>1&&!r.expectedLength)throw new Error("expectedLength is required because there are >= 2 possible versions");const p=typeof a[0]=="number"?1:a[0].length,b=(n=r.expectedLength)!==null&&n!==void 0?n:u.length-p,m=u.slice(0,-b),y=u.slice(-b);for(let A=0;A<a.length;A++){const I=Array.isArray(a[A])?a[A]:[a[A]];if((0,utils_1$G.arrayEqual)(m,I))return{version:I,bytes:y,type:o?o[A]:null}}throw new Error("version_invalid: version bytes do not match any of the provided version(s)")}encodeChecked(t){const r=this._sha256(this._sha256(t)).slice(0,4);return this._encodeRaw(Uint8Array.from((0,utils_1$G.concatArgs)(t,r)))}decodeChecked(t){const r=this._decodeRaw(t);if(r.byteLength<5)throw new Error("invalid_input_size: decoded data must have length >= 5");if(!this._verifyCheckSum(r))throw new Error("checksum_invalid");return r.slice(0,-4)}_encodeVersioned(t,r,n){if(!checkByteLength(t,n))throw new Error("unexpected_payload_length: bytes.length does not match expectedLength. Ensure that the bytes are a Uint8Array.");return this.encodeChecked((0,utils_1$G.concatArgs)(r,t))}_encodeRaw(t){return this._codec.encode(Uint8Array.from(t))}_decodeRaw(t){return this._codec.decode(t)}_verifyCheckSum(t){const r=this._sha256(this._sha256(t.slice(0,-4))).slice(0,4),n=t.slice(-4);return(0,utils_1$G.arrayEqual)(r,n)}}const ACCOUNT_ID=0,ACCOUNT_PUBLIC_KEY=35,FAMILY_SEED=33,NODE_PUBLIC=28,ED25519_SEED=[1,225,75],codecOptions={sha256:sha256_1.sha256},codecWithXrpAlphabet=new Codec(codecOptions);xrpCodec.codec=codecWithXrpAlphabet;function encodeSeed(e,t){if(!checkByteLength(e,16))throw new Error("entropy must have length 16");const r={expectedLength:16,versions:t==="ed25519"?ED25519_SEED:[FAMILY_SEED]};return codecWithXrpAlphabet.encode(e,r)}xrpCodec.encodeSeed=encodeSeed;function decodeSeed(e,t={versionTypes:["ed25519","secp256k1"],versions:[ED25519_SEED,FAMILY_SEED],expectedLength:16}){return codecWithXrpAlphabet.decode(e,t)}xrpCodec.decodeSeed=decodeSeed;function encodeAccountID(e){const t={versions:[ACCOUNT_ID],expectedLength:20};return codecWithXrpAlphabet.encode(e,t)}xrpCodec.encodeAccountID=encodeAccountID,xrpCodec.encodeAddress=encodeAccountID;function decodeAccountID(e){const t={versions:[ACCOUNT_ID],expectedLength:20};return codecWithXrpAlphabet.decode(e,t).bytes}xrpCodec.decodeAccountID=decodeAccountID,xrpCodec.decodeAddress=decodeAccountID;function decodeNodePublic(e){const t={versions:[NODE_PUBLIC],expectedLength:33};return codecWithXrpAlphabet.decode(e,t).bytes}xrpCodec.decodeNodePublic=decodeNodePublic;function encodeNodePublic(e){const t={versions:[NODE_PUBLIC],expectedLength:33};return codecWithXrpAlphabet.encode(e,t)}xrpCodec.encodeNodePublic=encodeNodePublic;function encodeAccountPublic(e){const t={versions:[ACCOUNT_PUBLIC_KEY],expectedLength:33};return codecWithXrpAlphabet.encode(e,t)}xrpCodec.encodeAccountPublic=encodeAccountPublic;function decodeAccountPublic(e){const t={versions:[ACCOUNT_PUBLIC_KEY],expectedLength:33};return codecWithXrpAlphabet.decode(e,t).bytes}xrpCodec.decodeAccountPublic=decodeAccountPublic;function isValidClassicAddress(e){try{decodeAccountID(e)}catch{return!1}return!0}xrpCodec.isValidClassicAddress=isValidClassicAddress;function checkByteLength(e,t){return"byteLength"in e?e.byteLength===t:e.length===t}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isValidXAddress=e.decodeXAddress=e.xAddressToClassicAddress=e.encodeXAddress=e.classicAddressToXAddress=e.isValidClassicAddress=e.decodeAccountPublic=e.encodeAccountPublic=e.decodeNodePublic=e.encodeNodePublic=e.decodeAccountID=e.encodeAccountID=e.decodeSeed=e.encodeSeed=e.codec=void 0;const t=browser$4,r=xrpCodec;Object.defineProperty(e,"codec",{enumerable:!0,get:function(){return r.codec}}),Object.defineProperty(e,"encodeSeed",{enumerable:!0,get:function(){return r.encodeSeed}}),Object.defineProperty(e,"decodeSeed",{enumerable:!0,get:function(){return r.decodeSeed}}),Object.defineProperty(e,"encodeAccountID",{enumerable:!0,get:function(){return r.encodeAccountID}}),Object.defineProperty(e,"decodeAccountID",{enumerable:!0,get:function(){return r.decodeAccountID}}),Object.defineProperty(e,"encodeNodePublic",{enumerable:!0,get:function(){return r.encodeNodePublic}}),Object.defineProperty(e,"decodeNodePublic",{enumerable:!0,get:function(){return r.decodeNodePublic}}),Object.defineProperty(e,"encodeAccountPublic",{enumerable:!0,get:function(){return r.encodeAccountPublic}}),Object.defineProperty(e,"decodeAccountPublic",{enumerable:!0,get:function(){return r.decodeAccountPublic}}),Object.defineProperty(e,"isValidClassicAddress",{enumerable:!0,get:function(){return r.isValidClassicAddress}});const n={main:Uint8Array.from([5,68]),test:Uint8Array.from([4,147])},a=4294967295;function o(I,M,C){const P=(0,r.decodeAccountID)(I);return u(P,M,C)}e.classicAddressToXAddress=o;function u(I,M,C){if(I.length!==20)throw new Error("Account ID must be 20 bytes");if(M!==!1&&M>a)throw new Error("Invalid tag");const P=M||0,B=M===!1||M==null?0:1,k=(0,t.concat)([C?n.test:n.main,I,Uint8Array.from([B,P&255,P>>8&255,P>>16&255,P>>24&255,0,0,0,0])]);return r.codec.encodeChecked(k)}e.encodeXAddress=u;function p(I){const{accountId:M,tag:C,test:P}=b(I);return{classicAddress:(0,r.encodeAccountID)(M),tag:C,test:P}}e.xAddressToClassicAddress=p;function b(I){const M=r.codec.decodeChecked(I),C=m(M),P=M.slice(2,22),B=y(M);return{accountId:P,tag:B,test:C}}e.decodeXAddress=b;function m(I){const M=I.slice(0,2);if((0,t.equal)(n.main,M))return!1;if((0,t.equal)(n.test,M))return!0;throw new Error("Invalid X-address: bad prefix")}function y(I){const M=I[22];if(M>=2)throw new Error("Unsupported X-address");if(M===1)return I[23]+I[24]*256+I[25]*65536+I[26]*16777216;if(M!==0)throw new Error("flag must be zero to indicate no tag");if(!(0,t.equal)((0,t.hexToBytes)("0000000000000000"),I.slice(23,31)))throw new Error("remaining bytes must be zero");return!1}function A(I){try{b(I)}catch{return!1}return!0}e.isValidXAddress=A})(dist$5);var dist$4={},coretypes={},enums={};const TYPES$1={Done:-1,Unknown:-2,NotPresent:0,UInt16:1,UInt32:2,UInt64:3,Hash128:4,Hash256:5,Amount:6,Blob:7,AccountID:8,STObject:14,STArray:15,UInt8:16,Hash160:17,PathSet:18,Vector256:19,UInt96:20,UInt192:21,UInt384:22,UInt512:23,Issue:24,XChainBridge:25,Currency:26,Transaction:10001,LedgerEntry:10002,Validation:10003,Metadata:10004},LEDGER_ENTRY_TYPES={Invalid:-1,AccountRoot:97,DirectoryNode:100,RippleState:114,Ticket:84,SignerList:83,Offer:111,Bridge:105,LedgerHashes:104,Amendments:102,XChainOwnedClaimID:113,XChainOwnedCreateAccountClaimID:116,FeeSettings:115,Escrow:117,PayChannel:120,Check:67,DepositPreauth:112,NegativeUNL:78,NFTokenPage:80,NFTokenOffer:55,AMM:121,DID:73,Oracle:128,Any:-3,Child:-2,Nickname:110,Contract:99,GeneratorMap:103},FIELDS=[["Generic",{nth:0,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["Invalid",{nth:-1,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["ObjectEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ArrayEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["hash",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["index",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["taker_gets_funded",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["taker_pays_funded",{nth:259,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["LedgerEntry",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"LedgerEntry"}],["Transaction",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Transaction"}],["Validation",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Validation"}],["Metadata",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Metadata"}],["CloseResolution",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["Method",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TransactionResult",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["Scale",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TickSize",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["UNLModifyDisabling",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["HookResult",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["WasLockingChainSend",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["LedgerEntryType",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransactionType",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["SignerWeight",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransferFee",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TradingFee",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["DiscountedFee",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Version",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookStateChangeCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookEmitCount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookExecutionIndex",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookApiVersion",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["NetworkID",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Flags",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SourceTag",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Sequence",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["PreviousTxnLgrSeq",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LedgerSequence",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CloseTime",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ParentCloseTime",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SigningTime",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Expiration",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransferRate",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["WalletSize",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OwnerCount",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["DestinationTag",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LastUpdateTime",{nth:15,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityIn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityOut",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityIn",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityOut",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityIn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityOut",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["StampEscrow",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BondAmount",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LoadFee",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OfferSequence",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FirstLedgerSequence",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LastLedgerSequence",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransactionIndex",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OperationLimit",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReferenceFeeUnits",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveBase",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveIncrement",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SetFlag",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ClearFlag",{nth:34,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerQuorum",{nth:35,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CancelAfter",{nth:36,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FinishAfter",{nth:37,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerListID",{nth:38,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SettleDelay",{nth:39,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketCount",{nth:40,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketSequence",{nth:41,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["NFTokenTaxon",{nth:42,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["MintedNFTokens",{nth:43,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BurnedNFTokens",{nth:44,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HookStateCount",{nth:45,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["EmitGeneration",{nth:46,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["VoteWeight",{nth:48,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FirstNFTokenSequence",{nth:50,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OracleDocumentID",{nth:51,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["IndexNext",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["IndexPrevious",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BookNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["OwnerNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BaseFee",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ExchangeRate",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["LowNode",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HighNode",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["DestinationNode",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["Cookie",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ServerVersion",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["NFTokenOfferNode",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmitBurden",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookOn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookInstructionCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookReturnCode",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ReferenceCount",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["XChainClaimID",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["XChainAccountCreateCount",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["XChainAccountClaimCount",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["AssetPrice",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmailHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash128"}],["TakerPaysCurrency",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerPaysIssuer",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsCurrency",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsIssuer",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["LedgerHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ParentHash",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["TransactionHash",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountHash",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousTxnID",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["LedgerIndex",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["WalletLocator",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["RootIndex",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountTxnID",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenID",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitParentTxnID",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitNonce",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitHookHash",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AMMID",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["BookDirectory",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["InvoiceID",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Nickname",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amendment",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Digest",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Channel",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ConsensusHash",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["CheckID",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ValidatedHash",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousPageMin",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NextPageMin",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenBuyOffer",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenSellOffer",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookStateKey",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookHash",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookNamespace",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookSetTxnID",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amount",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Balance",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LimitAmount",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerPays",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerGets",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LowLimit",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["HighLimit",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Fee",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["SendMax",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliverMin",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Amount2",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["BidMin",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["BidMax",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["MinimumOffer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["RippleEscrow",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliveredAmount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["NFTokenBrokerFee",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["BaseFeeDrops",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["ReserveBaseDrops",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["ReserveIncrementDrops",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LPTokenOut",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LPTokenIn",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["EPrice",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Price",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["SignatureReward",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["MinAccountCreateAmount",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LPTokenBalance",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["PublicKey",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MessageKey",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["SigningPubKey",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["TxnSignature",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["URI",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Signature",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["Domain",{nth:7,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["FundCode",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["RemoveCode",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ExpireCode",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["CreateCode",{nth:11,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoType",{nth:12,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoData",{nth:13,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoFormat",{nth:14,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Fulfillment",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Condition",{nth:17,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MasterSignature",{nth:18,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["UNLModifyValidator",{nth:19,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToDisable",{nth:20,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToReEnable",{nth:21,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookStateData",{nth:22,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookReturnString",{nth:23,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterName",{nth:24,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterValue",{nth:25,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["DIDDocument",{nth:26,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Data",{nth:27,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["AssetClass",{nth:28,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Provider",{nth:29,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Account",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Owner",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Destination",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Issuer",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Authorize",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Unauthorize",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["RegularKey",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["NFTokenMinter",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["EmitCallback",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["HookAccount",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["OtherChainSource",{nth:18,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["OtherChainDestination",{nth:19,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["AttestationSignerAccount",{nth:20,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["AttestationRewardAccount",{nth:21,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["LockingChainDoor",{nth:22,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["IssuingChainDoor",{nth:23,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Indexes",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Hashes",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Amendments",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["NFTokenOffers",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Paths",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"PathSet"}],["BaseAsset",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Currency"}],["QuoteAsset",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Currency"}],["LockingChainIssue",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Issue"}],["IssuingChainIssue",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Issue"}],["Asset",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Issue"}],["Asset2",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Issue"}],["XChainBridge",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"XChainBridge"}],["TransactionMetaData",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["CreatedNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DeletedNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ModifiedNode",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["PreviousFields",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["FinalFields",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NewFields",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["TemplateEntry",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Memo",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["SignerEntry",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NFToken",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmitDetails",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Hook",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Majority",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DisabledValidator",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmittedTxn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookExecution",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookDefinition",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookParameter",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookGrant",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["VoteEntry",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["AuctionSlot",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["AuthAccount",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["XChainClaimProofSig",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["XChainCreateAccountProofSig",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["XChainClaimAttestationCollectionElement",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["XChainCreateAccountAttestationCollectionElement",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["PriceData",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signers",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!1,type:"STArray"}],["SignerEntries",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Template",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Necessary",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Sufficient",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["AffectedNodes",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Memos",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["NFTokens",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Hooks",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["VoteSlots",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Majorities",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["DisabledValidators",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookExecutions",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookParameters",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookGrants",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["XChainClaimAttestations",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["XChainCreateAccountAttestations",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["PriceDataSeries",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["AuthAccounts",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}]],TRANSACTION_RESULTS={telLOCAL_ERROR:-399,telBAD_DOMAIN:-398,telBAD_PATH_COUNT:-397,telBAD_PUBLIC_KEY:-396,telFAILED_PROCESSING:-395,telINSUF_FEE_P:-394,telNO_DST_PARTIAL:-393,telCAN_NOT_QUEUE:-392,telCAN_NOT_QUEUE_BALANCE:-391,telCAN_NOT_QUEUE_BLOCKS:-390,telCAN_NOT_QUEUE_BLOCKED:-389,telCAN_NOT_QUEUE_FEE:-388,telCAN_NOT_QUEUE_FULL:-387,telWRONG_NETWORK:-386,telREQUIRES_NETWORK_ID:-385,telNETWORK_ID_MAKES_TX_NON_CANONICAL:-384,telENV_RPC_FAILED:-383,temMALFORMED:-299,temBAD_AMOUNT:-298,temBAD_CURRENCY:-297,temBAD_EXPIRATION:-296,temBAD_FEE:-295,temBAD_ISSUER:-294,temBAD_LIMIT:-293,temBAD_OFFER:-292,temBAD_PATH:-291,temBAD_PATH_LOOP:-290,temBAD_REGKEY:-289,temBAD_SEND_XRP_LIMIT:-288,temBAD_SEND_XRP_MAX:-287,temBAD_SEND_XRP_NO_DIRECT:-286,temBAD_SEND_XRP_PARTIAL:-285,temBAD_SEND_XRP_PATHS:-284,temBAD_SEQUENCE:-283,temBAD_SIGNATURE:-282,temBAD_SRC_ACCOUNT:-281,temBAD_TRANSFER_RATE:-280,temDST_IS_SRC:-279,temDST_NEEDED:-278,temINVALID:-277,temINVALID_FLAG:-276,temREDUNDANT:-275,temRIPPLE_EMPTY:-274,temDISABLED:-273,temBAD_SIGNER:-272,temBAD_QUORUM:-271,temBAD_WEIGHT:-270,temBAD_TICK_SIZE:-269,temINVALID_ACCOUNT_ID:-268,temCANNOT_PREAUTH_SELF:-267,temINVALID_COUNT:-266,temUNCERTAIN:-265,temUNKNOWN:-264,temSEQ_AND_TICKET:-263,temBAD_NFTOKEN_TRANSFER_FEE:-262,temBAD_AMM_TOKENS:-261,temXCHAIN_EQUAL_DOOR_ACCOUNTS:-260,temXCHAIN_BAD_PROOF:-259,temXCHAIN_BRIDGE_BAD_ISSUES:-258,temXCHAIN_BRIDGE_NONDOOR_OWNER:-257,temXCHAIN_BRIDGE_BAD_MIN_ACCOUNT_CREATE_AMOUNT:-256,temXCHAIN_BRIDGE_BAD_REWARD_AMOUNT:-255,temEMPTY_DID:-254,temARRAY_EMPTY:-253,temARRAY_TOO_LARGE:-252,tefFAILURE:-199,tefALREADY:-198,tefBAD_ADD_AUTH:-197,tefBAD_AUTH:-196,tefBAD_LEDGER:-195,tefCREATED:-194,tefEXCEPTION:-193,tefINTERNAL:-192,tefNO_AUTH_REQUIRED:-191,tefPAST_SEQ:-190,tefWRONG_PRIOR:-189,tefMASTER_DISABLED:-188,tefMAX_LEDGER:-187,tefBAD_SIGNATURE:-186,tefBAD_QUORUM:-185,tefNOT_MULTI_SIGNING:-184,tefBAD_AUTH_MASTER:-183,tefINVARIANT_FAILED:-182,tefTOO_BIG:-181,tefNO_TICKET:-180,tefNFTOKEN_IS_NOT_TRANSFERABLE:-179,terRETRY:-99,terFUNDS_SPENT:-98,terINSUF_FEE_B:-97,terNO_ACCOUNT:-96,terNO_AUTH:-95,terNO_LINE:-94,terOWNERS:-93,terPRE_SEQ:-92,terLAST:-91,terNO_RIPPLE:-90,terQUEUED:-89,terPRE_TICKET:-88,terNO_AMM:-87,tesSUCCESS:0,tecCLAIM:100,tecPATH_PARTIAL:101,tecUNFUNDED_ADD:102,tecUNFUNDED_OFFER:103,tecUNFUNDED_PAYMENT:104,tecFAILED_PROCESSING:105,tecDIR_FULL:121,tecINSUF_RESERVE_LINE:122,tecINSUF_RESERVE_OFFER:123,tecNO_DST:124,tecNO_DST_INSUF_XRP:125,tecNO_LINE_INSUF_RESERVE:126,tecNO_LINE_REDUNDANT:127,tecPATH_DRY:128,tecUNFUNDED:129,tecNO_ALTERNATIVE_KEY:130,tecNO_REGULAR_KEY:131,tecOWNERS:132,tecNO_ISSUER:133,tecNO_AUTH:134,tecNO_LINE:135,tecINSUFF_FEE:136,tecFROZEN:137,tecNO_TARGET:138,tecNO_PERMISSION:139,tecNO_ENTRY:140,tecINSUFFICIENT_RESERVE:141,tecNEED_MASTER_KEY:142,tecDST_TAG_NEEDED:143,tecINTERNAL:144,tecOVERSIZE:145,tecCRYPTOCONDITION_ERROR:146,tecINVARIANT_FAILED:147,tecEXPIRED:148,tecDUPLICATE:149,tecKILLED:150,tecHAS_OBLIGATIONS:151,tecTOO_SOON:152,tecHOOK_REJECTED:153,tecMAX_SEQUENCE_REACHED:154,tecNO_SUITABLE_NFTOKEN_PAGE:155,tecNFTOKEN_BUY_SELL_MISMATCH:156,tecNFTOKEN_OFFER_TYPE_MISMATCH:157,tecCANT_ACCEPT_OWN_NFTOKEN_OFFER:158,tecINSUFFICIENT_FUNDS:159,tecOBJECT_NOT_FOUND:160,tecINSUFFICIENT_PAYMENT:161,tecUNFUNDED_AMM:162,tecAMM_BALANCE:163,tecAMM_FAILED:164,tecAMM_INVALID_TOKENS:165,tecAMM_EMPTY:166,tecAMM_NOT_EMPTY:167,tecAMM_ACCOUNT:168,tecINCOMPLETE:169,tecXCHAIN_BAD_TRANSFER_ISSUE:170,tecXCHAIN_NO_CLAIM_ID:171,tecXCHAIN_BAD_CLAIM_ID:172,tecXCHAIN_CLAIM_NO_QUORUM:173,tecXCHAIN_PROOF_UNKNOWN_KEY:174,tecXCHAIN_CREATE_ACCOUNT_NONXRP_ISSUE:175,tecXCHAIN_WRONG_CHAIN:176,tecXCHAIN_REWARD_MISMATCH:177,tecXCHAIN_NO_SIGNERS_LIST:178,tecXCHAIN_SENDING_ACCOUNT_MISMATCH:179,tecXCHAIN_INSUFF_CREATE_AMOUNT:180,tecXCHAIN_ACCOUNT_CREATE_PAST:181,tecXCHAIN_ACCOUNT_CREATE_TOO_MANY:182,tecXCHAIN_PAYMENT_FAILED:183,tecXCHAIN_SELF_COMMIT:184,tecXCHAIN_BAD_PUBLIC_KEY_ACCOUNT_PAIR:185,tecXCHAIN_CREATE_ACCOUNT_DISABLED:186,tecEMPTY_DID:187,tecINVALID_UPDATE_TIME:188,tecTOKEN_PAIR_NOT_FOUND:189,tecARRAY_EMPTY:190,tecARRAY_TOO_LARGE:191},TRANSACTION_TYPES={Invalid:-1,Payment:0,EscrowCreate:1,EscrowFinish:2,AccountSet:3,EscrowCancel:4,SetRegularKey:5,NickNameSet:6,OfferCreate:7,OfferCancel:8,Contract:9,TicketCreate:10,TicketCancel:11,SignerListSet:12,PaymentChannelCreate:13,PaymentChannelFund:14,PaymentChannelClaim:15,CheckCreate:16,CheckCash:17,CheckCancel:18,DepositPreauth:19,TrustSet:20,AccountDelete:21,SetHook:22,NFTokenMint:25,NFTokenBurn:26,NFTokenCreateOffer:27,NFTokenCancelOffer:28,NFTokenAcceptOffer:29,Clawback:30,AMMCreate:35,AMMDeposit:36,AMMWithdraw:37,AMMVote:38,AMMBid:39,AMMDelete:40,XChainCreateClaimID:41,XChainCommit:42,XChainClaim:43,XChainAccountCreateCommit:44,XChainAddClaimAttestation:45,XChainAddAccountCreateAttestation:46,XChainModifyBridge:47,XChainCreateBridge:48,DIDSet:49,DIDDelete:50,OracleSet:51,OracleDelete:52,EnableAmendment:100,SetFee:101,UNLModify:102},require$$0={TYPES:TYPES$1,LEDGER_ENTRY_TYPES,FIELDS,TRANSACTION_RESULTS,TRANSACTION_TYPES};var xrplDefinitionsBase={},bytes$2={};Object.defineProperty(bytes$2,"__esModule",{value:!0}),bytes$2.BytesLookup=bytes$2.Bytes=void 0;class Bytes{constructor(t,r,n){this.name=t,this.ordinal=r,this.ordinalWidth=n,this.bytes=new Uint8Array(n);for(let a=0;a<n;a++)this.bytes[n-a-1]=r>>>a*8&255}toJSON(){return this.name}toBytesSink(t){t.put(this.bytes)}toBytes(){return this.bytes}}bytes$2.Bytes=Bytes;class BytesLookup{constructor(t,r){this.ordinalWidth=r,Object.entries(t).forEach(([n,a])=>{this.add(n,a)})}add(t,r){if(this[t])throw new SyntaxError(`Attempted to add a value with a duplicate name "${t}". This is not allowed because it is unclear how to decode.`);if(this[r.toString()])throw new SyntaxError(`Attempted to add a duplicate value under a different name (Given name: "${t}" and previous name: "${this[r.toString()]}. This is not allowed because it is unclear how to decode.
Given value: ${r.toString()}`);this[t]=new Bytes(t,r,this.ordinalWidth),this[r.toString()]=this[t]}from(t){return t instanceof Bytes?t:this[t]}fromParser(t){return this.from(t.readUIntN(this.ordinalWidth).toString())}}bytes$2.BytesLookup=BytesLookup;var field={},serializedType={},binarySerializer={};Object.defineProperty(binarySerializer,"__esModule",{value:!0}),binarySerializer.BinarySerializer=binarySerializer.BytesList=void 0;const utils_1$F=browser$4;class BytesList{constructor(){this.bytesArray=[]}getLength(){return(0,utils_1$F.concat)(this.bytesArray).byteLength}put(t){const r=Uint8Array.from(t);return this.bytesArray.push(r),this}toBytesSink(t){t.put(this.toBytes())}toBytes(){return(0,utils_1$F.concat)(this.bytesArray)}toHex(){return(0,utils_1$F.bytesToHex)(this.toBytes())}}binarySerializer.BytesList=BytesList;class BinarySerializer{constructor(t){this.sink=new BytesList,this.sink=t}write(t){t.toBytesSink(this.sink)}put(t){this.sink.put(t)}writeType(t,r){this.write(t.from(r))}writeBytesList(t){t.toBytesSink(this.sink)}encodeVariableLength(t){const r=new Uint8Array(3);if(t<=192)return r[0]=t,r.slice(0,1);if(t<=12480)return t-=193,r[0]=193+(t>>>8),r[1]=t&255,r.slice(0,2);if(t<=918744)return t-=12481,r[0]=241+(t>>>16),r[1]=t>>8&255,r[2]=t&255,r.slice(0,3);throw new Error("Overflow error")}writeFieldAndValue(t,r,n=!1){const a=t.associatedType.from(r);if(a.toBytesSink===void 0||t.name===void 0)throw new Error;this.sink.put(t.header),t.isVariableLengthEncoded?this.writeLengthEncoded(a,n):a.toBytesSink(this.sink)}writeLengthEncoded(t,r=!1){const n=new BytesList;r||t.toBytesSink(n),this.put(this.encodeVariableLength(n.getLength())),this.writeBytesList(n)}}binarySerializer.BinarySerializer=BinarySerializer,Object.defineProperty(serializedType,"__esModule",{value:!0}),serializedType.Comparable=serializedType.SerializedType=void 0;const binary_serializer_1$2=binarySerializer,utils_1$E=browser$4;class SerializedType{constructor(t){this.bytes=new Uint8Array(0),this.bytes=t??new Uint8Array(0)}static fromParser(t,r){throw new Error("fromParser not implemented")}static from(t){throw new Error("from not implemented")}toBytesSink(t){t.put(this.bytes)}toHex(){return(0,utils_1$E.bytesToHex)(this.toBytes())}toBytes(){if(this.bytes)return this.bytes;const t=new binary_serializer_1$2.BytesList;return this.toBytesSink(t),t.toBytes()}toJSON(t){return this.toHex()}toString(){return this.toHex()}}serializedType.SerializedType=SerializedType;class Comparable extends SerializedType{lt(t){return this.compareTo(t)<0}eq(t){return this.compareTo(t)===0}gt(t){return this.compareTo(t)>0}gte(t){return this.compareTo(t)>-1}lte(t){return this.compareTo(t)<1}compareTo(t){throw new Error(`cannot compare ${this.toString()} and ${t.toString()}`)}}serializedType.Comparable=Comparable;var constants={};Object.defineProperty(constants,"__esModule",{value:!0}),constants.TRANSACTION_RESULT_WIDTH=constants.TRANSACTION_TYPE_WIDTH=constants.LEDGER_ENTRY_WIDTH=constants.TYPE_WIDTH=void 0,constants.TYPE_WIDTH=2,constants.LEDGER_ENTRY_WIDTH=2,constants.TRANSACTION_TYPE_WIDTH=2,constants.TRANSACTION_RESULT_WIDTH=1,Object.defineProperty(field,"__esModule",{value:!0}),field.FieldLookup=void 0;const bytes_1=bytes$2,serialized_type_1$8=serializedType,constants_1=constants;function fieldHeader(e,t){const r=[];return e<16?t<16?r.push(e<<4|t):r.push(e<<4,t):t<16?r.push(t,e):r.push(0,e,t),Uint8Array.from(r)}function buildField([e,t],r){const n=fieldHeader(r,t.nth);return{name:e,nth:t.nth,isVariableLengthEncoded:t.isVLEncoded,isSerialized:t.isSerialized,isSigningField:t.isSigningField,ordinal:r<<16|t.nth,type:new bytes_1.Bytes(t.type,r,constants_1.TYPE_WIDTH),header:n,associatedType:serialized_type_1$8.SerializedType}}class FieldLookup{constructor(t,r){t.forEach(([n,a])=>{const o=r[a.type];this[n]=buildField([n,a],o),this[this[n].ordinal.toString()]=this[n]})}fromString(t){return this[t]}}field.FieldLookup=FieldLookup,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BytesLookup=e.Bytes=e.FieldLookup=e.XrplDefinitionsBase=void 0;const t=bytes$2;Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return t.Bytes}}),Object.defineProperty(e,"BytesLookup",{enumerable:!0,get:function(){return t.BytesLookup}});const r=field;Object.defineProperty(e,"FieldLookup",{enumerable:!0,get:function(){return r.FieldLookup}});const n=constants;class a{constructor(u,p){this.type=new t.BytesLookup(u.TYPES,n.TYPE_WIDTH),this.ledgerEntryType=new t.BytesLookup(u.LEDGER_ENTRY_TYPES,n.LEDGER_ENTRY_WIDTH),this.transactionType=new t.BytesLookup(u.TRANSACTION_TYPES,n.TRANSACTION_TYPE_WIDTH),this.transactionResult=new t.BytesLookup(u.TRANSACTION_RESULTS,n.TRANSACTION_RESULT_WIDTH),this.field=new r.FieldLookup(u.FIELDS,u.TYPES),this.transactionNames=Object.entries(u.TRANSACTION_TYPES).filter(([b,m])=>m>=0).map(([b,m])=>b),this.dataTypes={},this.associateTypes(p)}associateTypes(u){this.dataTypes=Object.assign({},this.dataTypes,u),Object.values(this.field).forEach(p=>{p.associatedType=this.dataTypes[p.type.name]}),this.field.TransactionType.associatedType=this.transactionType,this.field.TransactionResult.associatedType=this.transactionResult,this.field.LedgerEntryType.associatedType=this.ledgerEntryType}getAssociatedTypes(){return this.dataTypes}}e.XrplDefinitionsBase=a}(xrplDefinitionsBase),function(e){var t=commonjsGlobal&&commonjsGlobal.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.TRANSACTION_TYPES=e.TransactionType=e.TransactionResult=e.LedgerEntryType=e.Type=e.Field=e.DEFAULT_DEFINITIONS=e.XrplDefinitionsBase=e.Bytes=void 0;const r=t(require$$0),n=xrplDefinitionsBase;Object.defineProperty(e,"XrplDefinitionsBase",{enumerable:!0,get:function(){return n.XrplDefinitionsBase}}),Object.defineProperty(e,"Bytes",{enumerable:!0,get:function(){return n.Bytes}});const a=new n.XrplDefinitionsBase(r.default,{});e.DEFAULT_DEFINITIONS=a;const o=a.type;e.Type=o;const u=a.ledgerEntryType;e.LedgerEntryType=u;const p=a.transactionType;e.TransactionType=p;const b=a.transactionResult;e.TransactionResult=b;const m=a.field;e.Field=m;const y=a.transactionNames;e.TRANSACTION_TYPES=y}(enums);var types$5={},accountId={},hash160={},hash$2={},utils$9={};Object.defineProperty(utils$9,"__esModule",{value:!0}),utils$9.compare=utils$9.equal=utils$9.readUInt32BE=utils$9.readUInt16BE=utils$9.writeUInt32BE=utils$9.writeUInt16BE=utils$9.writeUInt8=void 0;function writeUInt8(e,t,r){t=Number(t),e[r]=t}utils$9.writeUInt8=writeUInt8;function writeUInt16BE(e,t,r){t=Number(t),e[r]=t>>>8,e[r+1]=t}utils$9.writeUInt16BE=writeUInt16BE;function writeUInt32BE(e,t,r){e[r]=t>>>24&255,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}utils$9.writeUInt32BE=writeUInt32BE;function readUInt16BE(e,t){return new DataView(e.buffer).getUint16(t,!1).toString(10)}utils$9.readUInt16BE=readUInt16BE;function readUInt32BE(e,t){return new DataView(e.buffer).getUint32(t,!1).toString(10)}utils$9.readUInt32BE=readUInt32BE;function equal(e,t){const r=e instanceof ArrayBuffer?new Uint8Array(e,0):e,n=t instanceof ArrayBuffer?new Uint8Array(t,0):t;return r.byteLength!=n.byteLength?!1:aligned32(r)&&aligned32(n)?compare32(r,n)===0:aligned16(r)&&aligned16(n)?compare16(r,n)===0:compare8(r,n)===0}utils$9.equal=equal;function compare8(e,t){const r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return compare$1(r,n)}function compare16(e,t){const r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);return compare$1(r,n)}function compare32(e,t){const r=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),n=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4);return compare$1(r,n)}function compare$1(e,t){if(e.byteLength!==t.byteLength)throw new Error("Cannot compare arrays of different length");for(let r=0;r<e.length-1;r+=1){if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}utils$9.compare=compare$1;function aligned16(e){return e.byteOffset%2===0&&e.byteLength%2===0}function aligned32(e){return e.byteOffset%4===0&&e.byteLength%4===0}Object.defineProperty(hash$2,"__esModule",{value:!0}),hash$2.Hash=void 0;const serialized_type_1$7=serializedType,utils_1$D=browser$4,utils_2$5=utils$9;let Hash$1=class extends serialized_type_1$7.Comparable{constructor(e){if(super(e),this.bytes.length!==this.constructor.width)throw new Error(`Invalid Hash length ${this.bytes.byteLength}`)}static from(e){if(e instanceof this)return e;if(typeof e=="string")return new this((0,utils_1$D.hexToBytes)(e));throw new Error("Cannot construct Hash from given value")}static fromParser(e,t){return new this(e.read(t??this.width))}compareTo(e){return(0,utils_2$5.compare)(this.bytes,this.constructor.from(e).bytes)}toString(){return this.toHex()}nibblet(e){const t=e>0?e/2|0:0;let r=this.bytes[t];return e%2===0?r=(r&240)>>>4:r=r&15,r}};hash$2.Hash=Hash$1,Object.defineProperty(hash160,"__esModule",{value:!0}),hash160.Hash160=void 0;const hash_1$2=hash$2;class Hash160 extends hash_1$2.Hash{constructor(t){t&&t.byteLength===0&&(t=Hash160.ZERO_160.bytes),super(t??Hash160.ZERO_160.bytes)}}hash160.Hash160=Hash160,Hash160.width=20,Hash160.ZERO_160=new Hash160(new Uint8Array(Hash160.width)),Object.defineProperty(accountId,"__esModule",{value:!0}),accountId.AccountID=void 0;const ripple_address_codec_1$7=dist$5,hash_160_1$1=hash160,utils_1$C=browser$4,HEX_REGEX$3=/^[A-F0-9]{40}$/;class AccountID extends hash_160_1$1.Hash160{constructor(t){super(t??AccountID.defaultAccountID.bytes)}static from(t){if(t instanceof AccountID)return t;if(typeof t=="string")return t===""?new AccountID:HEX_REGEX$3.test(t)?new AccountID((0,utils_1$C.hexToBytes)(t)):this.fromBase58(t);throw new Error("Cannot construct AccountID from value given")}static fromBase58(t){if((0,ripple_address_codec_1$7.isValidXAddress)(t)){const r=(0,ripple_address_codec_1$7.xAddressToClassicAddress)(t);if(r.tag!==!1)throw new Error("Only allowed to have tag on Account or Destination");t=r.classicAddress}return new AccountID(Uint8Array.from((0,ripple_address_codec_1$7.decodeAccountID)(t)))}toJSON(){return this.toBase58()}toBase58(){return(0,ripple_address_codec_1$7.encodeAccountID)(this.bytes)}}accountId.AccountID=AccountID,AccountID.defaultAccountID=new AccountID(new Uint8Array(20));var amount={},binaryParser={};Object.defineProperty(binaryParser,"__esModule",{value:!0}),binaryParser.BinaryParser=void 0;const enums_1=enums,utils_1$B=browser$4;class BinaryParser{constructor(t,r=enums_1.DEFAULT_DEFINITIONS){this.bytes=(0,utils_1$B.hexToBytes)(t),this.definitions=r}peek(){if(this.bytes.byteLength===0)throw new Error;return this.bytes[0]}skip(t){if(t>this.bytes.byteLength)throw new Error;this.bytes=this.bytes.slice(t)}read(t){if(t>this.bytes.byteLength)throw new Error;const r=this.bytes.slice(0,t);return this.skip(t),r}readUIntN(t){if(0>=t||t>4)throw new Error("invalid n");return this.read(t).reduce((r,n)=>r<<8|n)>>>0}readUInt8(){return this.readUIntN(1)}readUInt16(){return this.readUIntN(2)}readUInt32(){return this.readUIntN(4)}size(){return this.bytes.byteLength}end(t){const r=this.bytes.byteLength;return r===0||t!==void 0&&r<=t}readVariableLength(){return this.read(this.readVariableLengthLength())}readVariableLengthLength(){const t=this.readUInt8();if(t<=192)return t;if(t<=240){const r=this.readUInt8();return 193+(t-193)*256+r}else if(t<=254){const r=this.readUInt8(),n=this.readUInt8();return 12481+(t-241)*65536+r*256+n}throw new Error("Invalid variable length indicator")}readFieldOrdinal(){let t=this.readUInt8(),r=t&15;if(t>>=4,t===0&&(t=this.readUInt8(),t===0||t<16))throw new Error(`Cannot read FieldOrdinal, type_code ${t} out of range`);if(r===0&&(r=this.readUInt8(),r===0||r<16))throw new Error(`Cannot read FieldOrdinal, field_code ${r} out of range`);return t<<16|r}readField(){return this.definitions.field.fromString(this.readFieldOrdinal().toString())}readType(t){return t.fromParser(this)}typeForField(t){return t.associatedType}readFieldValue(t){const r=this.typeForField(t);if(!r)throw new Error(`unsupported: (${t.name}, ${t.type.name})`);const n=t.isVariableLengthEncoded?this.readVariableLengthLength():void 0,a=r.fromParser(this,n);if(a===void 0)throw new Error(`fromParser for (${t.name}, ${t.type.name}) -> undefined `);return a}readFieldAndValue(){const t=this.readField();return[t,this.readFieldValue(t)]}}binaryParser.BinaryParser=BinaryParser;var currency={};Object.defineProperty(currency,"__esModule",{value:!0}),currency.Currency=void 0;const hash_160_1=hash160,utils_1$A=browser$4,XRP_HEX_REGEX=/^0{40}$/,ISO_REGEX=/^[A-Z0-9a-z?!@#$%^&*(){}[\]|]{3}$/,HEX_REGEX$2=/^[A-F0-9]{40}$/,STANDARD_FORMAT_HEX_REGEX=/^0{24}[\x00-\x7F]{6}0{10}$/;function isoToBytes(e){const t=new Uint8Array(20);if(e!=="XRP"){const r=e.split("").map(n=>n.charCodeAt(0));t.set(r,12)}return t}function isIsoCode(e){return ISO_REGEX.test(e)}function isoCodeFromHex(e){const t=(0,utils_1$A.hexToString)((0,utils_1$A.bytesToHex)(e));return t==="XRP"?null:isIsoCode(t)?t:null}function isHex$3(e){return HEX_REGEX$2.test(e)}function isStringRepresentation(e){return e.length===3||isHex$3(e)}function isBytesArray(e){return e.byteLength===20}function isValidRepresentation(e){return e instanceof Uint8Array?isBytesArray(e):isStringRepresentation(e)}function bytesFromRepresentation(e){if(!isValidRepresentation(e))throw new Error(`Unsupported Currency representation: ${e}`);return e.length===3?isoToBytes(e):(0,utils_1$A.hexToBytes)(e)}class Currency extends hash_160_1.Hash160{constructor(t){super(t??Currency.XRP.bytes);const r=(0,utils_1$A.bytesToHex)(this.bytes);XRP_HEX_REGEX.test(r)?this._iso="XRP":STANDARD_FORMAT_HEX_REGEX.test(r)?this._iso=isoCodeFromHex(this.bytes.slice(12,15)):this._iso=null}iso(){return this._iso}static from(t){if(t instanceof Currency)return t;if(typeof t=="string")return new Currency(bytesFromRepresentation(t));throw new Error("Cannot construct Currency from value given")}toJSON(){const t=this.iso();return t!==null?t:(0,utils_1$A.bytesToHex)(this.bytes)}}currency.Currency=Currency,Currency.XRP=new Currency(new Uint8Array(20));var __importDefault$l=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(amount,"__esModule",{value:!0}),amount.Amount=void 0;const binary_parser_1$4=binaryParser,account_id_1$3=accountId,currency_1$2=currency,serialized_type_1$6=serializedType,bignumber_js_1$c=__importDefault$l(bignumberExports),utils_1$z=browser$4,utils_2$4=utils$9,MIN_IOU_EXPONENT=-96,MAX_IOU_EXPONENT=80,MAX_IOU_PRECISION=16,MAX_DROPS=new bignumber_js_1$c.default("1e17"),MIN_XRP=new bignumber_js_1$c.default("1e-6"),mask$2=BigInt(4294967295);bignumber_js_1$c.default.config({EXPONENTIAL_AT:[MIN_IOU_EXPONENT-MAX_IOU_PRECISION,MAX_IOU_EXPONENT+MAX_IOU_PRECISION]});function isAmountObject(e){const t=Object.keys(e).sort();return t.length===3&&t[0]==="currency"&&t[1]==="issuer"&&t[2]==="value"}class Amount extends serialized_type_1$6.SerializedType{constructor(t){super(t??Amount.defaultAmount.bytes)}static from(t){if(t instanceof Amount)return t;let r=new Uint8Array(8);if(typeof t=="string"){Amount.assertXrpIsValid(t);const n=BigInt(t),a=[new Uint8Array(4),new Uint8Array(4)];return(0,utils_2$4.writeUInt32BE)(a[0],Number(n>>BigInt(32)),0),(0,utils_2$4.writeUInt32BE)(a[1],Number(n&BigInt(mask$2)),0),r=(0,utils_1$z.concat)(a),r[0]|=64,new Amount(r)}if(isAmountObject(t)){const n=new bignumber_js_1$c.default(t.value);if(Amount.assertIouIsValid(n),n.isZero())r[0]|=128;else{const u=n.times(`1e${-((n.e||0)-15)}`).abs().toString(),p=BigInt(u),b=[new Uint8Array(4),new Uint8Array(4)];(0,utils_2$4.writeUInt32BE)(b[0],Number(p>>BigInt(32)),0),(0,utils_2$4.writeUInt32BE)(b[1],Number(p&BigInt(mask$2)),0),r=(0,utils_1$z.concat)(b),r[0]|=128,n.gt(new bignumber_js_1$c.default(0))&&(r[0]|=64);const m=97+((n.e||0)-15);r[0]|=m>>>2,r[1]|=(m&3)<<6}const a=currency_1$2.Currency.from(t.currency).toBytes(),o=account_id_1$3.AccountID.from(t.issuer).toBytes();return new Amount((0,utils_1$z.concat)([r,a,o]))}throw new Error("Invalid type to construct an Amount")}static fromParser(t){const r=t.peek()&128?48:8;return new Amount(t.read(r))}toJSON(){if(this.isNative()){const t=this.bytes,r=t[0]&64?"":"-";t[0]&=63;const n=BigInt((0,utils_2$4.readUInt32BE)(t.slice(0,4),0)),a=BigInt((0,utils_2$4.readUInt32BE)(t.slice(4),0)),o=n<<BigInt(32)|a;return`${r}${o.toString()}`}else{const t=new binary_parser_1$4.BinaryParser(this.toString()),r=t.read(8),n=currency_1$2.Currency.fromParser(t),a=account_id_1$3.AccountID.fromParser(t),o=r[0],u=r[1],p=o&64?"":"-",b=((o&63)<<2)+((u&255)>>6)-97;r[0]=0,r[1]&=63;const m=new bignumber_js_1$c.default(`${p}0x${(0,utils_1$z.bytesToHex)(r)}`).times(`1e${b}`);return Amount.assertIouIsValid(m),{value:m.toString(),currency:n.toJSON(),issuer:a.toJSON()}}}static assertXrpIsValid(t){if(t.indexOf(".")!==-1)throw new Error(`${t.toString()} is an illegal amount`);const r=new bignumber_js_1$c.default(t);if(!r.isZero()&&(r.lt(MIN_XRP)||r.gt(MAX_DROPS)))throw new Error(`${t.toString()} is an illegal amount`)}static assertIouIsValid(t){if(!t.isZero()){const r=t.precision(),n=(t.e||0)-15;if(r>MAX_IOU_PRECISION||n>MAX_IOU_EXPONENT||n<MIN_IOU_EXPONENT)throw new Error("Decimal precision out of range");this.verifyNoDecimal(t)}}static verifyNoDecimal(t){if(t.times(`1e${-((t.e||0)-15)}`).abs().toString().indexOf(".")!==-1)throw new Error("Decimal place found in integerNumberString")}isNative(){return(this.bytes[0]&128)===0}}amount.Amount=Amount,Amount.defaultAmount=new Amount((0,utils_1$z.hexToBytes)("4000000000000000"));var blob={};Object.defineProperty(blob,"__esModule",{value:!0}),blob.Blob=void 0;const serialized_type_1$5=serializedType,utils_1$y=browser$4;let Blob$1=class Et extends serialized_type_1$5.SerializedType{constructor(t){super(t)}static fromParser(t,r){return new Et(t.read(r))}static from(t){if(t instanceof Et)return t;if(typeof t=="string"){if(!/^[A-F0-9]*$/iu.test(t))throw new Error("Cannot construct Blob from a non-hex string");return new Et((0,utils_1$y.hexToBytes)(t))}throw new Error("Cannot construct Blob from value given")}};blob.Blob=Blob$1;var hash128={};Object.defineProperty(hash128,"__esModule",{value:!0}),hash128.Hash128=void 0;const hash_1$1=hash$2,utils_1$x=browser$4;class Hash128 extends hash_1$1.Hash{constructor(t){t&&t.byteLength===0&&(t=Hash128.ZERO_128.bytes),super(t??Hash128.ZERO_128.bytes)}toHex(){const t=(0,utils_1$x.bytesToHex)(this.toBytes());return/^0+$/.exec(t)?"":t}}hash128.Hash128=Hash128,Hash128.width=16,Hash128.ZERO_128=new Hash128(new Uint8Array(Hash128.width));var hash256={};Object.defineProperty(hash256,"__esModule",{value:!0}),hash256.Hash256=void 0;const hash_1=hash$2;class Hash256 extends hash_1.Hash{constructor(t){super(t??Hash256.ZERO_256.bytes)}}hash256.Hash256=Hash256,Hash256.width=32,Hash256.ZERO_256=new Hash256(new Uint8Array(Hash256.width));var issue={};Object.defineProperty(issue,"__esModule",{value:!0}),issue.Issue=void 0;const utils_1$w=browser$4,binary_parser_1$3=binaryParser,account_id_1$2=accountId,currency_1$1=currency,serialized_type_1$4=serializedType;function isIssueObject(e){const t=Object.keys(e).sort();return t.length===1?t[0]==="currency":t.length===2&&t[0]==="currency"&&t[1]==="issuer"}class Issue extends serialized_type_1$4.SerializedType{constructor(t){super(t??Issue.ZERO_ISSUED_CURRENCY.bytes)}static from(t){if(t instanceof Issue)return t;if(isIssueObject(t)){const r=currency_1$1.Currency.from(t.currency).toBytes();if(t.issuer==null)return new Issue(r);const n=account_id_1$2.AccountID.from(t.issuer).toBytes();return new Issue((0,utils_1$w.concat)([r,n]))}throw new Error("Invalid type to construct an Amount")}static fromParser(t){const r=t.read(20);if(new currency_1$1.Currency(r).toJSON()==="XRP")return new Issue(r);const n=[r,t.read(20)];return new Issue((0,utils_1$w.concat)(n))}toJSON(){const t=new binary_parser_1$3.BinaryParser(this.toString()),r=currency_1$1.Currency.fromParser(t);if(r.toJSON()==="XRP")return{currency:r.toJSON()};const n=account_id_1$2.AccountID.fromParser(t);return{currency:r.toJSON(),issuer:n.toJSON()}}}issue.Issue=Issue,Issue.ZERO_ISSUED_CURRENCY=new Issue(new Uint8Array(20));var pathSet={};Object.defineProperty(pathSet,"__esModule",{value:!0}),pathSet.PathSet=void 0;const account_id_1$1=accountId,currency_1=currency,binary_parser_1$2=binaryParser,serialized_type_1$3=serializedType,utils_1$v=browser$4,PATHSET_END_BYTE=0,PATH_SEPARATOR_BYTE=255,TYPE_ACCOUNT=1,TYPE_CURRENCY=16,TYPE_ISSUER=32;function isHopObject(e){return e.issuer!==void 0||e.account!==void 0||e.currency!==void 0}function isPathSet(e){return Array.isArray(e)&&e.length===0||Array.isArray(e)&&Array.isArray(e[0])&&e[0].length===0||Array.isArray(e)&&Array.isArray(e[0])&&isHopObject(e[0][0])}class Hop extends serialized_type_1$3.SerializedType{static from(t){if(t instanceof Hop)return t;const r=[Uint8Array.from([0])];return t.account&&(r.push(account_id_1$1.AccountID.from(t.account).toBytes()),r[0][0]|=TYPE_ACCOUNT),t.currency&&(r.push(currency_1.Currency.from(t.currency).toBytes()),r[0][0]|=TYPE_CURRENCY),t.issuer&&(r.push(account_id_1$1.AccountID.from(t.issuer).toBytes()),r[0][0]|=TYPE_ISSUER),new Hop((0,utils_1$v.concat)(r))}static fromParser(t){const r=t.readUInt8(),n=[Uint8Array.from([r])];return r&TYPE_ACCOUNT&&n.push(t.read(account_id_1$1.AccountID.width)),r&TYPE_CURRENCY&&n.push(t.read(currency_1.Currency.width)),r&TYPE_ISSUER&&n.push(t.read(account_id_1$1.AccountID.width)),new Hop((0,utils_1$v.concat)(n))}toJSON(){const t=new binary_parser_1$2.BinaryParser((0,utils_1$v.bytesToHex)(this.bytes)),r=t.readUInt8();let n,a,o;r&TYPE_ACCOUNT&&(n=account_id_1$1.AccountID.fromParser(t).toJSON()),r&TYPE_CURRENCY&&(a=currency_1.Currency.fromParser(t).toJSON()),r&TYPE_ISSUER&&(o=account_id_1$1.AccountID.fromParser(t).toJSON());const u={};return n&&(u.account=n),o&&(u.issuer=o),a&&(u.currency=a),u}type(){return this.bytes[0]}}class Path extends serialized_type_1$3.SerializedType{static from(t){if(t instanceof Path)return t;const r=[];return t.forEach(n=>{r.push(Hop.from(n).toBytes())}),new Path((0,utils_1$v.concat)(r))}static fromParser(t){const r=[];for(;!t.end()&&(r.push(Hop.fromParser(t).toBytes()),!(t.peek()===PATHSET_END_BYTE||t.peek()===PATH_SEPARATOR_BYTE)););return new Path((0,utils_1$v.concat)(r))}toJSON(){const t=[],r=new binary_parser_1$2.BinaryParser(this.toString());for(;!r.end();)t.push(Hop.fromParser(r).toJSON());return t}}class PathSet extends serialized_type_1$3.SerializedType{static from(t){if(t instanceof PathSet)return t;if(isPathSet(t)){const r=[];return t.forEach(n=>{r.push(Path.from(n).toBytes()),r.push(Uint8Array.from([PATH_SEPARATOR_BYTE]))}),r[r.length-1]=Uint8Array.from([PATHSET_END_BYTE]),new PathSet((0,utils_1$v.concat)(r))}throw new Error("Cannot construct PathSet from given value")}static fromParser(t){const r=[];for(;!t.end()&&(r.push(Path.fromParser(t).toBytes()),r.push(t.read(1)),r[r.length-1][0]!=PATHSET_END_BYTE););return new PathSet((0,utils_1$v.concat)(r))}toJSON(){const t=[],r=new binary_parser_1$2.BinaryParser(this.toString());for(;!r.end();)t.push(Path.fromParser(r).toJSON()),r.skip(1);return t}}pathSet.PathSet=PathSet;var stArray={},stObject={},hasRequiredStObject;function requireStObject(){if(hasRequiredStObject)return stObject;hasRequiredStObject=1,Object.defineProperty(stObject,"__esModule",{value:!0}),stObject.STObject=void 0;const e=enums,t=serializedType,r=dist$5,n=binaryParser,a=binarySerializer,o=requireStArray(),u=Uint8Array.from([225]),p="ObjectEndMarker",b="STObject",m="Destination",y="Account",A="SourceTag",I="DestinationTag";function M(B,k){const N=(0,r.xAddressToClassicAddress)(k);let D;if(B===m)D=I;else if(B===y)D=A;else if(N.tag!==!1)throw new Error(`${B} cannot have an associated tag`);return N.tag!==!1?{[B]:N.classicAddress,[D]:N.tag}:{[B]:N.classicAddress}}function C(B,k){if(!(B[A]===void 0||k[A]===void 0))throw new Error("Cannot have Account X-Address and SourceTag");if(!(B[I]===void 0||k[I]===void 0))throw new Error("Cannot have Destination X-Address and DestinationTag")}class P extends t.SerializedType{static fromParser(k){const N=new a.BytesList,D=new a.BinarySerializer(N);for(;!k.end();){const L=k.readField();if(L.name===p)break;const K=k.readFieldValue(L);D.writeFieldAndValue(L,K),L.type.name===b&&D.put(u)}return new P(N.toBytes())}static from(k,N,D=e.DEFAULT_DEFINITIONS){if(k instanceof P)return k;const L=new a.BytesList,K=new a.BinarySerializer(L);let J=!1;const ce=Object.entries(k).reduce((Z,[ie,s])=>{let d;return s&&(0,r.isValidXAddress)(s.toString())&&(d=M(ie,s.toString()),C(d,k)),Object.assign(Z,d??{[ie]:s})},{});let oe=Object.keys(ce).map(Z=>D.field[Z]).filter(Z=>Z!==void 0&&ce[Z.name]!==void 0&&Z.isSerialized).sort((Z,ie)=>Z.ordinal-ie.ordinal);return N!==void 0&&(oe=oe.filter(N)),oe.forEach(Z=>{const ie=Z.type.name===b?this.from(ce[Z.name],void 0,D):Z.type.name==="STArray"?o.STArray.from(ce[Z.name],D):Z.associatedType.from(ce[Z.name]);if(ie==null)throw new TypeError(`Unable to interpret "${Z.name}: ${ce[Z.name]}".`);ie.name==="UNLModify"&&(J=!0);const s=Z.name=="Account"&&J;K.writeFieldAndValue(Z,ie,s),Z.type.name===b&&K.put(u)}),new P(L.toBytes())}toJSON(k){const N=new n.BinaryParser(this.toString(),k),D={};for(;!N.end();){const L=N.readField();if(L.name===p)break;D[L.name]=N.readFieldValue(L).toJSON(k)}return D}}return stObject.STObject=P,stObject}var hasRequiredStArray;function requireStArray(){if(hasRequiredStArray)return stArray;hasRequiredStArray=1,Object.defineProperty(stArray,"__esModule",{value:!0}),stArray.STArray=void 0;const e=enums,t=serializedType,r=requireStObject(),n=binaryParser,a=browser$4,o=Uint8Array.from([241]),u="ArrayEndMarker",p=Uint8Array.from([225]);function b(y){return Array.isArray(y)&&y.every(A=>typeof A=="object"&&Object.keys(A).length===1&&typeof Object.values(A)[0]=="object")}class m extends t.SerializedType{static fromParser(A){const I=[];for(;!A.end();){const M=A.readField();if(M.name===u)break;I.push(M.header,A.readFieldValue(M).toBytes(),p)}return I.push(o),new m((0,a.concat)(I))}static from(A,I=e.DEFAULT_DEFINITIONS){if(A instanceof m)return A;if(b(A)){const M=[];return A.forEach(C=>{M.push(r.STObject.from(C,void 0,I).toBytes())}),M.push(o),new m((0,a.concat)(M))}throw new Error("Cannot construct STArray from value given")}toJSON(A=e.DEFAULT_DEFINITIONS){const I=[],M=new n.BinaryParser(this.toString(),A);for(;!M.end();){const C=M.readField();if(C.name===u)break;const P={};P[C.name]=r.STObject.fromParser(M).toJSON(A),I.push(P)}return I}}return stArray.STArray=m,stArray}var uint16={},uint={};Object.defineProperty(uint,"__esModule",{value:!0}),uint.UInt=void 0;const serialized_type_1$2=serializedType;function compare(e,t){return e<t?-1:e==t?0:1}class UInt extends serialized_type_1$2.Comparable{constructor(t){super(t)}compareTo(t){return compare(this.valueOf(),t.valueOf())}toJSON(){const t=this.valueOf();return typeof t=="number"?t:t.toString()}static checkUintRange(t,r,n){if(t<r||t>n)throw new Error(`Invalid ${this.constructor.name}: ${t} must be >= ${r} and <= ${n}`)}}uint.UInt=UInt,Object.defineProperty(uint16,"__esModule",{value:!0}),uint16.UInt16=void 0;const uint_1$3=uint,utils_1$u=utils$9;class UInt16 extends uint_1$3.UInt{constructor(t){super(t??UInt16.defaultUInt16.bytes)}static fromParser(t){return new UInt16(t.read(UInt16.width))}static from(t){if(t instanceof UInt16)return t;if(typeof t=="number"){UInt16.checkUintRange(t,0,65535);const r=new Uint8Array(UInt16.width);return(0,utils_1$u.writeUInt16BE)(r,t,0),new UInt16(r)}throw new Error("Can not construct UInt16 with given value")}valueOf(){return parseInt((0,utils_1$u.readUInt16BE)(this.bytes,0))}}uint16.UInt16=UInt16,UInt16.width=16/8,UInt16.defaultUInt16=new UInt16(new Uint8Array(UInt16.width));var uint32={};Object.defineProperty(uint32,"__esModule",{value:!0}),uint32.UInt32=void 0;const uint_1$2=uint,utils_1$t=utils$9;class UInt32 extends uint_1$2.UInt{constructor(t){super(t??UInt32.defaultUInt32.bytes)}static fromParser(t){return new UInt32(t.read(UInt32.width))}static from(t){if(t instanceof UInt32)return t;const r=new Uint8Array(UInt32.width);if(typeof t=="string"){const n=Number.parseInt(t);return(0,utils_1$t.writeUInt32BE)(r,n,0),new UInt32(r)}if(typeof t=="number")return UInt32.checkUintRange(t,0,4294967295),(0,utils_1$t.writeUInt32BE)(r,t,0),new UInt32(r);throw new Error("Cannot construct UInt32 from given value")}valueOf(){return parseInt((0,utils_1$t.readUInt32BE)(this.bytes,0),10)}}uint32.UInt32=UInt32,UInt32.width=32/8,UInt32.defaultUInt32=new UInt32(new Uint8Array(UInt32.width));var uint64={};Object.defineProperty(uint64,"__esModule",{value:!0}),uint64.UInt64=void 0;const uint_1$1=uint,utils_1$s=browser$4,utils_2$3=utils$9,HEX_REGEX$1=/^[a-fA-F0-9]{1,16}$/,mask$1=BigInt(4294967295);class UInt64 extends uint_1$1.UInt{constructor(t){super(t??UInt64.defaultUInt64.bytes)}static fromParser(t){return new UInt64(t.read(UInt64.width))}static from(t){if(t instanceof UInt64)return t;let r=new Uint8Array(UInt64.width);if(typeof t=="number"){if(t<0)throw new Error("value must be an unsigned integer");const n=BigInt(t),a=[new Uint8Array(4),new Uint8Array(4)];return(0,utils_2$3.writeUInt32BE)(a[0],Number(n>>BigInt(32)),0),(0,utils_2$3.writeUInt32BE)(a[1],Number(n&BigInt(mask$1)),0),new UInt64((0,utils_1$s.concat)(a))}if(typeof t=="string"){if(!HEX_REGEX$1.test(t))throw new Error(`${t} is not a valid hex-string`);const n=t.padStart(16,"0");return r=(0,utils_1$s.hexToBytes)(n),new UInt64(r)}if(typeof t=="bigint"){const n=[new Uint8Array(4),new Uint8Array(4)];return(0,utils_2$3.writeUInt32BE)(n[0],Number(Number(t>>BigInt(32))),0),(0,utils_2$3.writeUInt32BE)(n[1],Number(t&BigInt(mask$1)),0),new UInt64((0,utils_1$s.concat)(n))}throw new Error("Cannot construct UInt64 from given value")}toJSON(){return(0,utils_1$s.bytesToHex)(this.bytes)}valueOf(){const t=BigInt((0,utils_2$3.readUInt32BE)(this.bytes.slice(0,4),0)),r=BigInt((0,utils_2$3.readUInt32BE)(this.bytes.slice(4),0));return t<<BigInt(32)|r}toBytes(){return this.bytes}}uint64.UInt64=UInt64,UInt64.width=64/8,UInt64.defaultUInt64=new UInt64(new Uint8Array(UInt64.width));var uint8={};Object.defineProperty(uint8,"__esModule",{value:!0}),uint8.UInt8=void 0;const uint_1=uint,utils_1$r=browser$4,utils_2$2=utils$9;class UInt8 extends uint_1.UInt{constructor(t){super(t??UInt8.defaultUInt8.bytes)}static fromParser(t){return new UInt8(t.read(UInt8.width))}static from(t){if(t instanceof UInt8)return t;if(typeof t=="number"){UInt8.checkUintRange(t,0,255);const r=new Uint8Array(UInt8.width);return(0,utils_2$2.writeUInt8)(r,t,0),new UInt8(r)}throw new Error("Cannot construct UInt8 from given value")}valueOf(){return parseInt((0,utils_1$r.bytesToHex)(this.bytes),16)}}uint8.UInt8=UInt8,UInt8.width=8/8,UInt8.defaultUInt8=new UInt8(new Uint8Array(UInt8.width));var vector256={};Object.defineProperty(vector256,"__esModule",{value:!0}),vector256.Vector256=void 0;const serialized_type_1$1=serializedType,hash_256_1$1=hash256,binary_serializer_1$1=binarySerializer,utils_1$q=browser$4;function isStrings(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="string")}class Vector256 extends serialized_type_1$1.SerializedType{constructor(t){super(t)}static fromParser(t,r){const n=new binary_serializer_1$1.BytesList,a=(r??t.size())/32;for(let o=0;o<a;o++)hash_256_1$1.Hash256.fromParser(t).toBytesSink(n);return new Vector256(n.toBytes())}static from(t){if(t instanceof Vector256)return t;if(isStrings(t)){const r=new binary_serializer_1$1.BytesList;return t.forEach(n=>{hash_256_1$1.Hash256.from(n).toBytesSink(r)}),new Vector256(r.toBytes())}throw new Error("Cannot construct Vector256 from given value")}toJSON(){if(this.bytes.byteLength%32!==0)throw new Error("Invalid bytes for Vector256");const t=[];for(let r=0;r<this.bytes.byteLength;r+=32)t.push((0,utils_1$q.bytesToHex)(this.bytes.slice(r,r+32)));return t}}vector256.Vector256=Vector256;var xchainBridge={};Object.defineProperty(xchainBridge,"__esModule",{value:!0}),xchainBridge.XChainBridge=void 0;const binary_parser_1$1=binaryParser,account_id_1=accountId,serialized_type_1=serializedType,issue_1=issue,utils_1$p=browser$4;function isXChainBridgeObject(e){const t=Object.keys(e).sort();return t.length===4&&t[0]==="IssuingChainDoor"&&t[1]==="IssuingChainIssue"&&t[2]==="LockingChainDoor"&&t[3]==="LockingChainIssue"}class XChainBridge extends serialized_type_1.SerializedType{constructor(t){super(t??XChainBridge.ZERO_XCHAIN_BRIDGE.bytes)}static from(t){if(t instanceof XChainBridge)return t;if(!isXChainBridgeObject(t))throw new Error("Invalid type to construct an XChainBridge");const r=[];return this.TYPE_ORDER.forEach(n=>{const{name:a,type:o}=n;o===account_id_1.AccountID&&r.push(Uint8Array.from([20]));const u=o.from(t[a]);r.push(u.toBytes())}),new XChainBridge((0,utils_1$p.concat)(r))}static fromParser(t){const r=[];return this.TYPE_ORDER.forEach(n=>{const{type:a}=n;a===account_id_1.AccountID&&(t.skip(1),r.push(Uint8Array.from([20])));const o=a.fromParser(t);r.push(o.toBytes())}),new XChainBridge((0,utils_1$p.concat)(r))}toJSON(){const t=new binary_parser_1$1.BinaryParser(this.toString()),r={};return XChainBridge.TYPE_ORDER.forEach(n=>{const{name:a,type:o}=n;o===account_id_1.AccountID&&t.skip(1);const u=o.fromParser(t).toJSON();r[a]=u}),r}}xchainBridge.XChainBridge=XChainBridge,XChainBridge.ZERO_XCHAIN_BRIDGE=new XChainBridge((0,utils_1$p.concat)([Uint8Array.from([20]),new Uint8Array(40),Uint8Array.from([20]),new Uint8Array(40)])),XChainBridge.TYPE_ORDER=[{name:"LockingChainDoor",type:account_id_1.AccountID},{name:"LockingChainIssue",type:issue_1.Issue},{name:"IssuingChainDoor",type:account_id_1.AccountID},{name:"IssuingChainIssue",type:issue_1.Issue}],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Vector256=e.UInt64=e.UInt32=e.UInt16=e.UInt8=e.STObject=e.STArray=e.PathSet=e.Hash256=e.Hash160=e.Hash128=e.Currency=e.Blob=e.Amount=e.AccountID=e.coreTypes=void 0;const t=accountId;Object.defineProperty(e,"AccountID",{enumerable:!0,get:function(){return t.AccountID}});const r=amount;Object.defineProperty(e,"Amount",{enumerable:!0,get:function(){return r.Amount}});const n=blob;Object.defineProperty(e,"Blob",{enumerable:!0,get:function(){return n.Blob}});const a=currency;Object.defineProperty(e,"Currency",{enumerable:!0,get:function(){return a.Currency}});const o=hash128;Object.defineProperty(e,"Hash128",{enumerable:!0,get:function(){return o.Hash128}});const u=hash160;Object.defineProperty(e,"Hash160",{enumerable:!0,get:function(){return u.Hash160}});const p=hash256;Object.defineProperty(e,"Hash256",{enumerable:!0,get:function(){return p.Hash256}});const b=issue,m=pathSet;Object.defineProperty(e,"PathSet",{enumerable:!0,get:function(){return m.PathSet}});const y=requireStArray();Object.defineProperty(e,"STArray",{enumerable:!0,get:function(){return y.STArray}});const A=requireStObject();Object.defineProperty(e,"STObject",{enumerable:!0,get:function(){return A.STObject}});const I=uint16;Object.defineProperty(e,"UInt16",{enumerable:!0,get:function(){return I.UInt16}});const M=uint32;Object.defineProperty(e,"UInt32",{enumerable:!0,get:function(){return M.UInt32}});const C=uint64;Object.defineProperty(e,"UInt64",{enumerable:!0,get:function(){return C.UInt64}});const P=uint8;Object.defineProperty(e,"UInt8",{enumerable:!0,get:function(){return P.UInt8}});const B=vector256;Object.defineProperty(e,"Vector256",{enumerable:!0,get:function(){return B.Vector256}});const k=xchainBridge,N=enums,D={AccountID:t.AccountID,Amount:r.Amount,Blob:n.Blob,Currency:a.Currency,Hash128:o.Hash128,Hash160:u.Hash160,Hash256:p.Hash256,Issue:b.Issue,PathSet:m.PathSet,STArray:y.STArray,STObject:A.STObject,UInt8:P.UInt8,UInt16:I.UInt16,UInt32:M.UInt32,UInt64:C.UInt64,Vector256:B.Vector256,XChainBridge:k.XChainBridge};e.coreTypes=D,N.DEFAULT_DEFINITIONS.associateTypes(D)}(types$5);var binary={},hashPrefixes={};Object.defineProperty(hashPrefixes,"__esModule",{value:!0}),hashPrefixes.HashPrefix=void 0;const utils_1$o=utils$9;function bytes$1(e){const t=new Uint8Array(4);return(0,utils_1$o.writeUInt32BE)(t,e,0),t}const HashPrefix$2={transactionID:bytes$1(1415073280),transaction:bytes$1(1397638144),accountStateEntry:bytes$1(1296846336),innerNode:bytes$1(1296649728),ledgerHeader:bytes$1(1280791040),transactionSig:bytes$1(1398036480),transactionMultiSig:bytes$1(1397576704),validation:bytes$1(1447119872),proposal:bytes$1(1347571712),paymentChannelClaim:bytes$1(1129073920)};hashPrefixes.HashPrefix=HashPrefix$2;var hashes$1={},browser$2={},__importDefault$k=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(browser$2,"__esModule",{value:!0}),browser$2.sha512=void 0;const sha512_1$3=sha512$2,wrapNoble_1$1=__importDefault$k(wrapNoble$1);browser$2.sha512=(0,wrapNoble_1$1.default)(sha512_1$3.sha512),Object.defineProperty(hashes$1,"__esModule",{value:!0}),hashes$1.transactionID=hashes$1.sha512Half=hashes$1.Sha512Half=void 0;const hash_prefixes_1$2=hashPrefixes,types_1$b=types$5,binary_serializer_1=binarySerializer,sha512_1$2=browser$2;class Sha512Half extends binary_serializer_1.BytesList{constructor(){super(...arguments),this.hash=sha512_1$2.sha512.create()}static put(t){return new Sha512Half().put(t)}put(t){return this.hash.update(t),this}finish256(){return Uint8Array.from(this.hash.digest().slice(0,32))}finish(){return new types_1$b.Hash256(this.finish256())}}hashes$1.Sha512Half=Sha512Half;function sha512Half$2(...e){const t=new Sha512Half;return e.forEach(r=>t.put(r)),t.finish256()}hashes$1.sha512Half=sha512Half$2;function transactionID(e){return new types_1$b.Hash256(sha512Half$2(hash_prefixes_1$2.HashPrefix.transactionID,e))}hashes$1.transactionID=transactionID,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.transactionID=e.sha512Half=e.binaryToJSON=e.signingClaimData=e.signingData=e.multiSigningData=e.readJSON=e.serializeObject=e.makeParser=e.BytesList=e.BinarySerializer=e.BinaryParser=void 0;const t=browser$4,r=types$5,n=binaryParser;Object.defineProperty(e,"BinaryParser",{enumerable:!0,get:function(){return n.BinaryParser}});const a=hashPrefixes,o=binarySerializer;Object.defineProperty(e,"BinarySerializer",{enumerable:!0,get:function(){return o.BinarySerializer}}),Object.defineProperty(e,"BytesList",{enumerable:!0,get:function(){return o.BytesList}});const u=hashes$1;Object.defineProperty(e,"sha512Half",{enumerable:!0,get:function(){return u.sha512Half}}),Object.defineProperty(e,"transactionID",{enumerable:!0,get:function(){return u.transactionID}});const p=enums,b=(P,B)=>new n.BinaryParser(P instanceof Uint8Array?(0,t.bytesToHex)(P):P,B);e.makeParser=b;const m=(P,B=p.DEFAULT_DEFINITIONS)=>P.readType(r.coreTypes.STObject).toJSON(B);e.readJSON=m;const y=(P,B)=>m(b(P,B),B);e.binaryToJSON=y;function A(P,B={}){const{prefix:k,suffix:N,signingFieldsOnly:D=!1,definitions:L}=B,K=new o.BytesList;k&&K.put(k);const J=D?ce=>ce.isSigningField:void 0;return r.coreTypes.STObject.from(P,J,L).toBytesSink(K),N&&K.put(N),K.toBytes()}e.serializeObject=A;function I(P,B=a.HashPrefix.transactionSig,k={}){return A(P,{prefix:B,signingFieldsOnly:!0,definitions:k.definitions})}e.signingData=I;function M(P){const B=BigInt(String(P.amount)),k=a.HashPrefix.paymentChannelClaim,N=r.coreTypes.Hash256.from(P.channel).toBytes(),D=r.coreTypes.UInt64.from(B).toBytes(),L=new o.BytesList;return L.put(k),L.put(N),L.put(D),L.toBytes()}e.signingClaimData=M;function C(P,B,k={definitions:p.DEFAULT_DEFINITIONS}){const N=a.HashPrefix.transactionMultiSig,D=r.coreTypes.AccountID.from(B).toBytes();return A(P,{prefix:N,suffix:D,signingFieldsOnly:!0,definitions:k.definitions})}e.multiSigningData=C}(binary);var shamap={};Object.defineProperty(shamap,"__esModule",{value:!0}),shamap.ShaMapLeaf=shamap.ShaMapNode=shamap.ShaMap=void 0;const types_1$a=types$5,hash_prefixes_1$1=hashPrefixes,hashes_1$1=hashes$1;class ShaMapNode{}shamap.ShaMapNode=ShaMapNode;class ShaMapLeaf extends ShaMapNode{constructor(t,r){super(),this.index=t,this.item=r}isLeaf(){return!0}isInner(){return!1}hashPrefix(){return this.item===void 0?new Uint8Array(0):this.item.hashPrefix()}hash(){const t=hashes_1$1.Sha512Half.put(this.hashPrefix());return this.toBytesSink(t),t.finish()}toBytesSink(t){this.item!==void 0&&this.item.toBytesSink(t),this.index.toBytesSink(t)}}shamap.ShaMapLeaf=ShaMapLeaf;class ShaMapInner extends ShaMapNode{constructor(t=0){super(),this.depth=t,this.slotBits=0,this.branches=Array(16)}isInner(){return!0}isLeaf(){return!1}hashPrefix(){return hash_prefixes_1$1.HashPrefix.innerNode}setBranch(t,r){this.slotBits=this.slotBits|1<<t,this.branches[t]=r}empty(){return this.slotBits===0}hash(){if(this.empty())return types_1$a.coreTypes.Hash256.ZERO_256;const t=hashes_1$1.Sha512Half.put(this.hashPrefix());return this.toBytesSink(t),t.finish()}toBytesSink(t){for(let r=0;r<this.branches.length;r++){const n=this.branches[r];(n?n.hash():types_1$a.coreTypes.Hash256.ZERO_256).toBytesSink(t)}}addItem(t,r,n){if(t===void 0)throw new Error;if(t!==void 0){const a=t.nibblet(this.depth),o=this.branches[a];if(o===void 0)this.setBranch(a,n||new ShaMapLeaf(t,r));else if(o instanceof ShaMapLeaf){const u=new ShaMapInner(this.depth+1);u.addItem(o.index,void 0,o),u.addItem(t,r,n),this.setBranch(a,u)}else if(o instanceof ShaMapInner)o.addItem(t,r,n);else throw new Error("invalid ShaMap.addItem call")}}}class ShaMap extends ShaMapInner{}shamap.ShaMap=ShaMap;var ledgerHashes={};Object.defineProperty(ledgerHashes,"__esModule",{value:!0}),ledgerHashes.decodeLedgerData=ledgerHashes.ledgerHash=ledgerHashes.transactionTreeHash=ledgerHashes.accountStateHash=void 0;const shamap_1=shamap,hash_prefixes_1=hashPrefixes,hashes_1=hashes$1,binary_1=binary,hash_256_1=hash256,st_object_1=requireStObject(),uint_64_1=uint64,uint_32_1=uint32,uint_8_1=uint8,binary_parser_1=binaryParser;function computeHash(e,t){const r=new shamap_1.ShaMap;return t.forEach(n=>r.addItem(...e(n))),r.hash()}function transactionItemizer(e){if(!e.hash)throw new Error;return[hash_256_1.Hash256.from(e.hash),{hashPrefix(){return hash_prefixes_1.HashPrefix.transaction},toBytesSink(t){const r=new binary_1.BinarySerializer(t);r.writeLengthEncoded(st_object_1.STObject.from(e)),r.writeLengthEncoded(st_object_1.STObject.from(e.metaData))}},void 0]}function entryItemizer(e){const t=hash_256_1.Hash256.from(e.index),r=(0,binary_1.serializeObject)(e);return[t,{hashPrefix(){return hash_prefixes_1.HashPrefix.accountStateEntry},toBytesSink(n){n.put(r)}},void 0]}function transactionTreeHash(e){return computeHash(transactionItemizer,e)}ledgerHashes.transactionTreeHash=transactionTreeHash;function accountStateHash(e){return computeHash(entryItemizer,e)}ledgerHashes.accountStateHash=accountStateHash;function ledgerHash(e){const t=new hashes_1.Sha512Half;if(t.put(hash_prefixes_1.HashPrefix.ledgerHeader),e.parent_close_time===void 0||e.close_flags===void 0)throw new Error;return uint_32_1.UInt32.from(e.ledger_index).toBytesSink(t),uint_64_1.UInt64.from(BigInt(String(e.total_coins))).toBytesSink(t),hash_256_1.Hash256.from(e.parent_hash).toBytesSink(t),hash_256_1.Hash256.from(e.transaction_hash).toBytesSink(t),hash_256_1.Hash256.from(e.account_hash).toBytesSink(t),uint_32_1.UInt32.from(e.parent_close_time).toBytesSink(t),uint_32_1.UInt32.from(e.close_time).toBytesSink(t),uint_8_1.UInt8.from(e.close_time_resolution).toBytesSink(t),uint_8_1.UInt8.from(e.close_flags).toBytesSink(t),t.finish()}ledgerHashes.ledgerHash=ledgerHash;function decodeLedgerData(e,t){if(typeof e!="string")throw new Error("binary must be a hex string");const r=new binary_parser_1.BinaryParser(e,t);return{ledger_index:r.readUInt32(),total_coins:r.readType(uint_64_1.UInt64).valueOf().toString(),parent_hash:r.readType(hash_256_1.Hash256).toHex(),transaction_hash:r.readType(hash_256_1.Hash256).toHex(),account_hash:r.readType(hash_256_1.Hash256).toHex(),parent_close_time:r.readUInt32(),close_time:r.readUInt32(),close_time_resolution:r.readUInt8(),close_flags:r.readUInt8()}}ledgerHashes.decodeLedgerData=decodeLedgerData;var quality$2={},__importDefault$j=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(quality$2,"__esModule",{value:!0}),quality$2.quality=void 0;const types_1$9=types$5,bignumber_js_1$b=__importDefault$j(bignumberExports),utils_1$n=browser$4;let quality$1=class{static encode(e){const t=(0,bignumber_js_1$b.default)(e),r=((t==null?void 0:t.e)||0)-15,n=t.times(`1e${-r}`).abs().toString(),a=types_1$9.coreTypes.UInt64.from(BigInt(n)).toBytes();return a[0]=r+100,a}static decode(e){const t=(0,utils_1$n.hexToBytes)(e).slice(-8),r=t[0]-100;return new bignumber_js_1$b.default(`0x${(0,utils_1$n.bytesToHex)(t.slice(1))}`).times(`1e${r}`)}};quality$2.quality=quality$1,function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(I,M,C,P){P===void 0&&(P=C);var B=Object.getOwnPropertyDescriptor(M,C);(!B||("get"in B?!M.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return M[C]}}),Object.defineProperty(I,P,B)}:function(I,M,C,P){P===void 0&&(P=C),I[P]=M[C]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(I,M){Object.defineProperty(I,"default",{enumerable:!0,value:M})}:function(I,M){I.default=M}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(I){if(I&&I.__esModule)return I;var M={};if(I!=null)for(var C in I)C!=="default"&&Object.prototype.hasOwnProperty.call(I,C)&&t(M,I,C);return r(M,I),M};Object.defineProperty(e,"__esModule",{value:!0}),e.types=e.ShaMap=e.HashPrefix=e.quality=e.TransactionResult=e.Type=e.LedgerEntryType=e.TransactionType=e.Field=e.DEFAULT_DEFINITIONS=e.ledgerHashes=e.binary=e.hashes=void 0;const a=enums;Object.defineProperty(e,"DEFAULT_DEFINITIONS",{enumerable:!0,get:function(){return a.DEFAULT_DEFINITIONS}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return a.Field}}),Object.defineProperty(e,"TransactionType",{enumerable:!0,get:function(){return a.TransactionType}}),Object.defineProperty(e,"LedgerEntryType",{enumerable:!0,get:function(){return a.LedgerEntryType}}),Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return a.Type}}),Object.defineProperty(e,"TransactionResult",{enumerable:!0,get:function(){return a.TransactionResult}});const o=n(types$5);e.types=o;const u=n(binary);e.binary=u;const p=shamap;Object.defineProperty(e,"ShaMap",{enumerable:!0,get:function(){return p.ShaMap}});const b=n(ledgerHashes);e.ledgerHashes=b;const m=n(hashes$1);e.hashes=m;const y=quality$2;Object.defineProperty(e,"quality",{enumerable:!0,get:function(){return y.quality}});const A=hashPrefixes;Object.defineProperty(e,"HashPrefix",{enumerable:!0,get:function(){return A.HashPrefix}})}(coretypes);var xrplDefinitions={};Object.defineProperty(xrplDefinitions,"__esModule",{value:!0}),xrplDefinitions.XrplDefinitions=void 0;const xrpl_definitions_base_1=xrplDefinitionsBase,types_1$8=types$5;class XrplDefinitions extends xrpl_definitions_base_1.XrplDefinitionsBase{constructor(t,r){const n=Object.assign({},types_1$8.coreTypes,r);super(t,n)}}xrplDefinitions.XrplDefinitions=XrplDefinitions,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.coreTypes=e.DEFAULT_DEFINITIONS=e.XrplDefinitionsBase=e.XrplDefinitions=e.TRANSACTION_TYPES=e.decodeLedgerData=e.decodeQuality=e.encodeQuality=e.encodeForMultisigning=e.encodeForSigningClaim=e.encodeForSigning=e.encode=e.decode=void 0;const t=coretypes,r=ledgerHashes;Object.defineProperty(e,"decodeLedgerData",{enumerable:!0,get:function(){return r.decodeLedgerData}});const n=enums;Object.defineProperty(e,"XrplDefinitionsBase",{enumerable:!0,get:function(){return n.XrplDefinitionsBase}}),Object.defineProperty(e,"TRANSACTION_TYPES",{enumerable:!0,get:function(){return n.TRANSACTION_TYPES}}),Object.defineProperty(e,"DEFAULT_DEFINITIONS",{enumerable:!0,get:function(){return n.DEFAULT_DEFINITIONS}});const a=xrplDefinitions;Object.defineProperty(e,"XrplDefinitions",{enumerable:!0,get:function(){return a.XrplDefinitions}});const o=types$5;Object.defineProperty(e,"coreTypes",{enumerable:!0,get:function(){return o.coreTypes}});const u=browser$4,{signingData:p,signingClaimData:b,multiSigningData:m,binaryToJSON:y,serializeObject:A}=t.binary;function I(D,L){if(typeof D!="string")throw new Error("binary must be a hex string");return y(D,L)}e.decode=I;function M(D,L){if(typeof D!="object")throw new Error;return(0,u.bytesToHex)(A(D,{definitions:L}))}e.encode=M;function C(D,L){if(typeof D!="object")throw new Error;return(0,u.bytesToHex)(p(D,t.HashPrefix.transactionSig,{definitions:L}))}e.encodeForSigning=C;function P(D){if(typeof D!="object")throw new Error;return(0,u.bytesToHex)(b(D))}e.encodeForSigningClaim=P;function B(D,L,K){if(typeof D!="object")throw new Error;if(D.SigningPubKey!=="")throw new Error;const J=K?{definitions:K}:void 0;return(0,u.bytesToHex)(m(D,L,J))}e.encodeForMultisigning=B;function k(D){if(typeof D!="string")throw new Error;return(0,u.bytesToHex)(t.quality.encode(D))}e.encodeQuality=k;function N(D){if(typeof D!="string")throw new Error;return t.quality.decode(D).toString()}e.decodeQuality=N}(dist$4);var utils$8={};Object.defineProperty(utils$8,"__esModule",{value:!0}),utils$8.isHex=utils$8.isFlagEnabled=utils$8.onlyHasFields=void 0;const HEX_REGEX=/^[0-9A-Fa-f]+$/u;function onlyHasFields(e,t){return Object.keys(e).every(r=>t.includes(r))}utils$8.onlyHasFields=onlyHasFields;function isFlagEnabled(e,t){return(BigInt(t)&BigInt(e))===BigInt(t)}utils$8.isFlagEnabled=isFlagEnabled;function isHex$2(e){return HEX_REGEX.test(e)}utils$8.isHex=isHex$2,Object.defineProperty(common$1,"__esModule",{value:!0}),common$1.parseAmountValue=common$1.validateBaseTransaction=common$1.validateOptionalField=common$1.validateRequiredField=common$1.isXChainBridge=common$1.isAmount=common$1.isAccount=common$1.isIssuedCurrency=common$1.isCurrency=common$1.isNumber=common$1.isString=void 0;const ripple_address_codec_1$6=dist$5,ripple_binary_codec_1$9=dist$4,errors_1$L=errors$1,utils_1$m=utils$8,MEMO_SIZE=3;function isMemo(e){if(e.Memo==null)return!1;const t=e.Memo,r=Object.keys(t).length,n=t.MemoData==null||typeof t.MemoData=="string",a=t.MemoFormat==null||typeof t.MemoFormat=="string",o=t.MemoType==null||typeof t.MemoType=="string";return r>=1&&r<=MEMO_SIZE&&n&&a&&o&&(0,utils_1$m.onlyHasFields)(t,["MemoFormat","MemoData","MemoType"])}const SIGNER_SIZE=3;function isSigner(e){const t=e;if(t.Signer==null)return!1;const r=t.Signer;return Object.keys(r).length===SIGNER_SIZE&&typeof r.Account=="string"&&typeof r.TxnSignature=="string"&&typeof r.SigningPubKey=="string"}const XRP_CURRENCY_SIZE=1,ISSUE_SIZE=2,ISSUED_CURRENCY_SIZE=3,XCHAIN_BRIDGE_SIZE=4;function isRecord(e){return e!==null&&typeof e=="object"}function isString$1(e){return typeof e=="string"}common$1.isString=isString$1;function isNumber$1(e){return typeof e=="number"}common$1.isNumber=isNumber$1;function isCurrency(e){return isRecord(e)&&(Object.keys(e).length===ISSUE_SIZE&&typeof e.issuer=="string"&&typeof e.currency=="string"||Object.keys(e).length===XRP_CURRENCY_SIZE&&e.currency==="XRP")}common$1.isCurrency=isCurrency;function isIssuedCurrency(e){return isRecord(e)&&Object.keys(e).length===ISSUED_CURRENCY_SIZE&&typeof e.value=="string"&&typeof e.issuer=="string"&&typeof e.currency=="string"}common$1.isIssuedCurrency=isIssuedCurrency;function isAccount(e){return typeof e=="string"&&((0,ripple_address_codec_1$6.isValidClassicAddress)(e)||(0,ripple_address_codec_1$6.isValidXAddress)(e))}common$1.isAccount=isAccount;function isAmount(e){return typeof e=="string"||isIssuedCurrency(e)}common$1.isAmount=isAmount;function isXChainBridge(e){return isRecord(e)&&Object.keys(e).length===XCHAIN_BRIDGE_SIZE&&typeof e.LockingChainDoor=="string"&&isCurrency(e.LockingChainIssue)&&typeof e.IssuingChainDoor=="string"&&isCurrency(e.IssuingChainIssue)}common$1.isXChainBridge=isXChainBridge;function validateRequiredField(e,t,r){if(e[t]==null)throw new errors_1$L.ValidationError(`${e.TransactionType}: missing field ${t}`);if(!r(e[t]))throw new errors_1$L.ValidationError(`${e.TransactionType}: invalid field ${t}`)}common$1.validateRequiredField=validateRequiredField;function validateOptionalField(e,t,r){if(e[t]!==void 0&&!r(e[t]))throw new errors_1$L.ValidationError(`${e.TransactionType}: invalid field ${t}`)}common$1.validateOptionalField=validateOptionalField;function validateBaseTransaction(e){if(e.TransactionType===void 0)throw new errors_1$L.ValidationError("BaseTransaction: missing field TransactionType");if(typeof e.TransactionType!="string")throw new errors_1$L.ValidationError("BaseTransaction: TransactionType not string");if(!ripple_binary_codec_1$9.TRANSACTION_TYPES.includes(e.TransactionType))throw new errors_1$L.ValidationError("BaseTransaction: Unknown TransactionType");validateRequiredField(e,"Account",isString$1),validateOptionalField(e,"Fee",isString$1),validateOptionalField(e,"Sequence",isNumber$1),validateOptionalField(e,"AccountTxnID",isString$1),validateOptionalField(e,"LastLedgerSequence",isNumber$1);const t=e.Memos;if(t!==void 0&&!t.every(isMemo))throw new errors_1$L.ValidationError("BaseTransaction: invalid Memos");const r=e.Signers;if(r!==void 0&&(r.length===0||!r.every(isSigner)))throw new errors_1$L.ValidationError("BaseTransaction: invalid Signers");validateOptionalField(e,"SourceTag",isNumber$1),validateOptionalField(e,"SigningPubKey",isString$1),validateOptionalField(e,"TicketSequence",isNumber$1),validateOptionalField(e,"TxnSignature",isString$1),validateOptionalField(e,"NetworkID",isNumber$1)}common$1.validateBaseTransaction=validateBaseTransaction;function parseAmountValue(e){return isAmount(e)?parseFloat(typeof e=="string"?e:e.value):NaN}common$1.parseAmountValue=parseAmountValue,Object.defineProperty(accountSet,"__esModule",{value:!0}),accountSet.validateAccountSet=accountSet.AccountSetTfFlags=accountSet.AccountSetAsfFlags=void 0;const errors_1$K=errors$1,common_1$G=common$1;var AccountSetAsfFlags;(function(e){e[e.asfRequireDest=1]="asfRequireDest",e[e.asfRequireAuth=2]="asfRequireAuth",e[e.asfDisallowXRP=3]="asfDisallowXRP",e[e.asfDisableMaster=4]="asfDisableMaster",e[e.asfAccountTxnID=5]="asfAccountTxnID",e[e.asfNoFreeze=6]="asfNoFreeze",e[e.asfGlobalFreeze=7]="asfGlobalFreeze",e[e.asfDefaultRipple=8]="asfDefaultRipple",e[e.asfDepositAuth=9]="asfDepositAuth",e[e.asfAuthorizedNFTokenMinter=10]="asfAuthorizedNFTokenMinter",e[e.asfDisallowIncomingNFTokenOffer=12]="asfDisallowIncomingNFTokenOffer",e[e.asfDisallowIncomingCheck=13]="asfDisallowIncomingCheck",e[e.asfDisallowIncomingPayChan=14]="asfDisallowIncomingPayChan",e[e.asfDisallowIncomingTrustline=15]="asfDisallowIncomingTrustline",e[e.asfAllowTrustLineClawback=16]="asfAllowTrustLineClawback"})(AccountSetAsfFlags||(accountSet.AccountSetAsfFlags=AccountSetAsfFlags={}));var AccountSetTfFlags;(function(e){e[e.tfRequireDestTag=65536]="tfRequireDestTag",e[e.tfOptionalDestTag=131072]="tfOptionalDestTag",e[e.tfRequireAuth=262144]="tfRequireAuth",e[e.tfOptionalAuth=524288]="tfOptionalAuth",e[e.tfDisallowXRP=1048576]="tfDisallowXRP",e[e.tfAllowXRP=2097152]="tfAllowXRP"})(AccountSetTfFlags||(accountSet.AccountSetTfFlags=AccountSetTfFlags={}));const MIN_TICK_SIZE=3,MAX_TICK_SIZE=15;function validateAccountSet(e){if((0,common_1$G.validateBaseTransaction)(e),(0,common_1$G.validateOptionalField)(e,"NFTokenMinter",common_1$G.isAccount),e.ClearFlag!==void 0){if(typeof e.ClearFlag!="number")throw new errors_1$K.ValidationError("AccountSet: invalid ClearFlag");if(!Object.values(AccountSetAsfFlags).includes(e.ClearFlag))throw new errors_1$K.ValidationError("AccountSet: invalid ClearFlag")}if(e.Domain!==void 0&&typeof e.Domain!="string")throw new errors_1$K.ValidationError("AccountSet: invalid Domain");if(e.EmailHash!==void 0&&typeof e.EmailHash!="string")throw new errors_1$K.ValidationError("AccountSet: invalid EmailHash");if(e.MessageKey!==void 0&&typeof e.MessageKey!="string")throw new errors_1$K.ValidationError("AccountSet: invalid MessageKey");if(e.SetFlag!==void 0){if(typeof e.SetFlag!="number")throw new errors_1$K.ValidationError("AccountSet: invalid SetFlag");if(!Object.values(AccountSetAsfFlags).includes(e.SetFlag))throw new errors_1$K.ValidationError("AccountSet: invalid SetFlag")}if(e.TransferRate!==void 0&&typeof e.TransferRate!="number")throw new errors_1$K.ValidationError("AccountSet: invalid TransferRate");if(e.TickSize!==void 0){if(typeof e.TickSize!="number")throw new errors_1$K.ValidationError("AccountSet: invalid TickSize");if(e.TickSize!==0&&(e.TickSize<MIN_TICK_SIZE||e.TickSize>MAX_TICK_SIZE))throw new errors_1$K.ValidationError("AccountSet: invalid TickSize")}}accountSet.validateAccountSet=validateAccountSet;var AMMDeposit={};Object.defineProperty(AMMDeposit,"__esModule",{value:!0}),AMMDeposit.validateAMMDeposit=AMMDeposit.AMMDepositFlags=void 0;const errors_1$J=errors$1,common_1$F=common$1;var AMMDepositFlags;(function(e){e[e.tfLPToken=65536]="tfLPToken",e[e.tfSingleAsset=524288]="tfSingleAsset",e[e.tfTwoAsset=1048576]="tfTwoAsset",e[e.tfOneAssetLPToken=2097152]="tfOneAssetLPToken",e[e.tfLimitLPToken=4194304]="tfLimitLPToken",e[e.tfTwoAssetIfEmpty=8388608]="tfTwoAssetIfEmpty"})(AMMDepositFlags||(AMMDeposit.AMMDepositFlags=AMMDepositFlags={}));function validateAMMDeposit(e){if((0,common_1$F.validateBaseTransaction)(e),e.Asset==null)throw new errors_1$J.ValidationError("AMMDeposit: missing field Asset");if(!(0,common_1$F.isCurrency)(e.Asset))throw new errors_1$J.ValidationError("AMMDeposit: Asset must be a Currency");if(e.Asset2==null)throw new errors_1$J.ValidationError("AMMDeposit: missing field Asset2");if(!(0,common_1$F.isCurrency)(e.Asset2))throw new errors_1$J.ValidationError("AMMDeposit: Asset2 must be a Currency");if(e.Amount2!=null&&e.Amount==null)throw new errors_1$J.ValidationError("AMMDeposit: must set Amount with Amount2");if(e.EPrice!=null&&e.Amount==null)throw new errors_1$J.ValidationError("AMMDeposit: must set Amount with EPrice");if(e.LPTokenOut==null&&e.Amount==null)throw new errors_1$J.ValidationError("AMMDeposit: must set at least LPTokenOut or Amount");if(e.LPTokenOut!=null&&!(0,common_1$F.isIssuedCurrency)(e.LPTokenOut))throw new errors_1$J.ValidationError("AMMDeposit: LPTokenOut must be an IssuedCurrencyAmount");if(e.Amount!=null&&!(0,common_1$F.isAmount)(e.Amount))throw new errors_1$J.ValidationError("AMMDeposit: Amount must be an Amount");if(e.Amount2!=null&&!(0,common_1$F.isAmount)(e.Amount2))throw new errors_1$J.ValidationError("AMMDeposit: Amount2 must be an Amount");if(e.EPrice!=null&&!(0,common_1$F.isAmount)(e.EPrice))throw new errors_1$J.ValidationError("AMMDeposit: EPrice must be an Amount")}AMMDeposit.validateAMMDeposit=validateAMMDeposit;var AMMWithdraw={};Object.defineProperty(AMMWithdraw,"__esModule",{value:!0}),AMMWithdraw.validateAMMWithdraw=AMMWithdraw.AMMWithdrawFlags=void 0;const errors_1$I=errors$1,common_1$E=common$1;var AMMWithdrawFlags;(function(e){e[e.tfLPToken=65536]="tfLPToken",e[e.tfWithdrawAll=131072]="tfWithdrawAll",e[e.tfOneAssetWithdrawAll=262144]="tfOneAssetWithdrawAll",e[e.tfSingleAsset=524288]="tfSingleAsset",e[e.tfTwoAsset=1048576]="tfTwoAsset",e[e.tfOneAssetLPToken=2097152]="tfOneAssetLPToken",e[e.tfLimitLPToken=4194304]="tfLimitLPToken"})(AMMWithdrawFlags||(AMMWithdraw.AMMWithdrawFlags=AMMWithdrawFlags={}));function validateAMMWithdraw(e){if((0,common_1$E.validateBaseTransaction)(e),e.Asset==null)throw new errors_1$I.ValidationError("AMMWithdraw: missing field Asset");if(!(0,common_1$E.isCurrency)(e.Asset))throw new errors_1$I.ValidationError("AMMWithdraw: Asset must be a Currency");if(e.Asset2==null)throw new errors_1$I.ValidationError("AMMWithdraw: missing field Asset2");if(!(0,common_1$E.isCurrency)(e.Asset2))throw new errors_1$I.ValidationError("AMMWithdraw: Asset2 must be a Currency");if(e.Amount2!=null&&e.Amount==null)throw new errors_1$I.ValidationError("AMMWithdraw: must set Amount with Amount2");if(e.EPrice!=null&&e.Amount==null)throw new errors_1$I.ValidationError("AMMWithdraw: must set Amount with EPrice");if(e.LPTokenIn!=null&&!(0,common_1$E.isIssuedCurrency)(e.LPTokenIn))throw new errors_1$I.ValidationError("AMMWithdraw: LPTokenIn must be an IssuedCurrencyAmount");if(e.Amount!=null&&!(0,common_1$E.isAmount)(e.Amount))throw new errors_1$I.ValidationError("AMMWithdraw: Amount must be an Amount");if(e.Amount2!=null&&!(0,common_1$E.isAmount)(e.Amount2))throw new errors_1$I.ValidationError("AMMWithdraw: Amount2 must be an Amount");if(e.EPrice!=null&&!(0,common_1$E.isAmount)(e.EPrice))throw new errors_1$I.ValidationError("AMMWithdraw: EPrice must be an Amount")}AMMWithdraw.validateAMMWithdraw=validateAMMWithdraw;var NFTokenCreateOffer={};Object.defineProperty(NFTokenCreateOffer,"__esModule",{value:!0}),NFTokenCreateOffer.validateNFTokenCreateOffer=NFTokenCreateOffer.NFTokenCreateOfferFlags=void 0;const errors_1$H=errors$1,utils_1$l=utils$8,common_1$D=common$1;var NFTokenCreateOfferFlags;(function(e){e[e.tfSellNFToken=1]="tfSellNFToken"})(NFTokenCreateOfferFlags||(NFTokenCreateOffer.NFTokenCreateOfferFlags=NFTokenCreateOfferFlags={}));function validateNFTokenSellOfferCases(e){if(e.Owner!=null)throw new errors_1$H.ValidationError("NFTokenCreateOffer: Owner must not be present for sell offers")}function validateNFTokenBuyOfferCases(e){if(e.Owner==null)throw new errors_1$H.ValidationError("NFTokenCreateOffer: Owner must be present for buy offers");if((0,common_1$D.parseAmountValue)(e.Amount)<=0)throw new errors_1$H.ValidationError("NFTokenCreateOffer: Amount must be greater than 0 for buy offers")}function validateNFTokenCreateOffer(e){if((0,common_1$D.validateBaseTransaction)(e),e.Account===e.Owner)throw new errors_1$H.ValidationError("NFTokenCreateOffer: Owner and Account must not be equal");if(e.Account===e.Destination)throw new errors_1$H.ValidationError("NFTokenCreateOffer: Destination and Account must not be equal");if((0,common_1$D.validateOptionalField)(e,"Destination",common_1$D.isAccount),(0,common_1$D.validateOptionalField)(e,"Owner",common_1$D.isAccount),e.NFTokenID==null)throw new errors_1$H.ValidationError("NFTokenCreateOffer: missing field NFTokenID");if(!(0,common_1$D.isAmount)(e.Amount))throw new errors_1$H.ValidationError("NFTokenCreateOffer: invalid Amount");typeof e.Flags=="number"&&(0,utils_1$l.isFlagEnabled)(e.Flags,NFTokenCreateOfferFlags.tfSellNFToken)?validateNFTokenSellOfferCases(e):validateNFTokenBuyOfferCases(e)}NFTokenCreateOffer.validateNFTokenCreateOffer=validateNFTokenCreateOffer;var NFTokenMint={};Object.defineProperty(NFTokenMint,"__esModule",{value:!0}),NFTokenMint.validateNFTokenMint=NFTokenMint.NFTokenMintFlags=void 0;const errors_1$G=errors$1,utils_1$k=utils$8,common_1$C=common$1;var NFTokenMintFlags;(function(e){e[e.tfBurnable=1]="tfBurnable",e[e.tfOnlyXRP=2]="tfOnlyXRP",e[e.tfTrustLine=4]="tfTrustLine",e[e.tfTransferable=8]="tfTransferable"})(NFTokenMintFlags||(NFTokenMint.NFTokenMintFlags=NFTokenMintFlags={}));function validateNFTokenMint(e){if((0,common_1$C.validateBaseTransaction)(e),e.Account===e.Issuer)throw new errors_1$G.ValidationError("NFTokenMint: Issuer must not be equal to Account");if((0,common_1$C.validateOptionalField)(e,"Issuer",common_1$C.isAccount),typeof e.URI=="string"&&e.URI==="")throw new errors_1$G.ValidationError("NFTokenMint: URI must not be empty string");if(typeof e.URI=="string"&&!(0,utils_1$k.isHex)(e.URI))throw new errors_1$G.ValidationError("NFTokenMint: URI must be in hex format");if(e.NFTokenTaxon==null)throw new errors_1$G.ValidationError("NFTokenMint: missing field NFTokenTaxon")}NFTokenMint.validateNFTokenMint=validateNFTokenMint;var offerCreate={};Object.defineProperty(offerCreate,"__esModule",{value:!0}),offerCreate.validateOfferCreate=offerCreate.OfferCreateFlags=void 0;const errors_1$F=errors$1,common_1$B=common$1;var OfferCreateFlags;(function(e){e[e.tfPassive=65536]="tfPassive",e[e.tfImmediateOrCancel=131072]="tfImmediateOrCancel",e[e.tfFillOrKill=262144]="tfFillOrKill",e[e.tfSell=524288]="tfSell"})(OfferCreateFlags||(offerCreate.OfferCreateFlags=OfferCreateFlags={}));function validateOfferCreate(e){if((0,common_1$B.validateBaseTransaction)(e),e.TakerGets===void 0)throw new errors_1$F.ValidationError("OfferCreate: missing field TakerGets");if(e.TakerPays===void 0)throw new errors_1$F.ValidationError("OfferCreate: missing field TakerPays");if(typeof e.TakerGets!="string"&&!(0,common_1$B.isAmount)(e.TakerGets))throw new errors_1$F.ValidationError("OfferCreate: invalid TakerGets");if(typeof e.TakerPays!="string"&&!(0,common_1$B.isAmount)(e.TakerPays))throw new errors_1$F.ValidationError("OfferCreate: invalid TakerPays");if(e.Expiration!==void 0&&typeof e.Expiration!="number")throw new errors_1$F.ValidationError("OfferCreate: invalid Expiration");if(e.OfferSequence!==void 0&&typeof e.OfferSequence!="number")throw new errors_1$F.ValidationError("OfferCreate: invalid OfferSequence")}offerCreate.validateOfferCreate=validateOfferCreate;var payment={};Object.defineProperty(payment,"__esModule",{value:!0}),payment.validatePayment=payment.PaymentFlags=void 0;const errors_1$E=errors$1,utils_1$j=utils$8,common_1$A=common$1;var PaymentFlags;(function(e){e[e.tfNoRippleDirect=65536]="tfNoRippleDirect",e[e.tfPartialPayment=131072]="tfPartialPayment",e[e.tfLimitQuality=262144]="tfLimitQuality"})(PaymentFlags||(payment.PaymentFlags=PaymentFlags={}));function validatePayment(e){if((0,common_1$A.validateBaseTransaction)(e),e.Amount===void 0)throw new errors_1$E.ValidationError("PaymentTransaction: missing field Amount");if(!(0,common_1$A.isAmount)(e.Amount))throw new errors_1$E.ValidationError("PaymentTransaction: invalid Amount");if((0,common_1$A.validateRequiredField)(e,"Destination",common_1$A.isAccount),(0,common_1$A.validateOptionalField)(e,"DestinationTag",common_1$A.isNumber),e.InvoiceID!==void 0&&typeof e.InvoiceID!="string")throw new errors_1$E.ValidationError("PaymentTransaction: InvoiceID must be a string");if(e.Paths!==void 0&&!isPaths(e.Paths))throw new errors_1$E.ValidationError("PaymentTransaction: invalid Paths");if(e.SendMax!==void 0&&!(0,common_1$A.isAmount)(e.SendMax))throw new errors_1$E.ValidationError("PaymentTransaction: invalid SendMax");checkPartialPayment(e)}payment.validatePayment=validatePayment;function checkPartialPayment(e){var t;if(e.DeliverMin!=null){if(e.Flags==null)throw new errors_1$E.ValidationError("PaymentTransaction: tfPartialPayment flag required with DeliverMin");const r=e.Flags;if(!(typeof r=="number"?(0,utils_1$j.isFlagEnabled)(r,PaymentFlags.tfPartialPayment):(t=r.tfPartialPayment)!==null&&t!==void 0&&t))throw new errors_1$E.ValidationError("PaymentTransaction: tfPartialPayment flag required with DeliverMin");if(!(0,common_1$A.isAmount)(e.DeliverMin))throw new errors_1$E.ValidationError("PaymentTransaction: invalid DeliverMin")}}function isPathStep(e){return e.account!==void 0&&typeof e.account!="string"||e.currency!==void 0&&typeof e.currency!="string"||e.issuer!==void 0&&typeof e.issuer!="string"?!1:e.account!==void 0&&e.currency===void 0&&e.issuer===void 0||e.currency!==void 0||e.issuer!==void 0}function isPath(e){for(const t of e)if(!isPathStep(t))return!1;return!0}function isPaths(e){if(!Array.isArray(e)||e.length===0)return!1;for(const t of e)if(!Array.isArray(t)||t.length===0||!isPath(t))return!1;return!0}var paymentChannelClaim={};Object.defineProperty(paymentChannelClaim,"__esModule",{value:!0}),paymentChannelClaim.validatePaymentChannelClaim=paymentChannelClaim.PaymentChannelClaimFlags=void 0;const errors_1$D=errors$1,common_1$z=common$1;var PaymentChannelClaimFlags;(function(e){e[e.tfRenew=65536]="tfRenew",e[e.tfClose=131072]="tfClose"})(PaymentChannelClaimFlags||(paymentChannelClaim.PaymentChannelClaimFlags=PaymentChannelClaimFlags={}));function validatePaymentChannelClaim(e){if((0,common_1$z.validateBaseTransaction)(e),e.Channel===void 0)throw new errors_1$D.ValidationError("PaymentChannelClaim: missing Channel");if(typeof e.Channel!="string")throw new errors_1$D.ValidationError("PaymentChannelClaim: Channel must be a string");if(e.Balance!==void 0&&typeof e.Balance!="string")throw new errors_1$D.ValidationError("PaymentChannelClaim: Balance must be a string");if(e.Amount!==void 0&&typeof e.Amount!="string")throw new errors_1$D.ValidationError("PaymentChannelClaim: Amount must be a string");if(e.Signature!==void 0&&typeof e.Signature!="string")throw new errors_1$D.ValidationError("PaymentChannelClaim: Signature must be a string");if(e.PublicKey!==void 0&&typeof e.PublicKey!="string")throw new errors_1$D.ValidationError("PaymentChannelClaim: PublicKey must be a string")}paymentChannelClaim.validatePaymentChannelClaim=validatePaymentChannelClaim;var trustSet={};Object.defineProperty(trustSet,"__esModule",{value:!0}),trustSet.validateTrustSet=trustSet.TrustSetFlags=void 0;const errors_1$C=errors$1,common_1$y=common$1;var TrustSetFlags;(function(e){e[e.tfSetfAuth=65536]="tfSetfAuth",e[e.tfSetNoRipple=131072]="tfSetNoRipple",e[e.tfClearNoRipple=262144]="tfClearNoRipple",e[e.tfSetFreeze=1048576]="tfSetFreeze",e[e.tfClearFreeze=2097152]="tfClearFreeze"})(TrustSetFlags||(trustSet.TrustSetFlags=TrustSetFlags={}));function validateTrustSet(e){(0,common_1$y.validateBaseTransaction)(e);const{LimitAmount:t,QualityIn:r,QualityOut:n}=e;if(t===void 0)throw new errors_1$C.ValidationError("TrustSet: missing field LimitAmount");if(!(0,common_1$y.isAmount)(t))throw new errors_1$C.ValidationError("TrustSet: invalid LimitAmount");if(r!==void 0&&typeof r!="number")throw new errors_1$C.ValidationError("TrustSet: QualityIn must be a number");if(n!==void 0&&typeof n!="number")throw new errors_1$C.ValidationError("TrustSet: QualityOut must be a number")}trustSet.validateTrustSet=validateTrustSet;var XChainModifyBridge={};Object.defineProperty(XChainModifyBridge,"__esModule",{value:!0}),XChainModifyBridge.validateXChainModifyBridge=XChainModifyBridge.XChainModifyBridgeFlags=void 0;const common_1$x=common$1;var XChainModifyBridgeFlags;(function(e){e[e.tfClearAccountCreateAmount=65536]="tfClearAccountCreateAmount"})(XChainModifyBridgeFlags||(XChainModifyBridge.XChainModifyBridgeFlags=XChainModifyBridgeFlags={}));function validateXChainModifyBridge(e){(0,common_1$x.validateBaseTransaction)(e),(0,common_1$x.validateRequiredField)(e,"XChainBridge",common_1$x.isXChainBridge),(0,common_1$x.validateOptionalField)(e,"SignatureReward",common_1$x.isAmount),(0,common_1$x.validateOptionalField)(e,"MinAccountCreateAmount",common_1$x.isAmount)}XChainModifyBridge.validateXChainModifyBridge=validateXChainModifyBridge,Object.defineProperty(flags,"__esModule",{value:!0}),flags.setTransactionFlagsToNumber=flags.parseAccountRootFlags=void 0;const errors_1$B=errors$1,AccountRoot_1=AccountRoot,accountSet_1$1=accountSet,AMMDeposit_1$1=AMMDeposit,AMMWithdraw_1$1=AMMWithdraw,NFTokenCreateOffer_1$1=NFTokenCreateOffer,NFTokenMint_1$1=NFTokenMint,offerCreate_1$1=offerCreate,payment_1$1=payment,paymentChannelClaim_1$1=paymentChannelClaim,trustSet_1$1=trustSet,XChainModifyBridge_1$1=XChainModifyBridge,_1$2=utils$8;function parseAccountRootFlags(e){const t={};return Object.values(AccountRoot_1.AccountRootFlags).forEach(r=>{typeof r=="string"&&(0,_1$2.isFlagEnabled)(e,AccountRoot_1.AccountRootFlags[r])&&(t[r]=!0)}),t}flags.parseAccountRootFlags=parseAccountRootFlags;const txToFlag={AccountSet:accountSet_1$1.AccountSetTfFlags,AMMDeposit:AMMDeposit_1$1.AMMDepositFlags,AMMWithdraw:AMMWithdraw_1$1.AMMWithdrawFlags,NFTokenCreateOffer:NFTokenCreateOffer_1$1.NFTokenCreateOfferFlags,NFTokenMint:NFTokenMint_1$1.NFTokenMintFlags,OfferCreate:offerCreate_1$1.OfferCreateFlags,PaymentChannelClaim:paymentChannelClaim_1$1.PaymentChannelClaimFlags,Payment:payment_1$1.PaymentFlags,TrustSet:trustSet_1$1.TrustSetFlags,XChainModifyBridge:XChainModifyBridge_1$1.XChainModifyBridgeFlags};function setTransactionFlagsToNumber$1(e){if(e.Flags==null){e.Flags=0;return}typeof e.Flags!="number"&&(e.Flags=txToFlag[e.TransactionType]?convertFlagsToNumber(e.Flags,txToFlag[e.TransactionType]):0)}flags.setTransactionFlagsToNumber=setTransactionFlagsToNumber$1;function convertFlagsToNumber(e,t){return Object.keys(e).reduce((r,n)=>{if(t[n]==null)throw new errors_1$B.ValidationError(`flag ${n} doesn't exist in flagEnum: ${JSON.stringify(t)}`);return e[n]?r|t[n]:r},0)}var sugar={},submit={},__awaiter$M=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};Object.defineProperty(submit,"__esModule",{value:!0}),submit.getLastLedgerSequence=submit.getSignedTx=submit.waitForFinalTransactionOutcome=submit.submitRequest=void 0;const ripple_binary_codec_1$8=dist$4,errors_1$A=errors$1,LEDGER_CLOSE_TIME=1e3;function sleep(e){return __awaiter$M(this,void 0,void 0,function*(){return new Promise(t=>{setTimeout(t,e)})})}function submitRequest(e,t,r=!1){return __awaiter$M(this,void 0,void 0,function*(){if(!isSigned(t))throw new errors_1$A.ValidationError("Transaction must be signed");const n={command:"submit",tx_blob:typeof t=="string"?t:(0,ripple_binary_codec_1$8.encode)(t),fail_hard:isAccountDelete(t)||r};return e.request(n)})}submit.submitRequest=submitRequest;function waitForFinalTransactionOutcome(e,t,r,n){return __awaiter$M(this,void 0,void 0,function*(){yield sleep(LEDGER_CLOSE_TIME);const a=yield e.getLedgerIndex();if(r<a)throw new errors_1$A.XrplError(`The latest ledger sequence ${a} is greater than the transaction's LastLedgerSequence (${r}).
Preliminary result: ${n}`);const o=yield e.request({command:"tx",transaction:t}).catch(u=>__awaiter$M(this,void 0,void 0,function*(){var p;const b=(p=u==null?void 0:u.data)===null||p===void 0?void 0:p.error;if(b==="txnNotFound")return waitForFinalTransactionOutcome(e,t,r,n);throw new Error(`${b} 
 Preliminary result: ${n}.
Full error details: ${String(u)}`)}));return o.result.validated?o:waitForFinalTransactionOutcome(e,t,r,n)})}submit.waitForFinalTransactionOutcome=waitForFinalTransactionOutcome;function isSigned(e){const t=typeof e=="string"?(0,ripple_binary_codec_1$8.decode)(e):e;if(typeof t=="string")return!1;if(t.Signers!=null){const r=t.Signers;for(const n of r)if(n.Signer.SigningPubKey==null||n.Signer.TxnSignature==null)return!1;return!0}return t.SigningPubKey!=null&&t.TxnSignature!=null}function getSignedTx(e,t,{autofill:r=!0,wallet:n}={}){return __awaiter$M(this,void 0,void 0,function*(){if(isSigned(t))return t;if(!n)throw new errors_1$A.ValidationError("Wallet must be provided when submitting an unsigned transaction");let a=typeof t=="string"?(0,ripple_binary_codec_1$8.decode)(t):t;return r&&(a=yield e.autofill(a)),n.sign(a).tx_blob})}submit.getSignedTx=getSignedTx;function getLastLedgerSequence(e){return(typeof e=="string"?(0,ripple_binary_codec_1$8.decode)(e):e).LastLedgerSequence}submit.getLastLedgerSequence=getLastLedgerSequence;function isAccountDelete(e){return(typeof e=="string"?(0,ripple_binary_codec_1$8.decode)(e):e).TransactionType==="AccountDelete"}var utils$7={};Object.defineProperty(utils$7,"__esModule",{value:!0}),utils$7.ensureClassicAddress=void 0;const ripple_address_codec_1$5=dist$5;function ensureClassicAddress(e){if((0,ripple_address_codec_1$5.isValidXAddress)(e)){const{classicAddress:t,tag:r}=(0,ripple_address_codec_1$5.xAddressToClassicAddress)(e);if(r!==!1)throw new Error("This command does not support the use of a tag. Use an address without a tag.");return t}return e}utils$7.ensureClassicAddress=ensureClassicAddress,function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,a,o,u){u===void 0&&(u=o);var p=Object.getOwnPropertyDescriptor(a,o);(!p||("get"in p?!a.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(n,u,p)}:function(n,a,o,u){u===void 0&&(u=o),n[u]=a[o]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,a){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(submit,e),r(utils$7,e)}(sugar);var autofill={},utils$6={},dist$3={},browser$1={},ripemd160={};Object.defineProperty(ripemd160,"__esModule",{value:!0}),ripemd160.ripemd160=ripemd160.RIPEMD160=void 0;const _md_js_1$1=_md,utils_js_1$6=utils$o,Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),Pi=Id.map(e=>(9*e+5)%16);let idxL=[Id],idxR=[Pi];for(let e=0;e<4;e++)for(let t of[idxL,idxR])t.push(t[e].map(r=>Rho[r]));const shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),shiftsL=idxL.map((e,t)=>e.map(r=>shifts[t][r])),shiftsR=idxR.map((e,t)=>e.map(r=>shifts[t][r])),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function f(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}const R_BUF=new Uint32Array(16);class RIPEMD160 extends _md_js_1$1.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:r,h2:n,h3:a,h4:o}=this;return[t,r,n,a,o]}set(t,r,n,a,o){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=a|0,this.h4=o|0}process(t,r){for(let M=0;M<16;M++,r+=4)R_BUF[M]=t.getUint32(r,!0);let n=this.h0|0,a=n,o=this.h1|0,u=o,p=this.h2|0,b=p,m=this.h3|0,y=m,A=this.h4|0,I=A;for(let M=0;M<5;M++){const C=4-M,P=Kl[M],B=Kr[M],k=idxL[M],N=idxR[M],D=shiftsL[M],L=shiftsR[M];for(let K=0;K<16;K++){const J=(0,utils_js_1$6.rotl)(n+f(M,o,p,m)+R_BUF[k[K]]+P,D[K])+A|0;n=A,A=m,m=(0,utils_js_1$6.rotl)(p,10)|0,p=o,o=J}for(let K=0;K<16;K++){const J=(0,utils_js_1$6.rotl)(a+f(C,u,b,y)+R_BUF[N[K]]+B,L[K])+I|0;a=I,I=y,y=(0,utils_js_1$6.rotl)(b,10)|0,b=u,u=J}}this.set(this.h1+p+y|0,this.h2+m+I|0,this.h3+A+a|0,this.h4+n+u|0,this.h0+o+b|0)}roundClean(){R_BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}ripemd160.RIPEMD160=RIPEMD160,ripemd160.ripemd160=(0,utils_js_1$6.wrapConstructor)(()=>new RIPEMD160);var __importDefault$i=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(browser$1,"__esModule",{value:!0}),browser$1.ripemd160=void 0;const ripemd160_1=ripemd160,wrapNoble_1=__importDefault$i(wrapNoble$1);browser$1.ripemd160=(0,wrapNoble_1.default)(ripemd160_1.ripemd160);var utils$5={},secp256k1$3={},_shortw_utils={},weierstrass={},curve={},modular={},utils$4={};Object.defineProperty(utils$4,"__esModule",{value:!0}),utils$4.bitMask=void 0,utils$4.isBytes=isBytes$2,utils$4.abytes=abytes,utils$4.bytesToHex=bytesToHex$4,utils$4.numberToHexUnpadded=numberToHexUnpadded,utils$4.hexToNumber=hexToNumber$2,utils$4.hexToBytes=hexToBytes$4,utils$4.bytesToNumberBE=bytesToNumberBE,utils$4.bytesToNumberLE=bytesToNumberLE,utils$4.numberToBytesBE=numberToBytesBE,utils$4.numberToBytesLE=numberToBytesLE,utils$4.numberToVarBytesBE=numberToVarBytesBE,utils$4.ensureBytes=ensureBytes,utils$4.concatBytes=concatBytes$3,utils$4.equalBytes=equalBytes,utils$4.utf8ToBytes=utf8ToBytes$4,utils$4.bitLen=bitLen,utils$4.bitGet=bitGet,utils$4.bitSet=bitSet,utils$4.createHmacDrbg=createHmacDrbg,utils$4.validateObject=validateObject;const _0n$5=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2);function isBytes$2(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function abytes(e){if(!isBytes$2(e))throw new Error("Uint8Array expected")}const hexes=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bytesToHex$4(e){abytes(e);let t="";for(let r=0;r<e.length;r++)t+=hexes[e[r]];return t}function numberToHexUnpadded(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function hexToNumber$2(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(e){if(e>=asciis._0&&e<=asciis._9)return e-asciis._0;if(e>=asciis._A&&e<=asciis._F)return e-(asciis._A-10);if(e>=asciis._a&&e<=asciis._f)return e-(asciis._a-10)}function hexToBytes$4(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let a=0,o=0;a<r;a++,o+=2){const u=asciiToBase16(e.charCodeAt(o)),p=asciiToBase16(e.charCodeAt(o+1));if(u===void 0||p===void 0){const b=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+b+'" at index '+o)}n[a]=u*16+p}return n}function bytesToNumberBE(e){return hexToNumber$2(bytesToHex$4(e))}function bytesToNumberLE(e){return abytes(e),hexToNumber$2(bytesToHex$4(Uint8Array.from(e).reverse()))}function numberToBytesBE(e,t){return hexToBytes$4(e.toString(16).padStart(t*2,"0"))}function numberToBytesLE(e,t){return numberToBytesBE(e,t).reverse()}function numberToVarBytesBE(e){return hexToBytes$4(numberToHexUnpadded(e))}function ensureBytes(e,t,r){let n;if(typeof t=="string")try{n=hexToBytes$4(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(isBytes$2(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const a=n.length;if(typeof r=="number"&&a!==r)throw new Error(`${e} expected ${r} bytes, got ${a}`);return n}function concatBytes$3(...e){let t=0;for(let n=0;n<e.length;n++){const a=e[n];abytes(a),t+=a.length}const r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const o=e[n];r.set(o,a),a+=o.length}return r}function equalBytes(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function utf8ToBytes$4(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function bitLen(e){let t;for(t=0;e>_0n$5;e>>=_1n$5,t+=1);return t}function bitGet(e,t){return e>>BigInt(t)&_1n$5}function bitSet(e,t,r){return e|(r?_1n$5:_0n$5)<<BigInt(t)}const bitMask=e=>(_2n$3<<BigInt(e-1))-_1n$5;utils$4.bitMask=bitMask;const u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=u8n(e),a=u8n(e),o=0;const u=()=>{n.fill(1),a.fill(0),o=0},p=(...y)=>r(a,n,...y),b=(y=u8n())=>{a=p(u8fr([0]),y),n=p(),y.length!==0&&(a=p(u8fr([1]),y),n=p())},m=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const A=[];for(;y<t;){n=p();const I=n.slice();A.push(I),y+=n.length}return concatBytes$3(...A)};return(y,A)=>{u(),b(y);let I;for(;!(I=A(m()));)b();return u(),I}}const validatorFns={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||isBytes$2(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function validateObject(e,t,r={}){const n=(a,o,u)=>{const p=validatorFns[o];if(typeof p!="function")throw new Error(`Invalid validator "${o}", expected function`);const b=e[a];if(!(u&&b===void 0)&&!p(b,e))throw new Error(`Invalid param ${String(a)}=${b} (${typeof b}), expected ${o}`)};for(const[a,o]of Object.entries(t))n(a,o,!1);for(const[a,o]of Object.entries(r))n(a,o,!0);return e}Object.defineProperty(modular,"__esModule",{value:!0}),modular.isNegativeLE=void 0,modular.mod=mod,modular.pow=pow,modular.pow2=pow2,modular.invert=invert,modular.tonelliShanks=tonelliShanks,modular.FpSqrt=FpSqrt,modular.validateField=validateField,modular.FpPow=FpPow,modular.FpInvertBatch=FpInvertBatch,modular.FpDiv=FpDiv,modular.FpIsSquare=FpIsSquare,modular.nLength=nLength,modular.Field=Field,modular.FpSqrtOdd=FpSqrtOdd,modular.FpSqrtEven=FpSqrtEven,modular.hashToPrivateScalar=hashToPrivateScalar,modular.getFieldBytesLength=getFieldBytesLength,modular.getMinHashLength=getMinHashLength,modular.mapHashToField=mapHashToField;const utils_js_1$5=utils$4,_0n$4=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),_3n=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n$1=BigInt(8);BigInt(9),BigInt(16);function mod(e,t){const r=e%t;return r>=_0n$4?r:t+r}function pow(e,t,r){if(r<=_0n$4||t<_0n$4)throw new Error("Expected power/modulo > 0");if(r===_1n$4)return _0n$4;let n=_1n$4;for(;t>_0n$4;)t&_1n$4&&(n=n*e%r),e=e*e%r,t>>=_1n$4;return n}function pow2(e,t,r){let n=e;for(;t-- >_0n$4;)n*=n,n%=r;return n}function invert(e,t){if(e===_0n$4||t<=_0n$4)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=mod(e,t),n=t,a=_0n$4,o=_1n$4;for(;r!==_0n$4;){const u=n/r,p=n%r,b=a-o*u;n=r,r=p,a=o,o=b}if(n!==_1n$4)throw new Error("invert: does not exist");return mod(a,t)}function tonelliShanks(e){const t=(e-_1n$4)/_2n$2;let r,n,a;for(r=e-_1n$4,n=0;r%_2n$2===_0n$4;r/=_2n$2,n++);for(a=_2n$2;a<e&&pow(a,t,e)!==e-_1n$4;a++);if(n===1){const u=(e+_1n$4)/_4n;return function(p,b){const m=p.pow(b,u);if(!p.eql(p.sqr(m),b))throw new Error("Cannot find square root");return m}}const o=(r+_1n$4)/_2n$2;return function(u,p){if(u.pow(p,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let b=n,m=u.pow(u.mul(u.ONE,a),r),y=u.pow(p,o),A=u.pow(p,r);for(;!u.eql(A,u.ONE);){if(u.eql(A,u.ZERO))return u.ZERO;let I=1;for(let C=u.sqr(A);I<b&&!u.eql(C,u.ONE);I++)C=u.sqr(C);const M=u.pow(m,_1n$4<<BigInt(b-I-1));m=u.sqr(M),y=u.mul(y,M),A=u.mul(A,m),b=I}return y}}function FpSqrt(e){if(e%_4n===_3n){const t=(e+_1n$4)/_4n;return function(r,n){const a=r.pow(n,t);if(!r.eql(r.sqr(a),n))throw new Error("Cannot find square root");return a}}if(e%_8n$1===_5n){const t=(e-_5n)/_8n$1;return function(r,n){const a=r.mul(n,_2n$2),o=r.pow(a,t),u=r.mul(n,o),p=r.mul(r.mul(u,_2n$2),o),b=r.mul(u,r.sub(p,r.ONE));if(!r.eql(r.sqr(b),n))throw new Error("Cannot find square root");return b}}return tonelliShanks(e)}const isNegativeLE=(e,t)=>(mod(e,t)&_1n$4)===_1n$4;modular.isNegativeLE=isNegativeLE;const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=FIELD_FIELDS.reduce((n,a)=>(n[a]="function",n),t);return(0,utils_js_1$5.validateObject)(e,r)}function FpPow(e,t,r){if(r<_0n$4)throw new Error("Expected power > 0");if(r===_0n$4)return e.ONE;if(r===_1n$4)return t;let n=e.ONE,a=t;for(;r>_0n$4;)r&_1n$4&&(n=e.mul(n,a)),a=e.sqr(a),r>>=_1n$4;return n}function FpInvertBatch(e,t){const r=new Array(t.length),n=t.reduce((o,u,p)=>e.is0(u)?o:(r[p]=o,e.mul(o,u)),e.ONE),a=e.inv(n);return t.reduceRight((o,u,p)=>e.is0(u)?o:(r[p]=e.mul(o,r[p]),e.mul(o,u)),a),r}function FpDiv(e,t,r){return e.mul(t,typeof r=="bigint"?invert(r,e.ORDER):e.inv(r))}function FpIsSquare(e){const t=(e.ORDER-_1n$4)/_2n$2;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}function nLength(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Field(e,t,r=!1,n={}){if(e<=_0n$4)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:o}=nLength(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=FpSqrt(e),p=Object.freeze({ORDER:e,BITS:a,BYTES:o,MASK:(0,utils_js_1$5.bitMask)(a),ZERO:_0n$4,ONE:_1n$4,create:b=>mod(b,e),isValid:b=>{if(typeof b!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof b}`);return _0n$4<=b&&b<e},is0:b=>b===_0n$4,isOdd:b=>(b&_1n$4)===_1n$4,neg:b=>mod(-b,e),eql:(b,m)=>b===m,sqr:b=>mod(b*b,e),add:(b,m)=>mod(b+m,e),sub:(b,m)=>mod(b-m,e),mul:(b,m)=>mod(b*m,e),pow:(b,m)=>FpPow(p,b,m),div:(b,m)=>mod(b*invert(m,e),e),sqrN:b=>b*b,addN:(b,m)=>b+m,subN:(b,m)=>b-m,mulN:(b,m)=>b*m,inv:b=>invert(b,e),sqrt:n.sqrt||(b=>u(p,b)),invertBatch:b=>FpInvertBatch(p,b),cmov:(b,m,y)=>y?m:b,toBytes:b=>r?(0,utils_js_1$5.numberToBytesLE)(b,o):(0,utils_js_1$5.numberToBytesBE)(b,o),fromBytes:b=>{if(b.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${b.length}`);return r?(0,utils_js_1$5.bytesToNumberLE)(b):(0,utils_js_1$5.bytesToNumberBE)(b)}});return Object.freeze(p)}function FpSqrtOdd(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}function FpSqrtEven(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function hashToPrivateScalar(e,t,r=!1){e=(0,utils_js_1$5.ensureBytes)("privateHash",e);const n=e.length,a=nLength(t).nByteLength+8;if(a<24||n<a||n>1024)throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${n}`);const o=r?(0,utils_js_1$5.bytesToNumberLE)(e):(0,utils_js_1$5.bytesToNumberBE)(e);return mod(o,t-_1n$4)+_1n$4}function getFieldBytesLength(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function getMinHashLength(e){const t=getFieldBytesLength(e);return t+Math.ceil(t/2)}function mapHashToField(e,t,r=!1){const n=e.length,a=getFieldBytesLength(t),o=getMinHashLength(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const u=r?(0,utils_js_1$5.bytesToNumberBE)(e):(0,utils_js_1$5.bytesToNumberLE)(e),p=mod(u,t-_1n$4)+_1n$4;return r?(0,utils_js_1$5.numberToBytesLE)(p,a):(0,utils_js_1$5.numberToBytesBE)(p,a)}Object.defineProperty(curve,"__esModule",{value:!0}),curve.wNAF=wNAF,curve.validateBasic=validateBasic;const modular_js_1$3=modular,utils_js_1$4=utils$4,_0n$3=BigInt(0),_1n$3=BigInt(1);function wNAF(e,t){const r=(a,o)=>{const u=o.negate();return a?u:o},n=a=>{const o=Math.ceil(t/a)+1,u=2**(a-1);return{windows:o,windowSize:u}};return{constTimeNegate:r,unsafeLadder(a,o){let u=e.ZERO,p=a;for(;o>_0n$3;)o&_1n$3&&(u=u.add(p)),p=p.double(),o>>=_1n$3;return u},precomputeWindow(a,o){const{windows:u,windowSize:p}=n(o),b=[];let m=a,y=m;for(let A=0;A<u;A++){y=m,b.push(y);for(let I=1;I<p;I++)y=y.add(m),b.push(y);m=y.double()}return b},wNAF(a,o,u){const{windows:p,windowSize:b}=n(a);let m=e.ZERO,y=e.BASE;const A=BigInt(2**a-1),I=2**a,M=BigInt(a);for(let C=0;C<p;C++){const P=C*b;let B=Number(u&A);u>>=M,B>b&&(B-=I,u+=_1n$3);const k=P,N=P+Math.abs(B)-1,D=C%2!==0,L=B<0;B===0?y=y.add(r(D,o[k])):m=m.add(r(L,o[N]))}return{p:m,f:y}},wNAFCached(a,o,u,p){const b=a._WINDOW_SIZE||1;let m=o.get(a);return m||(m=this.precomputeWindow(a,b),b!==1&&o.set(a,p(m))),this.wNAF(b,m,u)}}}function validateBasic(e){return(0,modular_js_1$3.validateField)(e.Fp),(0,utils_js_1$4.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,modular_js_1$3.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DER=void 0,e.weierstrassPoints=M,e.weierstrass=P,e.SWUFpSqrtRatio=B,e.mapToCurveSimpleSWU=k;const t=curve,r=modular,n=utils$4,a=utils$4;function o(N){const D=(0,t.validateBasic)(N);n.validateObject(D,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:L,Fp:K,a:J}=D;if(L){if(!K.eql(J,K.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof L!="object"||typeof L.beta!="bigint"||typeof L.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...D})}const{bytesToNumberBE:u,hexToBytes:p}=n;e.DER={Err:class extends Error{constructor(N=""){super(N)}},_parseInt(N){const{Err:D}=e.DER;if(N.length<2||N[0]!==2)throw new D("Invalid signature integer tag");const L=N[1],K=N.subarray(2,L+2);if(!L||K.length!==L)throw new D("Invalid signature integer: wrong length");if(K[0]&128)throw new D("Invalid signature integer: negative");if(K[0]===0&&!(K[1]&128))throw new D("Invalid signature integer: unnecessary leading zero");return{d:u(K),l:N.subarray(L+2)}},toSig(N){const{Err:D}=e.DER,L=typeof N=="string"?p(N):N;n.abytes(L);let K=L.length;if(K<2||L[0]!=48)throw new D("Invalid signature tag");if(L[1]!==K-2)throw new D("Invalid signature: incorrect length");const{d:J,l:ce}=e.DER._parseInt(L.subarray(2)),{d:oe,l:Z}=e.DER._parseInt(ce);if(Z.length)throw new D("Invalid signature: left bytes after parsing");return{r:J,s:oe}},hexFromSig(N){const D=s=>Number.parseInt(s[0],16)&8?"00"+s:s,L=s=>{const d=s.toString(16);return d.length&1?`0${d}`:d},K=D(L(N.s)),J=D(L(N.r)),ce=K.length/2,oe=J.length/2,Z=L(ce),ie=L(oe);return`30${L(oe+ce+4)}02${ie}${J}02${Z}${K}`}};const b=BigInt(0),m=BigInt(1),y=BigInt(2),A=BigInt(3),I=BigInt(4);function M(N){const D=o(N),{Fp:L}=D,K=D.toBytes||((O,T,_)=>{const c=T.toAffine();return n.concatBytes(Uint8Array.from([4]),L.toBytes(c.x),L.toBytes(c.y))}),J=D.fromBytes||(O=>{const T=O.subarray(1),_=L.fromBytes(T.subarray(0,L.BYTES)),c=L.fromBytes(T.subarray(L.BYTES,2*L.BYTES));return{x:_,y:c}});function ce(O){const{a:T,b:_}=D,c=L.sqr(O),w=L.mul(c,O);return L.add(L.add(w,L.mul(O,T)),_)}if(!L.eql(L.sqr(D.Gy),ce(D.Gx)))throw new Error("bad generator point: equation left != right");function oe(O){return typeof O=="bigint"&&b<O&&O<D.n}function Z(O){if(!oe(O))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ie(O){const{allowedPrivateKeyLengths:T,nByteLength:_,wrapPrivateKey:c,n:w}=D;if(T&&typeof O!="bigint"){if(n.isBytes(O)&&(O=n.bytesToHex(O)),typeof O!="string"||!T.includes(O.length))throw new Error("Invalid key");O=O.padStart(_*2,"0")}let x;try{x=typeof O=="bigint"?O:n.bytesToNumberBE((0,a.ensureBytes)("private key",O,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof O}`)}return c&&(x=r.mod(x,w)),Z(x),x}const s=new Map;function d(O){if(!(O instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(T,_,c){if(this.px=T,this.py=_,this.pz=c,T==null||!L.isValid(T))throw new Error("x required");if(_==null||!L.isValid(_))throw new Error("y required");if(c==null||!L.isValid(c))throw new Error("z required")}static fromAffine(T){const{x:_,y:c}=T||{};if(!T||!L.isValid(_)||!L.isValid(c))throw new Error("invalid affine point");if(T instanceof l)throw new Error("projective point not allowed");const w=x=>L.eql(x,L.ZERO);return w(_)&&w(c)?l.ZERO:new l(_,c,L.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const _=L.invertBatch(T.map(c=>c.pz));return T.map((c,w)=>c.toAffine(_[w])).map(l.fromAffine)}static fromHex(T){const _=l.fromAffine(J((0,a.ensureBytes)("pointHex",T)));return _.assertValidity(),_}static fromPrivateKey(T){return l.BASE.multiply(ie(T))}_setWindowSize(T){this._WINDOW_SIZE=T,s.delete(this)}assertValidity(){if(this.is0()){if(D.allowInfinityPoint&&!L.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:T,y:_}=this.toAffine();if(!L.isValid(T)||!L.isValid(_))throw new Error("bad point: x or y not FE");const c=L.sqr(_),w=ce(T);if(!L.eql(c,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:T}=this.toAffine();if(L.isOdd)return!L.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){d(T);const{px:_,py:c,pz:w}=this,{px:x,py:F,pz:q}=T,V=L.eql(L.mul(_,q),L.mul(x,w)),Y=L.eql(L.mul(c,q),L.mul(F,w));return V&&Y}negate(){return new l(this.px,L.neg(this.py),this.pz)}double(){const{a:T,b:_}=D,c=L.mul(_,A),{px:w,py:x,pz:F}=this;let q=L.ZERO,V=L.ZERO,Y=L.ZERO,Q=L.mul(w,w),G=L.mul(x,x),H=L.mul(F,F),te=L.mul(w,x);return te=L.add(te,te),Y=L.mul(w,F),Y=L.add(Y,Y),q=L.mul(T,Y),V=L.mul(c,H),V=L.add(q,V),q=L.sub(G,V),V=L.add(G,V),V=L.mul(q,V),q=L.mul(te,q),Y=L.mul(c,Y),H=L.mul(T,H),te=L.sub(Q,H),te=L.mul(T,te),te=L.add(te,Y),Y=L.add(Q,Q),Q=L.add(Y,Q),Q=L.add(Q,H),Q=L.mul(Q,te),V=L.add(V,Q),H=L.mul(x,F),H=L.add(H,H),Q=L.mul(H,te),q=L.sub(q,Q),Y=L.mul(H,G),Y=L.add(Y,Y),Y=L.add(Y,Y),new l(q,V,Y)}add(T){d(T);const{px:_,py:c,pz:w}=this,{px:x,py:F,pz:q}=T;let V=L.ZERO,Y=L.ZERO,Q=L.ZERO;const G=D.a,H=L.mul(D.b,A);let te=L.mul(_,x),W=L.mul(c,F),U=L.mul(w,q),j=L.add(_,c),ee=L.add(x,F);j=L.mul(j,ee),ee=L.add(te,W),j=L.sub(j,ee),ee=L.add(_,w);let X=L.add(x,q);return ee=L.mul(ee,X),X=L.add(te,U),ee=L.sub(ee,X),X=L.add(c,w),V=L.add(F,q),X=L.mul(X,V),V=L.add(W,U),X=L.sub(X,V),Q=L.mul(G,ee),V=L.mul(H,U),Q=L.add(V,Q),V=L.sub(W,Q),Q=L.add(W,Q),Y=L.mul(V,Q),W=L.add(te,te),W=L.add(W,te),U=L.mul(G,U),ee=L.mul(H,ee),W=L.add(W,U),U=L.sub(te,U),U=L.mul(G,U),ee=L.add(ee,U),te=L.mul(W,ee),Y=L.add(Y,te),te=L.mul(X,ee),V=L.mul(j,V),V=L.sub(V,te),te=L.mul(j,W),Q=L.mul(X,Q),Q=L.add(Q,te),new l(V,Y,Q)}subtract(T){return this.add(T.negate())}is0(){return this.equals(l.ZERO)}wNAF(T){return S.wNAFCached(this,s,T,_=>{const c=L.invertBatch(_.map(w=>w.pz));return _.map((w,x)=>w.toAffine(c[x])).map(l.fromAffine)})}multiplyUnsafe(T){const _=l.ZERO;if(T===b)return _;if(Z(T),T===m)return this;const{endo:c}=D;if(!c)return S.unsafeLadder(this,T);let{k1neg:w,k1:x,k2neg:F,k2:q}=c.splitScalar(T),V=_,Y=_,Q=this;for(;x>b||q>b;)x&m&&(V=V.add(Q)),q&m&&(Y=Y.add(Q)),Q=Q.double(),x>>=m,q>>=m;return w&&(V=V.negate()),F&&(Y=Y.negate()),Y=new l(L.mul(Y.px,c.beta),Y.py,Y.pz),V.add(Y)}multiply(T){Z(T);let _=T,c,w;const{endo:x}=D;if(x){const{k1neg:F,k1:q,k2neg:V,k2:Y}=x.splitScalar(_);let{p:Q,f:G}=this.wNAF(q),{p:H,f:te}=this.wNAF(Y);Q=S.constTimeNegate(F,Q),H=S.constTimeNegate(V,H),H=new l(L.mul(H.px,x.beta),H.py,H.pz),c=Q.add(H),w=G.add(te)}else{const{p:F,f:q}=this.wNAF(_);c=F,w=q}return l.normalizeZ([c,w])[0]}multiplyAndAddUnsafe(T,_,c){const w=l.BASE,x=(q,V)=>V===b||V===m||!q.equals(w)?q.multiplyUnsafe(V):q.multiply(V),F=x(this,_).add(x(T,c));return F.is0()?void 0:F}toAffine(T){const{px:_,py:c,pz:w}=this,x=this.is0();T==null&&(T=x?L.ONE:L.inv(w));const F=L.mul(_,T),q=L.mul(c,T),V=L.mul(w,T);if(x)return{x:L.ZERO,y:L.ZERO};if(!L.eql(V,L.ONE))throw new Error("invZ was invalid");return{x:F,y:q}}isTorsionFree(){const{h:T,isTorsionFree:_}=D;if(T===m)return!0;if(_)return _(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:_}=D;return T===m?this:_?_(l,this):this.multiplyUnsafe(D.h)}toRawBytes(T=!0){return this.assertValidity(),K(l,this,T)}toHex(T=!0){return n.bytesToHex(this.toRawBytes(T))}}l.BASE=new l(D.Gx,D.Gy,L.ONE),l.ZERO=new l(L.ZERO,L.ONE,L.ZERO);const v=D.nBitLength,S=(0,t.wNAF)(l,D.endo?Math.ceil(v/2):v);return{CURVE:D,ProjectivePoint:l,normPrivateKeyToScalar:ie,weierstrassEquation:ce,isWithinCurveOrder:oe}}function C(N){const D=(0,t.validateBasic)(N);return n.validateObject(D,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...D})}function P(N){const D=C(N),{Fp:L,n:K}=D,J=L.BYTES+1,ce=2*L.BYTES+1;function oe(ee){return b<ee&&ee<L.ORDER}function Z(ee){return r.mod(ee,K)}function ie(ee){return r.invert(ee,K)}const{ProjectivePoint:s,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:v}=M({...D,toBytes(ee,X,ne){const de=X.toAffine(),re=L.toBytes(de.x),ae=n.concatBytes;return ne?ae(Uint8Array.from([X.hasEvenY()?2:3]),re):ae(Uint8Array.from([4]),re,L.toBytes(de.y))},fromBytes(ee){const X=ee.length,ne=ee[0],de=ee.subarray(1);if(X===J&&(ne===2||ne===3)){const re=n.bytesToNumberBE(de);if(!oe(re))throw new Error("Point is not on curve");const ae=l(re);let ue;try{ue=L.sqrt(ae)}catch(le){const Re=le instanceof Error?": "+le.message:"";throw new Error("Point is not on curve"+Re)}const se=(ue&m)===m;return(ne&1)===1!==se&&(ue=L.neg(ue)),{x:re,y:ue}}else if(X===ce&&ne===4){const re=L.fromBytes(de.subarray(0,L.BYTES)),ae=L.fromBytes(de.subarray(L.BYTES,2*L.BYTES));return{x:re,y:ae}}else throw new Error(`Point of length ${X} was invalid. Expected ${J} compressed bytes or ${ce} uncompressed bytes`)}}),S=ee=>n.bytesToHex(n.numberToBytesBE(ee,D.nByteLength));function O(ee){const X=K>>m;return ee>X}function T(ee){return O(ee)?Z(-ee):ee}const _=(ee,X,ne)=>n.bytesToNumberBE(ee.slice(X,ne));class c{constructor(X,ne,de){this.r=X,this.s=ne,this.recovery=de,this.assertValidity()}static fromCompact(X){const ne=D.nByteLength;return X=(0,a.ensureBytes)("compactSignature",X,ne*2),new c(_(X,0,ne),_(X,ne,2*ne))}static fromDER(X){const{r:ne,s:de}=e.DER.toSig((0,a.ensureBytes)("DER",X));return new c(ne,de)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(X){return new c(this.r,this.s,X)}recoverPublicKey(X){const{r:ne,s:de,recovery:re}=this,ae=Y((0,a.ensureBytes)("msgHash",X));if(re==null||![0,1,2,3].includes(re))throw new Error("recovery id invalid");const ue=re===2||re===3?ne+D.n:ne;if(ue>=L.ORDER)throw new Error("recovery id 2 or 3 invalid");const se=re&1?"03":"02",le=s.fromHex(se+S(ue)),Re=ie(ue),he=Z(-ae*Re),fe=Z(de*Re),Fe=s.BASE.multiplyAndAddUnsafe(le,he,fe);if(!Fe)throw new Error("point at infinify");return Fe.assertValidity(),Fe}hasHighS(){return O(this.s)}normalizeS(){return this.hasHighS()?new c(this.r,Z(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}const w={isValidPrivateKey(ee){try{return d(ee),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const ee=r.getMinHashLength(D.n);return r.mapHashToField(D.randomBytes(ee),D.n)},precompute(ee=8,X=s.BASE){return X._setWindowSize(ee),X.multiply(BigInt(3)),X}};function x(ee,X=!0){return s.fromPrivateKey(ee).toRawBytes(X)}function F(ee){const X=n.isBytes(ee),ne=typeof ee=="string",de=(X||ne)&&ee.length;return X?de===J||de===ce:ne?de===2*J||de===2*ce:ee instanceof s}function q(ee,X,ne=!0){if(F(ee))throw new Error("first arg must be private key");if(!F(X))throw new Error("second arg must be public key");return s.fromHex(X).multiply(d(ee)).toRawBytes(ne)}const V=D.bits2int||function(ee){const X=n.bytesToNumberBE(ee),ne=ee.length*8-D.nBitLength;return ne>0?X>>BigInt(ne):X},Y=D.bits2int_modN||function(ee){return Z(V(ee))},Q=n.bitMask(D.nBitLength);function G(ee){if(typeof ee!="bigint")throw new Error("bigint expected");if(!(b<=ee&&ee<Q))throw new Error(`bigint expected < 2^${D.nBitLength}`);return n.numberToBytesBE(ee,D.nByteLength)}function H(ee,X,ne=te){if(["recovered","canonical"].some(pe=>pe in ne))throw new Error("sign() legacy options not supported");const{hash:de,randomBytes:re}=D;let{lowS:ae,prehash:ue,extraEntropy:se}=ne;ae==null&&(ae=!0),ee=(0,a.ensureBytes)("msgHash",ee),ue&&(ee=(0,a.ensureBytes)("prehashed msgHash",de(ee)));const le=Y(ee),Re=d(X),he=[G(Re),G(le)];if(se!=null&&se!==!1){const pe=se===!0?re(L.BYTES):se;he.push((0,a.ensureBytes)("extraEntropy",pe))}const fe=n.concatBytes(...he),Fe=le;function me(pe){const Ue=V(pe);if(!v(Ue))return;const ye=ie(Ue),be=s.BASE.multiply(Ue).toAffine(),He=Z(be.x);if(He===b)return;const $e=Z(ye*Z(Fe+He*Re));if($e===b)return;let Me=(be.x===He?0:2)|Number(be.y&m),qe=$e;return ae&&O($e)&&(qe=T($e),Me^=1),new c(He,qe,Me)}return{seed:fe,k2sig:me}}const te={lowS:D.lowS,prehash:!1},W={lowS:D.lowS,prehash:!1};function U(ee,X,ne=te){const{seed:de,k2sig:re}=H(ee,X,ne),ae=D;return n.createHmacDrbg(ae.hash.outputLen,ae.nByteLength,ae.hmac)(de,re)}s.BASE._setWindowSize(8);function j(ee,X,ne,de=W){var ye;const re=ee;if(X=(0,a.ensureBytes)("msgHash",X),ne=(0,a.ensureBytes)("publicKey",ne),"strict"in de)throw new Error("options.strict was renamed to lowS");const{lowS:ae,prehash:ue}=de;let se,le;try{if(typeof re=="string"||n.isBytes(re))try{se=c.fromDER(re)}catch(be){if(!(be instanceof e.DER.Err))throw be;se=c.fromCompact(re)}else if(typeof re=="object"&&typeof re.r=="bigint"&&typeof re.s=="bigint"){const{r:be,s:He}=re;se=new c(be,He)}else throw new Error("PARSE");le=s.fromHex(ne)}catch(be){if(be.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ae&&se.hasHighS())return!1;ue&&(X=D.hash(X));const{r:Re,s:he}=se,fe=Y(X),Fe=ie(he),me=Z(fe*Fe),pe=Z(Re*Fe),Ue=(ye=s.BASE.multiplyAndAddUnsafe(le,me,pe))==null?void 0:ye.toAffine();return Ue?Z(Ue.x)===Re:!1}return{CURVE:D,getPublicKey:x,getSharedSecret:q,sign:U,verify:j,ProjectivePoint:s,Signature:c,utils:w}}function B(N,D){const L=N.ORDER;let K=b;for(let O=L-m;O%y===b;O/=y)K+=m;const J=K,ce=y<<J-m-m,oe=ce*y,Z=(L-m)/oe,ie=(Z-m)/y,s=oe-m,d=ce,l=N.pow(D,Z),v=N.pow(D,(Z+m)/y);let S=(O,T)=>{let _=l,c=N.pow(T,s),w=N.sqr(c);w=N.mul(w,T);let x=N.mul(O,w);x=N.pow(x,ie),x=N.mul(x,c),c=N.mul(x,T),w=N.mul(x,O);let F=N.mul(w,c);x=N.pow(F,d);let q=N.eql(x,N.ONE);c=N.mul(w,v),x=N.mul(F,_),w=N.cmov(c,w,q),F=N.cmov(x,F,q);for(let V=J;V>m;V--){let Y=V-y;Y=y<<Y-m;let Q=N.pow(F,Y);const G=N.eql(Q,N.ONE);c=N.mul(w,_),_=N.mul(_,_),Q=N.mul(F,_),w=N.cmov(c,w,G),F=N.cmov(Q,F,G)}return{isValid:q,value:w}};if(N.ORDER%I===A){const O=(N.ORDER-A)/I,T=N.sqrt(N.neg(D));S=(_,c)=>{let w=N.sqr(c);const x=N.mul(_,c);w=N.mul(w,x);let F=N.pow(w,O);F=N.mul(F,x);const q=N.mul(F,T),V=N.mul(N.sqr(F),c),Y=N.eql(V,_);let Q=N.cmov(q,F,Y);return{isValid:Y,value:Q}}}return S}function k(N,D){if(r.validateField(N),!N.isValid(D.A)||!N.isValid(D.B)||!N.isValid(D.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const L=B(N,D.Z);if(!N.isOdd)throw new Error("Fp.isOdd is not implemented!");return K=>{let J,ce,oe,Z,ie,s,d,l;J=N.sqr(K),J=N.mul(J,D.Z),ce=N.sqr(J),ce=N.add(ce,J),oe=N.add(ce,N.ONE),oe=N.mul(oe,D.B),Z=N.cmov(D.Z,N.neg(ce),!N.eql(ce,N.ZERO)),Z=N.mul(Z,D.A),ce=N.sqr(oe),s=N.sqr(Z),ie=N.mul(s,D.A),ce=N.add(ce,ie),ce=N.mul(ce,oe),s=N.mul(s,Z),ie=N.mul(s,D.B),ce=N.add(ce,ie),d=N.mul(J,oe);const{isValid:v,value:S}=L(ce,s);l=N.mul(J,K),l=N.mul(l,S),d=N.cmov(d,oe,v),l=N.cmov(l,S,v);const O=N.isOdd(K)===N.isOdd(l);return l=N.cmov(N.neg(l),l,O),d=N.div(d,Z),{x:d,y:l}}}})(weierstrass),Object.defineProperty(_shortw_utils,"__esModule",{value:!0}),_shortw_utils.getHash=getHash,_shortw_utils.createCurve=createCurve;const hmac_1=hmac$1,utils_1$i=utils$o,weierstrass_js_1=weierstrass;function getHash(e){return{hash:e,hmac:(t,...r)=>(0,hmac_1.hmac)(e,t,(0,utils_1$i.concatBytes)(...r)),randomBytes:utils_1$i.randomBytes}}function createCurve(e,t){const r=n=>(0,weierstrass_js_1.weierstrass)({...e,...getHash(n)});return Object.freeze({...r(t),create:r})}var hashToCurve={};Object.defineProperty(hashToCurve,"__esModule",{value:!0}),hashToCurve.expand_message_xmd=expand_message_xmd,hashToCurve.expand_message_xof=expand_message_xof,hashToCurve.hash_to_field=hash_to_field,hashToCurve.isogenyMap=isogenyMap,hashToCurve.createHasher=createHasher;const modular_js_1$2=modular,utils_js_1$3=utils$4,os2ip=utils_js_1$3.bytesToNumberBE;function i2osp(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function strxor(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function anum(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function expand_message_xmd(e,t,r,n){(0,utils_js_1$3.abytes)(e),(0,utils_js_1$3.abytes)(t),anum(r),t.length>255&&(t=n((0,utils_js_1$3.concatBytes)((0,utils_js_1$3.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:a,blockLen:o}=n,u=Math.ceil(r/a);if(u>255)throw new Error("Invalid xmd length");const p=(0,utils_js_1$3.concatBytes)(t,i2osp(t.length,1)),b=i2osp(0,o),m=i2osp(r,2),y=new Array(u),A=n((0,utils_js_1$3.concatBytes)(b,e,m,i2osp(0,1),p));y[0]=n((0,utils_js_1$3.concatBytes)(A,i2osp(1,1),p));for(let I=1;I<=u;I++){const M=[strxor(A,y[I-1]),i2osp(I+1,1),p];y[I]=n((0,utils_js_1$3.concatBytes)(...M))}return(0,utils_js_1$3.concatBytes)(...y).slice(0,r)}function expand_message_xof(e,t,r,n,a){if((0,utils_js_1$3.abytes)(e),(0,utils_js_1$3.abytes)(t),anum(r),t.length>255){const o=Math.ceil(2*n/8);t=a.create({dkLen:o}).update((0,utils_js_1$3.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return a.create({dkLen:r}).update(e).update(i2osp(r,2)).update(t).update(i2osp(t.length,1)).digest()}function hash_to_field(e,t,r){(0,utils_js_1$3.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:a,m:o,hash:u,expand:p,DST:b}=r;(0,utils_js_1$3.abytes)(e),anum(t);const m=typeof b=="string"?(0,utils_js_1$3.utf8ToBytes)(b):b,y=n.toString(2).length,A=Math.ceil((y+a)/8),I=t*o*A;let M;if(p==="xmd")M=expand_message_xmd(e,m,I,u);else if(p==="xof")M=expand_message_xof(e,m,I,a,u);else if(p==="_internal_pass")M=e;else throw new Error('expand must be "xmd" or "xof"');const C=new Array(t);for(let P=0;P<t;P++){const B=new Array(o);for(let k=0;k<o;k++){const N=A*(k+P*o),D=M.subarray(N,N+A);B[k]=(0,modular_js_1$2.mod)(os2ip(D),n)}C[P]=B}return C}function isogenyMap(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,a)=>{const[o,u,p,b]=r.map(m=>m.reduce((y,A)=>e.add(e.mul(y,n),A)));return n=e.div(o,u),a=e.mul(a,e.div(p,b)),{x:n,y:a}}}function createHasher(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,a){const o=hash_to_field(n,2,{...r,DST:r.DST,...a}),u=e.fromAffine(t(o[0])),p=e.fromAffine(t(o[1])),b=u.add(p).clearCofactor();return b.assertValidity(),b},encodeToCurve(n,a){const o=hash_to_field(n,1,{...r,DST:r.encodeDST,...a}),u=e.fromAffine(t(o[0])).clearCofactor();return u.assertValidity(),u},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const o of n)if(typeof o!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${o} in array`);const a=e.fromAffine(t(n)).clearCofactor();return a.assertValidity(),a}}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;const t=sha256$3,r=utils$o,n=_shortw_utils,a=hashToCurve,o=modular,u=utils$4,p=weierstrass,b=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),m=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),y=BigInt(1),A=BigInt(2),I=(c,w)=>(c+w/A)/w;function M(c){const w=b,x=BigInt(3),F=BigInt(6),q=BigInt(11),V=BigInt(22),Y=BigInt(23),Q=BigInt(44),G=BigInt(88),H=c*c*c%w,te=H*H*c%w,W=(0,o.pow2)(te,x,w)*te%w,U=(0,o.pow2)(W,x,w)*te%w,j=(0,o.pow2)(U,A,w)*H%w,ee=(0,o.pow2)(j,q,w)*j%w,X=(0,o.pow2)(ee,V,w)*ee%w,ne=(0,o.pow2)(X,Q,w)*X%w,de=(0,o.pow2)(ne,G,w)*ne%w,re=(0,o.pow2)(de,Q,w)*X%w,ae=(0,o.pow2)(re,x,w)*te%w,ue=(0,o.pow2)(ae,Y,w)*ee%w,se=(0,o.pow2)(ue,F,w)*H%w,le=(0,o.pow2)(se,A,w);if(!C.eql(C.sqr(le),c))throw new Error("Cannot find square root");return le}const C=(0,o.Field)(b,void 0,void 0,{sqrt:M});e.secp256k1=(0,n.createCurve)({a:BigInt(0),b:BigInt(7),Fp:C,n:m,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:c=>{const w=m,x=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),F=-y*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),q=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),V=x,Y=BigInt("0x100000000000000000000000000000000"),Q=I(V*c,w),G=I(-F*c,w);let H=(0,o.mod)(c-Q*x-G*q,w),te=(0,o.mod)(-Q*F-G*V,w);const W=H>Y,U=te>Y;if(W&&(H=w-H),U&&(te=w-te),H>Y||te>Y)throw new Error("splitScalar: Endomorphism failed, k="+c);return{k1neg:W,k1:H,k2neg:U,k2:te}}}},t.sha256);const P=BigInt(0),B=c=>typeof c=="bigint"&&P<c&&c<b,k=c=>typeof c=="bigint"&&P<c&&c<m,N={};function D(c,...w){let x=N[c];if(x===void 0){const F=(0,t.sha256)(Uint8Array.from(c,q=>q.charCodeAt(0)));x=(0,u.concatBytes)(F,F),N[c]=x}return(0,t.sha256)((0,u.concatBytes)(x,...w))}const L=c=>c.toRawBytes(!0).slice(1),K=c=>(0,u.numberToBytesBE)(c,32),J=c=>(0,o.mod)(c,b),ce=c=>(0,o.mod)(c,m),oe=e.secp256k1.ProjectivePoint,Z=(c,w,x)=>oe.BASE.multiplyAndAddUnsafe(c,w,x);function ie(c){let w=e.secp256k1.utils.normPrivateKeyToScalar(c),x=oe.fromPrivateKey(w);return{scalar:x.hasEvenY()?w:ce(-w),bytes:L(x)}}function s(c){if(!B(c))throw new Error("bad x: need 0 < x < p");const w=J(c*c),x=J(w*c+BigInt(7));let F=M(x);F%A!==P&&(F=J(-F));const q=new oe(c,F,y);return q.assertValidity(),q}function d(...c){return ce((0,u.bytesToNumberBE)(D("BIP0340/challenge",...c)))}function l(c){return ie(c).bytes}function v(c,w,x=(0,r.randomBytes)(32)){const F=(0,u.ensureBytes)("message",c),{bytes:q,scalar:V}=ie(w),Y=(0,u.ensureBytes)("auxRand",x,32),Q=K(V^(0,u.bytesToNumberBE)(D("BIP0340/aux",Y))),G=D("BIP0340/nonce",Q,q,F),H=ce((0,u.bytesToNumberBE)(G));if(H===P)throw new Error("sign failed: k is zero");const{bytes:te,scalar:W}=ie(H),U=d(te,q,F),j=new Uint8Array(64);if(j.set(te,0),j.set(K(ce(W+U*V)),32),!S(j,F,q))throw new Error("sign: Invalid signature produced");return j}function S(c,w,x){const F=(0,u.ensureBytes)("signature",c,64),q=(0,u.ensureBytes)("message",w),V=(0,u.ensureBytes)("publicKey",x,32);try{const Y=s((0,u.bytesToNumberBE)(V)),Q=(0,u.bytesToNumberBE)(F.subarray(0,32));if(!B(Q))return!1;const G=(0,u.bytesToNumberBE)(F.subarray(32,64));if(!k(G))return!1;const H=d(K(Q),L(Y),q),te=Z(Y,G,ce(-H));return!(!te||!te.hasEvenY()||te.toAffine().x!==Q)}catch{return!1}}e.schnorr={getPublicKey:l,sign:v,verify:S,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:s,pointToBytes:L,numberToBytesBE:u.numberToBytesBE,bytesToNumberBE:u.bytesToNumberBE,taggedHash:D,mod:o.mod}};const O=(0,a.isogenyMap)(C,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(c=>c.map(w=>BigInt(w)))),T=(0,p.mapToCurveSimpleSWU)(C,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:C.create(BigInt("-11"))}),_=(0,a.createHasher)(e.secp256k1.ProjectivePoint,c=>{const{x:w,y:x}=T(C.create(c[0]));return O(w,x)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:C.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256});e.hashToCurve=_.hashToCurve,e.encodeToCurve=_.encodeToCurve})(secp256k1$3);var Sha512$1={};Object.defineProperty(Sha512$1,"__esModule",{value:!0});const sha512_1$1=browser$2,utils_1$h=utils$4;class Sha512{constructor(){this.hash=sha512_1$1.sha512.create()}static half(t){return new Sha512().add(t).first256()}add(t){return this.hash.update(t),this}addU32(t){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),this.add(r)}finish(){return this.hash.digest()}first256(){return this.finish().slice(0,32)}first256BigInt(){return(0,utils_1$h.bytesToNumberBE)(this.first256())}}Sha512$1.default=Sha512;var __importDefault$h=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(utils$5,"__esModule",{value:!0}),utils$5.accountPublicFromPublicGenerator=utils$5.derivePrivateKey=void 0;const secp256k1_1$1=secp256k1$3,Sha512_1$2=__importDefault$h(Sha512$1),ZERO$1=BigInt(0);function deriveScalar(e,t){const r=secp256k1_1$1.secp256k1.CURVE.n;for(let n=0;n<=4294967295;n++){const a=new Sha512_1$2.default().add(e);t!==void 0&&a.addU32(t),a.addU32(n);const o=a.first256BigInt();if(o>ZERO$1&&o<r)return o}throw new Error("impossible unicorn ;)")}function derivePrivateKey(e,t={}){const r=t.validator,n=secp256k1_1$1.secp256k1.CURVE.n,a=deriveScalar(e);if(r)return a;const o=secp256k1_1$1.secp256k1.ProjectivePoint.BASE.multiply(a).toRawBytes(!0),u=t.accountIndex||0;return(deriveScalar(o,u)+a)%n}utils$5.derivePrivateKey=derivePrivateKey;function accountPublicFromPublicGenerator(e){const t=secp256k1_1$1.secp256k1.ProjectivePoint.fromHex(e),r=deriveScalar(e,0),n=secp256k1_1$1.secp256k1.ProjectivePoint.BASE.multiply(r);return t.add(n).toRawBytes(!0)}utils$5.accountPublicFromPublicGenerator=accountPublicFromPublicGenerator;var assert$1={};Object.defineProperty(assert$1,"__esModule",{value:!0});const assertHelper={ok(e,t){if(!e)throw new Error(t)}};assert$1.default=assertHelper;var getAlgorithmFromKey$1={};Object.defineProperty(getAlgorithmFromKey$1,"__esModule",{value:!0}),getAlgorithmFromKey$1.getAlgorithmFromPrivateKey=getAlgorithmFromKey$1.getAlgorithmFromPublicKey=getAlgorithmFromKey$1.getAlgorithmFromKey=void 0;var Prefix;(function(e){e[e.NONE=-1]="NONE",e[e.ED25519=237]="ED25519",e[e.SECP256K1_PUB_X=2]="SECP256K1_PUB_X",e[e.SECP256K1_PUB_X_ODD_Y=3]="SECP256K1_PUB_X_ODD_Y",e[e.SECP256K1_PUB_XY=4]="SECP256K1_PUB_XY",e[e.SECP256K1_PRIVATE=0]="SECP256K1_PRIVATE"})(Prefix||(Prefix={}));const KEY_TYPES={[`private_${Prefix.NONE}_32`]:"ecdsa-secp256k1",[`private_${Prefix.SECP256K1_PRIVATE}_33`]:"ecdsa-secp256k1",[`private_${Prefix.ED25519}_33`]:"ed25519",[`public_${Prefix.ED25519}_33`]:"ed25519",[`public_${Prefix.SECP256K1_PUB_X}_33`]:"ecdsa-secp256k1",[`public_${Prefix.SECP256K1_PUB_X_ODD_Y}_33`]:"ecdsa-secp256k1",[`public_${Prefix.SECP256K1_PUB_XY}_65`]:"ecdsa-secp256k1"};function getKeyInfo(e){return{prefix:e.length<2?Prefix.NONE:parseInt(e.slice(0,2),16),len:e.length/2}}function prefixRepr(e){return e===Prefix.NONE?"None":`0x${e.toString(16).padStart(2,"0")}`}function getValidFormatsTable(e){const t={algorithm:17,prefix:6};return Object.entries(KEY_TYPES).filter(([r])=>r.startsWith(e)).map(([r,n])=>{const[,a,o]=r.split("_"),u=n.padEnd(t.algorithm),p=prefixRepr(Number(a)).padEnd(t.prefix);return`${u} - Prefix: ${p} Length: ${o} bytes`}).join(`
`)}function keyError({key:e,type:t,prefix:r,len:n}){const a=getValidFormatsTable(t);return`invalid_key:

Type: ${t}
Key: ${e}
Prefix: ${prefixRepr(r)} 
Length: ${n} bytes

Acceptable ${t} formats are:
${a}
`}function getAlgorithmFromKey(e,t){const{prefix:r,len:n}=getKeyInfo(e),a=t==="private"&&n===32?Prefix.NONE:r,o=KEY_TYPES[`${t}_${a}_${n}`];if(!o)throw new Error(keyError({key:e,type:t,len:n,prefix:a}));return o}getAlgorithmFromKey$1.getAlgorithmFromKey=getAlgorithmFromKey;function getAlgorithmFromPublicKey(e){return getAlgorithmFromKey(e,"public")}getAlgorithmFromKey$1.getAlgorithmFromPublicKey=getAlgorithmFromPublicKey;function getAlgorithmFromPrivateKey(e){return getAlgorithmFromKey(e,"private")}getAlgorithmFromKey$1.getAlgorithmFromPrivateKey=getAlgorithmFromPrivateKey;var secp256k1$2={},__importDefault$g=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(secp256k1$2,"__esModule",{value:!0});const utils_1$g=utils$4,secp256k1_1=secp256k1$3,utils_2$1=browser$4,utils_3=utils$5,assert_1$1=__importDefault$g(assert$1),Sha512_1$1=__importDefault$g(Sha512$1),SECP256K1_PREFIX="00",secp256k1$1={deriveKeypair(e,t){const r=(0,utils_3.derivePrivateKey)(e,t),n=SECP256K1_PREFIX+(0,utils_2$1.bytesToHex)((0,utils_1$g.numberToBytesBE)(r,32)),a=(0,utils_2$1.bytesToHex)(secp256k1_1.secp256k1.getPublicKey(r,!0));return{privateKey:n,publicKey:a}},sign(e,t){assert_1$1.default.ok(t.length===66&&t.startsWith(SECP256K1_PREFIX)||t.length===64);const r=t.length===66?t.slice(2):t;return secp256k1_1.secp256k1.sign(Sha512_1$1.default.half(e),r,{lowS:!0,extraEntropy:void 0}).toDERHex(!0).toUpperCase()},verify(e,t,r){const n=secp256k1_1.secp256k1.Signature.fromDER(t);return secp256k1_1.secp256k1.verify(n,Sha512_1$1.default.half(e),r)}};secp256k1$2.default=secp256k1$1;var ed25519$2={},ed25519$1={},edwards={};Object.defineProperty(edwards,"__esModule",{value:!0}),edwards.twistedEdwards=twistedEdwards;const curve_js_1=curve,modular_js_1$1=modular,ut=utils$4,utils_js_1$2=utils$4,_0n$2=BigInt(0),_1n$2=BigInt(1),_2n$1=BigInt(2),_8n=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(e){const t=(0,curve_js_1.validateBasic)(e);return ut.validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function twistedEdwards(e){const t=validateOpts$1(e),{Fp:r,n,prehash:a,hash:o,randomBytes:u,nByteLength:p,h:b}=t,m=_2n$1<<BigInt(p*8)-_1n$2,y=r.create,A=t.uvRatio||((T,_)=>{try{return{isValid:!0,value:r.sqrt(T*r.inv(_))}}catch{return{isValid:!1,value:_0n$2}}}),I=t.adjustScalarBytes||(T=>T),M=t.domain||((T,_,c)=>{if(_.length||c)throw new Error("Contexts/pre-hash are not supported");return T}),C=T=>typeof T=="bigint"&&_0n$2<T,P=(T,_)=>C(T)&&C(_)&&T<_,B=T=>T===_0n$2||P(T,m);function k(T,_){if(P(T,_))return T;throw new Error(`Expected valid scalar < ${_}, got ${typeof T} ${T}`)}function N(T){return T===_0n$2?T:k(T,n)}const D=new Map;function L(T){if(!(T instanceof K))throw new Error("ExtendedPoint expected")}class K{constructor(_,c,w,x){if(this.ex=_,this.ey=c,this.ez=w,this.et=x,!B(_))throw new Error("x required");if(!B(c))throw new Error("y required");if(!B(w))throw new Error("z required");if(!B(x))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof K)throw new Error("extended point not allowed");const{x:c,y:w}=_||{};if(!B(c)||!B(w))throw new Error("invalid affine point");return new K(c,w,_1n$2,y(c*w))}static normalizeZ(_){const c=r.invertBatch(_.map(w=>w.ez));return _.map((w,x)=>w.toAffine(c[x])).map(K.fromAffine)}_setWindowSize(_){this._WINDOW_SIZE=_,D.delete(this)}assertValidity(){const{a:_,d:c}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:w,ey:x,ez:F,et:q}=this,V=y(w*w),Y=y(x*x),Q=y(F*F),G=y(Q*Q),H=y(V*_),te=y(Q*y(H+Y)),W=y(G+y(c*y(V*Y)));if(te!==W)throw new Error("bad point: equation left != right (1)");const U=y(w*x),j=y(F*q);if(U!==j)throw new Error("bad point: equation left != right (2)")}equals(_){L(_);const{ex:c,ey:w,ez:x}=this,{ex:F,ey:q,ez:V}=_,Y=y(c*V),Q=y(F*x),G=y(w*V),H=y(q*x);return Y===Q&&G===H}is0(){return this.equals(K.ZERO)}negate(){return new K(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){const{a:_}=t,{ex:c,ey:w,ez:x}=this,F=y(c*c),q=y(w*w),V=y(_2n$1*y(x*x)),Y=y(_*F),Q=c+w,G=y(y(Q*Q)-F-q),H=Y+q,te=H-V,W=Y-q,U=y(G*te),j=y(H*W),ee=y(G*W),X=y(te*H);return new K(U,j,X,ee)}add(_){L(_);const{a:c,d:w}=t,{ex:x,ey:F,ez:q,et:V}=this,{ex:Y,ey:Q,ez:G,et:H}=_;if(c===BigInt(-1)){const le=y((F-x)*(Q+Y)),Re=y((F+x)*(Q-Y)),he=y(Re-le);if(he===_0n$2)return this.double();const fe=y(q*_2n$1*H),Fe=y(V*_2n$1*G),me=Fe+fe,pe=Re+le,Ue=Fe-fe,ye=y(me*he),be=y(pe*Ue),He=y(me*Ue),$e=y(he*pe);return new K(ye,be,$e,He)}const te=y(x*Y),W=y(F*Q),U=y(V*w*H),j=y(q*G),ee=y((x+F)*(Y+Q)-te-W),X=j-U,ne=j+U,de=y(W-c*te),re=y(ee*X),ae=y(ne*de),ue=y(ee*de),se=y(X*ne);return new K(re,ae,se,ue)}subtract(_){return this.add(_.negate())}wNAF(_){return oe.wNAFCached(this,D,_,K.normalizeZ)}multiply(_){const{p:c,f:w}=this.wNAF(k(_,n));return K.normalizeZ([c,w])[0]}multiplyUnsafe(_){let c=N(_);return c===_0n$2?ce:this.equals(ce)||c===_1n$2?this:this.equals(J)?this.wNAF(c).p:oe.unsafeLadder(this,c)}isSmallOrder(){return this.multiplyUnsafe(b).is0()}isTorsionFree(){return oe.unsafeLadder(this,n).is0()}toAffine(_){const{ex:c,ey:w,ez:x}=this,F=this.is0();_==null&&(_=F?_8n:r.inv(x));const q=y(c*_),V=y(w*_),Y=y(x*_);if(F)return{x:_0n$2,y:_1n$2};if(Y!==_1n$2)throw new Error("invZ was invalid");return{x:q,y:V}}clearCofactor(){const{h:_}=t;return _===_1n$2?this:this.multiplyUnsafe(_)}static fromHex(_,c=!1){const{d:w,a:x}=t,F=r.BYTES;_=(0,utils_js_1$2.ensureBytes)("pointHex",_,F);const q=_.slice(),V=_[F-1];q[F-1]=V&-129;const Y=ut.bytesToNumberLE(q);Y===_0n$2||(c?k(Y,m):k(Y,r.ORDER));const Q=y(Y*Y),G=y(Q-_1n$2),H=y(w*Q-x);let{isValid:te,value:W}=A(G,H);if(!te)throw new Error("Point.fromHex: invalid y coordinate");const U=(W&_1n$2)===_1n$2,j=(V&128)!==0;if(!c&&W===_0n$2&&j)throw new Error("Point.fromHex: x=0 and x_0=1");return j!==U&&(W=y(-W)),K.fromAffine({x:W,y:Y})}static fromPrivateKey(_){return s(_).point}toRawBytes(){const{x:_,y:c}=this.toAffine(),w=ut.numberToBytesLE(c,r.BYTES);return w[w.length-1]|=_&_1n$2?128:0,w}toHex(){return ut.bytesToHex(this.toRawBytes())}}K.BASE=new K(t.Gx,t.Gy,_1n$2,y(t.Gx*t.Gy)),K.ZERO=new K(_0n$2,_1n$2,_1n$2,_0n$2);const{BASE:J,ZERO:ce}=K,oe=(0,curve_js_1.wNAF)(K,p*8);function Z(T){return(0,modular_js_1$1.mod)(T,n)}function ie(T){return Z(ut.bytesToNumberLE(T))}function s(T){const _=p;T=(0,utils_js_1$2.ensureBytes)("private key",T,_);const c=(0,utils_js_1$2.ensureBytes)("hashed private key",o(T),2*_),w=I(c.slice(0,_)),x=c.slice(_,2*_),F=ie(w),q=J.multiply(F),V=q.toRawBytes();return{head:w,prefix:x,scalar:F,point:q,pointBytes:V}}function d(T){return s(T).pointBytes}function l(T=new Uint8Array,..._){const c=ut.concatBytes(..._);return ie(o(M(c,(0,utils_js_1$2.ensureBytes)("context",T),!!a)))}function v(T,_,c={}){T=(0,utils_js_1$2.ensureBytes)("message",T),a&&(T=a(T));const{prefix:w,scalar:x,pointBytes:F}=s(_),q=l(c.context,w,T),V=J.multiply(q).toRawBytes(),Y=l(c.context,V,F,T),Q=Z(q+Y*x);N(Q);const G=ut.concatBytes(V,ut.numberToBytesLE(Q,r.BYTES));return(0,utils_js_1$2.ensureBytes)("result",G,p*2)}const S=VERIFY_DEFAULT;function O(T,_,c,w=S){const{context:x,zip215:F}=w,q=r.BYTES;T=(0,utils_js_1$2.ensureBytes)("signature",T,2*q),_=(0,utils_js_1$2.ensureBytes)("message",_),a&&(_=a(_));const V=ut.bytesToNumberLE(T.slice(q,2*q));let Y,Q,G;try{Y=K.fromHex(c,F),Q=K.fromHex(T.slice(0,q),F),G=J.multiplyUnsafe(V)}catch{return!1}if(!F&&Y.isSmallOrder())return!1;const H=l(x,Q.toRawBytes(),Y.toRawBytes(),_);return Q.add(Y.multiplyUnsafe(H)).subtract(G).clearCofactor().equals(K.ZERO)}return J._setWindowSize(8),{CURVE:t,getPublicKey:d,sign:v,verify:O,ExtendedPoint:K,utils:{getExtendedPublicKey:s,randomPrivateKey:()=>u(r.BYTES),precompute(T=8,_=K.BASE){return _._setWindowSize(T),_.multiply(BigInt(3)),_}}}}var montgomery$1={};Object.defineProperty(montgomery$1,"__esModule",{value:!0}),montgomery$1.montgomery=montgomery;const modular_js_1=modular,utils_js_1$1=utils$4,_0n$1=BigInt(0),_1n$1=BigInt(1);function validateOpts(e){return(0,utils_js_1$1.validateObject)(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}function montgomery(e){const t=validateOpts(e),{P:r}=t,n=D=>(0,modular_js_1.mod)(D,r),a=t.montgomeryBits,o=Math.ceil(a/8),u=t.nByteLength,p=t.adjustScalarBytes||(D=>D),b=t.powPminus2||(D=>(0,modular_js_1.pow)(D,r-BigInt(2),r));function m(D,L,K){const J=n(D*(L-K));return L=n(L-J),K=n(K+J),[L,K]}function y(D){if(typeof D=="bigint"&&_0n$1<=D&&D<r)return D;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const A=(t.a-BigInt(2))/BigInt(4);function I(D,L){const K=y(D),J=y(L),ce=K;let oe=_1n$1,Z=_0n$1,ie=K,s=_1n$1,d=_0n$1,l;for(let S=BigInt(a-1);S>=_0n$1;S--){const O=J>>S&_1n$1;d^=O,l=m(d,oe,ie),oe=l[0],ie=l[1],l=m(d,Z,s),Z=l[0],s=l[1],d=O;const T=oe+Z,_=n(T*T),c=oe-Z,w=n(c*c),x=_-w,F=ie+s,q=ie-s,V=n(q*T),Y=n(F*c),Q=V+Y,G=V-Y;ie=n(Q*Q),s=n(ce*n(G*G)),oe=n(_*w),Z=n(x*(_+n(A*x)))}l=m(d,oe,ie),oe=l[0],ie=l[1],l=m(d,Z,s),Z=l[0],s=l[1];const v=b(Z);return n(oe*v)}function M(D){return(0,utils_js_1$1.numberToBytesLE)(n(D),o)}function C(D){const L=(0,utils_js_1$1.ensureBytes)("u coordinate",D,o);return u===32&&(L[31]&=127),(0,utils_js_1$1.bytesToNumberLE)(L)}function P(D){const L=(0,utils_js_1$1.ensureBytes)("scalar",D),K=L.length;if(K!==o&&K!==u)throw new Error(`Expected ${o} or ${u} bytes, got ${K}`);return(0,utils_js_1$1.bytesToNumberLE)(p(L))}function B(D,L){const K=C(L),J=P(D),ce=I(K,J);if(ce===_0n$1)throw new Error("Invalid private or public key received");return M(ce)}const k=M(t.Gu);function N(D){return B(D,k)}return{scalarMult:B,scalarMultBase:N,getSharedSecret:(D,L)=>B(D,L),getPublicKey:D=>N(D),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:k}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hash_to_ristretto255=e.hashToRistretto255=e.RistrettoPoint=e.encodeToCurve=e.hashToCurve=e.edwardsToMontgomery=e.x25519=e.ed25519ph=e.ed25519ctx=e.ed25519=e.ED25519_TORSION_SUBGROUP=void 0,e.edwardsToMontgomeryPub=J,e.edwardsToMontgomeryPriv=ce;const t=sha512$2,r=utils$o,n=edwards,a=hashToCurve,o=modular,u=montgomery$1,p=utils$4,b=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),m=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),y=BigInt(0),A=BigInt(1),I=BigInt(2),M=BigInt(3),C=BigInt(5),P=BigInt(8);function B(G){const H=BigInt(10),te=BigInt(20),W=BigInt(40),U=BigInt(80),j=b,ee=G*G%j*G%j,X=(0,o.pow2)(ee,I,j)*ee%j,ne=(0,o.pow2)(X,A,j)*G%j,de=(0,o.pow2)(ne,C,j)*ne%j,re=(0,o.pow2)(de,H,j)*de%j,ae=(0,o.pow2)(re,te,j)*re%j,ue=(0,o.pow2)(ae,W,j)*ae%j,se=(0,o.pow2)(ue,U,j)*ue%j,le=(0,o.pow2)(se,U,j)*ue%j,Re=(0,o.pow2)(le,H,j)*de%j;return{pow_p_5_8:(0,o.pow2)(Re,I,j)*G%j,b2:ee}}function k(G){return G[0]&=248,G[31]&=127,G[31]|=64,G}function N(G,H){const te=b,W=(0,o.mod)(H*H*H,te),U=(0,o.mod)(W*W*H,te),j=B(G*U).pow_p_5_8;let ee=(0,o.mod)(G*W*j,te);const X=(0,o.mod)(H*ee*ee,te),ne=ee,de=(0,o.mod)(ee*m,te),re=X===G,ae=X===(0,o.mod)(-G,te),ue=X===(0,o.mod)(-G*m,te);return re&&(ee=ne),(ae||ue)&&(ee=de),(0,o.isNegativeLE)(ee,te)&&(ee=(0,o.mod)(-ee,te)),{isValid:re||ae,value:ee}}e.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const D=(0,o.Field)(b,void 0,!0),L={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:D,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:P,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:t.sha512,randomBytes:r.randomBytes,adjustScalarBytes:k,uvRatio:N};e.ed25519=(0,n.twistedEdwards)(L);function K(G,H,te){if(H.length>255)throw new Error("Context is too big");return(0,r.concatBytes)((0,r.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([te?1:0,H.length]),H,G)}e.ed25519ctx=(0,n.twistedEdwards)({...L,domain:K}),e.ed25519ph=(0,n.twistedEdwards)(Object.assign({},L,{domain:K,prehash:t.sha512})),e.x25519=(0,u.montgomery)({P:b,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:G=>{const H=b,{pow_p_5_8:te,b2:W}=B(G);return(0,o.mod)((0,o.pow2)(te,M,H)*W,H)},adjustScalarBytes:k,randomBytes:r.randomBytes});function J(G){const{y:H}=e.ed25519.ExtendedPoint.fromHex(G),te=BigInt(1);return D.toBytes(D.create((te+H)*D.inv(te-H)))}e.edwardsToMontgomery=J;function ce(G){const H=L.hash(G.subarray(0,32));return L.adjustScalarBytes(H).subarray(0,32)}const oe=(D.ORDER+M)/P,Z=D.pow(I,oe),ie=D.sqrt(D.neg(D.ONE));function s(G){const H=(D.ORDER-C)/P,te=BigInt(486662);let W=D.sqr(G);W=D.mul(W,I);let U=D.add(W,D.ONE),j=D.neg(te),ee=D.sqr(U),X=D.mul(ee,U),ne=D.mul(W,te);ne=D.mul(ne,j),ne=D.add(ne,ee),ne=D.mul(ne,j);let de=D.sqr(X);ee=D.sqr(de),de=D.mul(de,X),de=D.mul(de,ne),ee=D.mul(ee,de);let re=D.pow(ee,H);re=D.mul(re,de);let ae=D.mul(re,ie);ee=D.sqr(re),ee=D.mul(ee,X);let ue=D.eql(ee,ne),se=D.cmov(ae,re,ue),le=D.mul(j,W),Re=D.mul(re,G);Re=D.mul(Re,Z);let he=D.mul(Re,ie),fe=D.mul(ne,W);ee=D.sqr(Re),ee=D.mul(ee,X);let Fe=D.eql(ee,fe),me=D.cmov(he,Re,Fe);ee=D.sqr(se),ee=D.mul(ee,X);let pe=D.eql(ee,ne),Ue=D.cmov(le,j,pe),ye=D.cmov(me,se,pe),be=D.isOdd(ye);return ye=D.cmov(ye,D.neg(ye),pe!==be),{xMn:Ue,xMd:U,yMn:ye,yMd:A}}const d=(0,o.FpSqrtEven)(D,D.neg(BigInt(486664)));function l(G){const{xMn:H,xMd:te,yMn:W,yMd:U}=s(G);let j=D.mul(H,U);j=D.mul(j,d);let ee=D.mul(te,W),X=D.sub(H,te),ne=D.add(H,te),de=D.mul(ee,ne),re=D.eql(de,D.ZERO);j=D.cmov(j,D.ZERO,re),ee=D.cmov(ee,D.ONE,re),X=D.cmov(X,D.ONE,re),ne=D.cmov(ne,D.ONE,re);const ae=D.invertBatch([ee,ne]);return{x:D.mul(j,ae[0]),y:D.mul(X,ae[1])}}const v=(0,a.createHasher)(e.ed25519.ExtendedPoint,G=>l(G[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:D.ORDER,m:1,k:128,expand:"xmd",hash:t.sha512});e.hashToCurve=v.hashToCurve,e.encodeToCurve=v.encodeToCurve;function S(G){if(!(G instanceof Y))throw new Error("RistrettoPoint expected")}const O=m,T=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),_=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),c=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),w=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),x=G=>N(A,G),F=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),q=G=>e.ed25519.CURVE.Fp.create((0,p.bytesToNumberLE)(G)&F);function V(G){const{d:H}=e.ed25519.CURVE,te=e.ed25519.CURVE.Fp.ORDER,W=e.ed25519.CURVE.Fp.create,U=W(O*G*G),j=W((U+A)*c);let ee=BigInt(-1);const X=W((ee-H*U)*W(U+H));let{isValid:ne,value:de}=N(j,X),re=W(de*G);(0,o.isNegativeLE)(re,te)||(re=W(-re)),ne||(de=re),ne||(ee=U);const ae=W(ee*(U-A)*w-X),ue=de*de,se=W((de+de)*X),le=W(ae*T),Re=W(A-ue),he=W(A+ue);return new e.ed25519.ExtendedPoint(W(se*he),W(Re*le),W(le*he),W(se*Re))}class Y{constructor(H){this.ep=H}static fromAffine(H){return new Y(e.ed25519.ExtendedPoint.fromAffine(H))}static hashToCurve(H){H=(0,p.ensureBytes)("ristrettoHash",H,64);const te=q(H.slice(0,32)),W=V(te),U=q(H.slice(32,64)),j=V(U);return new Y(W.add(j))}static fromHex(H){H=(0,p.ensureBytes)("ristrettoHex",H,32);const{a:te,d:W}=e.ed25519.CURVE,U=e.ed25519.CURVE.Fp.ORDER,j=e.ed25519.CURVE.Fp.create,ee="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",X=q(H);if(!(0,p.equalBytes)((0,p.numberToBytesLE)(X,32),H)||(0,o.isNegativeLE)(X,U))throw new Error(ee);const ne=j(X*X),de=j(A+te*ne),re=j(A-te*ne),ae=j(de*de),ue=j(re*re),se=j(te*W*ae-ue),{isValid:le,value:Re}=x(j(se*ue)),he=j(Re*re),fe=j(Re*he*se);let Fe=j((X+X)*he);(0,o.isNegativeLE)(Fe,U)&&(Fe=j(-Fe));const me=j(de*fe),pe=j(Fe*me);if(!le||(0,o.isNegativeLE)(pe,U)||me===y)throw new Error(ee);return new Y(new e.ed25519.ExtendedPoint(Fe,me,A,pe))}toRawBytes(){let{ex:H,ey:te,ez:W,et:U}=this.ep;const j=e.ed25519.CURVE.Fp.ORDER,ee=e.ed25519.CURVE.Fp.create,X=ee(ee(W+te)*ee(W-te)),ne=ee(H*te),de=ee(ne*ne),{value:re}=x(ee(X*de)),ae=ee(re*X),ue=ee(re*ne),se=ee(ae*ue*U);let le;if((0,o.isNegativeLE)(U*se,j)){let he=ee(te*O),fe=ee(H*O);H=he,te=fe,le=ee(ae*_)}else le=ue;(0,o.isNegativeLE)(H*se,j)&&(te=ee(-te));let Re=ee((W-te)*le);return(0,o.isNegativeLE)(Re,j)&&(Re=ee(-Re)),(0,p.numberToBytesLE)(Re,32)}toHex(){return(0,p.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(H){S(H);const{ex:te,ey:W}=this.ep,{ex:U,ey:j}=H.ep,ee=e.ed25519.CURVE.Fp.create,X=ee(te*j)===ee(W*U),ne=ee(W*j)===ee(te*U);return X||ne}add(H){return S(H),new Y(this.ep.add(H.ep))}subtract(H){return S(H),new Y(this.ep.subtract(H.ep))}multiply(H){return new Y(this.ep.multiply(H))}multiplyUnsafe(H){return new Y(this.ep.multiplyUnsafe(H))}double(){return new Y(this.ep.double())}negate(){return new Y(this.ep.negate())}}e.RistrettoPoint=(Y.BASE||(Y.BASE=new Y(e.ed25519.ExtendedPoint.BASE)),Y.ZERO||(Y.ZERO=new Y(e.ed25519.ExtendedPoint.ZERO)),Y);const Q=(G,H)=>{const te=H.DST,W=typeof te=="string"?(0,r.utf8ToBytes)(te):te,U=(0,a.expand_message_xmd)(G,W,64,t.sha512);return Y.hashToCurve(U)};e.hashToRistretto255=Q,e.hash_to_ristretto255=e.hashToRistretto255})(ed25519$1);var __importDefault$f=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ed25519$2,"__esModule",{value:!0});const ed25519_1=ed25519$1,utils_1$f=browser$4,assert_1=__importDefault$f(assert$1),Sha512_1=__importDefault$f(Sha512$1),ED_PREFIX="ED",ed25519={deriveKeypair(e){const t=Sha512_1.default.half(e),r=ED_PREFIX+(0,utils_1$f.bytesToHex)(t),n=ED_PREFIX+(0,utils_1$f.bytesToHex)(ed25519_1.ed25519.getPublicKey(t));return{privateKey:r,publicKey:n}},sign(e,t){return assert_1.default.ok(e instanceof Uint8Array,"message must be array of octets"),assert_1.default.ok(t.length===66,"private key must be 33 bytes including prefix"),(0,utils_1$f.bytesToHex)(ed25519_1.ed25519.sign(e,t.slice(2)))},verify(e,t,r){return assert_1.default.ok(r.length===66,"public key must be 33 bytes including prefix"),ed25519_1.ed25519.verify(t,e,r.slice(2),{zip215:!1})}};ed25519$2.default=ed25519,function(e){var t=commonjsGlobal&&commonjsGlobal.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSeed=e.deriveNodeAddress=e.deriveAddress=e.verify=e.sign=e.deriveKeypair=e.generateSeed=void 0;const r=dist$5;Object.defineProperty(e,"decodeSeed",{enumerable:!0,get:function(){return r.decodeSeed}});const n=browser$1,a=browser$3,o=browser$4,u=utils$5,p=t(Sha512$1),b=t(assert$1),m=getAlgorithmFromKey$1,y=t(secp256k1$2),A=t(ed25519$2);function I(K){return{"ecdsa-secp256k1":y.default,ed25519:A.default}[K]}function M(K={}){b.default.ok(!K.entropy||K.entropy.length>=16,"entropy too short");const J=K.entropy?K.entropy.slice(0,16):(0,o.randomBytes)(16),ce=K.algorithm==="ed25519"?"ed25519":"secp256k1";return(0,r.encodeSeed)(J,ce)}e.generateSeed=M;function C(K,J){var ce;const oe=(0,r.decodeSeed)(K),Z=((ce=J==null?void 0:J.algorithm)!==null&&ce!==void 0?ce:oe.type)==="ed25519"?"ed25519":"ecdsa-secp256k1",ie=I(Z),s=ie.deriveKeypair(oe.bytes,J),d=p.default.half("This test message should verify."),l=ie.sign(d,s.privateKey);if(!ie.verify(d,l,s.publicKey))throw new Error("derived keypair did not generate verifiable signature");return s}e.deriveKeypair=C;function P(K,J){const ce=(0,m.getAlgorithmFromPrivateKey)(J);return I(ce).sign((0,o.hexToBytes)(K),J)}e.sign=P;function B(K,J,ce){const oe=(0,m.getAlgorithmFromPublicKey)(ce);return I(oe).verify((0,o.hexToBytes)(K),J,ce)}e.verify=B;function k(K){return(0,n.ripemd160)((0,a.sha256)(K))}function N(K){return(0,r.encodeAccountID)(k(K))}function D(K){return N((0,o.hexToBytes)(K))}e.deriveAddress=D;function L(K){const J=(0,r.decodeNodePublic)(K),ce=(0,u.accountPublicFromPublicGenerator)(J);return N(ce)}e.deriveNodeAddress=L}(dist$3);var derive={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.deriveXAddress=e.deriveAddress=e.deriveKeypair=void 0;const t=dist$5,r=dist$3;Object.defineProperty(e,"deriveKeypair",{enumerable:!0,get:function(){return r.deriveKeypair}}),Object.defineProperty(e,"deriveAddress",{enumerable:!0,get:function(){return r.deriveAddress}});function n(a){const o=(0,r.deriveAddress)(a.publicKey);return(0,t.classicAddressToXAddress)(o,a.tag,a.test)}e.deriveXAddress=n})(derive);var getBalanceChanges$1={},collections={};Object.defineProperty(collections,"__esModule",{value:!0}),collections.omitBy=collections.groupBy=void 0;function groupBy(e,t){function r(n,a,o,u){const p=t(a,o,u)||0,b=n[p]||[];return b.push(a),n[p]=b,n}return e.reduce(r,{})}collections.groupBy=groupBy;function omitBy(e,t){return Object.keys(e).filter(r=>!t(e[r],r)).reduce((r,n)=>(r[n]=e[n],r),{})}collections.omitBy=omitBy;var xrpConversion={},__importDefault$e=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xrpConversion,"__esModule",{value:!0}),xrpConversion.xrpToDrops=xrpConversion.dropsToXrp=void 0;const bignumber_js_1$a=__importDefault$e(bignumberExports),errors_1$z=errors$1,DROPS_PER_XRP=1e6,MAX_FRACTION_LENGTH=6,BASE_TEN$1=10,SANITY_CHECK=/^-?[0-9.]+$/u;function dropsToXrp(e){const t=new bignumber_js_1$a.default(e).toString(BASE_TEN$1);if(typeof e=="string"&&t==="NaN")throw new errors_1$z.ValidationError(`dropsToXrp: invalid value '${e}', should be a BigNumber or string-encoded number.`);if(t.includes("."))throw new errors_1$z.ValidationError(`dropsToXrp: value '${t}' has too many decimal places.`);if(!SANITY_CHECK.exec(t))throw new errors_1$z.ValidationError(`dropsToXrp: failed sanity check - value '${t}', does not match (^-?[0-9]+$).`);return new bignumber_js_1$a.default(t).dividedBy(DROPS_PER_XRP).toNumber()}xrpConversion.dropsToXrp=dropsToXrp;function xrpToDrops(e){const t=new bignumber_js_1$a.default(e).toString(BASE_TEN$1);if(typeof e=="string"&&t==="NaN")throw new errors_1$z.ValidationError(`xrpToDrops: invalid value '${e}', should be a BigNumber or string-encoded number.`);if(!SANITY_CHECK.exec(t))throw new errors_1$z.ValidationError(`xrpToDrops: failed sanity check - value '${t}', does not match (^-?[0-9.]+$).`);const r=t.split(".");if(r.length>2)throw new errors_1$z.ValidationError(`xrpToDrops: failed sanity check - value '${t}' has too many decimal points.`);if((r[1]||"0").length>MAX_FRACTION_LENGTH)throw new errors_1$z.ValidationError(`xrpToDrops: value '${t}' has too many decimal places.`);return new bignumber_js_1$a.default(t).times(DROPS_PER_XRP).integerValue(bignumber_js_1$a.default.ROUND_FLOOR).toString(BASE_TEN$1)}xrpConversion.xrpToDrops=xrpToDrops;var __importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(getBalanceChanges$1,"__esModule",{value:!0});const bignumber_js_1$9=__importDefault$d(bignumberExports),collections_1$1=collections,xrpConversion_1$2=xrpConversion;function normalizeNode(e){const t=Object.keys(e)[0],r=e[t];return Object.assign(Object.assign({},r),{NodeType:t,LedgerEntryType:r.LedgerEntryType,LedgerIndex:r.LedgerIndex,NewFields:r.NewFields,FinalFields:r.FinalFields,PreviousFields:r.PreviousFields})}function normalizeNodes(e){return e.AffectedNodes.length===0?[]:e.AffectedNodes.map(normalizeNode)}function groupByAccount(e){const t=(0,collections_1$1.groupBy)(e,r=>r.account);return Object.entries(t).map(([r,n])=>({account:r,balances:n.map(a=>a.balance)}))}function getValue$1(e){return typeof e=="string"?new bignumber_js_1$9.default(e):new bignumber_js_1$9.default(e.value)}function computeBalanceChange(e){var t,r,n;let a=null;return!((t=e.NewFields)===null||t===void 0)&&t.Balance?a=getValue$1(e.NewFields.Balance):!((r=e.PreviousFields)===null||r===void 0)&&r.Balance&&!((n=e.FinalFields)===null||n===void 0)&&n.Balance&&(a=getValue$1(e.FinalFields.Balance).minus(getValue$1(e.PreviousFields.Balance))),a===null||a.isZero()?null:a}function getXRPQuantity(e){var t,r,n;const a=computeBalanceChange(e);return a===null?null:{account:(r=(t=e.FinalFields)===null||t===void 0?void 0:t.Account)!==null&&r!==void 0?r:(n=e.NewFields)===null||n===void 0?void 0:n.Account,balance:{currency:"XRP",value:(0,xrpConversion_1$2.dropsToXrp)(a).toString()}}}function flipTrustlinePerspective(e){const t=new bignumber_js_1$9.default(e.balance.value).negated();return{account:e.balance.issuer,balance:{issuer:e.account,currency:e.balance.currency,value:t.toString()}}}function getTrustlineQuantity(e){var t,r;const n=computeBalanceChange(e);if(n===null)return null;const a=e.NewFields==null?e.FinalFields:e.NewFields,o={account:(t=a==null?void 0:a.LowLimit)===null||t===void 0?void 0:t.issuer,balance:{issuer:(r=a==null?void 0:a.HighLimit)===null||r===void 0?void 0:r.issuer,currency:(a==null?void 0:a.Balance).currency,value:n.toString()}};return[o,flipTrustlinePerspective(o)]}function getBalanceChanges(e){const t=normalizeNodes(e).map(r=>{if(r.LedgerEntryType==="AccountRoot"){const n=getXRPQuantity(r);return n==null?[]:[n]}return r.LedgerEntryType==="RippleState"?getTrustlineQuantity(r)??[]:[]});return groupByAccount(t.flat())}getBalanceChanges$1.default=getBalanceChanges;var getNFTokenID$1={},metadata={};Object.defineProperty(metadata,"__esModule",{value:!0}),metadata.isDeletedNode=metadata.isModifiedNode=metadata.isCreatedNode=void 0;function isCreatedNode(e){return Object.prototype.hasOwnProperty.call(e,"CreatedNode")}metadata.isCreatedNode=isCreatedNode;function isModifiedNode(e){return Object.prototype.hasOwnProperty.call(e,"ModifiedNode")}metadata.isModifiedNode=isModifiedNode;function isDeletedNode(e){return Object.prototype.hasOwnProperty.call(e,"DeletedNode")}metadata.isDeletedNode=isDeletedNode,Object.defineProperty(getNFTokenID$1,"__esModule",{value:!0});const ripple_binary_codec_1$7=dist$4,metadata_1$1=metadata;function ensureDecodedMeta$1(e){return typeof e=="string"?(0,ripple_binary_codec_1$7.decode)(e):e}function getNFTokenID(e){if(typeof e!="string"&&(e==null?void 0:e.AffectedNodes)===void 0)throw new TypeError(`Unable to parse the parameter given to getNFTokenID.
      'meta' must be the metadata from an NFTokenMint transaction. Received ${JSON.stringify(e)} instead.`);const t=ensureDecodedMeta$1(e).AffectedNodes.filter(n=>{var a;return(0,metadata_1$1.isCreatedNode)(n)?n.CreatedNode.LedgerEntryType==="NFTokenPage":(0,metadata_1$1.isModifiedNode)(n)?n.ModifiedNode.LedgerEntryType==="NFTokenPage"&&!!(!((a=n.ModifiedNode.PreviousFields)===null||a===void 0)&&a.NFTokens):!1}),r=new Set(t.flatMap(n=>{var a;return((0,metadata_1$1.isModifiedNode)(n)?(a=n.ModifiedNode.PreviousFields)===null||a===void 0?void 0:a.NFTokens:[]).map(o=>o.NFToken.NFTokenID)}).filter(n=>!!n));return t.flatMap(n=>{var a,o,u,p,b,m;return((m=(u=(o=(a=n.ModifiedNode)===null||a===void 0?void 0:a.FinalFields)===null||o===void 0?void 0:o.NFTokens)!==null&&u!==void 0?u:(b=(p=n.CreatedNode)===null||p===void 0?void 0:p.NewFields)===null||b===void 0?void 0:b.NFTokens)!==null&&m!==void 0?m:[]).map(y=>y.NFToken.NFTokenID)}).filter(n=>!!n).find(n=>!r.has(n))}getNFTokenID$1.default=getNFTokenID;var getXChainClaimID$1={};Object.defineProperty(getXChainClaimID$1,"__esModule",{value:!0});const ripple_binary_codec_1$6=dist$4,metadata_1=metadata;function ensureDecodedMeta(e){return typeof e=="string"?(0,ripple_binary_codec_1$6.decode)(e):e}function getXChainClaimID(e){if(typeof e!="string"&&(e==null?void 0:e.AffectedNodes)===void 0)throw new TypeError(`Unable to parse the parameter given to getXChainClaimID.
      'meta' must be the metadata from an XChainCreateClaimID transaction. Received ${JSON.stringify(e)} instead.`);const t=ensureDecodedMeta(e);if(!t.TransactionResult)throw new TypeError("Cannot get XChainClaimID from un-validated transaction");return t.TransactionResult!=="tesSUCCESS"?void 0:t.AffectedNodes.find(r=>(0,metadata_1.isCreatedNode)(r)&&r.CreatedNode.LedgerEntryType==="XChainOwnedClaimID").CreatedNode.NewFields.XChainClaimID}getXChainClaimID$1.default=getXChainClaimID;var hashes={},hashLedger$1={},HashPrefix$1={};Object.defineProperty(HashPrefix$1,"__esModule",{value:!0});var HashPrefix;(function(e){e[e.TRANSACTION_ID=1415073280]="TRANSACTION_ID",e[e.TRANSACTION_NODE=1397638144]="TRANSACTION_NODE",e[e.INNER_NODE=1296649728]="INNER_NODE",e[e.LEAF_NODE=1296846336]="LEAF_NODE",e[e.TRANSACTION_SIGN=1398036480]="TRANSACTION_SIGN",e[e.TRANSACTION_SIGN_TESTNET=1937012736]="TRANSACTION_SIGN_TESTNET",e[e.TRANSACTION_MULTISIGN=1397576704]="TRANSACTION_MULTISIGN",e[e.LEDGER=1280791040]="LEDGER"})(HashPrefix||(HashPrefix={})),HashPrefix$1.default=HashPrefix;var sha512Half$1={};Object.defineProperty(sha512Half$1,"__esModule",{value:!0});const sha512_1=browser$2,utils_1$e=browser$4,HASH_BYTES=32;function sha512Half(e){return(0,utils_1$e.bytesToHex)((0,sha512_1.sha512)((0,utils_1$e.hexToBytes)(e)).slice(0,HASH_BYTES))}sha512Half$1.default=sha512Half;var SHAMap={},InnerNode$1={},LeafNode$1={},node={};Object.defineProperty(node,"__esModule",{value:!0}),node.Node=node.NodeType=void 0;var NodeType;(function(e){e[e.INNER=1]="INNER",e[e.TRANSACTION_NO_METADATA=2]="TRANSACTION_NO_METADATA",e[e.TRANSACTION_METADATA=3]="TRANSACTION_METADATA",e[e.ACCOUNT_STATE=4]="ACCOUNT_STATE"})(NodeType||(node.NodeType=NodeType={}));class Node{}node.Node=Node;var __importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LeafNode$1,"__esModule",{value:!0});const errors_1$y=errors$1,HashPrefix_1$2=__importDefault$c(HashPrefix$1),sha512Half_1$2=__importDefault$c(sha512Half$1),node_1$1=node,HEX$2=16;class LeafNode extends node_1$1.Node{constructor(t,r,n){super(),this.tag=t,this.type=n,this.data=r}get hash(){switch(this.type){case node_1$1.NodeType.ACCOUNT_STATE:{const t=HashPrefix_1$2.default.LEAF_NODE.toString(HEX$2);return(0,sha512Half_1$2.default)(t+this.data+this.tag)}case node_1$1.NodeType.TRANSACTION_NO_METADATA:{const t=HashPrefix_1$2.default.TRANSACTION_ID.toString(HEX$2);return(0,sha512Half_1$2.default)(t+this.data)}case node_1$1.NodeType.TRANSACTION_METADATA:{const t=HashPrefix_1$2.default.TRANSACTION_NODE.toString(HEX$2);return(0,sha512Half_1$2.default)(t+this.data+this.tag)}default:throw new errors_1$y.XrplError("Tried to hash a SHAMap node of unknown type.")}}addItem(t,r){throw new errors_1$y.XrplError("Cannot call addItem on a LeafNode")}}LeafNode$1.default=LeafNode;var __importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(InnerNode$1,"__esModule",{value:!0});const errors_1$x=errors$1,HashPrefix_1$1=__importDefault$b(HashPrefix$1),sha512Half_1$1=__importDefault$b(sha512Half$1),LeafNode_1=__importDefault$b(LeafNode$1),node_1=node,HEX_ZERO="0000000000000000000000000000000000000000000000000000000000000000",SLOT_MAX=15,HEX$1=16;class InnerNode extends node_1.Node{constructor(t=0){super(),this.leaves={},this.type=node_1.NodeType.INNER,this.depth=t,this.empty=!0}get hash(){if(this.empty)return HEX_ZERO;let t="";for(let n=0;n<=SLOT_MAX;n++){const a=this.leaves[n],o=a==null?HEX_ZERO:a.hash;t+=o}const r=HashPrefix_1$1.default.INNER_NODE.toString(HEX$1);return(0,sha512Half_1$1.default)(r+t)}addItem(t,r){const n=this.getNode(parseInt(t[this.depth],HEX$1));if(n===void 0){this.setNode(parseInt(t[this.depth],HEX$1),r);return}if(n instanceof InnerNode)n.addItem(t,r);else if(n instanceof LeafNode_1.default){if(n.tag===t)throw new errors_1$x.XrplError("Tried to add a node to a SHAMap that was already in there.");{const a=new InnerNode(this.depth+1);a.addItem(n.tag,n),a.addItem(t,r),this.setNode(parseInt(t[this.depth],HEX$1),a)}}}setNode(t,r){if(t<0||t>SLOT_MAX)throw new errors_1$x.XrplError("Invalid slot: slot must be between 0-15.");this.leaves[t]=r,this.empty=!1}getNode(t){if(t<0||t>SLOT_MAX)throw new errors_1$x.XrplError("Invalid slot: slot must be between 0-15.");return this.leaves[t]}}InnerNode$1.default=InnerNode,function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(p,b,m,y){y===void 0&&(y=m);var A=Object.getOwnPropertyDescriptor(b,m);(!A||("get"in A?!b.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return b[m]}}),Object.defineProperty(p,y,A)}:function(p,b,m,y){y===void 0&&(y=m),p[y]=b[m]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(p,b){for(var m in p)m!=="default"&&!Object.prototype.hasOwnProperty.call(b,m)&&t(b,p,m)},n=commonjsGlobal&&commonjsGlobal.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});const a=n(InnerNode$1),o=n(LeafNode$1);class u{constructor(){this.root=new a.default(0)}get hash(){return this.root.hash}addItem(b,m,y){this.root.addItem(b,new o.default(b,m,y))}}r(node,e),e.default=u}(SHAMap);var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hashLedger$1,"__esModule",{value:!0}),hashLedger$1.hashStateTree=hashLedger$1.hashTxTree=hashLedger$1.hashLedgerHeader=hashLedger$1.hashSignedTx=void 0;const utils_1$d=browser$4,bignumber_js_1$8=__importDefault$a(bignumberExports),ripple_binary_codec_1$5=dist$4,errors_1$w=errors$1,HashPrefix_1=__importDefault$a(HashPrefix$1),sha512Half_1=__importDefault$a(sha512Half$1),SHAMap_1=__importStar(SHAMap),HEX=16;function intToHex$2(e,t){return Number(e).toString(HEX).padStart(t*2,"0")}function bigintToHex(e,t){return new bignumber_js_1$8.default(e).toString(HEX).padStart(t*2,"0")}function addLengthPrefix(e){const t=e.length/2;if(t<=192)return(0,utils_1$d.bytesToHex)([t])+e;if(t<=12480){const r=t-193;return(0,utils_1$d.bytesToHex)([193+(r>>>8),r&255])+e}if(t<=918744){const r=t-12481;return(0,utils_1$d.bytesToHex)([241+(r>>>16),r>>>8&255,r&255])+e}throw new errors_1$w.XrplError("Variable integer overflow.")}function hashSignedTx(e){let t,r;if(typeof e=="string"?(t=e,r=(0,ripple_binary_codec_1$5.decode)(e)):(t=(0,ripple_binary_codec_1$5.encode)(e),r=e),r.TxnSignature===void 0&&r.Signers===void 0&&r.SigningPubKey===void 0)throw new errors_1$w.ValidationError("The transaction must be signed to hash it.");const n=HashPrefix_1.default.TRANSACTION_ID.toString(16).toUpperCase();return(0,sha512Half_1.default)(n.concat(t))}hashLedger$1.hashSignedTx=hashSignedTx;function hashLedgerHeader(e){const t=HashPrefix_1.default.LEDGER.toString(HEX).toUpperCase()+intToHex$2(Number(e.ledger_index),4)+bigintToHex(e.total_coins,8)+e.parent_hash+e.transaction_hash+e.account_hash+intToHex$2(e.parent_close_time,4)+intToHex$2(e.close_time,4)+intToHex$2(e.close_time_resolution,1)+intToHex$2(e.close_flags,1);return(0,sha512Half_1.default)(t)}hashLedger$1.hashLedgerHeader=hashLedgerHeader;function hashTxTree(e){var t;const r=new SHAMap_1.default;for(const n of e){const a=(0,ripple_binary_codec_1$5.encode)(n),o=(0,ripple_binary_codec_1$5.encode)((t=n.metaData)!==null&&t!==void 0?t:{}),u=hashSignedTx(a),p=addLengthPrefix(a)+addLengthPrefix(o);r.addItem(u,p,SHAMap_1.NodeType.TRANSACTION_METADATA)}return r.hash}hashLedger$1.hashTxTree=hashTxTree;function hashStateTree(e){const t=new SHAMap_1.default;return e.forEach(r=>{const n=(0,ripple_binary_codec_1$5.encode)(r);t.addItem(r.index,n,SHAMap_1.NodeType.ACCOUNT_STATE)}),t.hash}hashLedger$1.hashStateTree=hashStateTree;function computeTransactionHash(e,t){const{transaction_hash:r}=e;if(!t.computeTreeHashes)return r;if(e.transactions==null)throw new errors_1$w.ValidationError("transactions is missing from the ledger");const n=hashTxTree(e.transactions);if(r!==n)throw new errors_1$w.ValidationError("transactionHash in header does not match computed hash of transactions",{transactionHashInHeader:r,computedHashOfTransactions:n});return n}function computeStateHash(e,t){const{account_hash:r}=e;if(!t.computeTreeHashes)return r;if(e.accountState==null)throw new errors_1$w.ValidationError("accountState is missing from the ledger");const n=hashStateTree(e.accountState);if(r!==n)throw new errors_1$w.ValidationError("stateHash in header does not match computed hash of state");return n}function hashLedger(e,t={}){const r={transaction_hash:computeTransactionHash(e,t),account_hash:computeStateHash(e,t)};return hashLedgerHeader(Object.assign(Object.assign({},e),r))}hashLedger$1.default=hashLedger;var ledgerSpaces$1={};Object.defineProperty(ledgerSpaces$1,"__esModule",{value:!0});const ledgerSpaces={account:"a",dirNode:"d",generatorMap:"g",rippleState:"r",offer:"o",ownerDir:"O",bookDir:"B",contract:"c",skipList:"s",escrow:"u",amendment:"f",feeSettings:"e",ticket:"T",signerList:"S",paychan:"x",check:"C",depositPreauth:"p"};ledgerSpaces$1.default=ledgerSpaces,function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Z,ie,s,d){d===void 0&&(d=s);var l=Object.getOwnPropertyDescriptor(ie,s);(!l||("get"in l?!ie.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return ie[s]}}),Object.defineProperty(Z,d,l)}:function(Z,ie,s,d){d===void 0&&(d=s),Z[d]=ie[s]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Z,ie){Object.defineProperty(Z,"default",{enumerable:!0,value:ie})}:function(Z,ie){Z.default=ie}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var ie={};if(Z!=null)for(var s in Z)s!=="default"&&Object.prototype.hasOwnProperty.call(Z,s)&&t(ie,Z,s);return r(ie,Z),ie},a=commonjsGlobal&&commonjsGlobal.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(e,"__esModule",{value:!0}),e.hashTxTree=e.hashStateTree=e.hashLedger=e.hashSignedTx=e.hashLedgerHeader=e.hashPaymentChannel=e.hashEscrow=e.hashTrustline=e.hashOfferId=e.hashSignerListId=e.hashAccountRoot=e.hashTx=void 0;const o=browser$4,u=a(bignumberExports),p=dist$5,b=n(hashLedger$1);e.hashLedger=b.default,Object.defineProperty(e,"hashLedgerHeader",{enumerable:!0,get:function(){return b.hashLedgerHeader}}),Object.defineProperty(e,"hashSignedTx",{enumerable:!0,get:function(){return b.hashSignedTx}}),Object.defineProperty(e,"hashTxTree",{enumerable:!0,get:function(){return b.hashTxTree}}),Object.defineProperty(e,"hashStateTree",{enumerable:!0,get:function(){return b.hashStateTree}});const m=a(HashPrefix$1),y=a(ledgerSpaces$1),A=a(sha512Half$1),I=16,M=4;function C(Z){return(0,o.bytesToHex)((0,p.decodeAccountID)(Z))}function P(Z){return y.default[Z].charCodeAt(0).toString(I).padStart(4,"0")}const B=255;function k(Z){if(Z.length!==3)return Z;const ie=Array(20).fill(0);return ie[12]=Z.charCodeAt(0)&B,ie[13]=Z.charCodeAt(1)&B,ie[14]=Z.charCodeAt(2)&B,(0,o.bytesToHex)(Uint8Array.from(ie))}function N(Z){const ie=m.default.TRANSACTION_SIGN.toString(I).toUpperCase();return(0,A.default)(ie+Z)}e.hashTx=N;function D(Z){return(0,A.default)(P("account")+C(Z))}e.hashAccountRoot=D;function L(Z){return(0,A.default)(`${P("signerList")+C(Z)}00000000`)}e.hashSignerListId=L;function K(Z,ie){const s=y.default.offer.charCodeAt(0).toString(I).padStart(2,"0"),d=ie.toString(I).padStart(8,"0"),l=`00${s}`;return(0,A.default)(l+C(Z)+d)}e.hashOfferId=K;function J(Z,ie,s){const d=C(Z),l=C(ie),v=new u.default(d,16).isGreaterThan(new u.default(l,16)),S=v?l:d,O=v?d:l,T=P("rippleState");return(0,A.default)(T+S+O+k(s))}e.hashTrustline=J;function ce(Z,ie){return(0,A.default)(P("escrow")+C(Z)+ie.toString(I).padStart(M*2,"0"))}e.hashEscrow=ce;function oe(Z,ie,s){return(0,A.default)(P("paychan")+C(Z)+C(ie)+s.toString(I).padStart(M*2,"0"))}e.hashPaymentChannel=oe}(hashes);var parseNFTokenID$1={},__importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(parseNFTokenID$1,"__esModule",{value:!0});const utils_1$c=browser$4,bignumber_js_1$7=__importDefault$9(bignumberExports),ripple_address_codec_1$4=dist$5,errors_1$v=errors$1;function unscrambleTaxon(e,t){const r=new bignumber_js_1$7.default(384160001).multipliedBy(t).modulo(4294967296).plus(2459).modulo(4294967296).toNumber();return(e^r)>>>0}function parseNFTokenID(e){if(e.length!==64)throw new errors_1$v.XrplError(`Attempting to parse a nftokenID with length ${e.length}
    , but expected a token with length 64`);const t=new bignumber_js_1$7.default(e.substring(48,56),16).toNumber(),r=new bignumber_js_1$7.default(e.substring(56,64),16).toNumber();return{NFTokenID:e,Flags:new bignumber_js_1$7.default(e.substring(0,4),16).toNumber(),TransferFee:new bignumber_js_1$7.default(e.substring(4,8),16).toNumber(),Issuer:(0,ripple_address_codec_1$4.encodeAccountID)((0,utils_1$c.hexToBytes)(e.substring(8,48))),Taxon:unscrambleTaxon(t,r),Sequence:r}}parseNFTokenID$1.default=parseNFTokenID;var quality={},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(quality,"__esModule",{value:!0}),quality.percentToQuality=quality.transferRateToDecimal=quality.qualityToDecimal=quality.decimalToQuality=quality.percentToTransferRate=quality.decimalToTransferRate=void 0;const bignumber_js_1$6=__importDefault$8(bignumberExports),errors_1$u=errors$1,BASE_TEN=10,ONE_BILLION="1000000000",TWO_BILLION="2000000000";function percentToDecimal(e){if(!e.endsWith("%"))throw new errors_1$u.ValidationError(`Value ${e} must end with %`);const t=e.split("%").filter(r=>r!=="");if(t.length!==1)throw new errors_1$u.ValidationError(`Value ${e} contains too many % signs`);return new bignumber_js_1$6.default(t[0]).dividedBy("100").toString(BASE_TEN)}function decimalToTransferRate(e){const t=new bignumber_js_1$6.default(e).times(ONE_BILLION).plus(ONE_BILLION);if(t.isLessThan(ONE_BILLION)||t.isGreaterThan(TWO_BILLION))throw new errors_1$u.ValidationError("Decimal value must be between 0 and 1.00.");const r=t.toString(BASE_TEN);if(r===ONE_BILLION)return 0;if(r==="NaN")throw new errors_1$u.ValidationError("Value is not a number");if(r.includes("."))throw new errors_1$u.ValidationError("Decimal exceeds maximum precision.");return Number(r)}quality.decimalToTransferRate=decimalToTransferRate;function percentToTransferRate(e){return decimalToTransferRate(percentToDecimal(e))}quality.percentToTransferRate=percentToTransferRate;function decimalToQuality(e){const t=new bignumber_js_1$6.default(e).times(ONE_BILLION).toString(BASE_TEN);if(t==="NaN")throw new errors_1$u.ValidationError("Value is not a number");if(t.includes("-"))throw new errors_1$u.ValidationError("Cannot have negative Quality");if(t===ONE_BILLION)return 0;if(t.includes("."))throw new errors_1$u.ValidationError("Decimal exceeds maximum precision.");return Number(t)}quality.decimalToQuality=decimalToQuality;function qualityToDecimal(e){if(!Number.isInteger(e))throw new errors_1$u.ValidationError("Quality must be an integer");if(e<0)throw new errors_1$u.ValidationError("Negative quality not allowed");return e===0?"1":new bignumber_js_1$6.default(e).dividedBy(ONE_BILLION).toString(BASE_TEN)}quality.qualityToDecimal=qualityToDecimal;function transferRateToDecimal(e){if(!Number.isInteger(e))throw new errors_1$u.ValidationError("Error decoding, transfer Rate must be an integer");if(e===0)return"0";const t=new bignumber_js_1$6.default(e).minus(ONE_BILLION).dividedBy(ONE_BILLION);if(t.isLessThan(0))throw new errors_1$u.ValidationError("Error decoding, negative transfer rate");return t.toString(BASE_TEN)}quality.transferRateToDecimal=transferRateToDecimal;function percentToQuality(e){return decimalToQuality(percentToDecimal(e))}quality.percentToQuality=percentToQuality;var signPaymentChannelClaim$1={};Object.defineProperty(signPaymentChannelClaim$1,"__esModule",{value:!0});const ripple_binary_codec_1$4=dist$4,ripple_keypairs_1$4=dist$3,xrpConversion_1$1=xrpConversion;function signPaymentChannelClaim(e,t,r){const n=(0,ripple_binary_codec_1$4.encodeForSigningClaim)({channel:e,amount:(0,xrpConversion_1$1.xrpToDrops)(t)});return(0,ripple_keypairs_1$4.sign)(n,r)}signPaymentChannelClaim$1.default=signPaymentChannelClaim;var stringConversion={};Object.defineProperty(stringConversion,"__esModule",{value:!0}),stringConversion.convertStringToHex=stringConversion.convertHexToString=void 0;const utils_1$b=browser$4;function convertStringToHex(e){return(0,utils_1$b.stringToHex)(e)}stringConversion.convertStringToHex=convertStringToHex;function convertHexToString(e,t="utf8"){return(0,utils_1$b.hexToString)(e,t)}stringConversion.convertHexToString=convertHexToString;var timeConversion={};Object.defineProperty(timeConversion,"__esModule",{value:!0}),timeConversion.isoTimeToRippleTime=timeConversion.rippleTimeToISOTime=timeConversion.unixTimeToRippleTime=timeConversion.rippleTimeToUnixTime=void 0;const RIPPLE_EPOCH_DIFF=946684800;function rippleTimeToUnixTime(e){return(e+RIPPLE_EPOCH_DIFF)*1e3}timeConversion.rippleTimeToUnixTime=rippleTimeToUnixTime;function unixTimeToRippleTime(e){return Math.round(e/1e3)-RIPPLE_EPOCH_DIFF}timeConversion.unixTimeToRippleTime=unixTimeToRippleTime;function rippleTimeToISOTime(e){return new Date(rippleTimeToUnixTime(e)).toISOString()}timeConversion.rippleTimeToISOTime=rippleTimeToISOTime;function isoTimeToRippleTime(e){const t=typeof e=="string"?new Date(e):e;return unixTimeToRippleTime(t.getTime())}timeConversion.isoTimeToRippleTime=isoTimeToRippleTime;var verifyPaymentChannelClaim$1={};Object.defineProperty(verifyPaymentChannelClaim$1,"__esModule",{value:!0});const ripple_binary_codec_1$3=dist$4,ripple_keypairs_1$3=dist$3,xrpConversion_1=xrpConversion;function verifyPaymentChannelClaim(e,t,r,n){const a=(0,ripple_binary_codec_1$3.encodeForSigningClaim)({channel:e,amount:(0,xrpConversion_1.xrpToDrops)(t)});return(0,ripple_keypairs_1$3.verify)(a,r,n)}verifyPaymentChannelClaim$1.default=verifyPaymentChannelClaim,function(e){var t=commonjsGlobal&&commonjsGlobal.__importDefault||function(ie){return ie&&ie.__esModule?ie:{default:ie}};Object.defineProperty(e,"__esModule",{value:!0}),e.getXChainClaimID=e.parseNFTokenID=e.getNFTokenID=e.encodeForSigningClaim=e.encodeForSigning=e.encodeForMultiSigning=e.decode=e.encode=e.decodeXAddress=e.encodeXAddress=e.decodeAccountPublic=e.encodeAccountPublic=e.decodeNodePublic=e.encodeNodePublic=e.decodeAccountID=e.encodeAccountID=e.decodeSeed=e.encodeSeed=e.isValidClassicAddress=e.isValidXAddress=e.xAddressToClassicAddress=e.classicAddressToXAddress=e.convertHexToString=e.convertStringToHex=e.verifyPaymentChannelClaim=e.verifyKeypairSignature=e.signPaymentChannelClaim=e.deriveXAddress=e.deriveAddress=e.deriveKeypair=e.hashes=e.isValidAddress=e.isValidSecret=e.qualityToDecimal=e.transferRateToDecimal=e.decimalToTransferRate=e.percentToTransferRate=e.decimalToQuality=e.percentToQuality=e.unixTimeToRippleTime=e.rippleTimeToUnixTime=e.isoTimeToRippleTime=e.rippleTimeToISOTime=e.hasNextPage=e.xrpToDrops=e.dropsToXrp=e.getBalanceChanges=void 0;const r=dist$5;Object.defineProperty(e,"classicAddressToXAddress",{enumerable:!0,get:function(){return r.classicAddressToXAddress}}),Object.defineProperty(e,"decodeAccountID",{enumerable:!0,get:function(){return r.decodeAccountID}}),Object.defineProperty(e,"decodeAccountPublic",{enumerable:!0,get:function(){return r.decodeAccountPublic}}),Object.defineProperty(e,"decodeNodePublic",{enumerable:!0,get:function(){return r.decodeNodePublic}}),Object.defineProperty(e,"decodeSeed",{enumerable:!0,get:function(){return r.decodeSeed}}),Object.defineProperty(e,"decodeXAddress",{enumerable:!0,get:function(){return r.decodeXAddress}}),Object.defineProperty(e,"encodeAccountID",{enumerable:!0,get:function(){return r.encodeAccountID}}),Object.defineProperty(e,"encodeAccountPublic",{enumerable:!0,get:function(){return r.encodeAccountPublic}}),Object.defineProperty(e,"encodeNodePublic",{enumerable:!0,get:function(){return r.encodeNodePublic}}),Object.defineProperty(e,"encodeSeed",{enumerable:!0,get:function(){return r.encodeSeed}}),Object.defineProperty(e,"encodeXAddress",{enumerable:!0,get:function(){return r.encodeXAddress}}),Object.defineProperty(e,"isValidClassicAddress",{enumerable:!0,get:function(){return r.isValidClassicAddress}}),Object.defineProperty(e,"isValidXAddress",{enumerable:!0,get:function(){return r.isValidXAddress}}),Object.defineProperty(e,"xAddressToClassicAddress",{enumerable:!0,get:function(){return r.xAddressToClassicAddress}});const n=dist$4,a=dist$3;Object.defineProperty(e,"verifyKeypairSignature",{enumerable:!0,get:function(){return a.verify}});const o=derive;Object.defineProperty(e,"deriveKeypair",{enumerable:!0,get:function(){return o.deriveKeypair}}),Object.defineProperty(e,"deriveAddress",{enumerable:!0,get:function(){return o.deriveAddress}}),Object.defineProperty(e,"deriveXAddress",{enumerable:!0,get:function(){return o.deriveXAddress}});const u=t(getBalanceChanges$1);e.getBalanceChanges=u.default;const p=t(getNFTokenID$1);e.getNFTokenID=p.default;const b=t(getXChainClaimID$1);e.getXChainClaimID=b.default;const m=hashes,y=t(parseNFTokenID$1);e.parseNFTokenID=y.default;const A=quality;Object.defineProperty(e,"percentToTransferRate",{enumerable:!0,get:function(){return A.percentToTransferRate}}),Object.defineProperty(e,"decimalToTransferRate",{enumerable:!0,get:function(){return A.decimalToTransferRate}}),Object.defineProperty(e,"transferRateToDecimal",{enumerable:!0,get:function(){return A.transferRateToDecimal}}),Object.defineProperty(e,"percentToQuality",{enumerable:!0,get:function(){return A.percentToQuality}}),Object.defineProperty(e,"decimalToQuality",{enumerable:!0,get:function(){return A.decimalToQuality}}),Object.defineProperty(e,"qualityToDecimal",{enumerable:!0,get:function(){return A.qualityToDecimal}});const I=t(signPaymentChannelClaim$1);e.signPaymentChannelClaim=I.default;const M=stringConversion;Object.defineProperty(e,"convertHexToString",{enumerable:!0,get:function(){return M.convertHexToString}}),Object.defineProperty(e,"convertStringToHex",{enumerable:!0,get:function(){return M.convertStringToHex}});const C=timeConversion;Object.defineProperty(e,"rippleTimeToISOTime",{enumerable:!0,get:function(){return C.rippleTimeToISOTime}}),Object.defineProperty(e,"isoTimeToRippleTime",{enumerable:!0,get:function(){return C.isoTimeToRippleTime}}),Object.defineProperty(e,"rippleTimeToUnixTime",{enumerable:!0,get:function(){return C.rippleTimeToUnixTime}}),Object.defineProperty(e,"unixTimeToRippleTime",{enumerable:!0,get:function(){return C.unixTimeToRippleTime}});const P=t(verifyPaymentChannelClaim$1);e.verifyPaymentChannelClaim=P.default;const B=xrpConversion;Object.defineProperty(e,"xrpToDrops",{enumerable:!0,get:function(){return B.xrpToDrops}}),Object.defineProperty(e,"dropsToXrp",{enumerable:!0,get:function(){return B.dropsToXrp}});function k(ie){try{return(0,o.deriveKeypair)(ie),!0}catch{return!1}}e.isValidSecret=k;function N(ie){return(0,n.encode)(ie)}e.encode=N;function D(ie){return(0,n.encodeForSigning)(ie)}e.encodeForSigning=D;function L(ie){return(0,n.encodeForSigningClaim)(ie)}e.encodeForSigningClaim=L;function K(ie,s){return(0,n.encodeForMultisigning)(ie,s)}e.encodeForMultiSigning=K;function J(ie){return(0,n.decode)(ie)}e.decode=J;function ce(ie){return(0,r.isValidXAddress)(ie)||(0,r.isValidClassicAddress)(ie)}e.isValidAddress=ce;function oe(ie){return!!ie.result.marker}e.hasNextPage=oe;const Z={hashSignedTx:m.hashSignedTx,hashTx:m.hashTx,hashAccountRoot:m.hashAccountRoot,hashSignerListId:m.hashSignerListId,hashOfferId:m.hashOfferId,hashTrustline:m.hashTrustline,hashTxTree:m.hashTxTree,hashStateTree:m.hashStateTree,hashLedger:m.hashLedger,hashLedgerHeader:m.hashLedgerHeader,hashEscrow:m.hashEscrow,hashPaymentChannel:m.hashPaymentChannel};e.hashes=Z}(utils$6);var getFeeXrp$1={},__awaiter$L=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(getFeeXrp$1,"__esModule",{value:!0});const bignumber_js_1$5=__importDefault$7(bignumberExports),errors_1$t=errors$1,NUM_DECIMAL_PLACES=6,BASE_10=10;function getFeeXrp(e,t){var r;return __awaiter$L(this,void 0,void 0,function*(){const n=t??e.feeCushion,a=(yield e.request({command:"server_info"})).result.info,o=(r=a.validated_ledger)===null||r===void 0?void 0:r.base_fee_xrp;if(o==null)throw new errors_1$t.XrplError("getFeeXrp: Could not get base_fee_xrp from server_info");const u=new bignumber_js_1$5.default(o);a.load_factor==null&&(a.load_factor=1);let p=u.times(a.load_factor).times(n);return p=bignumber_js_1$5.default.min(p,e.maxFeeXRP),new bignumber_js_1$5.default(p.toFixed(NUM_DECIMAL_PLACES)).toString(BASE_10)})}getFeeXrp$1.default=getFeeXrp;var __awaiter$K=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(autofill,"__esModule",{value:!0}),autofill.checkAccountDeleteBlockers=autofill.setLatestValidatedLedgerSequence=autofill.calculateFeePerTransactionType=autofill.setNextValidSequenceNumber=autofill.setValidAddresses=autofill.txNeedsNetworkID=void 0;const bignumber_js_1$4=__importDefault$6(bignumberExports),ripple_address_codec_1$3=dist$5,errors_1$s=errors$1,utils_1$a=utils$6,getFeeXrp_1=__importDefault$6(getFeeXrp$1),LEDGER_OFFSET=20,RESTRICTED_NETWORKS=1024,REQUIRED_NETWORKID_VERSION="1.11.0",HOOKS_TESTNET_ID=21338;function isNotLaterRippledVersion(e,t){if(e===t)return!0;const r=e.split("."),n=t.split("."),a=parseInt(r[0],10),o=parseInt(r[1],10),u=parseInt(n[0],10),p=parseInt(n[1],10);if(a!==u)return a<u;if(o!==p)return o<p;const b=r[2].split("-"),m=n[2].split("-"),y=parseInt(b[0],10),A=parseInt(m[0],10);return y!==A?y<A:b.length!==m.length?b.length>m.length:b.length===2?b[1][0].startsWith(m[1][0])?b[1].startsWith("b")?parseInt(b[1].slice(1),10)<parseInt(m[1].slice(1),10):parseInt(b[1].slice(2),10)<parseInt(m[1].slice(2),10):b[1]<m[1]:!1}function txNeedsNetworkID(e){return!!(e.networkID!==void 0&&e.networkID>RESTRICTED_NETWORKS&&(e.buildVersion&&isNotLaterRippledVersion(REQUIRED_NETWORKID_VERSION,e.buildVersion)||e.networkID===HOOKS_TESTNET_ID))}autofill.txNeedsNetworkID=txNeedsNetworkID;function setValidAddresses(e){validateAccountAddress(e,"Account","SourceTag"),e.Destination!=null&&validateAccountAddress(e,"Destination","DestinationTag"),convertToClassicAddress(e,"Authorize"),convertToClassicAddress(e,"Unauthorize"),convertToClassicAddress(e,"Owner"),convertToClassicAddress(e,"RegularKey")}autofill.setValidAddresses=setValidAddresses;function validateAccountAddress(e,t,r){const{classicAccount:n,tag:a}=getClassicAccountAndTag(e[t]);if(e[t]=n,a!=null&&a!==!1){if(e[r]&&e[r]!==a)throw new errors_1$s.ValidationError(`The ${r}, if present, must match the tag of the ${t} X-address`);e[r]=a}}function getClassicAccountAndTag(e,t){if((0,ripple_address_codec_1$3.isValidXAddress)(e)){const r=(0,ripple_address_codec_1$3.xAddressToClassicAddress)(e);return{classicAccount:r.classicAddress,tag:r.tag}}return{classicAccount:e,tag:t}}function convertToClassicAddress(e,t){const r=e[t];if(typeof r=="string"){const{classicAccount:n}=getClassicAccountAndTag(r);e[t]=n}}function setNextValidSequenceNumber(e,t){return __awaiter$K(this,void 0,void 0,function*(){const r={command:"account_info",account:t.Account,ledger_index:"current"},n=yield e.request(r);t.Sequence=n.result.account_data.Sequence})}autofill.setNextValidSequenceNumber=setNextValidSequenceNumber;function fetchAccountDeleteFee(e){var t;return __awaiter$K(this,void 0,void 0,function*(){const r=(t=(yield e.request({command:"server_state"})).result.state.validated_ledger)===null||t===void 0?void 0:t.reserve_inc;return r==null?Promise.reject(new Error("Could not fetch Owner Reserve.")):new bignumber_js_1$4.default(r)})}function calculateFeePerTransactionType(e,t,r=0){return __awaiter$K(this,void 0,void 0,function*(){const n=yield(0,getFeeXrp_1.default)(e),a=(0,utils_1$a.xrpToDrops)(n);let o=new bignumber_js_1$4.default(a);if(t.TransactionType==="EscrowFinish"&&t.Fulfillment!=null){const b=Math.ceil(t.Fulfillment.length/2);o=new bignumber_js_1$4.default(scaleValue(a,33+b/16)).dp(0,bignumber_js_1$4.default.ROUND_CEIL)}(t.TransactionType==="AccountDelete"||t.TransactionType==="AMMCreate")&&(o=yield fetchAccountDeleteFee(e)),r>0&&(o=bignumber_js_1$4.default.sum(o,scaleValue(a,1+r)));const u=(0,utils_1$a.xrpToDrops)(e.maxFeeXRP),p=t.TransactionType==="AccountDelete"?o:bignumber_js_1$4.default.min(o,u);t.Fee=p.dp(0,bignumber_js_1$4.default.ROUND_CEIL).toString(10)})}autofill.calculateFeePerTransactionType=calculateFeePerTransactionType;function scaleValue(e,t){return new bignumber_js_1$4.default(e).times(t).toString()}function setLatestValidatedLedgerSequence(e,t){return __awaiter$K(this,void 0,void 0,function*(){const r=yield e.getLedgerIndex();t.LastLedgerSequence=r+LEDGER_OFFSET})}autofill.setLatestValidatedLedgerSequence=setLatestValidatedLedgerSequence;function checkAccountDeleteBlockers(e,t){return __awaiter$K(this,void 0,void 0,function*(){const r={command:"account_objects",account:t.Account,ledger_index:"validated",deletion_blockers_only:!0},n=yield e.request(r);return new Promise((a,o)=>{n.result.account_objects.length>0&&o(new errors_1$s.XrplError(`Account ${t.Account} cannot be deleted; there are Escrows, PayChannels, RippleStates, or Checks associated with the account.`,n.result.account_objects)),a()})})}autofill.checkAccountDeleteBlockers=checkAccountDeleteBlockers;var balances={};Object.defineProperty(balances,"__esModule",{value:!0}),balances.formatBalances=void 0;function formatBalances(e){return e.map(t=>({value:t.balance,currency:t.currency,issuer:t.account}))}balances.formatBalances=formatBalances;var getOrderbook={},Offer={};Object.defineProperty(Offer,"__esModule",{value:!0}),Offer.OfferFlags=void 0;var OfferFlags;(function(e){e[e.lsfPassive=65536]="lsfPassive",e[e.lsfSell=131072]="lsfSell"})(OfferFlags||(Offer.OfferFlags=OfferFlags={}));var __awaiter$J=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(getOrderbook,"__esModule",{value:!0}),getOrderbook.sortAndLimitOffers=getOrderbook.separateBuySellOrders=getOrderbook.combineOrders=getOrderbook.extractOffers=getOrderbook.reverseRequest=getOrderbook.requestAllOffers=getOrderbook.createBookOffersRequest=getOrderbook.validateOrderbookOptions=void 0;const bignumber_js_1$3=__importDefault$5(bignumberExports),errors_1$r=errors$1,Offer_1=Offer,DEFAULT_LIMIT=20;function sortOffers(e){return e.sort((t,r)=>{var n,a;const o=(n=t.quality)!==null&&n!==void 0?n:0,u=(a=r.quality)!==null&&a!==void 0?a:0;return new bignumber_js_1$3.default(o).comparedTo(u)})}const getOrderbookOptionsSet=new Set(["limit","ledger_index","ledger_hash","taker"]);function validateOrderbookOptions(e){for(const t of Object.keys(e))if(!getOrderbookOptionsSet.has(t))throw new errors_1$r.ValidationError(`Unexpected option: ${t}`,e);if(e.limit&&typeof e.limit!="number")throw new errors_1$r.ValidationError("limit must be a number",e.limit);if(e.ledger_index&&!(typeof e.ledger_index=="number"||typeof e.ledger_index=="string"&&["validated","closed","current"].includes(e.ledger_index)))throw new errors_1$r.ValidationError('ledger_index must be a number or a string of "validated", "closed", or "current"',e.ledger_index);if(e.ledger_hash!==void 0&&e.ledger_hash!==null&&typeof e.ledger_hash!="string")throw new errors_1$r.ValidationError("ledger_hash must be a string",e.ledger_hash);if(e.taker!==void 0&&typeof e.taker!="string")throw new errors_1$r.ValidationError("taker must be a string",e.taker)}getOrderbook.validateOrderbookOptions=validateOrderbookOptions;function createBookOffersRequest(e,t,r){var n,a;return{command:"book_offers",taker_pays:e,taker_gets:t,ledger_index:(n=r.ledger_index)!==null&&n!==void 0?n:"validated",ledger_hash:r.ledger_hash===null?void 0:r.ledger_hash,limit:(a=r.limit)!==null&&a!==void 0?a:DEFAULT_LIMIT,taker:r.taker?r.taker:void 0}}getOrderbook.createBookOffersRequest=createBookOffersRequest;function requestAllOffers(e,t){return __awaiter$J(this,void 0,void 0,function*(){return(yield e.requestAll(t)).map(r=>r.result.offers)})}getOrderbook.requestAllOffers=requestAllOffers;function reverseRequest(e){return Object.assign(Object.assign({},e),{taker_pays:e.taker_gets,taker_gets:e.taker_pays})}getOrderbook.reverseRequest=reverseRequest;function extractOffers(e){return e.flatMap(t=>t)}getOrderbook.extractOffers=extractOffers;function combineOrders(e,t){return[...e,...t]}getOrderbook.combineOrders=combineOrders;function separateBuySellOrders(e){const t=[],r=[];return e.forEach(n=>{n.Flags&Offer_1.OfferFlags.lsfSell?r.push(n):t.push(n)}),{buy:t,sell:r}}getOrderbook.separateBuySellOrders=separateBuySellOrders;function sortAndLimitOffers(e,t){return sortOffers(e).slice(0,t)}getOrderbook.sortAndLimitOffers=sortAndLimitOffers;var Wallet$2={},lib={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.HDKey=e.HARDENED_OFFSET=void 0;const t=hmac$1,r=ripemd160,n=sha256$3,a=sha512$2,o=_assert,u=utils$o,p=secp256k1$3,b=modular,m=lib$1,y=p.secp256k1.ProjectivePoint,A=(0,m.createBase58check)(n.sha256);function I(L){return BigInt(`0x${(0,u.bytesToHex)(L)}`)}function M(L){return(0,u.hexToBytes)(L.toString(16).padStart(64,"0"))}const C=(0,u.utf8ToBytes)("Bitcoin seed"),P={private:76066276,public:76067358};e.HARDENED_OFFSET=2147483648;const B=L=>(0,r.ripemd160)((0,n.sha256)(L)),k=L=>(0,u.createView)(L).getUint32(0,!1),N=L=>{if(!Number.isSafeInteger(L)||L<0||L>2**32-1)throw new Error(`Invalid number=${L}. Should be from 0 to 2 ** 32 - 1`);const K=new Uint8Array(4);return(0,u.createView)(K).setUint32(0,L,!1),K};class D{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return k(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const K=this.privateKey;if(!K)throw new Error("No private key");return A.encode(this.serialize(this.versions.private,(0,u.concatBytes)(new Uint8Array([0]),K)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return A.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(K,J=P){if((0,o.bytes)(K),8*K.length<128||8*K.length>512)throw new Error(`HDKey: wrong seed length=${K.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const ce=(0,t.hmac)(a.sha512,C,K);return new D({versions:J,chainCode:ce.slice(32),privateKey:ce.slice(0,32)})}static fromExtendedKey(K,J=P){const ce=A.decode(K),oe=(0,u.createView)(ce),Z=oe.getUint32(0,!1),ie={versions:J,depth:ce[4],parentFingerprint:oe.getUint32(5,!1),index:oe.getUint32(9,!1),chainCode:ce.slice(13,45)},s=ce.slice(45),d=s[0]===0;if(Z!==J[d?"private":"public"])throw new Error("Version mismatch");return d?new D({...ie,privateKey:s.slice(1)}):new D({...ie,publicKey:s})}static fromJSON(K){return D.fromExtendedKey(K.xpriv)}constructor(K){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!K||typeof K!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=K.versions||P,this.depth=K.depth||0,this.chainCode=K.chainCode||null,this.index=K.index||0,this.parentFingerprint=K.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(K.publicKey&&K.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(K.privateKey){if(!p.secp256k1.utils.isValidPrivateKey(K.privateKey))throw new Error("Invalid private key");this.privKey=typeof K.privateKey=="bigint"?K.privateKey:I(K.privateKey),this.privKeyBytes=M(this.privKey),this.pubKey=p.secp256k1.getPublicKey(K.privateKey,!0)}else if(K.publicKey)this.pubKey=y.fromHex(K.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=B(this.pubKey)}derive(K){if(!/^[mM]'?/.test(K))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(K))return this;const J=K.replace(/^[mM]'?\//,"").split("/");let ce=this;for(const oe of J){const Z=/^(\d+)('?)$/.exec(oe),ie=Z&&Z[1];if(!Z||Z.length!==3||typeof ie!="string")throw new Error(`Invalid child index: ${oe}`);let s=+ie;if(!Number.isSafeInteger(s)||s>=e.HARDENED_OFFSET)throw new Error("Invalid index");Z[2]==="'"&&(s+=e.HARDENED_OFFSET),ce=ce.deriveChild(s)}return ce}deriveChild(K){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let J=N(K);if(K>=e.HARDENED_OFFSET){const s=this.privateKey;if(!s)throw new Error("Could not derive hardened child key");J=(0,u.concatBytes)(new Uint8Array([0]),s,J)}else J=(0,u.concatBytes)(this.pubKey,J);const ce=(0,t.hmac)(a.sha512,this.chainCode,J),oe=I(ce.slice(0,32)),Z=ce.slice(32);if(!p.secp256k1.utils.isValidPrivateKey(oe))throw new Error("Tweak bigger than curve order");const ie={versions:this.versions,chainCode:Z,depth:this.depth+1,parentFingerprint:this.fingerprint,index:K};try{if(this.privateKey){const s=(0,b.mod)(this.privKey+oe,p.secp256k1.CURVE.n);if(!p.secp256k1.utils.isValidPrivateKey(s))throw new Error("The tweak was out of range or the resulted private key is invalid");ie.privateKey=s}else{const s=y.fromHex(this.pubKey).add(y.fromPrivateKey(oe));if(s.equals(y.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");ie.publicKey=s.toRawBytes(!0)}return new D(ie)}catch{return this.deriveChild(K+1)}}sign(K){if(!this.privateKey)throw new Error("No privateKey set!");return(0,o.bytes)(K,32),p.secp256k1.sign(K,this.privKey).toCompactRawBytes()}verify(K,J){if((0,o.bytes)(K,32),(0,o.bytes)(J,64),!this.publicKey)throw new Error("No publicKey set!");let ce;try{ce=p.secp256k1.Signature.fromCompact(J)}catch{return!1}return p.secp256k1.verify(ce,K,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(K,J){if(!this.chainCode)throw new Error("No chainCode set");return(0,o.bytes)(J,33),(0,u.concatBytes)(N(K),new Uint8Array([this.depth]),N(this.parentFingerprint),N(this.index),this.chainCode,J)}}e.HDKey=D})(lib);var ECDSA$1={};Object.defineProperty(ECDSA$1,"__esModule",{value:!0});var ECDSA;(function(e){e.ed25519="ed25519",e.secp256k1="ecdsa-secp256k1"})(ECDSA||(ECDSA={})),ECDSA$1.default=ECDSA;var transactions={},transaction$1={},accountDelete={};Object.defineProperty(accountDelete,"__esModule",{value:!0}),accountDelete.validateAccountDelete=void 0;const common_1$w=common$1;function validateAccountDelete(e){(0,common_1$w.validateBaseTransaction)(e),(0,common_1$w.validateRequiredField)(e,"Destination",common_1$w.isAccount),(0,common_1$w.validateOptionalField)(e,"DestinationTag",common_1$w.isNumber)}accountDelete.validateAccountDelete=validateAccountDelete;var AMMBid={};Object.defineProperty(AMMBid,"__esModule",{value:!0}),AMMBid.validateAMMBid=void 0;const errors_1$q=errors$1,common_1$v=common$1,MAX_AUTH_ACCOUNTS=4;function validateAMMBid(e){if((0,common_1$v.validateBaseTransaction)(e),e.Asset==null)throw new errors_1$q.ValidationError("AMMBid: missing field Asset");if(!(0,common_1$v.isCurrency)(e.Asset))throw new errors_1$q.ValidationError("AMMBid: Asset must be a Currency");if(e.Asset2==null)throw new errors_1$q.ValidationError("AMMBid: missing field Asset2");if(!(0,common_1$v.isCurrency)(e.Asset2))throw new errors_1$q.ValidationError("AMMBid: Asset2 must be a Currency");if(e.BidMin!=null&&!(0,common_1$v.isAmount)(e.BidMin))throw new errors_1$q.ValidationError("AMMBid: BidMin must be an Amount");if(e.BidMax!=null&&!(0,common_1$v.isAmount)(e.BidMax))throw new errors_1$q.ValidationError("AMMBid: BidMax must be an Amount");if(e.AuthAccounts!=null){if(!Array.isArray(e.AuthAccounts))throw new errors_1$q.ValidationError("AMMBid: AuthAccounts must be an AuthAccount array");if(e.AuthAccounts.length>MAX_AUTH_ACCOUNTS)throw new errors_1$q.ValidationError(`AMMBid: AuthAccounts length must not be greater than ${MAX_AUTH_ACCOUNTS}`);validateAuthAccounts(e.Account,e.AuthAccounts)}}AMMBid.validateAMMBid=validateAMMBid;function validateAuthAccounts(e,t){for(const r of t){if(r.AuthAccount==null||typeof r.AuthAccount!="object")throw new errors_1$q.ValidationError("AMMBid: invalid AuthAccounts");if(r.AuthAccount.Account==null)throw new errors_1$q.ValidationError("AMMBid: invalid AuthAccounts");if(typeof r.AuthAccount.Account!="string")throw new errors_1$q.ValidationError("AMMBid: invalid AuthAccounts");if(r.AuthAccount.Account===e)throw new errors_1$q.ValidationError("AMMBid: AuthAccounts must not include sender's address")}return!0}var AMMCreate={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateAMMCreate=e.AMM_MAX_TRADING_FEE=void 0;const t=errors$1,r=common$1;e.AMM_MAX_TRADING_FEE=1e3;function n(a){if((0,r.validateBaseTransaction)(a),a.Amount==null)throw new t.ValidationError("AMMCreate: missing field Amount");if(!(0,r.isAmount)(a.Amount))throw new t.ValidationError("AMMCreate: Amount must be an Amount");if(a.Amount2==null)throw new t.ValidationError("AMMCreate: missing field Amount2");if(!(0,r.isAmount)(a.Amount2))throw new t.ValidationError("AMMCreate: Amount2 must be an Amount");if(a.TradingFee==null)throw new t.ValidationError("AMMCreate: missing field TradingFee");if(typeof a.TradingFee!="number")throw new t.ValidationError("AMMCreate: TradingFee must be a number");if(a.TradingFee<0||a.TradingFee>e.AMM_MAX_TRADING_FEE)throw new t.ValidationError(`AMMCreate: TradingFee must be between 0 and ${e.AMM_MAX_TRADING_FEE}`)}e.validateAMMCreate=n})(AMMCreate);var AMMDelete={};Object.defineProperty(AMMDelete,"__esModule",{value:!0}),AMMDelete.validateAMMDelete=void 0;const errors_1$p=errors$1,common_1$u=common$1;function validateAMMDelete(e){if((0,common_1$u.validateBaseTransaction)(e),e.Asset==null)throw new errors_1$p.ValidationError("AMMDelete: missing field Asset");if(!(0,common_1$u.isCurrency)(e.Asset))throw new errors_1$p.ValidationError("AMMDelete: Asset must be a Currency");if(e.Asset2==null)throw new errors_1$p.ValidationError("AMMDelete: missing field Asset2");if(!(0,common_1$u.isCurrency)(e.Asset2))throw new errors_1$p.ValidationError("AMMDelete: Asset2 must be a Currency")}AMMDelete.validateAMMDelete=validateAMMDelete;var AMMVote={};Object.defineProperty(AMMVote,"__esModule",{value:!0}),AMMVote.validateAMMVote=void 0;const errors_1$o=errors$1,AMMCreate_1$1=AMMCreate,common_1$t=common$1;function validateAMMVote(e){if((0,common_1$t.validateBaseTransaction)(e),e.Asset==null)throw new errors_1$o.ValidationError("AMMVote: missing field Asset");if(!(0,common_1$t.isCurrency)(e.Asset))throw new errors_1$o.ValidationError("AMMVote: Asset must be a Currency");if(e.Asset2==null)throw new errors_1$o.ValidationError("AMMVote: missing field Asset2");if(!(0,common_1$t.isCurrency)(e.Asset2))throw new errors_1$o.ValidationError("AMMVote: Asset2 must be a Currency");if(e.TradingFee==null)throw new errors_1$o.ValidationError("AMMVote: missing field TradingFee");if(typeof e.TradingFee!="number")throw new errors_1$o.ValidationError("AMMVote: TradingFee must be a number");if(e.TradingFee<0||e.TradingFee>AMMCreate_1$1.AMM_MAX_TRADING_FEE)throw new errors_1$o.ValidationError(`AMMVote: TradingFee must be between 0 and ${AMMCreate_1$1.AMM_MAX_TRADING_FEE}`)}AMMVote.validateAMMVote=validateAMMVote;var checkCancel={};Object.defineProperty(checkCancel,"__esModule",{value:!0}),checkCancel.validateCheckCancel=void 0;const errors_1$n=errors$1,common_1$s=common$1;function validateCheckCancel(e){if((0,common_1$s.validateBaseTransaction)(e),e.CheckID!==void 0&&typeof e.CheckID!="string")throw new errors_1$n.ValidationError("CheckCancel: invalid CheckID")}checkCancel.validateCheckCancel=validateCheckCancel;var checkCash={};Object.defineProperty(checkCash,"__esModule",{value:!0}),checkCash.validateCheckCash=void 0;const errors_1$m=errors$1,common_1$r=common$1;function validateCheckCash(e){if((0,common_1$r.validateBaseTransaction)(e),e.Amount==null&&e.DeliverMin==null)throw new errors_1$m.ValidationError("CheckCash: must have either Amount or DeliverMin");if(e.Amount!=null&&e.DeliverMin!=null)throw new errors_1$m.ValidationError("CheckCash: cannot have both Amount and DeliverMin");if(e.Amount!=null&&e.Amount!==void 0&&!(0,common_1$r.isAmount)(e.Amount))throw new errors_1$m.ValidationError("CheckCash: invalid Amount");if(e.DeliverMin!=null&&e.DeliverMin!==void 0&&!(0,common_1$r.isAmount)(e.DeliverMin))throw new errors_1$m.ValidationError("CheckCash: invalid DeliverMin");if(e.CheckID!==void 0&&typeof e.CheckID!="string")throw new errors_1$m.ValidationError("CheckCash: invalid CheckID")}checkCash.validateCheckCash=validateCheckCash;var checkCreate={};Object.defineProperty(checkCreate,"__esModule",{value:!0}),checkCreate.validateCheckCreate=void 0;const errors_1$l=errors$1,common_1$q=common$1;function validateCheckCreate(e){if((0,common_1$q.validateBaseTransaction)(e),e.SendMax===void 0)throw new errors_1$l.ValidationError("CheckCreate: missing field SendMax");if((0,common_1$q.validateRequiredField)(e,"Destination",common_1$q.isAccount),(0,common_1$q.validateOptionalField)(e,"DestinationTag",common_1$q.isNumber),typeof e.SendMax!="string"&&!(0,common_1$q.isIssuedCurrency)(e.SendMax))throw new errors_1$l.ValidationError("CheckCreate: invalid SendMax");if(e.Expiration!==void 0&&typeof e.Expiration!="number")throw new errors_1$l.ValidationError("CheckCreate: invalid Expiration");if(e.InvoiceID!==void 0&&typeof e.InvoiceID!="string")throw new errors_1$l.ValidationError("CheckCreate: invalid InvoiceID")}checkCreate.validateCheckCreate=validateCheckCreate;var clawback={};Object.defineProperty(clawback,"__esModule",{value:!0}),clawback.validateClawback=void 0;const errors_1$k=errors$1,common_1$p=common$1;function validateClawback(e){if((0,common_1$p.validateBaseTransaction)(e),e.Amount==null)throw new errors_1$k.ValidationError("Clawback: missing field Amount");if(!(0,common_1$p.isIssuedCurrency)(e.Amount))throw new errors_1$k.ValidationError("Clawback: invalid Amount");if((0,common_1$p.isIssuedCurrency)(e.Amount)&&e.Account===e.Amount.issuer)throw new errors_1$k.ValidationError("Clawback: invalid holder Account")}clawback.validateClawback=validateClawback;var depositPreauth={};Object.defineProperty(depositPreauth,"__esModule",{value:!0}),depositPreauth.validateDepositPreauth=void 0;const errors_1$j=errors$1,common_1$o=common$1;function validateDepositPreauth(e){if((0,common_1$o.validateBaseTransaction)(e),e.Authorize!==void 0&&e.Unauthorize!==void 0)throw new errors_1$j.ValidationError("DepositPreauth: can't provide both Authorize and Unauthorize fields");if(e.Authorize===void 0&&e.Unauthorize===void 0)throw new errors_1$j.ValidationError("DepositPreauth: must provide either Authorize or Unauthorize field");if(e.Authorize!==void 0){if(typeof e.Authorize!="string")throw new errors_1$j.ValidationError("DepositPreauth: Authorize must be a string");if(e.Account===e.Authorize)throw new errors_1$j.ValidationError("DepositPreauth: Account can't preauthorize its own address")}if(e.Unauthorize!==void 0){if(typeof e.Unauthorize!="string")throw new errors_1$j.ValidationError("DepositPreauth: Unauthorize must be a string");if(e.Account===e.Unauthorize)throw new errors_1$j.ValidationError("DepositPreauth: Account can't unauthorize its own address")}}depositPreauth.validateDepositPreauth=validateDepositPreauth;var DIDDelete={};Object.defineProperty(DIDDelete,"__esModule",{value:!0}),DIDDelete.validateDIDDelete=void 0;const common_1$n=common$1;function validateDIDDelete(e){(0,common_1$n.validateBaseTransaction)(e)}DIDDelete.validateDIDDelete=validateDIDDelete;var DIDSet={};Object.defineProperty(DIDSet,"__esModule",{value:!0}),DIDSet.validateDIDSet=void 0;const errors_1$i=errors$1,common_1$m=common$1;function validateDIDSet(e){if((0,common_1$m.validateBaseTransaction)(e),(0,common_1$m.validateOptionalField)(e,"Data",common_1$m.isString),(0,common_1$m.validateOptionalField)(e,"DIDDocument",common_1$m.isString),(0,common_1$m.validateOptionalField)(e,"URI",common_1$m.isString),e.Data===void 0&&e.DIDDocument===void 0&&e.URI===void 0)throw new errors_1$i.ValidationError("DIDSet: Must have at least one of `Data`, `DIDDocument`, and `URI`")}DIDSet.validateDIDSet=validateDIDSet;var escrowCancel={};Object.defineProperty(escrowCancel,"__esModule",{value:!0}),escrowCancel.validateEscrowCancel=void 0;const errors_1$h=errors$1,common_1$l=common$1;function validateEscrowCancel(e){if((0,common_1$l.validateBaseTransaction)(e),(0,common_1$l.validateRequiredField)(e,"Owner",common_1$l.isAccount),e.OfferSequence==null)throw new errors_1$h.ValidationError("EscrowCancel: missing OfferSequence");if(typeof e.OfferSequence!="number"&&typeof e.OfferSequence!="string"||Number.isNaN(Number(e.OfferSequence)))throw new errors_1$h.ValidationError("EscrowCancel: OfferSequence must be a number")}escrowCancel.validateEscrowCancel=validateEscrowCancel;var escrowCreate={};Object.defineProperty(escrowCreate,"__esModule",{value:!0}),escrowCreate.validateEscrowCreate=void 0;const errors_1$g=errors$1,common_1$k=common$1;function validateEscrowCreate(e){if((0,common_1$k.validateBaseTransaction)(e),e.Amount===void 0)throw new errors_1$g.ValidationError("EscrowCreate: missing field Amount");if(typeof e.Amount!="string")throw new errors_1$g.ValidationError("EscrowCreate: Amount must be a string");if((0,common_1$k.validateRequiredField)(e,"Destination",common_1$k.isAccount),(0,common_1$k.validateOptionalField)(e,"DestinationTag",common_1$k.isNumber),e.CancelAfter===void 0&&e.FinishAfter===void 0)throw new errors_1$g.ValidationError("EscrowCreate: Either CancelAfter or FinishAfter must be specified");if(e.FinishAfter===void 0&&e.Condition===void 0)throw new errors_1$g.ValidationError("EscrowCreate: Either Condition or FinishAfter must be specified");if(e.CancelAfter!==void 0&&typeof e.CancelAfter!="number")throw new errors_1$g.ValidationError("EscrowCreate: CancelAfter must be a number");if(e.FinishAfter!==void 0&&typeof e.FinishAfter!="number")throw new errors_1$g.ValidationError("EscrowCreate: FinishAfter must be a number");if(e.Condition!==void 0&&typeof e.Condition!="string")throw new errors_1$g.ValidationError("EscrowCreate: Condition must be a string")}escrowCreate.validateEscrowCreate=validateEscrowCreate;var escrowFinish={};Object.defineProperty(escrowFinish,"__esModule",{value:!0}),escrowFinish.validateEscrowFinish=void 0;const errors_1$f=errors$1,common_1$j=common$1;function validateEscrowFinish(e){if((0,common_1$j.validateBaseTransaction)(e),(0,common_1$j.validateRequiredField)(e,"Owner",common_1$j.isAccount),e.OfferSequence==null)throw new errors_1$f.ValidationError("EscrowFinish: missing field OfferSequence");if(typeof e.OfferSequence!="number"&&typeof e.OfferSequence!="string"||Number.isNaN(Number(e.OfferSequence)))throw new errors_1$f.ValidationError("EscrowFinish: OfferSequence must be a number");if(e.Condition!==void 0&&typeof e.Condition!="string")throw new errors_1$f.ValidationError("EscrowFinish: Condition must be a string");if(e.Fulfillment!==void 0&&typeof e.Fulfillment!="string")throw new errors_1$f.ValidationError("EscrowFinish: Fulfillment must be a string")}escrowFinish.validateEscrowFinish=validateEscrowFinish;var NFTokenAcceptOffer={};Object.defineProperty(NFTokenAcceptOffer,"__esModule",{value:!0}),NFTokenAcceptOffer.validateNFTokenAcceptOffer=void 0;const errors_1$e=errors$1,common_1$i=common$1;function validateNFTokenBrokerFee(e){const t=(0,common_1$i.parseAmountValue)(e.NFTokenBrokerFee);if(Number.isNaN(t))throw new errors_1$e.ValidationError("NFTokenAcceptOffer: invalid NFTokenBrokerFee");if(t<=0)throw new errors_1$e.ValidationError("NFTokenAcceptOffer: NFTokenBrokerFee must be greater than 0; omit if there is no fee");if(e.NFTokenSellOffer==null||e.NFTokenBuyOffer==null)throw new errors_1$e.ValidationError("NFTokenAcceptOffer: both NFTokenSellOffer and NFTokenBuyOffer must be set if using brokered mode")}function validateNFTokenAcceptOffer(e){if((0,common_1$i.validateBaseTransaction)(e),e.NFTokenBrokerFee!=null&&validateNFTokenBrokerFee(e),e.NFTokenSellOffer==null&&e.NFTokenBuyOffer==null)throw new errors_1$e.ValidationError("NFTokenAcceptOffer: must set either NFTokenSellOffer or NFTokenBuyOffer")}NFTokenAcceptOffer.validateNFTokenAcceptOffer=validateNFTokenAcceptOffer;var NFTokenBurn={};Object.defineProperty(NFTokenBurn,"__esModule",{value:!0}),NFTokenBurn.validateNFTokenBurn=void 0;const common_1$h=common$1;function validateNFTokenBurn(e){(0,common_1$h.validateBaseTransaction)(e),(0,common_1$h.validateRequiredField)(e,"NFTokenID",common_1$h.isString),(0,common_1$h.validateOptionalField)(e,"Owner",common_1$h.isAccount)}NFTokenBurn.validateNFTokenBurn=validateNFTokenBurn;var NFTokenCancelOffer={};Object.defineProperty(NFTokenCancelOffer,"__esModule",{value:!0}),NFTokenCancelOffer.validateNFTokenCancelOffer=void 0;const errors_1$d=errors$1,common_1$g=common$1;function validateNFTokenCancelOffer(e){if((0,common_1$g.validateBaseTransaction)(e),!Array.isArray(e.NFTokenOffers))throw new errors_1$d.ValidationError("NFTokenCancelOffer: missing field NFTokenOffers");if(e.NFTokenOffers.length<1)throw new errors_1$d.ValidationError("NFTokenCancelOffer: empty field NFTokenOffers")}NFTokenCancelOffer.validateNFTokenCancelOffer=validateNFTokenCancelOffer;var offerCancel={};Object.defineProperty(offerCancel,"__esModule",{value:!0}),offerCancel.validateOfferCancel=void 0;const errors_1$c=errors$1,common_1$f=common$1;function validateOfferCancel(e){if((0,common_1$f.validateBaseTransaction)(e),e.OfferSequence===void 0)throw new errors_1$c.ValidationError("OfferCancel: missing field OfferSequence");if(typeof e.OfferSequence!="number")throw new errors_1$c.ValidationError("OfferCancel: OfferSequence must be a number")}offerCancel.validateOfferCancel=validateOfferCancel;var oracleDelete={};Object.defineProperty(oracleDelete,"__esModule",{value:!0}),oracleDelete.validateOracleDelete=void 0;const common_1$e=common$1;function validateOracleDelete(e){(0,common_1$e.validateBaseTransaction)(e),(0,common_1$e.validateRequiredField)(e,"OracleDocumentID",common_1$e.isNumber)}oracleDelete.validateOracleDelete=validateOracleDelete;var oracleSet={};Object.defineProperty(oracleSet,"__esModule",{value:!0}),oracleSet.validateOracleSet=void 0;const errors_1$b=errors$1,common_1$d=common$1,PRICE_DATA_SERIES_MAX_LENGTH=10,SCALE_MAX=10;function validateOracleSet(e){(0,common_1$d.validateBaseTransaction)(e),(0,common_1$d.validateRequiredField)(e,"OracleDocumentID",common_1$d.isNumber),(0,common_1$d.validateRequiredField)(e,"LastUpdateTime",common_1$d.isNumber),(0,common_1$d.validateOptionalField)(e,"Provider",common_1$d.isString),(0,common_1$d.validateOptionalField)(e,"URI",common_1$d.isString),(0,common_1$d.validateOptionalField)(e,"AssetClass",common_1$d.isString),(0,common_1$d.validateRequiredField)(e,"PriceDataSeries",t=>{if(!Array.isArray(t))throw new errors_1$b.ValidationError("OracleSet: PriceDataSeries must be an array");if(t.length>PRICE_DATA_SERIES_MAX_LENGTH)throw new errors_1$b.ValidationError(`OracleSet: PriceDataSeries must have at most ${PRICE_DATA_SERIES_MAX_LENGTH} PriceData objects`);for(const r of t){if(typeof r!="object")throw new errors_1$b.ValidationError("OracleSet: PriceDataSeries must be an array of objects");if(r.PriceData==null)throw new errors_1$b.ValidationError("OracleSet: PriceDataSeries must have a `PriceData` object");if(Object.keys(r).length!==1)throw new errors_1$b.ValidationError("OracleSet: PriceDataSeries must only have a single PriceData object");if(typeof r.PriceData.BaseAsset!="string")throw new errors_1$b.ValidationError("OracleSet: PriceDataSeries must have a `BaseAsset` string");if(typeof r.PriceData.QuoteAsset!="string")throw new errors_1$b.ValidationError("OracleSet: PriceDataSeries must have a `QuoteAsset` string");if(r.PriceData.AssetPrice==null!=(r.PriceData.Scale==null))throw new errors_1$b.ValidationError("OracleSet: PriceDataSeries must have both `AssetPrice` and `Scale` if any are present");if("AssetPrice"in r.PriceData&&!(0,common_1$d.isNumber)(r.PriceData.AssetPrice))throw new errors_1$b.ValidationError("OracleSet: invalid field AssetPrice");if("Scale"in r.PriceData&&!(0,common_1$d.isNumber)(r.PriceData.Scale))throw new errors_1$b.ValidationError("OracleSet: invalid field Scale");if(r.PriceData.Scale<0||r.PriceData.Scale>SCALE_MAX)throw new errors_1$b.ValidationError(`OracleSet: Scale must be in range 0-${SCALE_MAX}`)}return!0})}oracleSet.validateOracleSet=validateOracleSet;var paymentChannelCreate={};Object.defineProperty(paymentChannelCreate,"__esModule",{value:!0}),paymentChannelCreate.validatePaymentChannelCreate=void 0;const errors_1$a=errors$1,common_1$c=common$1;function validatePaymentChannelCreate(e){if((0,common_1$c.validateBaseTransaction)(e),e.Amount===void 0)throw new errors_1$a.ValidationError("PaymentChannelCreate: missing Amount");if(typeof e.Amount!="string")throw new errors_1$a.ValidationError("PaymentChannelCreate: Amount must be a string");if((0,common_1$c.validateRequiredField)(e,"Destination",common_1$c.isAccount),(0,common_1$c.validateOptionalField)(e,"DestinationTag",common_1$c.isNumber),e.SettleDelay===void 0)throw new errors_1$a.ValidationError("PaymentChannelCreate: missing SettleDelay");if(typeof e.SettleDelay!="number")throw new errors_1$a.ValidationError("PaymentChannelCreate: SettleDelay must be a number");if(e.PublicKey===void 0)throw new errors_1$a.ValidationError("PaymentChannelCreate: missing PublicKey");if(typeof e.PublicKey!="string")throw new errors_1$a.ValidationError("PaymentChannelCreate: PublicKey must be a string");if(e.CancelAfter!==void 0&&typeof e.CancelAfter!="number")throw new errors_1$a.ValidationError("PaymentChannelCreate: CancelAfter must be a number")}paymentChannelCreate.validatePaymentChannelCreate=validatePaymentChannelCreate;var paymentChannelFund={};Object.defineProperty(paymentChannelFund,"__esModule",{value:!0}),paymentChannelFund.validatePaymentChannelFund=void 0;const errors_1$9=errors$1,common_1$b=common$1;function validatePaymentChannelFund(e){if((0,common_1$b.validateBaseTransaction)(e),e.Channel===void 0)throw new errors_1$9.ValidationError("PaymentChannelFund: missing Channel");if(typeof e.Channel!="string")throw new errors_1$9.ValidationError("PaymentChannelFund: Channel must be a string");if(e.Amount===void 0)throw new errors_1$9.ValidationError("PaymentChannelFund: missing Amount");if(typeof e.Amount!="string")throw new errors_1$9.ValidationError("PaymentChannelFund: Amount must be a string");if(e.Expiration!==void 0&&typeof e.Expiration!="number")throw new errors_1$9.ValidationError("PaymentChannelFund: Expiration must be a number")}paymentChannelFund.validatePaymentChannelFund=validatePaymentChannelFund;var setRegularKey={};Object.defineProperty(setRegularKey,"__esModule",{value:!0}),setRegularKey.validateSetRegularKey=void 0;const errors_1$8=errors$1,common_1$a=common$1;function validateSetRegularKey(e){if((0,common_1$a.validateBaseTransaction)(e),e.RegularKey!==void 0&&typeof e.RegularKey!="string")throw new errors_1$8.ValidationError("SetRegularKey: RegularKey must be a string")}setRegularKey.validateSetRegularKey=validateSetRegularKey;var signerListSet={};Object.defineProperty(signerListSet,"__esModule",{value:!0}),signerListSet.validateSignerListSet=void 0;const errors_1$7=errors$1,common_1$9=common$1,MAX_SIGNERS=32,HEX_WALLET_LOCATOR_REGEX=/^[0-9A-Fa-f]{64}$/u;function validateSignerListSet(e){if((0,common_1$9.validateBaseTransaction)(e),e.SignerQuorum===void 0)throw new errors_1$7.ValidationError("SignerListSet: missing field SignerQuorum");if(typeof e.SignerQuorum!="number")throw new errors_1$7.ValidationError("SignerListSet: invalid SignerQuorum");if(e.SignerQuorum!==0){if(e.SignerEntries===void 0)throw new errors_1$7.ValidationError("SignerListSet: missing field SignerEntries");if(!Array.isArray(e.SignerEntries))throw new errors_1$7.ValidationError("SignerListSet: invalid SignerEntries");if(e.SignerEntries.length===0)throw new errors_1$7.ValidationError("SignerListSet: need at least 1 member in SignerEntries");if(e.SignerEntries.length>MAX_SIGNERS)throw new errors_1$7.ValidationError(`SignerListSet: maximum of ${MAX_SIGNERS} members allowed in SignerEntries`);for(const t of e.SignerEntries){const r=t,{WalletLocator:n}=r.SignerEntry;if(n!==void 0&&!HEX_WALLET_LOCATOR_REGEX.test(n))throw new errors_1$7.ValidationError("SignerListSet: WalletLocator in SignerEntry must be a 256-bit (32-byte) hexadecimal value")}}}signerListSet.validateSignerListSet=validateSignerListSet;var ticketCreate={};Object.defineProperty(ticketCreate,"__esModule",{value:!0}),ticketCreate.validateTicketCreate=void 0;const errors_1$6=errors$1,common_1$8=common$1,MAX_TICKETS=250;function validateTicketCreate(e){(0,common_1$8.validateBaseTransaction)(e);const{TicketCount:t}=e;if(t===void 0)throw new errors_1$6.ValidationError("TicketCreate: missing field TicketCount");if(typeof t!="number")throw new errors_1$6.ValidationError("TicketCreate: TicketCount must be a number");if(!Number.isInteger(t)||t<1||t>MAX_TICKETS)throw new errors_1$6.ValidationError("TicketCreate: TicketCount must be an integer from 1 to 250")}ticketCreate.validateTicketCreate=validateTicketCreate;var XChainAccountCreateCommit={};Object.defineProperty(XChainAccountCreateCommit,"__esModule",{value:!0}),XChainAccountCreateCommit.validateXChainAccountCreateCommit=void 0;const common_1$7=common$1;function validateXChainAccountCreateCommit(e){(0,common_1$7.validateBaseTransaction)(e),(0,common_1$7.validateRequiredField)(e,"XChainBridge",common_1$7.isXChainBridge),(0,common_1$7.validateRequiredField)(e,"SignatureReward",common_1$7.isAmount),(0,common_1$7.validateRequiredField)(e,"Destination",common_1$7.isAccount),(0,common_1$7.validateRequiredField)(e,"Amount",common_1$7.isAmount)}XChainAccountCreateCommit.validateXChainAccountCreateCommit=validateXChainAccountCreateCommit;var XChainAddAccountCreateAttestation={};Object.defineProperty(XChainAddAccountCreateAttestation,"__esModule",{value:!0}),XChainAddAccountCreateAttestation.validateXChainAddAccountCreateAttestation=void 0;const common_1$6=common$1;function validateXChainAddAccountCreateAttestation(e){(0,common_1$6.validateBaseTransaction)(e),(0,common_1$6.validateRequiredField)(e,"Amount",common_1$6.isAmount),(0,common_1$6.validateRequiredField)(e,"AttestationRewardAccount",common_1$6.isAccount),(0,common_1$6.validateRequiredField)(e,"AttestationSignerAccount",common_1$6.isAccount),(0,common_1$6.validateRequiredField)(e,"Destination",common_1$6.isAccount),(0,common_1$6.validateRequiredField)(e,"OtherChainSource",common_1$6.isAccount),(0,common_1$6.validateRequiredField)(e,"PublicKey",common_1$6.isString),(0,common_1$6.validateRequiredField)(e,"Signature",common_1$6.isString),(0,common_1$6.validateRequiredField)(e,"SignatureReward",common_1$6.isAmount),(0,common_1$6.validateRequiredField)(e,"WasLockingChainSend",t=>t===0||t===1),(0,common_1$6.validateRequiredField)(e,"XChainAccountCreateCount",t=>(0,common_1$6.isNumber)(t)||(0,common_1$6.isString)(t)),(0,common_1$6.validateRequiredField)(e,"XChainBridge",common_1$6.isXChainBridge)}XChainAddAccountCreateAttestation.validateXChainAddAccountCreateAttestation=validateXChainAddAccountCreateAttestation;var XChainAddClaimAttestation={};Object.defineProperty(XChainAddClaimAttestation,"__esModule",{value:!0}),XChainAddClaimAttestation.validateXChainAddClaimAttestation=void 0;const common_1$5=common$1;function validateXChainAddClaimAttestation(e){(0,common_1$5.validateBaseTransaction)(e),(0,common_1$5.validateRequiredField)(e,"Amount",common_1$5.isAmount),(0,common_1$5.validateRequiredField)(e,"AttestationRewardAccount",common_1$5.isAccount),(0,common_1$5.validateRequiredField)(e,"AttestationSignerAccount",common_1$5.isAccount),(0,common_1$5.validateOptionalField)(e,"Destination",common_1$5.isAccount),(0,common_1$5.validateRequiredField)(e,"OtherChainSource",common_1$5.isAccount),(0,common_1$5.validateRequiredField)(e,"PublicKey",common_1$5.isString),(0,common_1$5.validateRequiredField)(e,"Signature",common_1$5.isString),(0,common_1$5.validateRequiredField)(e,"WasLockingChainSend",t=>t===0||t===1),(0,common_1$5.validateRequiredField)(e,"XChainBridge",common_1$5.isXChainBridge),(0,common_1$5.validateRequiredField)(e,"XChainClaimID",t=>(0,common_1$5.isNumber)(t)||(0,common_1$5.isString)(t))}XChainAddClaimAttestation.validateXChainAddClaimAttestation=validateXChainAddClaimAttestation;var XChainClaim={};Object.defineProperty(XChainClaim,"__esModule",{value:!0}),XChainClaim.validateXChainClaim=void 0;const common_1$4=common$1;function validateXChainClaim(e){(0,common_1$4.validateBaseTransaction)(e),(0,common_1$4.validateRequiredField)(e,"XChainBridge",common_1$4.isXChainBridge),(0,common_1$4.validateRequiredField)(e,"XChainClaimID",t=>(0,common_1$4.isNumber)(t)||(0,common_1$4.isString)(t)),(0,common_1$4.validateRequiredField)(e,"Destination",common_1$4.isAccount),(0,common_1$4.validateOptionalField)(e,"DestinationTag",common_1$4.isNumber),(0,common_1$4.validateRequiredField)(e,"Amount",common_1$4.isAmount)}XChainClaim.validateXChainClaim=validateXChainClaim;var XChainCommit={};Object.defineProperty(XChainCommit,"__esModule",{value:!0}),XChainCommit.validateXChainCommit=void 0;const common_1$3=common$1;function validateXChainCommit(e){(0,common_1$3.validateBaseTransaction)(e),(0,common_1$3.validateRequiredField)(e,"XChainBridge",common_1$3.isXChainBridge),(0,common_1$3.validateRequiredField)(e,"XChainClaimID",t=>(0,common_1$3.isNumber)(t)||(0,common_1$3.isString)(t)),(0,common_1$3.validateOptionalField)(e,"OtherChainDestination",common_1$3.isAccount),(0,common_1$3.validateRequiredField)(e,"Amount",common_1$3.isAmount)}XChainCommit.validateXChainCommit=validateXChainCommit;var XChainCreateBridge={};Object.defineProperty(XChainCreateBridge,"__esModule",{value:!0}),XChainCreateBridge.validateXChainCreateBridge=void 0;const common_1$2=common$1;function validateXChainCreateBridge(e){(0,common_1$2.validateBaseTransaction)(e),(0,common_1$2.validateRequiredField)(e,"XChainBridge",common_1$2.isXChainBridge),(0,common_1$2.validateRequiredField)(e,"SignatureReward",common_1$2.isAmount),(0,common_1$2.validateOptionalField)(e,"MinAccountCreateAmount",common_1$2.isAmount)}XChainCreateBridge.validateXChainCreateBridge=validateXChainCreateBridge;var XChainCreateClaimID={};Object.defineProperty(XChainCreateClaimID,"__esModule",{value:!0}),XChainCreateClaimID.validateXChainCreateClaimID=void 0;const common_1$1=common$1;function validateXChainCreateClaimID(e){(0,common_1$1.validateBaseTransaction)(e),(0,common_1$1.validateRequiredField)(e,"XChainBridge",common_1$1.isXChainBridge),(0,common_1$1.validateRequiredField)(e,"SignatureReward",common_1$1.isAmount),(0,common_1$1.validateRequiredField)(e,"OtherChainSource",common_1$1.isAccount)}XChainCreateClaimID.validateXChainCreateClaimID=validateXChainCreateClaimID,Object.defineProperty(transaction$1,"__esModule",{value:!0}),transaction$1.validate=void 0;const errors_1$5=errors$1,utils_1$9=utils$8,flags_1$1=flags,accountDelete_1=accountDelete,accountSet_1=accountSet,AMMBid_1=AMMBid,AMMCreate_1=AMMCreate,AMMDelete_1=AMMDelete,AMMDeposit_1=AMMDeposit,AMMVote_1=AMMVote,AMMWithdraw_1=AMMWithdraw,checkCancel_1=checkCancel,checkCash_1=checkCash,checkCreate_1=checkCreate,clawback_1=clawback,common_1=common$1,depositPreauth_1=depositPreauth,DIDDelete_1=DIDDelete,DIDSet_1=DIDSet,escrowCancel_1=escrowCancel,escrowCreate_1=escrowCreate,escrowFinish_1=escrowFinish,NFTokenAcceptOffer_1=NFTokenAcceptOffer,NFTokenBurn_1=NFTokenBurn,NFTokenCancelOffer_1=NFTokenCancelOffer,NFTokenCreateOffer_1=NFTokenCreateOffer,NFTokenMint_1=NFTokenMint,offerCancel_1=offerCancel,offerCreate_1=offerCreate,oracleDelete_1=oracleDelete,oracleSet_1=oracleSet,payment_1=payment,paymentChannelClaim_1=paymentChannelClaim,paymentChannelCreate_1=paymentChannelCreate,paymentChannelFund_1=paymentChannelFund,setRegularKey_1=setRegularKey,signerListSet_1=signerListSet,ticketCreate_1=ticketCreate,trustSet_1=trustSet,XChainAccountCreateCommit_1=XChainAccountCreateCommit,XChainAddAccountCreateAttestation_1=XChainAddAccountCreateAttestation,XChainAddClaimAttestation_1=XChainAddClaimAttestation,XChainClaim_1=XChainClaim,XChainCommit_1=XChainCommit,XChainCreateBridge_1=XChainCreateBridge,XChainCreateClaimID_1=XChainCreateClaimID,XChainModifyBridge_1=XChainModifyBridge;function validate(e){const t=Object.assign({},e);if(t.TransactionType==null)throw new errors_1$5.ValidationError("Object does not have a `TransactionType`");if(typeof t.TransactionType!="string")throw new errors_1$5.ValidationError("Object's `TransactionType` is not a string");if(t.Memos!=null&&typeof t.Memos!="object")throw new errors_1$5.ValidationError("Memo must be array");switch(t.Memos!=null&&t.Memos.forEach(r=>{if((r==null?void 0:r.Memo)==null)throw new errors_1$5.ValidationError("Memo data must be in a `Memo` field");if(r.Memo.MemoData&&!(0,utils_1$9.isHex)(r.Memo.MemoData))throw new errors_1$5.ValidationError("MemoData field must be a hex value");if(r.Memo.MemoType&&!(0,utils_1$9.isHex)(r.Memo.MemoType))throw new errors_1$5.ValidationError("MemoType field must be a hex value");if(r.Memo.MemoFormat&&!(0,utils_1$9.isHex)(r.Memo.MemoFormat))throw new errors_1$5.ValidationError("MemoFormat field must be a hex value")}),Object.keys(t).forEach(r=>{if(t[r]&&(0,common_1.isIssuedCurrency)(t[r])){const n=t[r].currency;if(n.length===3&&n.toUpperCase()==="XRP")throw new errors_1$5.ValidationError(`Cannot have an issued currency with a similar standard code to XRP (received '${n}'). XRP is not an issued currency.`)}}),(0,flags_1$1.setTransactionFlagsToNumber)(t),t.TransactionType){case"AMMBid":(0,AMMBid_1.validateAMMBid)(t);break;case"AMMCreate":(0,AMMCreate_1.validateAMMCreate)(t);break;case"AMMDelete":(0,AMMDelete_1.validateAMMDelete)(t);break;case"AMMDeposit":(0,AMMDeposit_1.validateAMMDeposit)(t);break;case"AMMVote":(0,AMMVote_1.validateAMMVote)(t);break;case"AMMWithdraw":(0,AMMWithdraw_1.validateAMMWithdraw)(t);break;case"AccountDelete":(0,accountDelete_1.validateAccountDelete)(t);break;case"AccountSet":(0,accountSet_1.validateAccountSet)(t);break;case"CheckCancel":(0,checkCancel_1.validateCheckCancel)(t);break;case"CheckCash":(0,checkCash_1.validateCheckCash)(t);break;case"CheckCreate":(0,checkCreate_1.validateCheckCreate)(t);break;case"Clawback":(0,clawback_1.validateClawback)(t);break;case"DIDDelete":(0,DIDDelete_1.validateDIDDelete)(t);break;case"DIDSet":(0,DIDSet_1.validateDIDSet)(t);break;case"DepositPreauth":(0,depositPreauth_1.validateDepositPreauth)(t);break;case"EscrowCancel":(0,escrowCancel_1.validateEscrowCancel)(t);break;case"EscrowCreate":(0,escrowCreate_1.validateEscrowCreate)(t);break;case"EscrowFinish":(0,escrowFinish_1.validateEscrowFinish)(t);break;case"NFTokenAcceptOffer":(0,NFTokenAcceptOffer_1.validateNFTokenAcceptOffer)(t);break;case"NFTokenBurn":(0,NFTokenBurn_1.validateNFTokenBurn)(t);break;case"NFTokenCancelOffer":(0,NFTokenCancelOffer_1.validateNFTokenCancelOffer)(t);break;case"NFTokenCreateOffer":(0,NFTokenCreateOffer_1.validateNFTokenCreateOffer)(t);break;case"NFTokenMint":(0,NFTokenMint_1.validateNFTokenMint)(t);break;case"OfferCancel":(0,offerCancel_1.validateOfferCancel)(t);break;case"OfferCreate":(0,offerCreate_1.validateOfferCreate)(t);break;case"OracleDelete":(0,oracleDelete_1.validateOracleDelete)(t);break;case"OracleSet":(0,oracleSet_1.validateOracleSet)(t);break;case"Payment":(0,payment_1.validatePayment)(t);break;case"PaymentChannelClaim":(0,paymentChannelClaim_1.validatePaymentChannelClaim)(t);break;case"PaymentChannelCreate":(0,paymentChannelCreate_1.validatePaymentChannelCreate)(t);break;case"PaymentChannelFund":(0,paymentChannelFund_1.validatePaymentChannelFund)(t);break;case"SetRegularKey":(0,setRegularKey_1.validateSetRegularKey)(t);break;case"SignerListSet":(0,signerListSet_1.validateSignerListSet)(t);break;case"TicketCreate":(0,ticketCreate_1.validateTicketCreate)(t);break;case"TrustSet":(0,trustSet_1.validateTrustSet)(t);break;case"XChainAccountCreateCommit":(0,XChainAccountCreateCommit_1.validateXChainAccountCreateCommit)(t);break;case"XChainAddAccountCreateAttestation":(0,XChainAddAccountCreateAttestation_1.validateXChainAddAccountCreateAttestation)(t);break;case"XChainAddClaimAttestation":(0,XChainAddClaimAttestation_1.validateXChainAddClaimAttestation)(t);break;case"XChainClaim":(0,XChainClaim_1.validateXChainClaim)(t);break;case"XChainCommit":(0,XChainCommit_1.validateXChainCommit)(t);break;case"XChainCreateBridge":(0,XChainCreateBridge_1.validateXChainCreateBridge)(t);break;case"XChainCreateClaimID":(0,XChainCreateClaimID_1.validateXChainCreateClaimID)(t);break;case"XChainModifyBridge":(0,XChainModifyBridge_1.validateXChainModifyBridge)(t);break;default:throw new errors_1$5.ValidationError(`Invalid field TransactionType: ${t.TransactionType}`)}}transaction$1.validate=validate;var enableAmendment={};Object.defineProperty(enableAmendment,"__esModule",{value:!0}),enableAmendment.EnableAmendmentFlags=void 0;var EnableAmendmentFlags;(function(e){e[e.tfGotMajority=65536]="tfGotMajority",e[e.tfLostMajority=131072]="tfLostMajority"})(EnableAmendmentFlags||(enableAmendment.EnableAmendmentFlags=EnableAmendmentFlags={})),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(P,B,k,N){N===void 0&&(N=k);var D=Object.getOwnPropertyDescriptor(B,k);(!D||("get"in D?!B.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return B[k]}}),Object.defineProperty(P,N,D)}:function(P,B,k,N){N===void 0&&(N=k),P[N]=B[k]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(P,B){for(var k in P)k!=="default"&&!Object.prototype.hasOwnProperty.call(B,k)&&t(B,P,k)};Object.defineProperty(e,"__esModule",{value:!0}),e.XChainModifyBridgeFlags=e.TrustSetFlags=e.PaymentChannelClaimFlags=e.PaymentFlags=e.OfferCreateFlags=e.NFTokenMintFlags=e.NFTokenCreateOfferFlags=e.EnableAmendmentFlags=e.AMMWithdrawFlags=e.AMMDepositFlags=e.AccountSetTfFlags=e.AccountSetAsfFlags=e.validate=void 0;var n=transaction$1;Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return n.validate}}),r(metadata,e);var a=accountSet;Object.defineProperty(e,"AccountSetAsfFlags",{enumerable:!0,get:function(){return a.AccountSetAsfFlags}}),Object.defineProperty(e,"AccountSetTfFlags",{enumerable:!0,get:function(){return a.AccountSetTfFlags}});var o=AMMDeposit;Object.defineProperty(e,"AMMDepositFlags",{enumerable:!0,get:function(){return o.AMMDepositFlags}});var u=AMMWithdraw;Object.defineProperty(e,"AMMWithdrawFlags",{enumerable:!0,get:function(){return u.AMMWithdrawFlags}});var p=enableAmendment;Object.defineProperty(e,"EnableAmendmentFlags",{enumerable:!0,get:function(){return p.EnableAmendmentFlags}});var b=NFTokenCreateOffer;Object.defineProperty(e,"NFTokenCreateOfferFlags",{enumerable:!0,get:function(){return b.NFTokenCreateOfferFlags}});var m=NFTokenMint;Object.defineProperty(e,"NFTokenMintFlags",{enumerable:!0,get:function(){return m.NFTokenMintFlags}});var y=offerCreate;Object.defineProperty(e,"OfferCreateFlags",{enumerable:!0,get:function(){return y.OfferCreateFlags}});var A=payment;Object.defineProperty(e,"PaymentFlags",{enumerable:!0,get:function(){return A.PaymentFlags}});var I=paymentChannelClaim;Object.defineProperty(e,"PaymentChannelClaimFlags",{enumerable:!0,get:function(){return I.PaymentChannelClaimFlags}});var M=trustSet;Object.defineProperty(e,"TrustSetFlags",{enumerable:!0,get:function(){return M.TrustSetFlags}});var C=XChainModifyBridge;Object.defineProperty(e,"XChainModifyBridgeFlags",{enumerable:!0,get:function(){return C.XChainModifyBridgeFlags}})}(transactions);var rfc1751={};const require$$1=["A","ABE","ACE","ACT","AD","ADA","ADD","AGO","AID","AIM","AIR","ALL","ALP","AM","AMY","AN","ANA","AND","ANN","ANT","ANY","APE","APS","APT","ARC","ARE","ARK","ARM","ART","AS","ASH","ASK","AT","ATE","AUG","AUK","AVE","AWE","AWK","AWL","AWN","AX","AYE","BAD","BAG","BAH","BAM","BAN","BAR","BAT","BAY","BE","BED","BEE","BEG","BEN","BET","BEY","BIB","BID","BIG","BIN","BIT","BOB","BOG","BON","BOO","BOP","BOW","BOY","BUB","BUD","BUG","BUM","BUN","BUS","BUT","BUY","BY","BYE","CAB","CAL","CAM","CAN","CAP","CAR","CAT","CAW","COD","COG","COL","CON","COO","COP","COT","COW","COY","CRY","CUB","CUE","CUP","CUR","CUT","DAB","DAD","DAM","DAN","DAR","DAY","DEE","DEL","DEN","DES","DEW","DID","DIE","DIG","DIN","DIP","DO","DOE","DOG","DON","DOT","DOW","DRY","DUB","DUD","DUE","DUG","DUN","EAR","EAT","ED","EEL","EGG","EGO","ELI","ELK","ELM","ELY","EM","END","EST","ETC","EVA","EVE","EWE","EYE","FAD","FAN","FAR","FAT","FAY","FED","FEE","FEW","FIB","FIG","FIN","FIR","FIT","FLO","FLY","FOE","FOG","FOR","FRY","FUM","FUN","FUR","GAB","GAD","GAG","GAL","GAM","GAP","GAS","GAY","GEE","GEL","GEM","GET","GIG","GIL","GIN","GO","GOT","GUM","GUN","GUS","GUT","GUY","GYM","GYP","HA","HAD","HAL","HAM","HAN","HAP","HAS","HAT","HAW","HAY","HE","HEM","HEN","HER","HEW","HEY","HI","HID","HIM","HIP","HIS","HIT","HO","HOB","HOC","HOE","HOG","HOP","HOT","HOW","HUB","HUE","HUG","HUH","HUM","HUT","I","ICY","IDA","IF","IKE","ILL","INK","INN","IO","ION","IQ","IRA","IRE","IRK","IS","IT","ITS","IVY","JAB","JAG","JAM","JAN","JAR","JAW","JAY","JET","JIG","JIM","JO","JOB","JOE","JOG","JOT","JOY","JUG","JUT","KAY","KEG","KEN","KEY","KID","KIM","KIN","KIT","LA","LAB","LAC","LAD","LAG","LAM","LAP","LAW","LAY","LEA","LED","LEE","LEG","LEN","LEO","LET","LEW","LID","LIE","LIN","LIP","LIT","LO","LOB","LOG","LOP","LOS","LOT","LOU","LOW","LOY","LUG","LYE","MA","MAC","MAD","MAE","MAN","MAO","MAP","MAT","MAW","MAY","ME","MEG","MEL","MEN","MET","MEW","MID","MIN","MIT","MOB","MOD","MOE","MOO","MOP","MOS","MOT","MOW","MUD","MUG","MUM","MY","NAB","NAG","NAN","NAP","NAT","NAY","NE","NED","NEE","NET","NEW","NIB","NIL","NIP","NIT","NO","NOB","NOD","NON","NOR","NOT","NOV","NOW","NU","NUN","NUT","O","OAF","OAK","OAR","OAT","ODD","ODE","OF","OFF","OFT","OH","OIL","OK","OLD","ON","ONE","OR","ORB","ORE","ORR","OS","OTT","OUR","OUT","OVA","OW","OWE","OWL","OWN","OX","PA","PAD","PAL","PAM","PAN","PAP","PAR","PAT","PAW","PAY","PEA","PEG","PEN","PEP","PER","PET","PEW","PHI","PI","PIE","PIN","PIT","PLY","PO","POD","POE","POP","POT","POW","PRO","PRY","PUB","PUG","PUN","PUP","PUT","QUO","RAG","RAM","RAN","RAP","RAT","RAW","RAY","REB","RED","REP","RET","RIB","RID","RIG","RIM","RIO","RIP","ROB","ROD","ROE","RON","ROT","ROW","ROY","RUB","RUE","RUG","RUM","RUN","RYE","SAC","SAD","SAG","SAL","SAM","SAN","SAP","SAT","SAW","SAY","SEA","SEC","SEE","SEN","SET","SEW","SHE","SHY","SIN","SIP","SIR","SIS","SIT","SKI","SKY","SLY","SO","SOB","SOD","SON","SOP","SOW","SOY","SPA","SPY","SUB","SUD","SUE","SUM","SUN","SUP","TAB","TAD","TAG","TAN","TAP","TAR","TEA","TED","TEE","TEN","THE","THY","TIC","TIE","TIM","TIN","TIP","TO","TOE","TOG","TOM","TON","TOO","TOP","TOW","TOY","TRY","TUB","TUG","TUM","TUN","TWO","UN","UP","US","USE","VAN","VAT","VET","VIE","WAD","WAG","WAR","WAS","WAY","WE","WEB","WED","WEE","WET","WHO","WHY","WIN","WIT","WOK","WON","WOO","WOW","WRY","WU","YAM","YAP","YAW","YE","YEA","YES","YET","YOU","ABED","ABEL","ABET","ABLE","ABUT","ACHE","ACID","ACME","ACRE","ACTA","ACTS","ADAM","ADDS","ADEN","AFAR","AFRO","AGEE","AHEM","AHOY","AIDA","AIDE","AIDS","AIRY","AJAR","AKIN","ALAN","ALEC","ALGA","ALIA","ALLY","ALMA","ALOE","ALSO","ALTO","ALUM","ALVA","AMEN","AMES","AMID","AMMO","AMOK","AMOS","AMRA","ANDY","ANEW","ANNA","ANNE","ANTE","ANTI","AQUA","ARAB","ARCH","AREA","ARGO","ARID","ARMY","ARTS","ARTY","ASIA","ASKS","ATOM","AUNT","AURA","AUTO","AVER","AVID","AVIS","AVON","AVOW","AWAY","AWRY","BABE","BABY","BACH","BACK","BADE","BAIL","BAIT","BAKE","BALD","BALE","BALI","BALK","BALL","BALM","BAND","BANE","BANG","BANK","BARB","BARD","BARE","BARK","BARN","BARR","BASE","BASH","BASK","BASS","BATE","BATH","BAWD","BAWL","BEAD","BEAK","BEAM","BEAN","BEAR","BEAT","BEAU","BECK","BEEF","BEEN","BEER","BEET","BELA","BELL","BELT","BEND","BENT","BERG","BERN","BERT","BESS","BEST","BETA","BETH","BHOY","BIAS","BIDE","BIEN","BILE","BILK","BILL","BIND","BING","BIRD","BITE","BITS","BLAB","BLAT","BLED","BLEW","BLOB","BLOC","BLOT","BLOW","BLUE","BLUM","BLUR","BOAR","BOAT","BOCA","BOCK","BODE","BODY","BOGY","BOHR","BOIL","BOLD","BOLO","BOLT","BOMB","BONA","BOND","BONE","BONG","BONN","BONY","BOOK","BOOM","BOON","BOOT","BORE","BORG","BORN","BOSE","BOSS","BOTH","BOUT","BOWL","BOYD","BRAD","BRAE","BRAG","BRAN","BRAY","BRED","BREW","BRIG","BRIM","BROW","BUCK","BUDD","BUFF","BULB","BULK","BULL","BUNK","BUNT","BUOY","BURG","BURL","BURN","BURR","BURT","BURY","BUSH","BUSS","BUST","BUSY","BYTE","CADY","CAFE","CAGE","CAIN","CAKE","CALF","CALL","CALM","CAME","CANE","CANT","CARD","CARE","CARL","CARR","CART","CASE","CASH","CASK","CAST","CAVE","CEIL","CELL","CENT","CERN","CHAD","CHAR","CHAT","CHAW","CHEF","CHEN","CHEW","CHIC","CHIN","CHOU","CHOW","CHUB","CHUG","CHUM","CITE","CITY","CLAD","CLAM","CLAN","CLAW","CLAY","CLOD","CLOG","CLOT","CLUB","CLUE","COAL","COAT","COCA","COCK","COCO","CODA","CODE","CODY","COED","COIL","COIN","COKE","COLA","COLD","COLT","COMA","COMB","COME","COOK","COOL","COON","COOT","CORD","CORE","CORK","CORN","COST","COVE","COWL","CRAB","CRAG","CRAM","CRAY","CREW","CRIB","CROW","CRUD","CUBA","CUBE","CUFF","CULL","CULT","CUNY","CURB","CURD","CURE","CURL","CURT","CUTS","DADE","DALE","DAME","DANA","DANE","DANG","DANK","DARE","DARK","DARN","DART","DASH","DATA","DATE","DAVE","DAVY","DAWN","DAYS","DEAD","DEAF","DEAL","DEAN","DEAR","DEBT","DECK","DEED","DEEM","DEER","DEFT","DEFY","DELL","DENT","DENY","DESK","DIAL","DICE","DIED","DIET","DIME","DINE","DING","DINT","DIRE","DIRT","DISC","DISH","DISK","DIVE","DOCK","DOES","DOLE","DOLL","DOLT","DOME","DONE","DOOM","DOOR","DORA","DOSE","DOTE","DOUG","DOUR","DOVE","DOWN","DRAB","DRAG","DRAM","DRAW","DREW","DRUB","DRUG","DRUM","DUAL","DUCK","DUCT","DUEL","DUET","DUKE","DULL","DUMB","DUNE","DUNK","DUSK","DUST","DUTY","EACH","EARL","EARN","EASE","EAST","EASY","EBEN","ECHO","EDDY","EDEN","EDGE","EDGY","EDIT","EDNA","EGAN","ELAN","ELBA","ELLA","ELSE","EMIL","EMIT","EMMA","ENDS","ERIC","EROS","EVEN","EVER","EVIL","EYED","FACE","FACT","FADE","FAIL","FAIN","FAIR","FAKE","FALL","FAME","FANG","FARM","FAST","FATE","FAWN","FEAR","FEAT","FEED","FEEL","FEET","FELL","FELT","FEND","FERN","FEST","FEUD","FIEF","FIGS","FILE","FILL","FILM","FIND","FINE","FINK","FIRE","FIRM","FISH","FISK","FIST","FITS","FIVE","FLAG","FLAK","FLAM","FLAT","FLAW","FLEA","FLED","FLEW","FLIT","FLOC","FLOG","FLOW","FLUB","FLUE","FOAL","FOAM","FOGY","FOIL","FOLD","FOLK","FOND","FONT","FOOD","FOOL","FOOT","FORD","FORE","FORK","FORM","FORT","FOSS","FOUL","FOUR","FOWL","FRAU","FRAY","FRED","FREE","FRET","FREY","FROG","FROM","FUEL","FULL","FUME","FUND","FUNK","FURY","FUSE","FUSS","GAFF","GAGE","GAIL","GAIN","GAIT","GALA","GALE","GALL","GALT","GAME","GANG","GARB","GARY","GASH","GATE","GAUL","GAUR","GAVE","GAWK","GEAR","GELD","GENE","GENT","GERM","GETS","GIBE","GIFT","GILD","GILL","GILT","GINA","GIRD","GIRL","GIST","GIVE","GLAD","GLEE","GLEN","GLIB","GLOB","GLOM","GLOW","GLUE","GLUM","GLUT","GOAD","GOAL","GOAT","GOER","GOES","GOLD","GOLF","GONE","GONG","GOOD","GOOF","GORE","GORY","GOSH","GOUT","GOWN","GRAB","GRAD","GRAY","GREG","GREW","GREY","GRID","GRIM","GRIN","GRIT","GROW","GRUB","GULF","GULL","GUNK","GURU","GUSH","GUST","GWEN","GWYN","HAAG","HAAS","HACK","HAIL","HAIR","HALE","HALF","HALL","HALO","HALT","HAND","HANG","HANK","HANS","HARD","HARK","HARM","HART","HASH","HAST","HATE","HATH","HAUL","HAVE","HAWK","HAYS","HEAD","HEAL","HEAR","HEAT","HEBE","HECK","HEED","HEEL","HEFT","HELD","HELL","HELM","HERB","HERD","HERE","HERO","HERS","HESS","HEWN","HICK","HIDE","HIGH","HIKE","HILL","HILT","HIND","HINT","HIRE","HISS","HIVE","HOBO","HOCK","HOFF","HOLD","HOLE","HOLM","HOLT","HOME","HONE","HONK","HOOD","HOOF","HOOK","HOOT","HORN","HOSE","HOST","HOUR","HOVE","HOWE","HOWL","HOYT","HUCK","HUED","HUFF","HUGE","HUGH","HUGO","HULK","HULL","HUNK","HUNT","HURD","HURL","HURT","HUSH","HYDE","HYMN","IBIS","ICON","IDEA","IDLE","IFFY","INCA","INCH","INTO","IONS","IOTA","IOWA","IRIS","IRMA","IRON","ISLE","ITCH","ITEM","IVAN","JACK","JADE","JAIL","JAKE","JANE","JAVA","JEAN","JEFF","JERK","JESS","JEST","JIBE","JILL","JILT","JIVE","JOAN","JOBS","JOCK","JOEL","JOEY","JOHN","JOIN","JOKE","JOLT","JOVE","JUDD","JUDE","JUDO","JUDY","JUJU","JUKE","JULY","JUNE","JUNK","JUNO","JURY","JUST","JUTE","KAHN","KALE","KANE","KANT","KARL","KATE","KEEL","KEEN","KENO","KENT","KERN","KERR","KEYS","KICK","KILL","KIND","KING","KIRK","KISS","KITE","KLAN","KNEE","KNEW","KNIT","KNOB","KNOT","KNOW","KOCH","KONG","KUDO","KURD","KURT","KYLE","LACE","LACK","LACY","LADY","LAID","LAIN","LAIR","LAKE","LAMB","LAME","LAND","LANE","LANG","LARD","LARK","LASS","LAST","LATE","LAUD","LAVA","LAWN","LAWS","LAYS","LEAD","LEAF","LEAK","LEAN","LEAR","LEEK","LEER","LEFT","LEND","LENS","LENT","LEON","LESK","LESS","LEST","LETS","LIAR","LICE","LICK","LIED","LIEN","LIES","LIEU","LIFE","LIFT","LIKE","LILA","LILT","LILY","LIMA","LIMB","LIME","LIND","LINE","LINK","LINT","LION","LISA","LIST","LIVE","LOAD","LOAF","LOAM","LOAN","LOCK","LOFT","LOGE","LOIS","LOLA","LONE","LONG","LOOK","LOON","LOOT","LORD","LORE","LOSE","LOSS","LOST","LOUD","LOVE","LOWE","LUCK","LUCY","LUGE","LUKE","LULU","LUND","LUNG","LURA","LURE","LURK","LUSH","LUST","LYLE","LYNN","LYON","LYRA","MACE","MADE","MAGI","MAID","MAIL","MAIN","MAKE","MALE","MALI","MALL","MALT","MANA","MANN","MANY","MARC","MARE","MARK","MARS","MART","MARY","MASH","MASK","MASS","MAST","MATE","MATH","MAUL","MAYO","MEAD","MEAL","MEAN","MEAT","MEEK","MEET","MELD","MELT","MEMO","MEND","MENU","MERT","MESH","MESS","MICE","MIKE","MILD","MILE","MILK","MILL","MILT","MIMI","MIND","MINE","MINI","MINK","MINT","MIRE","MISS","MIST","MITE","MITT","MOAN","MOAT","MOCK","MODE","MOLD","MOLE","MOLL","MOLT","MONA","MONK","MONT","MOOD","MOON","MOOR","MOOT","MORE","MORN","MORT","MOSS","MOST","MOTH","MOVE","MUCH","MUCK","MUDD","MUFF","MULE","MULL","MURK","MUSH","MUST","MUTE","MUTT","MYRA","MYTH","NAGY","NAIL","NAIR","NAME","NARY","NASH","NAVE","NAVY","NEAL","NEAR","NEAT","NECK","NEED","NEIL","NELL","NEON","NERO","NESS","NEST","NEWS","NEWT","NIBS","NICE","NICK","NILE","NINA","NINE","NOAH","NODE","NOEL","NOLL","NONE","NOOK","NOON","NORM","NOSE","NOTE","NOUN","NOVA","NUDE","NULL","NUMB","OATH","OBEY","OBOE","ODIN","OHIO","OILY","OINT","OKAY","OLAF","OLDY","OLGA","OLIN","OMAN","OMEN","OMIT","ONCE","ONES","ONLY","ONTO","ONUS","ORAL","ORGY","OSLO","OTIS","OTTO","OUCH","OUST","OUTS","OVAL","OVEN","OVER","OWLY","OWNS","QUAD","QUIT","QUOD","RACE","RACK","RACY","RAFT","RAGE","RAID","RAIL","RAIN","RAKE","RANK","RANT","RARE","RASH","RATE","RAVE","RAYS","READ","REAL","REAM","REAR","RECK","REED","REEF","REEK","REEL","REID","REIN","RENA","REND","RENT","REST","RICE","RICH","RICK","RIDE","RIFT","RILL","RIME","RING","RINK","RISE","RISK","RITE","ROAD","ROAM","ROAR","ROBE","ROCK","RODE","ROIL","ROLL","ROME","ROOD","ROOF","ROOK","ROOM","ROOT","ROSA","ROSE","ROSS","ROSY","ROTH","ROUT","ROVE","ROWE","ROWS","RUBE","RUBY","RUDE","RUDY","RUIN","RULE","RUNG","RUNS","RUNT","RUSE","RUSH","RUSK","RUSS","RUST","RUTH","SACK","SAFE","SAGE","SAID","SAIL","SALE","SALK","SALT","SAME","SAND","SANE","SANG","SANK","SARA","SAUL","SAVE","SAYS","SCAN","SCAR","SCAT","SCOT","SEAL","SEAM","SEAR","SEAT","SEED","SEEK","SEEM","SEEN","SEES","SELF","SELL","SEND","SENT","SETS","SEWN","SHAG","SHAM","SHAW","SHAY","SHED","SHIM","SHIN","SHOD","SHOE","SHOT","SHOW","SHUN","SHUT","SICK","SIDE","SIFT","SIGH","SIGN","SILK","SILL","SILO","SILT","SINE","SING","SINK","SIRE","SITE","SITS","SITU","SKAT","SKEW","SKID","SKIM","SKIN","SKIT","SLAB","SLAM","SLAT","SLAY","SLED","SLEW","SLID","SLIM","SLIT","SLOB","SLOG","SLOT","SLOW","SLUG","SLUM","SLUR","SMOG","SMUG","SNAG","SNOB","SNOW","SNUB","SNUG","SOAK","SOAR","SOCK","SODA","SOFA","SOFT","SOIL","SOLD","SOME","SONG","SOON","SOOT","SORE","SORT","SOUL","SOUR","SOWN","STAB","STAG","STAN","STAR","STAY","STEM","STEW","STIR","STOW","STUB","STUN","SUCH","SUDS","SUIT","SULK","SUMS","SUNG","SUNK","SURE","SURF","SWAB","SWAG","SWAM","SWAN","SWAT","SWAY","SWIM","SWUM","TACK","TACT","TAIL","TAKE","TALE","TALK","TALL","TANK","TASK","TATE","TAUT","TEAL","TEAM","TEAR","TECH","TEEM","TEEN","TEET","TELL","TEND","TENT","TERM","TERN","TESS","TEST","THAN","THAT","THEE","THEM","THEN","THEY","THIN","THIS","THUD","THUG","TICK","TIDE","TIDY","TIED","TIER","TILE","TILL","TILT","TIME","TINA","TINE","TINT","TINY","TIRE","TOAD","TOGO","TOIL","TOLD","TOLL","TONE","TONG","TONY","TOOK","TOOL","TOOT","TORE","TORN","TOTE","TOUR","TOUT","TOWN","TRAG","TRAM","TRAY","TREE","TREK","TRIG","TRIM","TRIO","TROD","TROT","TROY","TRUE","TUBA","TUBE","TUCK","TUFT","TUNA","TUNE","TUNG","TURF","TURN","TUSK","TWIG","TWIN","TWIT","ULAN","UNIT","URGE","USED","USER","USES","UTAH","VAIL","VAIN","VALE","VARY","VASE","VAST","VEAL","VEDA","VEIL","VEIN","VEND","VENT","VERB","VERY","VETO","VICE","VIEW","VINE","VISE","VOID","VOLT","VOTE","WACK","WADE","WAGE","WAIL","WAIT","WAKE","WALE","WALK","WALL","WALT","WAND","WANE","WANG","WANT","WARD","WARM","WARN","WART","WASH","WAST","WATS","WATT","WAVE","WAVY","WAYS","WEAK","WEAL","WEAN","WEAR","WEED","WEEK","WEIR","WELD","WELL","WELT","WENT","WERE","WERT","WEST","WHAM","WHAT","WHEE","WHEN","WHET","WHOA","WHOM","WICK","WIFE","WILD","WILL","WIND","WINE","WING","WINK","WINO","WIRE","WISE","WISH","WITH","WOLF","WONT","WOOD","WOOL","WORD","WORE","WORK","WORM","WORN","WOVE","WRIT","WYNN","YALE","YANG","YANK","YARD","YARN","YAWL","YAWN","YEAH","YEAR","YELL","YOGA","YOKE"];var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rfc1751,"__esModule",{value:!0}),rfc1751.keyToRFC1751Mnemonic=rfc1751.rfc1751MnemonicToKey=void 0;const utils_1$8=browser$4,rfc1751Words_json_1=__importDefault$4(require$$1),rfc1751WordList=rfc1751Words_json_1.default,BINARY=["0000","0001","0010","0011","0100","0101","0110","0111","1000","1001","1010","1011","1100","1101","1110","1111"];function keyToBinary(e){let t="";for(const r of e)t+=BINARY[r>>4]+BINARY[r&15];return t}function extract(e,t,r){const n=e.substring(t,t+r);let a=0;for(let o=0;o<n.length;o++)a=a*2+n.charCodeAt(o)-48;return a}function keyToRFC1751Mnemonic(e){const t=(0,utils_1$8.hexToBytes)(e.replace(/\s+/gu,""));let r=bufferToArray(swap128(t));const n=[];for(let o=0;o<(8-r.length%8)%8;o++)n.push(0);r=n.concat(r);const a=[];for(let o=0;o<r.length;o+=8){const u=r.slice(o,o+8);let p=keyToBinary(u),b=0;for(let m=0;m<64;m+=2)b+=extract(p,m,2);u.push(b<<6&255),p=keyToBinary(u);for(let m=0;m<64;m+=11)a.push(rfc1751WordList[extract(p,m,11)])}return a.join(" ")}rfc1751.keyToRFC1751Mnemonic=keyToRFC1751Mnemonic;function rfc1751MnemonicToKey(e){const t=e.split(" ");let r=[];for(let n=0;n<t.length;n+=6){const{subKey:a,word:o}=getSubKey(t,n),u=keyToBinary(a);let p=0;for(let y=0;y<64;y+=2)p+=extract(u,y,2);const b=extract(u,64,2),m=p&3;if(b!==m)throw new Error(`Parity error at ${o}`);r=r.concat(a.slice(0,8))}return swap128(Uint8Array.from(r))}rfc1751.rfc1751MnemonicToKey=rfc1751MnemonicToKey;function getSubKey(e,t){const r=e.slice(t,t+6);let n=0;const a=[0,0,0,0,0,0,0,0,0];let o="";for(o of r){const u=rfc1751WordList.indexOf(o.toUpperCase());if(u===-1)throw new TypeError(`Expected an RFC1751 word, but received '${o}'. For the full list of words in the RFC1751 encoding see https://datatracker.ietf.org/doc/html/rfc1751`);const p=(8-(n+11)%8)%8,b=u<<p,m=b>>16,y=b>>8&255,A=b&255,I=Math.floor(n/8);p>5?(a[I]|=m,a[I+1]|=y,a[I+2]|=A):p>-3?(a[I]|=y,a[I+1]|=A):a[I]|=A,n+=11}return{subKey:a.slice(),word:o}}function bufferToArray(e){return Array.prototype.slice.call(e)}function swap(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function swap64(e){const t=e.length;for(let r=0;r<t;r+=8)swap(e,r,r+7),swap(e,r+1,r+6),swap(e,r+2,r+5),swap(e,r+3,r+4);return e}function swap128(e){const t=swap64(e);return(0,utils_1$8.concat)([t.slice(8,16),t.slice(0,8)])}var signer={};Object.defineProperty(signer,"__esModule",{value:!0}),signer.multisign=signer.verifySignature=void 0;const utils_1$7=browser$4,bignumber_js_1$2=bignumberExports,ripple_address_codec_1$2=dist$5,ripple_binary_codec_1$2=dist$4,ripple_keypairs_1$2=dist$3,errors_1$4=errors$1,transactions_1$2=transactions;function multisign(e){if(e.length===0)throw new errors_1$4.ValidationError("There were 0 transactions to multisign");const t=e.map(r=>getDecodedTransaction(r));return t.forEach(r=>{if((0,transactions_1$2.validate)(r),r.Signers==null||r.Signers.length===0)throw new errors_1$4.ValidationError("For multisigning all transactions must include a Signers field containing an array of signatures. You may have forgotten to pass the 'forMultisign' parameter when signing.");if(r.SigningPubKey!=="")throw new errors_1$4.ValidationError("SigningPubKey must be an empty string for all transactions when multisigning.")}),validateTransactionEquivalence(t),(0,ripple_binary_codec_1$2.encode)(getTransactionWithAllSigners(t))}signer.multisign=multisign;function verifySignature(e,t){const r=getDecodedTransaction(e);let n=t;if(typeof r.TxnSignature!="string"||!r.TxnSignature)throw new Error("Transaction is missing a signature, TxnSignature");if(!n){if(typeof r.SigningPubKey!="string"||!r.SigningPubKey)throw new Error("Transaction is missing a public key, SigningPubKey");n=r.SigningPubKey}return(0,ripple_keypairs_1$2.verify)((0,ripple_binary_codec_1$2.encodeForSigning)(r),r.TxnSignature,n)}signer.verifySignature=verifySignature;function validateTransactionEquivalence(e){const t=JSON.stringify(Object.assign(Object.assign({},e[0]),{Signers:null}));if(e.slice(1).some(r=>JSON.stringify(Object.assign(Object.assign({},r),{Signers:null}))!==t))throw new errors_1$4.ValidationError("txJSON is not the same for all signedTransactions")}function getTransactionWithAllSigners(e){const t=e.flatMap(r=>{var n;return(n=r.Signers)!==null&&n!==void 0?n:[]}).sort(compareSigners);return Object.assign(Object.assign({},e[0]),{Signers:t})}function compareSigners(e,t){return addressToBigNumber(e.Signer.Account).comparedTo(addressToBigNumber(t.Signer.Account))}const NUM_BITS_IN_HEX=16;function addressToBigNumber(e){const t=(0,utils_1$7.bytesToHex)((0,ripple_address_codec_1$2.decodeAccountID)(e));return new bignumber_js_1$2.BigNumber(t,NUM_BITS_IN_HEX)}function getDecodedTransaction(e){return typeof e=="object"?(0,ripple_binary_codec_1$2.decode)((0,ripple_binary_codec_1$2.encode)(e)):(0,ripple_binary_codec_1$2.decode)(e)}var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wallet$2,"__esModule",{value:!0}),Wallet$2.Wallet=void 0;const bip32_1=lib,bip39_1=bip39,english_1=english,utils_1$6=browser$4,bignumber_js_1$1=__importDefault$3(bignumberExports),ripple_address_codec_1$1=dist$5,ripple_binary_codec_1$1=dist$4,ripple_keypairs_1$1=dist$3,ECDSA_1$1=__importDefault$3(ECDSA$1),errors_1$3=errors$1,transactions_1$1=transactions,utils_2=utils$7,collections_1=collections,hashLedger_1=hashLedger$1,rfc1751_1=rfc1751,signer_1=signer,DEFAULT_ALGORITHM=ECDSA_1$1.default.ed25519,DEFAULT_DERIVATION_PATH="m/44'/144'/0'/0/0";function validateKey(e){if(!(e.privateKey instanceof Uint8Array))throw new errors_1$3.ValidationError("Unable to derive privateKey from mnemonic input");if(!(e.publicKey instanceof Uint8Array))throw new errors_1$3.ValidationError("Unable to derive publicKey from mnemonic input")}let Wallet$1=class bt{constructor(t,r,n={}){this.publicKey=t,this.privateKey=r,this.classicAddress=n.masterAddress?(0,utils_2.ensureClassicAddress)(n.masterAddress):(0,ripple_keypairs_1$1.deriveAddress)(t),this.seed=n.seed}get address(){return this.classicAddress}static generate(t=DEFAULT_ALGORITHM){if(!Object.values(ECDSA_1$1.default).includes(t))throw new errors_1$3.ValidationError("Invalid cryptographic signing algorithm");const r=(0,ripple_keypairs_1$1.generateSeed)({algorithm:t});return bt.fromSeed(r,{algorithm:t})}static fromSeed(t,r={}){return bt.deriveWallet(t,{algorithm:r.algorithm,masterAddress:r.masterAddress})}static fromEntropy(t,r={}){var n;const a=(n=r.algorithm)!==null&&n!==void 0?n:DEFAULT_ALGORITHM,o={entropy:Uint8Array.from(t),algorithm:a},u=(0,ripple_keypairs_1$1.generateSeed)(o);return bt.deriveWallet(u,{algorithm:a,masterAddress:r.masterAddress})}static fromMnemonic(t,r={}){var n;if(r.mnemonicEncoding==="rfc1751")return bt.fromRFC1751Mnemonic(t,{masterAddress:r.masterAddress,algorithm:r.algorithm});if(!(0,bip39_1.validateMnemonic)(t,english_1.wordlist))throw new errors_1$3.ValidationError("Unable to parse the given mnemonic using bip39 encoding");const a=(0,bip39_1.mnemonicToSeedSync)(t),o=bip32_1.HDKey.fromMasterSeed(a).derive((n=r.derivationPath)!==null&&n!==void 0?n:DEFAULT_DERIVATION_PATH);validateKey(o);const u=(0,utils_1$6.bytesToHex)(o.publicKey),p=(0,utils_1$6.bytesToHex)(o.privateKey);return new bt(u,`00${p}`,{masterAddress:r.masterAddress})}static fromRFC1751Mnemonic(t,r){const n=(0,rfc1751_1.rfc1751MnemonicToKey)(t);let a;r.algorithm===ECDSA_1$1.default.ed25519?a="ed25519":a="secp256k1";const o=(0,ripple_address_codec_1$1.encodeSeed)(n,a);return bt.fromSeed(o,{masterAddress:r.masterAddress,algorithm:r.algorithm})}static deriveWallet(t,r={}){var n;const{publicKey:a,privateKey:o}=(0,ripple_keypairs_1$1.deriveKeypair)(t,{algorithm:(n=r.algorithm)!==null&&n!==void 0?n:DEFAULT_ALGORITHM});return new bt(a,o,{seed:t,masterAddress:r.masterAddress})}sign(t,r){let n=!1;typeof r=="string"&&r.startsWith("X")?n=r:r&&(n=this.classicAddress);const a=(0,collections_1.omitBy)(Object.assign({},t),p=>p==null);if(a.TxnSignature||a.Signers)throw new errors_1$3.ValidationError('txJSON must not contain "TxnSignature" or "Signers" properties');removeTrailingZeros(a),(0,transactions_1$1.validate)(a);const o=Object.assign({},a);if(o.SigningPubKey=n?"":this.publicKey,n){const p={Account:n,SigningPubKey:this.publicKey,TxnSignature:computeSignature(o,this.privateKey,n)};o.Signers=[{Signer:p}]}else o.TxnSignature=computeSignature(o,this.privateKey);const u=(0,ripple_binary_codec_1$1.encode)(o);return{tx_blob:u,hash:(0,hashLedger_1.hashSignedTx)(u)}}verifyTransaction(t){return(0,signer_1.verifySignature)(t,this.publicKey)}getXAddress(t=!1,r=!1){return(0,ripple_address_codec_1$1.classicAddressToXAddress)(this.classicAddress,t,r)}};Wallet$2.Wallet=Wallet$1,Wallet$1.fromSecret=Wallet$1.fromSeed;function computeSignature(e,t,r){if(r){const n=(0,ripple_address_codec_1$1.isValidXAddress)(r)?(0,ripple_address_codec_1$1.xAddressToClassicAddress)(r).classicAddress:r;return(0,ripple_keypairs_1$1.sign)((0,ripple_binary_codec_1$1.encodeForMultisigning)(e,n),t)}return(0,ripple_keypairs_1$1.sign)((0,ripple_binary_codec_1$1.encodeForSigning)(e),t)}function removeTrailingZeros(e){e.TransactionType==="Payment"&&typeof e.Amount!="string"&&e.Amount.value.includes(".")&&e.Amount.value.endsWith("0")&&(e.Amount=Object.assign({},e.Amount),e.Amount.value=new bignumber_js_1$1.default(e.Amount.value).toString())}var fundWallet={},browserPonyfill={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal<"u"&&commonjsGlobal,n=function(){function o(){this.fetch=!1,this.DOMException=r.DOMException}return o.prototype=r,new o}();(function(o){(function(u){var p=typeof o<"u"&&o||typeof self<"u"&&self||typeof p<"u"&&p,b={searchParams:"URLSearchParams"in p,iterable:"Symbol"in p&&"iterator"in Symbol,blob:"FileReader"in p&&"Blob"in p&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in p,arrayBuffer:"ArrayBuffer"in p};function m(S){return S&&DataView.prototype.isPrototypeOf(S)}if(b.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],A=ArrayBuffer.isView||function(S){return S&&y.indexOf(Object.prototype.toString.call(S))>-1};function I(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase()}function M(S){return typeof S!="string"&&(S=String(S)),S}function C(S){var O={next:function(){var T=S.shift();return{done:T===void 0,value:T}}};return b.iterable&&(O[Symbol.iterator]=function(){return O}),O}function P(S){this.map={},S instanceof P?S.forEach(function(O,T){this.append(T,O)},this):Array.isArray(S)?S.forEach(function(O){this.append(O[0],O[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(O){this.append(O,S[O])},this)}P.prototype.append=function(S,O){S=I(S),O=M(O);var T=this.map[S];this.map[S]=T?T+", "+O:O},P.prototype.delete=function(S){delete this.map[I(S)]},P.prototype.get=function(S){return S=I(S),this.has(S)?this.map[S]:null},P.prototype.has=function(S){return this.map.hasOwnProperty(I(S))},P.prototype.set=function(S,O){this.map[I(S)]=M(O)},P.prototype.forEach=function(S,O){for(var T in this.map)this.map.hasOwnProperty(T)&&S.call(O,this.map[T],T,this)},P.prototype.keys=function(){var S=[];return this.forEach(function(O,T){S.push(T)}),C(S)},P.prototype.values=function(){var S=[];return this.forEach(function(O){S.push(O)}),C(S)},P.prototype.entries=function(){var S=[];return this.forEach(function(O,T){S.push([T,O])}),C(S)},b.iterable&&(P.prototype[Symbol.iterator]=P.prototype.entries);function B(S){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}function k(S){return new Promise(function(O,T){S.onload=function(){O(S.result)},S.onerror=function(){T(S.error)}})}function N(S){var O=new FileReader,T=k(O);return O.readAsArrayBuffer(S),T}function D(S){var O=new FileReader,T=k(O);return O.readAsText(S),T}function L(S){for(var O=new Uint8Array(S),T=new Array(O.length),_=0;_<O.length;_++)T[_]=String.fromCharCode(O[_]);return T.join("")}function K(S){if(S.slice)return S.slice(0);var O=new Uint8Array(S.byteLength);return O.set(new Uint8Array(S)),O.buffer}function J(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:b.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:b.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:b.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():b.arrayBuffer&&b.blob&&m(S)?(this._bodyArrayBuffer=K(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):b.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||A(S))?this._bodyArrayBuffer=K(S):this._bodyText=S=Object.prototype.toString.call(S):this._bodyText="",this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var S=B(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=B(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(N)}),this.text=function(){var S=B(this);if(S)return S;if(this._bodyBlob)return D(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(ie)}),this.json=function(){return this.text().then(JSON.parse)},this}var ce=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function oe(S){var O=S.toUpperCase();return ce.indexOf(O)>-1?O:S}function Z(S,O){if(!(this instanceof Z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var T=O.body;if(S instanceof Z){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,O.headers||(this.headers=new P(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!T&&S._bodyInit!=null&&(T=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new P(O.headers)),this.method=oe(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(T),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var _=/([?&])_=[^&]*/;if(_.test(this.url))this.url=this.url.replace(_,"$1_="+new Date().getTime());else{var c=/\?/;this.url+=(c.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Z.prototype.clone=function(){return new Z(this,{body:this._bodyInit})};function ie(S){var O=new FormData;return S.trim().split("&").forEach(function(T){if(T){var _=T.split("="),c=_.shift().replace(/\+/g," "),w=_.join("=").replace(/\+/g," ");O.append(decodeURIComponent(c),decodeURIComponent(w))}}),O}function s(S){var O=new P,T=S.replace(/\r?\n[\t ]+/g," ");return T.split("\r").map(function(_){return _.indexOf(`
`)===0?_.substr(1,_.length):_}).forEach(function(_){var c=_.split(":"),w=c.shift().trim();if(w){var x=c.join(":").trim();O.append(w,x)}}),O}J.call(Z.prototype);function d(S,O){if(!(this instanceof d))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new P(O.headers),this.url=O.url||"",this._initBody(S)}J.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new P(this.headers),url:this.url})},d.error=function(){var S=new d(null,{status:0,statusText:""});return S.type="error",S};var l=[301,302,303,307,308];d.redirect=function(S,O){if(l.indexOf(O)===-1)throw new RangeError("Invalid status code");return new d(null,{status:O,headers:{location:S}})},u.DOMException=p.DOMException;try{new u.DOMException}catch{u.DOMException=function(S,O){this.message=S,this.name=O;var T=Error(S);this.stack=T.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function v(S,O){return new Promise(function(T,_){var c=new Z(S,O);if(c.signal&&c.signal.aborted)return _(new u.DOMException("Aborted","AbortError"));var w=new XMLHttpRequest;function x(){w.abort()}w.onload=function(){var q={status:w.status,statusText:w.statusText,headers:s(w.getAllResponseHeaders()||"")};q.url="responseURL"in w?w.responseURL:q.headers.get("X-Request-URL");var V="response"in w?w.response:w.responseText;setTimeout(function(){T(new d(V,q))},0)},w.onerror=function(){setTimeout(function(){_(new TypeError("Network request failed"))},0)},w.ontimeout=function(){setTimeout(function(){_(new TypeError("Network request failed"))},0)},w.onabort=function(){setTimeout(function(){_(new u.DOMException("Aborted","AbortError"))},0)};function F(q){try{return q===""&&p.location.href?p.location.href:q}catch{return q}}w.open(c.method,F(c.url),!0),c.credentials==="include"?w.withCredentials=!0:c.credentials==="omit"&&(w.withCredentials=!1),"responseType"in w&&(b.blob?w.responseType="blob":b.arrayBuffer&&c.headers.get("Content-Type")&&c.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(w.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof P)?Object.getOwnPropertyNames(O.headers).forEach(function(q){w.setRequestHeader(q,M(O.headers[q]))}):c.headers.forEach(function(q,V){w.setRequestHeader(V,q)}),c.signal&&(c.signal.addEventListener("abort",x),w.onreadystatechange=function(){w.readyState===4&&c.signal.removeEventListener("abort",x)}),w.send(typeof c._bodyInit>"u"?null:c._bodyInit)})}return v.polyfill=!0,p.fetch||(p.fetch=v,p.Headers=P,p.Request=Z,p.Response=d),u.Headers=P,u.Request=Z,u.Response=d,u.fetch=v,u})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const fetch$1=getDefaultExportFromCjs$1(browserPonyfillExports);var defaultFaucets={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultFaucetPath=e.getFaucetHost=e.FaucetNetworkPaths=e.FaucetNetwork=void 0;const t=errors$1;var r;(function(o){o.Testnet="faucet.altnet.rippletest.net",o.Devnet="faucet.devnet.rippletest.net",o.HooksV3Testnet="hooks-testnet-v3.xrpl-labs.com"})(r||(e.FaucetNetwork=r={})),e.FaucetNetworkPaths={[r.Testnet]:"/accounts",[r.Devnet]:"/accounts",[r.HooksV3Testnet]:"/accounts"};function n(o){const u=o.url;if(u.includes("hooks-testnet-v3"))return r.HooksV3Testnet;if(u.includes("altnet")||u.includes("testnet"))return r.Testnet;if(u.includes("sidechain-net2"))throw new t.XRPLFaucetError("Cannot fund an account on an issuing chain. Accounts must be created via the bridge.");if(u.includes("devnet"))return r.Devnet;throw new t.XRPLFaucetError("Faucet URL is not defined or inferrable.")}e.getFaucetHost=n;function a(o){return o===void 0?"/accounts":e.FaucetNetworkPaths[o]||"/accounts"}e.getDefaultFaucetPath=a})(defaultFaucets);var __awaiter$I=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fundWallet,"__esModule",{value:!0}),fundWallet.requestFunding=fundWallet.getStartingBalance=fundWallet.generateWalletToFund=void 0;const cross_fetch_1=__importDefault$2(browserPonyfillExports),ripple_address_codec_1=dist$5,errors_1$2=errors$1,defaultFaucets_1=defaultFaucets,_1$1=Wallet$2,INTERVAL_SECONDS=1,MAX_ATTEMPTS=20;function generateWalletToFund(e){return e&&(0,ripple_address_codec_1.isValidClassicAddress)(e.classicAddress)?e:_1$1.Wallet.generate()}fundWallet.generateWalletToFund=generateWalletToFund;function getStartingBalance(e,t){return __awaiter$I(this,void 0,void 0,function*(){let r=0;try{r=Number(yield e.getXrpBalance(t))}catch{}return r})}fundWallet.getStartingBalance=getStartingBalance;function requestFunding(e,t,r,n,a){var o,u,p;return __awaiter$I(this,void 0,void 0,function*(){const b=(o=e.faucetHost)!==null&&o!==void 0?o:(0,defaultFaucets_1.getFaucetHost)(t);if(!b)throw new errors_1$2.XRPLFaucetError("No faucet hostname could be derived");const m=(u=e.faucetPath)!==null&&u!==void 0?u:(0,defaultFaucets_1.getDefaultFaucetPath)(b),y=yield(0,cross_fetch_1.default)(`https://${b}${m}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),A=yield y.json();if(y.ok&&!((p=y.headers.get("Content-Type"))===null||p===void 0)&&p.startsWith("application/json")){const I=A.account.classicAddress;return processSuccessfulResponse(t,I,n,r)}return processError(y,A)})}fundWallet.requestFunding=requestFunding;function processSuccessfulResponse(e,t,r,n){return __awaiter$I(this,void 0,void 0,function*(){if(!t)return Promise.reject(new errors_1$2.XRPLFaucetError("The faucet account is undefined"));try{const a=yield getUpdatedBalance(e,t,n);if(a>n)return{wallet:r,balance:a};throw new errors_1$2.XRPLFaucetError(`Unable to fund address with faucet after waiting ${INTERVAL_SECONDS*MAX_ATTEMPTS} seconds`)}catch(a){throw a instanceof Error?new errors_1$2.XRPLFaucetError(a.message):a}})}function processError(e,t){return __awaiter$I(this,void 0,void 0,function*(){return Promise.reject(new errors_1$2.XRPLFaucetError(`Request failed: ${JSON.stringify({body:t||{},contentType:e.headers.get("Content-Type"),statusCode:e.status})}`))})}function getUpdatedBalance(e,t,r){return __awaiter$I(this,void 0,void 0,function*(){return new Promise((n,a)=>{let o=MAX_ATTEMPTS;const u=setInterval(()=>__awaiter$I(this,void 0,void 0,function*(){o<0?(clearInterval(u),n(r)):o-=1;try{let p;try{p=Number(yield e.getXrpBalance(t))}catch{}p>r&&(clearInterval(u),n(p))}catch(p){clearInterval(u),p instanceof Error&&a(new errors_1$2.XRPLFaucetError(`Unable to check if the address ${t} balance has increased. Error: ${p.message}`)),a(p)}}),INTERVAL_SECONDS*1e3)})})}var connection={},browser={};Object.defineProperty(browser,"__esModule",{value:!0});const eventemitter3_1$1=eventemitter3Exports;class WSWrapper extends eventemitter3_1$1.EventEmitter{constructor(t,r,n){super(),this.ws=new WebSocket(t),this.ws.onclose=a=>{let o;a.reason&&(o=new TextEncoder().encode(a.reason)),this.emit("close",a.code,o)},this.ws.onopen=()=>{this.emit("open")},this.ws.onerror=a=>{this.emit("error",a)},this.ws.onmessage=a=>{this.emit("message",a.data)}}get readyState(){return this.ws.readyState}close(t,r){this.readyState===1&&this.ws.close(t,r)}send(t){this.ws.send(t)}}WSWrapper.CONNECTING=0,WSWrapper.OPEN=1,WSWrapper.CLOSING=2,WSWrapper.CLOSED=3,browser.default=WSWrapper;var ConnectionManager$1={},__awaiter$H=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};Object.defineProperty(ConnectionManager$1,"__esModule",{value:!0});class ConnectionManager{constructor(){this.promisesAwaitingConnection=[]}resolveAllAwaiting(){this.promisesAwaitingConnection.map(({resolve:t})=>t()),this.promisesAwaitingConnection=[]}rejectAllAwaiting(t){this.promisesAwaitingConnection.map(({reject:r})=>r(t)),this.promisesAwaitingConnection=[]}awaitConnection(){return __awaiter$H(this,void 0,void 0,function*(){return new Promise((t,r)=>{this.promisesAwaitingConnection.push({resolve:t,reject:r})})})}}ConnectionManager$1.default=ConnectionManager;var ExponentialBackoff$1={};Object.defineProperty(ExponentialBackoff$1,"__esModule",{value:!0});const DEFAULT_MIN=100,DEFAULT_MAX=1e3;class ExponentialBackoff{constructor(t={}){var r,n;this.factor=2,this.numAttempts=0,this.ms=(r=t.min)!==null&&r!==void 0?r:DEFAULT_MIN,this.max=(n=t.max)!==null&&n!==void 0?n:DEFAULT_MAX}get attempts(){return this.numAttempts}duration(){const t=this.ms*Math.pow(this.factor,this.numAttempts);return this.numAttempts+=1,Math.floor(Math.min(t,this.max))}reset(){this.numAttempts=0}}ExponentialBackoff$1.default=ExponentialBackoff;var RequestManager$1={},__awaiter$G=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};Object.defineProperty(RequestManager$1,"__esModule",{value:!0});const errors_1$1=errors$1;class RequestManager{constructor(){this.nextId=0,this.promisesAwaitingResponse=new Map}addPromise(t,r){return __awaiter$G(this,void 0,void 0,function*(){return new Promise((n,a)=>{this.promisesAwaitingResponse.set(t,{resolve:n,reject:a,timer:r})})})}resolve(t,r){const n=this.promisesAwaitingResponse.get(t);if(n==null)throw new errors_1$1.XrplError(`No existing promise with id ${t}`,{type:"resolve",response:r});clearTimeout(n.timer),n.resolve(r),this.deletePromise(t)}reject(t,r){const n=this.promisesAwaitingResponse.get(t);if(n==null)throw new errors_1$1.XrplError(`No existing promise with id ${t}`,{type:"reject",error:r});clearTimeout(n.timer),n.reject(r),this.deletePromise(t)}rejectAll(t){this.promisesAwaitingResponse.forEach((r,n,a)=>{this.reject(n,t),this.deletePromise(n)})}createRequest(t,r){let n;t.id==null?(n=this.nextId,this.nextId+=1):n=t.id;const a=JSON.stringify(Object.assign(Object.assign({},t),{id:n})),o=setTimeout(()=>{this.reject(n,new errors_1$1.TimeoutError(`Timeout for request: ${JSON.stringify(t)} with id ${n}`,t))},r);if(o.unref&&o.unref(),this.promisesAwaitingResponse.has(n))throw clearTimeout(o),new errors_1$1.XrplError(`Response with id '${n}' is already pending`,t);const u=new Promise((p,b)=>{this.promisesAwaitingResponse.set(n,{resolve:p,reject:b,timer:o})});return[n,a,u]}handleResponse(t){var r,n;if(t.id==null||!(typeof t.id=="string"||typeof t.id=="number"))throw new errors_1$1.ResponseFormatError("valid id not found in response",t);if(this.promisesAwaitingResponse.has(t.id)){if(t.status==null){const a=new errors_1$1.ResponseFormatError("Response has no status");this.reject(t.id,a)}if(t.status==="error"){const a=t,o=new errors_1$1.RippledError((r=a.error_message)!==null&&r!==void 0?r:a.error,a);this.reject(t.id,o);return}if(t.status!=="success"){const a=new errors_1$1.ResponseFormatError(`unrecognized response.status: ${(n=t.status)!==null&&n!==void 0?n:""}`,t);this.reject(t.id,a);return}delete t.status,this.resolve(t.id,t)}}deletePromise(t){this.promisesAwaitingResponse.delete(t)}}RequestManager$1.default=RequestManager,function(e){var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(B,k,N,D){function L(K){return K instanceof N?K:new N(function(J){J(K)})}return new(N||(N=Promise))(function(K,J){function ce(ie){try{Z(D.next(ie))}catch(s){J(s)}}function oe(ie){try{Z(D.throw(ie))}catch(s){J(s)}}function Z(ie){ie.done?K(ie.value):L(ie.value).then(ce,oe)}Z((D=D.apply(B,k||[])).next())})},r=commonjsGlobal&&commonjsGlobal.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=e.INTENTIONAL_DISCONNECT_CODE=void 0;const n=browser$4,a=r(browser),o=eventemitter3Exports,u=errors$1,p=r(ConnectionManager$1),b=r(ExponentialBackoff$1),m=r(RequestManager$1),y=60,A=20,I=5;e.INTENTIONAL_DISCONNECT_CODE=4e3;function M(B,k){const N={agent:k.agent};k.headers&&(N.headers=k.headers),k.authorization!=null&&(N.headers=Object.assign(Object.assign({},N.headers),{Authorization:`Basic ${btoa(k.authorization)}`}));const D=Object.assign({},N);return new a.default(B,D)}function C(B,k){return t(this,void 0,void 0,function*(){return new Promise((N,D)=>{B.send(k,L=>{L?D(new u.DisconnectedError(L.message,L)):N()})})})}class P extends o.EventEmitter{constructor(k,N={}){super(),this.ws=null,this.reconnectTimeoutID=null,this.heartbeatIntervalID=null,this.retryConnectionBackoff=new b.default({min:100,max:y*1e3}),this.requestManager=new m.default,this.connectionManager=new p.default,this.trace=()=>{},this.url=k,this.config=Object.assign({timeout:A*1e3,connectionTimeout:I*1e3},N),typeof N.trace=="function"?this.trace=N.trace:N.trace&&(this.trace=console.log)}get state(){return this.ws?this.ws.readyState:a.default.CLOSED}get shouldBeConnected(){return this.ws!==null}isConnected(){return this.state===a.default.OPEN}connect(){return t(this,void 0,void 0,function*(){if(this.isConnected())return Promise.resolve();if(this.state===a.default.CONNECTING)return this.connectionManager.awaitConnection();if(!this.url)return Promise.reject(new u.ConnectionError("Cannot connect because no server was specified"));if(this.ws!=null)return Promise.reject(new u.XrplError("Websocket connection never cleaned up.",{state:this.state}));const k=setTimeout(()=>{this.onConnectionFailed(new u.ConnectionError(`Error: connect() timed out after ${this.config.connectionTimeout} ms. If your internet connection is working, the rippled server may be blocked or inaccessible. You can also try setting the 'connectionTimeout' option in the Client constructor.`))},this.config.connectionTimeout);if(this.ws=M(this.url,this.config),this.ws==null)throw new u.XrplError("Connect: created null websocket");return this.ws.on("error",N=>this.onConnectionFailed(N)),this.ws.on("error",()=>clearTimeout(k)),this.ws.on("close",N=>this.onConnectionFailed(N)),this.ws.on("close",()=>clearTimeout(k)),this.ws.once("open",()=>{this.onceOpen(k)}),this.connectionManager.awaitConnection()})}disconnect(){return t(this,void 0,void 0,function*(){return this.clearHeartbeatInterval(),this.reconnectTimeoutID!==null&&(clearTimeout(this.reconnectTimeoutID),this.reconnectTimeoutID=null),this.state===a.default.CLOSED||this.ws==null?Promise.resolve(void 0):new Promise(k=>{this.ws==null&&k(void 0),this.ws!=null&&this.ws.once("close",N=>k(N)),this.ws!=null&&this.state!==a.default.CLOSING&&this.ws.close(e.INTENTIONAL_DISCONNECT_CODE)})})}reconnect(){return t(this,void 0,void 0,function*(){this.emit("reconnect"),yield this.disconnect(),yield this.connect()})}request(k,N){return t(this,void 0,void 0,function*(){if(!this.shouldBeConnected||this.ws==null)throw new u.NotConnectedError(JSON.stringify(k),k);const[D,L,K]=this.requestManager.createRequest(k,N??this.config.timeout);return this.trace("send",L),C(this.ws,L).catch(J=>{this.requestManager.reject(D,J)}),K})}getUrl(){var k;return(k=this.url)!==null&&k!==void 0?k:""}onMessage(k){this.trace("receive",k);let N;try{N=JSON.parse(k)}catch(D){D instanceof Error&&this.emit("error","badMessage",D.message,k);return}if(N.type==null&&N.error){this.emit("error",N.error,N.error_message,N);return}if(N.type&&this.emit(N.type,N),N.type==="response")try{this.requestManager.handleResponse(N)}catch(D){D instanceof Error?this.emit("error","badMessage",D.message,k):this.emit("error","badMessage",D,D)}}onceOpen(k){return t(this,void 0,void 0,function*(){if(this.ws==null)throw new u.XrplError("onceOpen: ws is null");this.ws.removeAllListeners(),clearTimeout(k),this.ws.on("message",N=>this.onMessage(N)),this.ws.on("error",N=>this.emit("error","websocket",N.message,N)),this.ws.once("close",(N,D)=>{if(this.ws==null)throw new u.XrplError("onceClose: ws is null");this.clearHeartbeatInterval(),this.requestManager.rejectAll(new u.DisconnectedError(`websocket was closed, ${D?(0,n.hexToString)((0,n.bytesToHex)(D)):""}`)),this.ws.removeAllListeners(),this.ws=null,N===void 0?this.emit("disconnected",1011):this.emit("disconnected",N),N!==e.INTENTIONAL_DISCONNECT_CODE&&N!==void 0&&this.intentionalDisconnect()});try{this.retryConnectionBackoff.reset(),this.startHeartbeatInterval(),this.connectionManager.resolveAllAwaiting(),this.emit("connected")}catch(N){N instanceof Error&&(this.connectionManager.rejectAllAwaiting(N),yield this.disconnect().catch(()=>{}))}})}intentionalDisconnect(){const k=this.retryConnectionBackoff.duration();this.trace("reconnect",`Retrying connection in ${k}ms.`),this.emit("reconnecting",this.retryConnectionBackoff.attempts),this.reconnectTimeoutID=setTimeout(()=>{this.reconnect().catch(N=>{this.emit("error","reconnect",N.message,N)})},k)}clearHeartbeatInterval(){this.heartbeatIntervalID&&clearInterval(this.heartbeatIntervalID)}startHeartbeatInterval(){this.clearHeartbeatInterval(),this.heartbeatIntervalID=setInterval(()=>{this.heartbeat()},this.config.timeout)}heartbeat(){return t(this,void 0,void 0,function*(){this.request({command:"ping"}).catch(()=>t(this,void 0,void 0,function*(){return this.reconnect().catch(k=>{this.emit("error","reconnect",k.message,k)})}))})}onConnectionFailed(k){this.ws&&(this.ws.removeAllListeners(),this.ws.on("error",()=>{}),this.ws.close(),this.ws=null),typeof k=="number"?this.connectionManager.rejectAllAwaiting(new u.NotConnectedError(`Connection failed with code ${k}.`,{code:k})):k!=null&&k.message?this.connectionManager.rejectAllAwaiting(new u.NotConnectedError(k.message,k)):this.connectionManager.rejectAllAwaiting(new u.NotConnectedError("Connection failed."))}}e.Connection=P}(connection);var partialPayment={},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(partialPayment,"__esModule",{value:!0}),partialPayment.handleStreamPartialPayment=partialPayment.handlePartialPayment=void 0;const bignumber_js_1=__importDefault$1(bignumberExports),ripple_binary_codec_1=dist$4,transactions_1=transactions,utils_1$5=utils$8,WARN_PARTIAL_PAYMENT_CODE=2001;function amountsEqual(e,t){if(typeof e=="string"&&typeof t=="string")return e===t;if(typeof e=="string"||typeof t=="string")return!1;const r=new bignumber_js_1.default(e.value),n=new bignumber_js_1.default(t.value);return e.currency===t.currency&&e.issuer===t.issuer&&r.isEqualTo(n)}function isPartialPayment(e,t){var r;if(e==null||t==null||e.TransactionType!=="Payment")return!1;let n=t;if(typeof n=="string"){if(n==="unavailable")return!1;n=(0,ripple_binary_codec_1.decode)(n)}if(!(typeof e.Flags=="number"?(0,utils_1$5.isFlagEnabled)(e.Flags,transactions_1.PaymentFlags.tfPartialPayment):!((r=e.Flags)===null||r===void 0)&&r.tfPartialPayment))return!1;const a=n.delivered_amount,o=e.Amount;return a===void 0?!1:!amountsEqual(a,o)}function txHasPartialPayment(e){return isPartialPayment(e.result,e.result.meta)}function txEntryHasPartialPayment(e){return isPartialPayment(e.result.tx_json,e.result.metadata)}function accountTxHasPartialPayment(e){const{transactions:t}=e.result;return t.some(r=>isPartialPayment(r.tx,r.meta))}function hasPartialPayment(e,t){switch(e){case"tx":return txHasPartialPayment(t);case"transaction_entry":return txEntryHasPartialPayment(t);case"account_tx":return accountTxHasPartialPayment(t);default:return!1}}function handlePartialPayment(e,t){var r;if(hasPartialPayment(e,t)){const n=(r=t.warnings)!==null&&r!==void 0?r:[],a={id:WARN_PARTIAL_PAYMENT_CODE,message:"This response contains a Partial Payment"};n.push(a),t.warnings=n}}partialPayment.handlePartialPayment=handlePartialPayment;function handleStreamPartialPayment(e,t){var r;if(isPartialPayment(e.transaction,e.meta)){const n=(r=e.warnings)!==null&&r!==void 0?r:[],a={id:WARN_PARTIAL_PAYMENT_CODE,message:"This response contains a Partial Payment"};n.push(a),e.warnings=n,t("Partial payment received",JSON.stringify(e))}}partialPayment.handleStreamPartialPayment=handleStreamPartialPayment;var __awaiter$F=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};Object.defineProperty(client,"__esModule",{value:!0}),client.Client=void 0;const eventemitter3_1=eventemitter3Exports,errors_1=errors$1,flags_1=flags,sugar_1=sugar,autofill_1=autofill,balances_1=balances,getOrderbook_1=getOrderbook,utils_1$4=utils$6,Wallet_1=Wallet$2,fundWallet_1=fundWallet,connection_1=connection,partialPayment_1=partialPayment;function getCollectKeyFromCommand(e){switch(e){case"account_channels":return"channels";case"account_lines":return"lines";case"account_objects":return"account_objects";case"account_tx":return"transactions";case"account_offers":case"book_offers":return"offers";case"ledger_data":return"state";default:return null}}function clamp(e,t,r){return Math.min(Math.max(e,t),r)}const DEFAULT_FEE_CUSHION=1.2,DEFAULT_MAX_FEE_XRP="2",MIN_LIMIT=10,MAX_LIMIT=400,NORMAL_DISCONNECT_CODE=1e3;class Client extends eventemitter3_1.EventEmitter{constructor(t,r={}){var n,a;if(super(),typeof t!="string"||!/wss?(?:\+unix)?:\/\//u.exec(t))throw new errors_1.ValidationError("server URI must start with `wss://`, `ws://`, `wss+unix://`, or `ws+unix://`.");this.feeCushion=(n=r.feeCushion)!==null&&n!==void 0?n:DEFAULT_FEE_CUSHION,this.maxFeeXRP=(a=r.maxFeeXRP)!==null&&a!==void 0?a:DEFAULT_MAX_FEE_XRP,this.connection=new connection_1.Connection(t,r),this.connection.on("error",(o,u,p)=>{this.emit("error",o,u,p)}),this.connection.on("reconnect",()=>{this.connection.on("connected",()=>this.emit("connected"))}),this.connection.on("disconnected",o=>{let u=o;u===connection_1.INTENTIONAL_DISCONNECT_CODE&&(u=NORMAL_DISCONNECT_CODE),this.emit("disconnected",u)}),this.connection.on("ledgerClosed",o=>{this.emit("ledgerClosed",o)}),this.connection.on("transaction",o=>{(0,partialPayment_1.handleStreamPartialPayment)(o,this.connection.trace),this.emit("transaction",o)}),this.connection.on("validationReceived",o=>{this.emit("validationReceived",o)}),this.connection.on("manifestReceived",o=>{this.emit("manifestReceived",o)}),this.connection.on("peerStatusChange",o=>{this.emit("peerStatusChange",o)}),this.connection.on("consensusPhase",o=>{this.emit("consensusPhase",o)}),this.connection.on("path_find",o=>{this.emit("path_find",o)})}get url(){return this.connection.getUrl()}request(t){return __awaiter$F(this,void 0,void 0,function*(){const r=yield this.connection.request(Object.assign(Object.assign({},t),{account:t.account?(0,sugar_1.ensureClassicAddress)(t.account):void 0}));return(0,partialPayment_1.handlePartialPayment)(t.command,r),r})}requestNextPage(t,r){return __awaiter$F(this,void 0,void 0,function*(){if(!r.result.marker)return Promise.reject(new errors_1.NotFoundError("response does not have a next page"));const n=Object.assign(Object.assign({},t),{marker:r.result.marker});return this.request(n)})}on(t,r){return super.on(t,r)}requestAll(t,r){return __awaiter$F(this,void 0,void 0,function*(){const n=r??getCollectKeyFromCommand(t.command);if(!n)throw new errors_1.ValidationError(`no collect key for command ${t.command}`);const a=t.limit==null?1/0:t.limit;let o=0,u=t.marker;const p=[];do{const b=clamp(a-o,MIN_LIMIT,MAX_LIMIT),m=Object.assign(Object.assign({},t),{limit:b,marker:u}),y=yield this.connection.request(m),A=y.result;if(!(n in A))throw new errors_1.XrplError(`${n} not in result`);const I=A[n];u=A.marker,p.push(y),Array.isArray(I)&&(o+=I.length)}while(u&&o<a);return p})}getServerInfo(){var t;return __awaiter$F(this,void 0,void 0,function*(){try{const r=yield this.request({command:"server_info"});this.networkID=(t=r.result.info.network_id)!==null&&t!==void 0?t:void 0,this.buildVersion=r.result.info.build_version}catch(r){console.error(r)}})}connect(){return __awaiter$F(this,void 0,void 0,function*(){return this.connection.connect().then(()=>__awaiter$F(this,void 0,void 0,function*(){yield this.getServerInfo(),this.emit("connected")}))})}disconnect(){return __awaiter$F(this,void 0,void 0,function*(){yield this.connection.disconnect()})}isConnected(){return this.connection.isConnected()}autofill(t,r){return __awaiter$F(this,void 0,void 0,function*(){const n=Object.assign({},t);(0,autofill_1.setValidAddresses)(n),(0,flags_1.setTransactionFlagsToNumber)(n);const a=[];return n.NetworkID==null&&(n.NetworkID=(0,autofill_1.txNeedsNetworkID)(this)?this.networkID:void 0),n.Sequence==null&&a.push((0,autofill_1.setNextValidSequenceNumber)(this,n)),n.Fee==null&&a.push((0,autofill_1.calculateFeePerTransactionType)(this,n,r)),n.LastLedgerSequence==null&&a.push((0,autofill_1.setLatestValidatedLedgerSequence)(this,n)),n.TransactionType==="AccountDelete"&&a.push((0,autofill_1.checkAccountDeleteBlockers)(this,n)),Promise.all(a).then(()=>n)})}submit(t,r){return __awaiter$F(this,void 0,void 0,function*(){const n=yield(0,sugar_1.getSignedTx)(this,t,r);return(0,sugar_1.submitRequest)(this,n,r==null?void 0:r.failHard)})}submitAndWait(t,r){return __awaiter$F(this,void 0,void 0,function*(){const n=yield(0,sugar_1.getSignedTx)(this,t,r),a=(0,sugar_1.getLastLedgerSequence)(n);if(a==null)throw new errors_1.ValidationError("Transaction must contain a LastLedgerSequence value for reliable submission.");const o=yield(0,sugar_1.submitRequest)(this,n,r==null?void 0:r.failHard),u=utils_1$4.hashes.hashSignedTx(n);return(0,sugar_1.waitForFinalTransactionOutcome)(this,u,a,o.result.engine_result)})}prepareTransaction(t,r){return __awaiter$F(this,void 0,void 0,function*(){return this.autofill(t,r)})}getXrpBalance(t,r={}){var n;return __awaiter$F(this,void 0,void 0,function*(){const a={command:"account_info",account:t,ledger_index:(n=r.ledger_index)!==null&&n!==void 0?n:"validated",ledger_hash:r.ledger_hash},o=yield this.request(a);return(0,utils_1$4.dropsToXrp)(o.result.account_data.Balance)})}getBalances(t,r={}){var n;return __awaiter$F(this,void 0,void 0,function*(){const a=[];let o=Promise.resolve(0);r.peer||(o=this.getXrpBalance(t,{ledger_hash:r.ledger_hash,ledger_index:r.ledger_index}));const u={command:"account_lines",account:t,ledger_index:(n=r.ledger_index)!==null&&n!==void 0?n:"validated",ledger_hash:r.ledger_hash,peer:r.peer,limit:r.limit},p=this.requestAll(u);return yield Promise.all([o,p]).then(([b,m])=>{const y=m.flatMap(A=>(0,balances_1.formatBalances)(A.result.lines));b!==0&&a.push({currency:"XRP",value:b.toString()}),a.push(...y)}),a.slice(0,r.limit)})}getOrderbook(t,r,n={}){return __awaiter$F(this,void 0,void 0,function*(){(0,getOrderbook_1.validateOrderbookOptions)(n);const a=(0,getOrderbook_1.createBookOffersRequest)(t,r,n),o=yield(0,getOrderbook_1.requestAllOffers)(this,a),u=yield(0,getOrderbook_1.requestAllOffers)(this,(0,getOrderbook_1.reverseRequest)(a)),p=(0,getOrderbook_1.extractOffers)(o),b=(0,getOrderbook_1.extractOffers)(u),m=(0,getOrderbook_1.combineOrders)(p,b),{buy:y,sell:A}=(0,getOrderbook_1.separateBuySellOrders)(m);return{buy:(0,getOrderbook_1.sortAndLimitOffers)(y,n.limit),sell:(0,getOrderbook_1.sortAndLimitOffers)(A,n.limit)}})}getLedgerIndex(){return __awaiter$F(this,void 0,void 0,function*(){return(yield this.request({command:"ledger",ledger_index:"validated"})).result.ledger_index})}fundWallet(t,r={}){return __awaiter$F(this,void 0,void 0,function*(){if(!this.isConnected())throw new errors_1.RippledError("Client not connected, cannot call faucet");const n=!!t,a=t&&(0,utils_1$4.isValidClassicAddress)(t.classicAddress)?t:Wallet_1.Wallet.generate(),o={destination:a.classicAddress,xrpAmount:r.amount,usageContext:r.usageContext,userAgent:"xrpl.js"};let u=0;if(n)try{u=Number(yield this.getXrpBalance(a.classicAddress))}catch{}return(0,fundWallet_1.requestFunding)(r,this,u,a,o)})}}client.Client=Client;var models={},ledger={},Amendments={};Object.defineProperty(Amendments,"__esModule",{value:!0}),Amendments.AMENDMENTS_ID=void 0,Amendments.AMENDMENTS_ID="7DB0788C020F02780A673DC74757F23823FA3014C1866E72CC4CD8B226CD6EF4";var FeeSettings={};Object.defineProperty(FeeSettings,"__esModule",{value:!0}),FeeSettings.FEE_SETTINGS_ID=void 0,FeeSettings.FEE_SETTINGS_ID="4BC50C9B0D8515D3EAAE1E74B29A95804346C491EE1A95BF25E4AAB854A6A651";var NegativeUNL={};Object.defineProperty(NegativeUNL,"__esModule",{value:!0}),NegativeUNL.NEGATIVE_UNL_ID=void 0,NegativeUNL.NEGATIVE_UNL_ID="2E8A59AA9D3B5B186B0B9E0F62E6C02587CA74A4D778938E957B6357D364B244";var RippleState={};Object.defineProperty(RippleState,"__esModule",{value:!0}),RippleState.RippleStateFlags=void 0;var RippleStateFlags;(function(e){e[e.lsfLowReserve=65536]="lsfLowReserve",e[e.lsfHighReserve=131072]="lsfHighReserve",e[e.lsfLowAuth=262144]="lsfLowAuth",e[e.lsfHighAuth=524288]="lsfHighAuth",e[e.lsfLowNoRipple=1048576]="lsfLowNoRipple",e[e.lsfHighNoRipple=2097152]="lsfHighNoRipple",e[e.lsfLowFreeze=4194304]="lsfLowFreeze",e[e.lsfHighFreeze=8388608]="lsfHighFreeze",e[e.lsfAMMNode=16777216]="lsfAMMNode"})(RippleStateFlags||(RippleState.RippleStateFlags=RippleStateFlags={}));var SignerList={};Object.defineProperty(SignerList,"__esModule",{value:!0}),SignerList.SignerListFlags=void 0;var SignerListFlags;(function(e){e[e.lsfOneOwnerCount=65536]="lsfOneOwnerCount"})(SignerListFlags||(SignerList.SignerListFlags=SignerListFlags={})),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SignerListFlags=e.RippleStateFlags=e.OfferFlags=e.NEGATIVE_UNL_ID=e.FEE_SETTINGS_ID=e.AMENDMENTS_ID=e.AccountRootFlags=void 0;const t=AccountRoot;Object.defineProperty(e,"AccountRootFlags",{enumerable:!0,get:function(){return t.AccountRootFlags}});const r=Amendments;Object.defineProperty(e,"AMENDMENTS_ID",{enumerable:!0,get:function(){return r.AMENDMENTS_ID}});const n=FeeSettings;Object.defineProperty(e,"FEE_SETTINGS_ID",{enumerable:!0,get:function(){return n.FEE_SETTINGS_ID}});const a=NegativeUNL;Object.defineProperty(e,"NEGATIVE_UNL_ID",{enumerable:!0,get:function(){return a.NEGATIVE_UNL_ID}});const o=Offer;Object.defineProperty(e,"OfferFlags",{enumerable:!0,get:function(){return o.OfferFlags}});const u=RippleState;Object.defineProperty(e,"RippleStateFlags",{enumerable:!0,get:function(){return u.RippleStateFlags}});const p=SignerList;Object.defineProperty(e,"SignerListFlags",{enumerable:!0,get:function(){return p.SignerListFlags}})}(ledger);var methods={};Object.defineProperty(methods,"__esModule",{value:!0});var common={};Object.defineProperty(common,"__esModule",{value:!0}),function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,p,b,m){m===void 0&&(m=b);var y=Object.getOwnPropertyDescriptor(p,b);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(u,m,y)}:function(u,p,b,m){m===void 0&&(m=b),u[m]=p[b]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(u,p){Object.defineProperty(u,"default",{enumerable:!0,value:p})}:function(u,p){u.default=p}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(u){if(u&&u.__esModule)return u;var p={};if(u!=null)for(var b in u)b!=="default"&&Object.prototype.hasOwnProperty.call(u,b)&&t(p,u,b);return r(p,u),p},a=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,p){for(var b in u)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,u,b)};Object.defineProperty(e,"__esModule",{value:!0}),e.parseAccountRootFlags=e.setTransactionFlagsToNumber=e.LedgerEntry=void 0,e.LedgerEntry=n(ledger);var o=flags;Object.defineProperty(e,"setTransactionFlagsToNumber",{enumerable:!0,get:function(){return o.setTransactionFlagsToNumber}}),Object.defineProperty(e,"parseAccountRootFlags",{enumerable:!0,get:function(){return o.parseAccountRootFlags}}),a(methods,e),a(transactions,e),a(common,e)}(models);var walletFromSecretNumbers$1={},dist$2={},Account$1={},utils$3={};Object.defineProperty(utils$3,"__esModule",{value:!0}),utils$3.parseSecretString=utils$3.checkChecksum=utils$3.calculateChecksum=utils$3.secretToEntropy=utils$3.entropyToSecret=utils$3.randomSecret=utils$3.randomEntropy=void 0;const utils_1$3=browser$4;function randomEntropy(){return(0,utils_1$3.randomBytes)(16)}utils$3.randomEntropy=randomEntropy;function calculateChecksum(e,t){return t*(e*2+1)%9}utils$3.calculateChecksum=calculateChecksum;function checkChecksum(e,t,r){let n,a;if(typeof t=="string"){if(t.length!==6)throw new Error("value must have a length of 6");n=parseInt(t.slice(5),10),a=parseInt(t.slice(0,5),10)}else{if(typeof r!="number")throw new Error("checksum must be a number when value is a number");n=r,a=t}return a*(e*2+1)%9===n}utils$3.checkChecksum=checkChecksum;function entropyToSecret(e){const t=new Array(Math.ceil(e.length/2)),r=Array.from(t,(n,a)=>{const o=e.slice(a*2,(a+1)*2),u=parseInt((0,utils_1$3.bytesToHex)(o),16);return"0".repeat(5-String(u).length)+String(u)+String(calculateChecksum(a,u))});if(r.length!==8)throw new Error("Chucks must have 8 digits");return r}utils$3.entropyToSecret=entropyToSecret;function randomSecret(){return entropyToSecret(randomEntropy())}utils$3.randomSecret=randomSecret;function secretToEntropy(e){return(0,utils_1$3.concat)(e.map((t,r)=>{const n=Number(t.slice(0,5)),a=Number(t.slice(5));if(t.length!==6)throw new Error("Invalid secret: number invalid");if(!checkChecksum(r,n,a))throw new Error("Invalid secret part: checksum invalid");const o=`0000${n.toString(16)}`.slice(-4);return(0,utils_1$3.hexToBytes)(o)}))}utils$3.secretToEntropy=secretToEntropy;function parseSecretString(e){const t=e.replace(/[^0-9]/gu,"");if(t.length!==48)throw new Error("Invalid secret string (should contain 8 blocks of 6 digits");return Array.from(new Array(8),(r,n)=>t.slice(n*6,(n+1)*6))}utils$3.parseSecretString=parseSecretString,Object.defineProperty(Account$1,"__esModule",{value:!0}),Account$1.Account=void 0;const ripple_keypairs_1=dist$3,utils_1$2=utils$3;class Account{constructor(t){this._account={familySeed:"",address:"",keypair:{publicKey:"",privateKey:""}},typeof t=="string"?this._secret=(0,utils_1$2.parseSecretString)(t):Array.isArray(t)?this._secret=t:t instanceof Uint8Array?this._secret=(0,utils_1$2.entropyToSecret)(t):this._secret=(0,utils_1$2.randomSecret)(),validateLengths(this._secret),this.derive()}getSecret(){return this._secret}getSecretString(){return this._secret.join(" ")}getAddress(){return this._account.address}getFamilySeed(){return this._account.familySeed}getKeypair(){return this._account.keypair}toString(){return this.getSecretString()}derive(){try{const t=(0,utils_1$2.secretToEntropy)(this._secret);this._account.familySeed=(0,ripple_keypairs_1.generateSeed)({entropy:t}),this._account.keypair=(0,ripple_keypairs_1.deriveKeypair)(this._account.familySeed),this._account.address=(0,ripple_keypairs_1.deriveAddress)(this._account.keypair.publicKey)}catch(t){let r="Unknown Error";throw t instanceof Error&&(r=t.message),new Error(r)}}}Account$1.Account=Account;function validateLengths(e){if(e.length!==8)throw new Error("Secret must have 8 numbers");e.forEach(t=>{if(t.length!==6)throw new Error("Each secret number must be 6 digits")})}(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,a,o,u){u===void 0&&(u=o);var p=Object.getOwnPropertyDescriptor(a,o);(!p||("get"in p?!a.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(n,u,p)}:function(n,a,o,u){u===void 0&&(u=o),n[u]=a[o]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,a){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(Account$1,e),r(utils$3,e)})(dist$2);var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(walletFromSecretNumbers$1,"__esModule",{value:!0}),walletFromSecretNumbers$1.walletFromSecretNumbers=void 0;const secret_numbers_1=dist$2,ECDSA_1=__importDefault(ECDSA$1),_1=Wallet$2;function walletFromSecretNumbers(e,t){var r;const n=new secret_numbers_1.Account(e).getFamilySeed(),a={masterAddress:void 0,algorithm:void 0};return t===void 0?a.algorithm=ECDSA_1.default.secp256k1:(a.masterAddress=t.masterAddress,a.algorithm=(r=t.algorithm)!==null&&r!==void 0?r:ECDSA_1.default.secp256k1),_1.Wallet.fromSecret(n,a)}walletFromSecretNumbers$1.walletFromSecretNumbers=walletFromSecretNumbers,function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(m,y,A,I){I===void 0&&(I=A);var M=Object.getOwnPropertyDescriptor(y,A);(!M||("get"in M?!y.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return y[A]}}),Object.defineProperty(m,I,M)}:function(m,y,A,I){I===void 0&&(I=A),m[I]=y[A]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(m,y){for(var A in m)A!=="default"&&!Object.prototype.hasOwnProperty.call(y,A)&&t(y,m,A)},n=commonjsGlobal&&commonjsGlobal.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.rfc1751MnemonicToKey=e.keyToRFC1751Mnemonic=e.walletFromSecretNumbers=e.Wallet=e.ECDSA=e.Client=void 0;var a=client;Object.defineProperty(e,"Client",{enumerable:!0,get:function(){return a.Client}}),r(models,e),r(utils$6,e);var o=ECDSA$1;Object.defineProperty(e,"ECDSA",{enumerable:!0,get:function(){return n(o).default}}),r(errors$1,e);var u=Wallet$2;Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return u.Wallet}});var p=walletFromSecretNumbers$1;Object.defineProperty(e,"walletFromSecretNumbers",{enumerable:!0,get:function(){return p.walletFromSecretNumbers}});var b=rfc1751;Object.defineProperty(e,"keyToRFC1751Mnemonic",{enumerable:!0,get:function(){return b.keyToRFC1751Mnemonic}}),Object.defineProperty(e,"rfc1751MnemonicToKey",{enumerable:!0,get:function(){return b.rfc1751MnemonicToKey}}),r(signer,e)}(npm);const index=getDefaultExportFromCjs$1(npm),xrpl=_mergeNamespaces({__proto__:null,default:index},[npm]),MPC_PUBLIC_KEY="secp256k1:4NfTiv3UsGahebgTaHyD9vF8KYKMBnfd6kh94mK6xv8fGBiJB8TBtFMP5WWXz6B89Ac1fbpzPwAvoyQebemHFwx3";function najPublicKeyStrToUncompressedHexPoint(e){return"04"+Buffer$2.from(bs58.decode(e.split(":")[1])).toString("hex")}async function sha256Hash(e){const t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return[...new Uint8Array(r)].map(n=>n.toString(16).padStart(2,"0")).join("")}function sha256StringToScalarLittleEndian(e){const t=e.match(/../g).reverse().join("");return new BN$7(t,16)}async function deriveChildPublicKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const n=new ellipticExports.ec("secp256k1");let a=await sha256Hash(`near-mpc-recovery v0.1.0 epsilon derivation:${t},${r}`);a=sha256StringToScalarLittleEndian(a);const o=e.substring(2,66),u=e.substring(66),p=n.curve.point(o,u),b=n.g.mul(a),m=p.add(b);return"04"+(m.getX().toString("hex").padStart(64,"0")+m.getY().toString("hex").padStart(64,"0"))}function uncompressedHexPointToEvmAddress(e){const t=keccak("keccak256").update(Buffer$2.from(e.substring(2),"hex")).digest("hex");return"0x"+t.substring(t.length-40)}async function uncompressedHexPointToBtcAddress(e,t){const r=Uint8Array.from(Buffer$2.from(e,"hex")),n=await crypto.subtle.digest("SHA-256",r),a=hash$7.ripemd160().update(Buffer$2.from(n)).digest(),o=t==="mainnet"?0:111,u=Buffer$2.from([o]),p=Buffer$2.concat([u,Buffer$2.from(a)]);return bs58check$2.encode(p)}function uncompressedHexPointToXRPAddress(e){const t=new ellipticExports.ec("secp256k1"),r=e.substring(2,66),n=e.substring(66);return e=t.curve.point(r,n).encode("hex",!0),{address:npm.deriveAddress(e),childPublicKey:e}}async function generateAddressForNearMPC(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:MPC_PUBLIC_KEY,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"testnet",o=await deriveChildPublicKey(najPublicKeyStrToUncompressedHexPoint(n),e,t);const u=["ETHEREUM","BNB","AURORA","POLYGON","AVALANCHE"];let p;if(u.includes(r))p=uncompressedHexPointToEvmAddress(o);else switch(r){case"BITCOIN":p=await uncompressedHexPointToBtcAddress(o,a);break;case"XRP":({address:p,childPublicKey:o}=uncompressedHexPointToXRPAddress(o));break;default:throw new Error(`Unsupported chain: ${r}`)}return JSON.stringify({address:p,publicKey:o})}const ethereumCryptography=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:secp256k1$3.secp256k1},Symbol.toStringTag,{value:"Module"}));function getRandomBytesSync(e){return utils$o.randomBytes(e)}_default.bool;const assertBytes=_default.bytes;function bytesToUtf8(e){if(!(e instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e)}function equalsBytes(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function wrapHash(e){return t=>(_default.bytes(t),e(t))}(()=>{const e=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,t=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:t&&!e?t("crypto"):void 0,web:e}})();function isHexPrefixed$3(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}const stripHexPrefix$3=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return isHexPrefixed$3(e)?e.slice(2):e};function padToEven$3(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}function isHexString$1(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/))}const assertIsBytes=function(e){if(!(e instanceof Uint8Array)){const t=`This method only supports Uint8Array but input was: ${e}`;throw new Error(t)}},assertIsString=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}},BIGINT_0$1=BigInt(0),hexToBytesMapFirstKey={},hexToBytesMapSecondKey={};for(let e=0;e<16;e++){const t=e,r=e*16,n=e.toString(16).toLowerCase();hexToBytesMapSecondKey[n]=t,hexToBytesMapSecondKey[n.toUpperCase()]=t,hexToBytesMapFirstKey[n]=r,hexToBytesMapFirstKey[n.toUpperCase()]=r}function _unprefixedHexToBytes(e){const t=e.length,r=new Uint8Array(t/2);for(let n=0;n<t;n+=2)r[n/2]=hexToBytesMapFirstKey[e[n]]+hexToBytesMapSecondKey[e[n+1]];return r}const unprefixedHexToBytes=e=>{if(e.slice(0,2)==="0x")throw new Error("hex string is prefixed with 0x, should be unprefixed");return _unprefixedHexToBytes(padToEven$3(e))},hexByByte=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),bytesToHex$3=e=>{let t="0x";if(e===void 0||e.length===0)return t;for(const r of e)t+=hexByByte[r];return t},BIGINT_CACHE=[];for(let e=0;e<=256*256-1;e++)BIGINT_CACHE[e]=BigInt(e);const bytesToBigInt=(e,t=!1)=>{t&&e.reverse();const r=bytesToHex$3(e);return r==="0x"?BIGINT_0$1:r.length===4?BIGINT_CACHE[e[0]]:r.length===6?BIGINT_CACHE[e[0]*256+e[1]]:BigInt(r)},hexToBytes$3=e=>{if(typeof e!="string")throw new Error(`hex argument type ${typeof e} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(e))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${e}`);return e=e.slice(2),e.length%2!==0&&(e=padToEven$3(e)),_unprefixedHexToBytes(e)},intToHex$1=e=>{if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},intToBytes=e=>{const t=intToHex$1(e);return hexToBytes$3(t)},bigIntToBytes=(e,t=!1)=>{const r=toBytes$3("0x"+padToEven$3(e.toString(16)));return t?r.reverse():r},zeros$1=e=>new Uint8Array(e),setLength$1=(e,t,r)=>e.length<t?new Uint8Array([...zeros$1(t-e.length),...e]):e.subarray(-t),setLengthLeft$1=(e,t)=>(assertIsBytes(e),setLength$1(e,t)),stripZeros$1=e=>{let t=e[0];for(;e.length>0&&t.toString()==="0";)e=e.slice(1),t=e[0];return e},unpadBytes=e=>(assertIsBytes(e),stripZeros$1(e)),toBytes$3=e=>{if(e==null)return new Uint8Array;if(Array.isArray(e)||e instanceof Uint8Array)return Uint8Array.from(e);if(typeof e=="string"){if(!isHexString$1(e))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${e}`);return hexToBytes$3(e)}if(typeof e=="number")return intToBytes(e);if(typeof e=="bigint"){if(e<BIGINT_0$1)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),unprefixedHexToBytes(t)}if(e.toBytes!==void 0)return e.toBytes();throw new Error("invalid type")},validateNoLeadingZeroes$1=e=>{for(const[t,r]of Object.entries(e))if(r!==void 0&&r.length>0&&r[0]===0)throw new Error(`${t} cannot have leading zeroes, received: ${bytesToHex$3(r)}`)},bigIntToHex$1=e=>"0x"+e.toString(16),bigIntToUnpaddedBytes=e=>unpadBytes(bigIntToBytes(e)),concatBytes$2=(...e)=>{if(e.length===1)return e[0];const t=e.reduce((n,a)=>n+a.length,0),r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const o=e[n];r.set(o,a),a+=o.length}return r},MAX_UINT64$1=BigInt("0xffffffffffffffff"),MAX_INTEGER$1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),secp256k1$3.secp256k1.CURVE.n;const SECP256K1_ORDER_DIV_2$1=secp256k1$3.secp256k1.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const KECCAK256_NULL_S="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";hexToBytes$3(KECCAK256_NULL_S);const KECCAK256_RLP_ARRAY_S="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";hexToBytes$3(KECCAK256_RLP_ARRAY_S);const KECCAK256_RLP_S="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";hexToBytes$3(KECCAK256_RLP_S),Uint8Array.from([128]),BigInt(-1);const BIGINT_0=BigInt(0),BIGINT_1=BigInt(1),BIGINT_2=BigInt(2);BigInt(3),BigInt(7);const BIGINT_8=BigInt(8),BIGINT_27=BigInt(27);BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(1e9);function encode$l(e){if(Array.isArray(e)){const r=[];let n=0;for(let a=0;a<e.length;a++){const o=encode$l(e[a]);r.push(o),n+=o.length}return concatBytes$1(encodeLength$1(n,192),...r)}const t=toBytes$2(e);return t.length===1&&t[0]<128?t:concatBytes$1(encodeLength$1(t.length,128),t)}function safeSlice$1(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function decodeLength$1(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return parseHexByte$1(bytesToHex$2(e))}function encodeLength$1(e,t){if(e<56)return Uint8Array.from([e+t]);const r=numberToHex$3(e),n=r.length/2,a=numberToHex$3(t+55+n);return Uint8Array.from(hexToBytes$2(a+r))}function decode$j(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=toBytes$2(e),n=_decode$1(r);if(t)return{data:n.data,remainder:n.remainder.slice()};if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}function _decode$1(e){let t,r,n,a,o;const u=[],p=e[0];if(p<=127)return{data:e.slice(0,1),remainder:e.subarray(1)};if(p<=183){if(t=p-127,p===128?n=Uint8Array.from([]):n=safeSlice$1(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.subarray(t)}}else if(p<=191){if(r=p-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=decodeLength$1(safeSlice$1(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=safeSlice$1(e,r,t+r),{data:n,remainder:e.subarray(t+r)}}else if(p<=247){for(t=p-191,a=safeSlice$1(e,1,t);a.length;)o=_decode$1(a),u.push(o.data),a=o.remainder;return{data:u,remainder:e.subarray(t)}}else{if(r=p-246,t=decodeLength$1(safeSlice$1(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const b=r+t;if(b>e.length)throw new Error("invalid RLP: total length is larger than the data");for(a=safeSlice$1(e,r,b);a.length;)o=_decode$1(a),u.push(o.data),a=o.remainder;return{data:u,remainder:e.subarray(b)}}}const cachedHexes$1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bytesToHex$2(e){let t="";for(let r=0;r<e.length;r++)t+=cachedHexes$1[e[r]];return t}function parseHexByte$1(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function hexToBytes$2(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=parseHexByte$1(e.slice(n,n+2))}return t}function concatBytes$1(...e){if(e.length===1)return e[0];const t=e.reduce((n,a)=>n+a.length,0),r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const o=e[n];r.set(o,a),a+=o.length}return r}function utf8ToBytes$3(e){return new TextEncoder().encode(e)}function numberToHex$3(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function padToEven$2(e){return e.length%2?`0${e}`:e}function isHexPrefixed$2(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function stripHexPrefix$2(e){return typeof e!="string"?e:isHexPrefixed$2(e)?e.slice(2):e}function toBytes$2(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return isHexPrefixed$2(e)?hexToBytes$2(padToEven$2(stripHexPrefix$2(e))):utf8ToBytes$3(e);if(typeof e=="number"||typeof e=="bigint")return e?hexToBytes$2(numberToHex$3(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}const RLP$1={encode:encode$l,decode:decode$j};function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function isBytes$1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function bytes(e,...t){if(!isBytes$1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function hash$1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen),number(e.blockLen)}function exists(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,t){bytes(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(e,t=!1){return t?{h:Number(e&U32_MASK64),l:Number(e>>_32n&U32_MASK64)}:{h:Number(e>>_32n&U32_MASK64)|0,l:Number(e&U32_MASK64)|0}}function split$1(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:o,l:u}=fromBig(e[a],t);[r[a],n[a]]=[o,u]}return[r,n]}const rotlSH=(e,t,r)=>e<<r|t>>>32-r,rotlSL=(e,t,r)=>t<<r|e>>>32-r,rotlBH=(e,t,r)=>t<<r-32|e>>>64-r,rotlBL=(e,t,r)=>e<<r-32|t>>>64-r,crypto$3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,t)=>e<<32-t|e>>>t,rotl=(e,t)=>e<<t|e>>>32-t>>>0,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function byteSwap32(e){for(let t=0;t<e.length;t++)e[t]=byteSwap(e[t])}function utf8ToBytes$2(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function toBytes$1(e){return typeof e=="string"&&(e=utf8ToBytes$2(e)),bytes(e),e}class Hash{clone(){return this._cloneInto()}}const toStr={}.toString;function checkOpts(e,t){if(t!==void 0&&toStr.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function wrapConstructor(e){const t=n=>e().update(toBytes$1(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}const SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[],_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let e=0,t=_1n,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],SHA3_PI.push(2*(5*n+r)),SHA3_ROTL.push((e+1)*(e+2)/2%64);let a=_0n;for(let o=0;o<7;o++)t=(t<<_1n^(t>>_7n)*_0x71n)%_256n,t&_2n&&(a^=_1n<<(_1n<<BigInt(o))-_1n);_SHA3_IOTA.push(a)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split$1(_SHA3_IOTA,!0),rotlH=(e,t,r)=>r>32?rotlBH(e,t,r):rotlSH(e,t,r),rotlL=(e,t,r)=>r>32?rotlBL(e,t,r):rotlSL(e,t,r);function keccakP(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let u=0;u<10;u++)r[u]=e[u]^e[u+10]^e[u+20]^e[u+30]^e[u+40];for(let u=0;u<10;u+=2){const p=(u+8)%10,b=(u+2)%10,m=r[b],y=r[b+1],A=rotlH(m,y,1)^r[p],I=rotlL(m,y,1)^r[p+1];for(let M=0;M<50;M+=10)e[u+M]^=A,e[u+M+1]^=I}let a=e[2],o=e[3];for(let u=0;u<24;u++){const p=SHA3_ROTL[u],b=rotlH(a,o,p),m=rotlL(a,o,p),y=SHA3_PI[u];a=e[y],o=e[y+1],e[y]=b,e[y+1]=m}for(let u=0;u<50;u+=10){for(let p=0;p<10;p++)r[p]=e[u+p];for(let p=0;p<10;p++)e[u+p]^=~r[(p+2)%10]&r[(p+4)%10]}e[0]^=SHA3_IOTA_H[n],e[1]^=SHA3_IOTA_L[n]}r.fill(0)}class Keccak extends Hash{constructor(t,r,n,a=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=a,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){isLE||byteSwap32(this.state32),keccakP(this.state32,this.rounds),isLE||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(t){exists(this);const{blockLen:r,state:n}=this;t=toBytes$1(t);const a=t.length;for(let o=0;o<a;){const u=Math.min(r-this.pos,a-o);for(let p=0;p<u;p++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:a}=this;t[n]^=r,r&128&&n===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){exists(this,!1),bytes(t),this.finish();const r=this.state,{blockLen:n}=this;for(let a=0,o=t.length;a<o;){this.posOut>=n&&this.keccak();const u=Math.min(n-this.posOut,o-a);t.set(r.subarray(this.posOut,this.posOut+u),a),this.posOut+=u,a+=u}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:a,rounds:o,enableXOF:u}=this;return t||(t=new Keccak(r,n,a,u,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=a,t.enableXOF=u,t.destroyed=this.destroyed,t}}const gen=(e,t,r)=>wrapConstructor(()=>new Keccak(t,e,r)),keccak_256=gen(1,136,256/8),keccak256=(()=>{const e=wrapHash(keccak_256);return e.create=keccak_256.create,e})(),isValidAddress=function(e){try{assertIsString(e)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)},generateAddress=function(e,t){return assertIsBytes(e),assertIsBytes(t),bytesToBigInt(t)===BIGINT_0?keccak256(RLP$1.encode([e,Uint8Array.from([])])).subarray(-20):keccak256(RLP$1.encode([e,t])).subarray(-20)},generateAddress2=function(e,t,r){if(assertIsBytes(e),assertIsBytes(t),assertIsBytes(r),e.length!==20)throw new Error("Expected from to be of length 20");if(t.length!==32)throw new Error("Expected salt to be of length 32");return keccak256(concatBytes$2(hexToBytes$3("0xff"),e,t,keccak256(r))).subarray(-20)},pubToAddress=function(e,t=!1){if(assertIsBytes(e),t&&e.length!==64&&(e=secp256k1$3.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1)),e.length!==64)throw new Error("Expected pubKey to be of length 64");return keccak256(e).subarray(-20)},publicToAddress=pubToAddress,privateToPublic=function(e){return assertIsBytes(e),secp256k1$3.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1)},privateToAddress=function(e){return publicToAddress(privateToPublic(e))};let Address$1=class vt{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.bytes=t}static zero(){return new vt(zeros$1(20))}static fromString(t){if(!isValidAddress(t))throw new Error("Invalid address");return new vt(toBytes$3(t))}static fromPublicKey(t){if(!(t instanceof Uint8Array))throw new Error("Public key should be Uint8Array");const r=pubToAddress(t);return new vt(r)}static fromPrivateKey(t){if(!(t instanceof Uint8Array))throw new Error("Private key should be Uint8Array");const r=privateToAddress(t);return new vt(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new vt(generateAddress(t.bytes,bigIntToBytes(r)))}static generate2(t,r,n){if(!(r instanceof Uint8Array))throw new Error("Expected salt to be a Uint8Array");if(!(n instanceof Uint8Array))throw new Error("Expected initCode to be a Uint8Array");return new vt(generateAddress2(t.bytes,r,n))}equals(t){return equalsBytes(this.bytes,t.bytes)}isZero(){return this.equals(vt.zero())}isPrecompileOrSystemAddress(){const t=bytesToBigInt(this.bytes),r=BIGINT_0,n=BigInt("0xffff");return t>=r&&t<=n}toString(){return bytesToHex$3(this.bytes)}toBytes(){return new Uint8Array(this.bytes)}};var KeyEncoding;(function(e){e.String="string",e.Bytes="view",e.Number="number"})(KeyEncoding||(KeyEncoding={}));var ValueEncoding;(function(e){e.String="string",e.Bytes="view",e.JSON="json"})(ValueEncoding||(ValueEncoding={}));var TypeOutput$1;(function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Uint8Array=2]="Uint8Array",e[e.PrefixedHexString=3]="PrefixedHexString"})(TypeOutput$1||(TypeOutput$1={}));function toType$1(e,t){if(e===null)return null;if(e===void 0)return;if(typeof e=="string"&&!isHexString$1(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=toBytes$3(e);switch(t){case TypeOutput$1.Uint8Array:return r;case TypeOutput$1.BigInt:return bytesToBigInt(r);case TypeOutput$1.Number:{const n=bytesToBigInt(r);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(n)}case TypeOutput$1.PrefixedHexString:return bytesToHex$3(r);default:throw new Error("unknown outputType")}}function ecsign(e,t,r){const n=secp256k1$3.secp256k1.sign(e,t),a=n.toCompactRawBytes(),o=a.slice(0,32),u=a.slice(32,64),p=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BIGINT_2;return{r:o,s:u,v:p}}function calculateSigRecovery$1(e,t){return e===BIGINT_0||e===BIGINT_1?e:t===void 0?e-BIGINT_27:e-(t*BIGINT_2+BigInt(35))}function isValidSigRecovery$1(e){return e===BIGINT_0||e===BIGINT_1}const ecrecover$1=function(e,t,r,n,a){const o=concatBytes$2(setLengthLeft$1(r,32),setLengthLeft$1(n,32)),u=calculateSigRecovery$1(t,a);if(!isValidSigRecovery$1(u))throw new Error("Invalid signature v value");return secp256k1$3.secp256k1.Signature.fromCompact(o).addRecoveryBit(Number(u)).recoverPublicKey(e).toRawBytes(!1).slice(1)},chains={mainnet:{name:"mainnet",chainId:1,networkId:1,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{name:"paris",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1681338455",forkHash:"0xdce96c2d"},{name:"cancun",block:null,timestamp:"1710338135",forkHash:"0x9f3d2254"}],bootstrapNodes:[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"65.108.70.101",port:30303,id:"2b252ab6a1d0f971d9722cb839a42cb81db019ba44c08754628ab4a823487071b5695317c8ccd085219c3a03af063495b2f1da8d18218da2d6a82981b45e6ffc",location:"eu-west-1-001",comment:"bootnode-hetzner-hel"},{ip:"157.90.35.166",port:30303,id:"4aeb4ab6c14b23e2c4cfdce879c04b0748a20d8e9b59e25ded2a08143e265c6c25936e74cbc8e641e3312ca288673d91f2f93f8e277de3cfa444ecdaaf982052",location:"eu-central-1-001",comment:"bootnode-hetzner-fsn"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},goerli:{name:"goerli",chainId:5,networkId:5,defaultHardfork:"shanghai",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{name:"paris",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,timestamp:"1678832736",forkHash:"0xf9843abf"},{name:"cancun",block:null,timestamp:"1705473120",forkHash:"0x70cc14e2"}],bootstrapNodes:[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},sepolia:{name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"shanghai",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{name:"paris",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"},{name:"cancun",block:null,timestamp:"1706655072",forkHash:"0x88cf81d9"}],bootstrapNodes:[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"},{ip:"165.22.196.173",port:30303,id:"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6",location:"",comment:"EF"},{ip:"65.108.95.67",port:30303,id:"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6",location:"",comment:"lodestar"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},holesky:{name:"holesky",chainId:17e3,networkId:17e3,defaultHardfork:"paris",consensus:{type:"pos",algorithm:"casper"},comment:"PoS test network to replace Goerli",url:"https://github.com/eth-clients/holesky/",genesis:{baseFeePerGas:"0x3B9ACA00",difficulty:"0x01",extraData:"0x",gasLimit:"0x17D7840",nonce:"0x0000000000001234",timestamp:"0x65156994"},hardforks:[{name:"chainstart",block:0,forkHash:"0xc61a6098"},{name:"homestead",block:0,forkHash:"0xc61a6098"},{name:"tangerineWhistle",block:0,forkHash:"0xc61a6098"},{name:"spuriousDragon",block:0,forkHash:"0xc61a6098"},{name:"byzantium",block:0,forkHash:"0xc61a6098"},{name:"constantinople",block:0,forkHash:"0xc61a6098"},{name:"petersburg",block:0,forkHash:"0xc61a6098"},{name:"istanbul",block:0,forkHash:"0xc61a6098"},{name:"muirGlacier",block:0,forkHash:"0xc61a6098"},{name:"berlin",block:0,forkHash:"0xc61a6098"},{name:"london",block:0,forkHash:"0xc61a6098"},{name:"paris",ttd:"0",block:0,forkHash:"0xc61a6098"},{name:"mergeForkIdTransition",block:0,forkHash:"0xc61a6098"},{name:"shanghai",block:null,timestamp:"1696000704",forkHash:"0xfd4f016b"},{name:"cancun",block:null,timestamp:"1707305664",forkHash:"0x9b192ad0"}],bootstrapNodes:[{ip:"146.190.13.128",port:30303,id:"ac906289e4b7f12df423d654c5a962b6ebe5b3a74cc9e06292a85221f9a64a6f1cfdd6b714ed6dacef51578f92b34c60ee91e9ede9c7f8fadc4d347326d95e2b",location:"",comment:"bootnode 1"},{ip:"178.128.136.233",port:30303,id:"a3435a0155a3e837c02f5e7f5662a2f1fbc25b48e4dc232016e1c51b544cb5b4510ef633ea3278c0e970fa8ad8141e2d4d0f9f95456c537ff05fdf9b31c15072",location:"",comment:"bootnode 2"}],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.holesky.ethdisco.net"]},kaustinen:{name:"kaustinen",chainId:69420,networkId:69420,defaultHardfork:"prague",consensus:{type:"pos",algorithm:"casper"},comment:"Verkle kaustinen testnet 2 (likely temporary, do not hard-wire into production code)",url:"https://github.com/eth-clients/kaustinen/",genesis:{difficulty:"0x01",extraData:"0x",gasLimit:"0x17D7840",nonce:"0x0000000000001234",timestamp:"0x65608a64"},hardforks:[{name:"chainstart",block:0},{name:"homestead",block:0},{name:"tangerineWhistle",block:0},{name:"spuriousDragon",block:0},{name:"byzantium",block:0},{name:"constantinople",block:0},{name:"petersburg",block:0},{name:"istanbul",block:0},{name:"berlin",block:0},{name:"london",block:0},{name:"paris",ttd:"0",block:0},{name:"mergeForkIdTransition",block:0},{name:"shanghai",block:null,timestamp:"0"},{name:"prague",block:null,timestamp:"1700825700"}],bootstrapNodes:[],dnsNetworks:[]}};let TABLE=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(TABLE=new Int32Array(TABLE));const crc=(e,t)=>{let r=~~t^-1;for(let n=0;n<e.length;n++)r=TABLE[(r^e[n])&255]^r>>>8;return r^-1},crc32$1=(e,t)=>crc(e,t)>>>0;var Chain$1;(function(e){e[e.Mainnet=1]="Mainnet",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia",e[e.Holesky=17e3]="Holesky",e[e.Kaustinen=69420]="Kaustinen"})(Chain$1||(Chain$1={})),Chain$1.Mainnet+"",hexToBytes$3("0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"),Chain$1.Goerli+"",hexToBytes$3("0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"),Chain$1.Sepolia+"",hexToBytes$3("0x5eb6e371a698b8d68f665192350ffcecbbbf322916f4b51bd79bb6887da3f494"),Chain$1.Holesky+"",hexToBytes$3("0x69d8c9d72f6fa4ad42d4702b433707212f90db395eb54dc20bc85de253788783"),Chain$1.Kaustinen+"",hexToBytes$3("0x5e8519756841faf0b2c28951c451b61a4b407b70a5ce5b57992f4bec973173ff");var Hardfork$1;(function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Paris="paris",e.Shanghai="shanghai",e.Cancun="cancun",e.Prague="prague"})(Hardfork$1||(Hardfork$1={}));var ConsensusType$1;(function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"})(ConsensusType$1||(ConsensusType$1={}));var ConsensusAlgorithm$1;(function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"})(ConsensusAlgorithm$1||(ConsensusAlgorithm$1={}));var CustomChain$1;(function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"})(CustomChain$1||(CustomChain$1={}));var Status$1;(function(e){e.Stagnant="stagnant",e.Draft="draft",e.Review="review",e.Final="final"})(Status$1||(Status$1={}));const EIPs$1={1153:{comment:"Transient storage opcodes",url:"https://eips.ethereum.org/EIPS/eip-1153",status:Status$1.Review,minimumHardfork:Hardfork$1.Chainstart,requiredEIPs:[],gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}}},1559:{comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:Status$1.Final,minimumHardfork:Hardfork$1.Berlin,requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}}},2315:{comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:Status$1.Draft,minimumHardfork:Hardfork$1.Istanbul,requiredEIPs:[],gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}}},2565:{comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:Status$1.Final,minimumHardfork:Hardfork$1.Byzantium,requiredEIPs:[],gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}}},2718:{comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:Status$1.Final,minimumHardfork:Hardfork$1.Chainstart,requiredEIPs:[]},2929:{comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:Status$1.Final,minimumHardfork:Hardfork$1.Chainstart,requiredEIPs:[],gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}}},2930:{comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:Status$1.Final,minimumHardfork:Hardfork$1.Istanbul,requiredEIPs:[2718,2929],gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}}},2935:{comment:"Save historical block hashes in state (Verkle related usage, UNSTABLE)",url:"https://github.com/gballet/EIPs/pull/3/commits/2e9ac09a142b0d9fb4db0b8d4609f92e5d9990c5",status:Status$1.Draft,minimumHardfork:Hardfork$1.Chainstart,requiredEIPs:[],vm:{historyStorageAddress:{v:BigInt("0xfffffffffffffffffffffffffffffffffffffffe"),d:"The address where the historical blockhashes are stored"},historyServeWindow:{v:BigInt(256),d:"The amount of blocks to be served by the historical blockhash contract"}}},3074:{comment:"AUTH and AUTHCALL opcodes",url:"https://eips.ethereum.org/EIPS/eip-3074",status:Status$1.Review,minimumHardfork:Hardfork$1.London,requiredEIPs:[],gasPrices:{auth:{v:3100,d:"Gas cost of the AUTH opcode"},authcall:{v:0,d:"Gas cost of the AUTHCALL opcode"},authcallValueTransfer:{v:6700,d:"Paid for CALL when the value transfer is non-zero"}}},3198:{comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:Status$1.Final,minimumHardfork:Hardfork$1.London,requiredEIPs:[],gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}}},3529:{comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:Status$1.Final,minimumHardfork:Hardfork$1.Berlin,requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}}},3540:{comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:Status$1.Review,minimumHardfork:Hardfork$1.London,requiredEIPs:[3541]},3541:{comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:Status$1.Final,minimumHardfork:Hardfork$1.Berlin,requiredEIPs:[]},3554:{comment:"Difficulty Bomb Delay to December 1st 2021",url:"https://eips.ethereum.org/EIPS/eip-3554",status:Status$1.Final,minimumHardfork:Hardfork$1.MuirGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:Status$1.Final,minimumHardfork:Hardfork$1.Chainstart,requiredEIPs:[]},3651:{comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:Status$1.Review,minimumHardfork:Hardfork$1.London,requiredEIPs:[2929]},3670:{comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:Hardfork$1.London,requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:Status$1.Final,minimumHardfork:Hardfork$1.London,requiredEIPs:[]},3855:{comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:Status$1.Review,minimumHardfork:Hardfork$1.Chainstart,requiredEIPs:[],gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}}},3860:{comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:Status$1.Review,minimumHardfork:Hardfork$1.SpuriousDragon,requiredEIPs:[],gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}}},4345:{comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:Status$1.Final,minimumHardfork:Hardfork$1.London,requiredEIPs:[],pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:Status$1.Review,minimumHardfork:Hardfork$1.London,requiredEIPs:[],gasPrices:{prevrandao:{v:2,d:"Base fee of the PREVRANDAO opcode (previously DIFFICULTY)"}}},4788:{comment:"Beacon block root in the EVM",url:"https://eips.ethereum.org/EIPS/eip-4788",status:Status$1.Draft,minimumHardfork:Hardfork$1.Cancun,requiredEIPs:[],gasPrices:{},vm:{historicalRootsLength:{v:8191,d:"The modulo parameter of the beaconroot ring buffer in the beaconroot statefull precompile"}}},4844:{comment:"Shard Blob Transactions",url:"https://eips.ethereum.org/EIPS/eip-4844",status:Status$1.Draft,minimumHardfork:Hardfork$1.Paris,requiredEIPs:[1559,2718,2930,4895],gasConfig:{blobGasPerBlob:{v:131072,d:"The base fee for blob gas per blob"},targetBlobGasPerBlock:{v:393216,d:"The target blob gas consumed per block"},maxblobGasPerBlock:{v:786432,d:"The max blob gas allowable per block"},blobGasPriceUpdateFraction:{v:3338477,d:"The denominator used in the exponential when calculating a blob gas price"}},gasPrices:{simpleGasPerBlob:{v:12e3,d:"The basic gas fee for each blob"},minBlobGasPrice:{v:1,d:"The minimum fee per blob gas"},kzgPointEvaluationGasPrecompilePrice:{v:5e4,d:"The fee associated with the point evaluation precompile"},blobhash:{v:3,d:"Base fee of the BLOBHASH opcode"}},sharding:{blobCommitmentVersionKzg:{v:1,d:"The number indicated a versioned hash is a KZG commitment"},fieldElementsPerBlob:{v:4096,d:"The number of field elements allowed per blob"}}},4895:{comment:"Beacon chain push withdrawals as operations",url:"https://eips.ethereum.org/EIPS/eip-4895",status:Status$1.Review,minimumHardfork:Hardfork$1.Paris,requiredEIPs:[]},5133:{comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:Status$1.Draft,minimumHardfork:Hardfork$1.GrayGlacier,requiredEIPs:[],pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},5656:{comment:"MCOPY - Memory copying instruction",url:"https://eips.ethereum.org/EIPS/eip-5656",status:Status$1.Draft,minimumHardfork:Hardfork$1.Shanghai,requiredEIPs:[],gasPrices:{mcopy:{v:3,d:"Base fee of the MCOPY opcode"}}},6780:{comment:"SELFDESTRUCT only in same transaction",url:"https://eips.ethereum.org/EIPS/eip-6780",status:Status$1.Draft,minimumHardfork:Hardfork$1.London,requiredEIPs:[]},6800:{comment:"Ethereum state using a unified verkle tree (experimental)",url:"https://github.com/ethereum/EIPs/pull/6800",status:Status$1.Draft,minimumHardfork:Hardfork$1.London,requiredEIPs:[]},7516:{comment:"BLOBBASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-7516",status:Status$1.Draft,minimumHardfork:Hardfork$1.Paris,requiredEIPs:[4844],gasPrices:{blobbasefee:{v:2,d:"Gas cost of the BLOBBASEFEE opcode"}}}};var Status;(function(e){e.Draft="draft",e.Review="review",e.Final="final"})(Status||(Status={}));const hardforks$1={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:Status.Final,gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},keccak256:{v:30,d:"Base fee of the SHA3 opcode"},keccak256Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:BigInt("5000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:Status.Final,gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:Status.Final},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:Status.Final,gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:Status.Final,gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:Status.Final,gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},pow:{minerReward:{v:BigInt("3000000000000000000"),d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:Status.Final,gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},pow:{minerReward:{v:BigInt("2000000000000000000"),d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:Status.Final,gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:Status.Final,gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:Status.Final,pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:Status.Final,eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:Status.Final,eips:[1559,3198,3529,3541]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:Status.Final,eips:[4345]},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:Status.Final,eips:[5133]},paris:{name:"paris",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:Status.Final,consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:Status.Final,eips:[]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:Status.Final,eips:[3651,3855,3860,4895]},cancun:{name:"cancun",comment:"Next feature hardfork after shanghai, includes proto-danksharding EIP 4844 blobs (still WIP hence not for production use), transient storage opcodes, parent beacon block root availability in EVM, selfdestruct only in same transaction, and blob base fee opcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/cancun.md",status:Status.Final,eips:[1153,4844,4788,5656,6780,7516]},prague:{name:"prague",comment:"Next feature hardfork after cancun, internally used for verkle testing/implementation (incomplete/experimental)",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/prague.md",status:Status.Draft,eips:[6800]}};function formatNonce$1(e){return!e||e==="0x0"?"0x0000000000000000":isHexPrefixed$3(e)?"0x"+stripHexPrefix$3(e).padStart(16,"0"):"0x"+e.padStart(16,"0")}function parseGethParams$1(e,t=!0){const{name:r,config:n,difficulty:a,mixHash:o,gasLimit:u,coinbase:p,baseFeePerGas:b,excessBlobGas:m}=e;let{extraData:y,timestamp:A,nonce:I}=e;const M=Number(A),{chainId:C}=n;if(y===""&&(y="0x"),isHexPrefixed$3(A)||(A=intToHex$1(parseInt(A))),I.length!==18&&(I=formatNonce$1(I)),n.eip155Block!==n.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const P={name:r,chainId:C,networkId:C,genesis:{timestamp:A,gasLimit:u,difficulty:a,nonce:I,extraData:y,mixHash:o,coinbase:p,baseFeePerGas:b,excessBlobGas:m},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:n.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:n.clique.period??n.clique.blockperiodseconds,epoch:n.clique.epoch??n.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},B={[Hardfork$1.Homestead]:{name:"homesteadBlock"},[Hardfork$1.Dao]:{name:"daoForkBlock"},[Hardfork$1.TangerineWhistle]:{name:"eip150Block"},[Hardfork$1.SpuriousDragon]:{name:"eip155Block"},[Hardfork$1.Byzantium]:{name:"byzantiumBlock"},[Hardfork$1.Constantinople]:{name:"constantinopleBlock"},[Hardfork$1.Petersburg]:{name:"petersburgBlock"},[Hardfork$1.Istanbul]:{name:"istanbulBlock"},[Hardfork$1.MuirGlacier]:{name:"muirGlacierBlock"},[Hardfork$1.Berlin]:{name:"berlinBlock"},[Hardfork$1.London]:{name:"londonBlock"},[Hardfork$1.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:t},[Hardfork$1.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Hardfork$1.Cancun]:{name:"cancunTime",postMerge:!0,isTimestamp:!0},[Hardfork$1.Prague]:{name:"pragueTime",postMerge:!0,isTimestamp:!0}},k=Object.keys(B).reduce((L,K)=>(L[B[K].name]=K,L),{}),N=Object.keys(n).filter(L=>k[L]!==void 0&&n[L]!==void 0&&n[L]!==null);P.hardforks=N.map(L=>({name:k[L],block:B[k[L]].isTimestamp===!0||typeof n[L]!="number"?null:n[L],timestamp:B[k[L]].isTimestamp===!0&&typeof n[L]=="number"?n[L]:void 0})).filter(L=>L.block!==null||L.timestamp!==void 0),P.hardforks.sort(function(L,K){return(L.block??1/0)-(K.block??1/0)}),P.hardforks.sort(function(L,K){return(L.timestamp??0)-(K.timestamp??0)});for(const L of P.hardforks)L.timestamp===M&&(L.timestamp=0);if(n.terminalTotalDifficulty!==void 0){const L={name:Hardfork$1.Paris,ttd:n.terminalTotalDifficulty,block:null},K=P.hardforks.findIndex(J=>{var ce;return((ce=B[J.name])==null?void 0:ce.postMerge)===!0});K!==-1?P.hardforks.splice(K,0,L):P.hardforks.push(L)}const D=P.hardforks.length>0?P.hardforks.slice(-1)[0]:void 0;return P.hardfork=D==null?void 0:D.name,P.hardforks.unshift({name:Hardfork$1.Chainstart,block:0}),P}function parseGethGenesis$1(e,t,r){try{const n=["config","difficulty","gasLimit","nonce","alloc"];if(n.some(a=>!(a in e))){const a=n.filter(o=>!(o in e));throw new Error(`Invalid format, expected geth genesis field "${a}" missing`)}return t!==void 0&&(e.name=t),parseGethParams$1(e,r)}catch(n){throw new Error(`Error parsing parameters file: ${n.message}`)}}let Common$1=class $t{constructor(t){this._eips=[],this._paramsCache={},this._activatedEIPsCache=[],this.events=new eventsExports.EventEmitter,this._customChains=t.customChains??[],this._chainParams=this.setChain(t.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??Hardfork$1.Shanghai,this.HARDFORK_CHANGES=this.hardforks().map(r=>[r.name,hardforks$1[r.name]??(this._chainParams.customHardforks&&this._chainParams.customHardforks[r.name])]),this._hardfork=this.DEFAULT_HARDFORK,t.hardfork!==void 0&&this.setHardfork(t.hardfork),t.eips&&this.setEIPs(t.eips),this.customCrypto=t.customCrypto??{},Object.keys(this._paramsCache).length===0&&(this._buildParamsCache(),this._buildActivatedEIPsCache())}static custom(t,r={}){const n=r.baseChain??"mainnet",a={...$t._getChainParams(n)};if(a.name="custom-chain",typeof t!="string")return new $t({chain:{...a,...t},...r});if(t===CustomChain$1.PolygonMainnet)return $t.custom({name:CustomChain$1.PolygonMainnet,chainId:137,networkId:137},r);if(t===CustomChain$1.PolygonMumbai)return $t.custom({name:CustomChain$1.PolygonMumbai,chainId:80001,networkId:80001},r);if(t===CustomChain$1.ArbitrumOne)return $t.custom({name:CustomChain$1.ArbitrumOne,chainId:42161,networkId:42161},r);if(t===CustomChain$1.xDaiChain)return $t.custom({name:CustomChain$1.xDaiChain,chainId:100,networkId:100},r);if(t===CustomChain$1.OptimisticKovan)return $t.custom({name:CustomChain$1.OptimisticKovan,chainId:69,networkId:69},{hardfork:Hardfork$1.Berlin,...r});if(t===CustomChain$1.OptimisticEthereum)return $t.custom({name:CustomChain$1.OptimisticEthereum,chainId:10,networkId:10},{hardfork:Hardfork$1.Berlin,...r});throw new Error(`Custom chain ${t} not supported`)}static fromGethGenesis(t,{chain:r,eips:n,genesisHash:a,hardfork:o,mergeForkIdPostMerge:u,customCrypto:p}){const b=parseGethGenesis$1(t,r,u),m=new $t({chain:b.name??"custom",customChains:[b],eips:n,hardfork:o??b.hardfork,customCrypto:p});return a!==void 0&&m.setForkHashes(a),m}static isSupportedChainId(t){return!!this.getInitializedChains().names[t.toString()]}static _getChainParams(t,r){const n=this.getInitializedChains(r);if(typeof t=="number"||typeof t=="bigint"){if(t=t.toString(),n.names[t]){const a=n.names[t];return n[a]}throw new Error(`Chain with ID ${t} not supported`)}if(n[t]!==void 0)return n[t];throw new Error(`Chain with name ${t} not supported`)}setChain(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")this._chainParams=$t._getChainParams(t,this._customChains);else if(typeof t=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const r=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of r)if(!(n in t))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=t}else throw new Error("Wrong input format");for(const r of this.hardforks())if(r.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(t){let r=!1;for(const n of this.HARDFORK_CHANGES)n[0]===t&&(this._hardfork!==t&&(this._hardfork=t,this._buildParamsCache(),this._buildActivatedEIPsCache(),this.events.emit("hardforkChanged",t)),r=!0);if(!r)throw new Error(`Hardfork with name ${t} not supported`)}getHardforkBy(t){const r=toType$1(t.blockNumber,TypeOutput$1.BigInt),n=toType$1(t.td,TypeOutput$1.BigInt),a=toType$1(t.timestamp,TypeOutput$1.BigInt),o=this.hardforks().filter(m=>m.block!==null||m.ttd!==null&&m.ttd!==void 0||m.timestamp!==void 0),u=o.findIndex(m=>m.ttd!==null&&m.ttd!==void 0);if(o.slice(u+1).findIndex(m=>m.ttd!==null&&m.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let p=o.findIndex(m=>r!==void 0&&m.block!==null&&BigInt(m.block)>r||a!==void 0&&m.timestamp!==void 0&&BigInt(m.timestamp)>a);if(p===-1)p=o.length;else if(p===0)throw Error("Must have at least one hardfork at block 0");if(a===void 0){const m=o.slice(0,p).reverse().findIndex(y=>y.block!==null||y.ttd!==void 0);p=p-m}if(p=p-1,o[p].block===null&&o[p].timestamp===void 0)(n==null||BigInt(o[p].ttd)>n)&&(p-=1);else if(u>=0&&n!==void 0&&n!==null){if(p>=u&&BigInt(o[u].ttd)>n)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(p<u&&BigInt(o[u].ttd)<n)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const b=p;for(;p<o.length-1&&!(o[p].block!==o[p+1].block||o[p].timestamp!==o[p+1].timestamp);p++);if(a!==void 0){if(o.slice(0,b).reduce((m,y)=>Math.max(Number(y.timestamp??"0"),m),0)>a)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(o.slice(p+1).reduce((m,y)=>Math.min(Number(y.timestamp??a),m),Number(a))<a)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return o[p].name}setHardforkBy(t){const r=this.getHardforkBy(t);return this.setHardfork(r),r}_getHardfork(t){const r=this.hardforks();for(const n of r)if(n.name===t)return n;return null}setEIPs(t=[]){for(const r of t){if(!(r in EIPs$1))throw new Error(`${r} not supported`);const n=this.gteHardfork(EIPs$1[r].minimumHardfork);if(!n)throw new Error(`${r} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`)}this._eips=t,this._buildParamsCache(),this._buildActivatedEIPsCache();for(const r of t)if(EIPs$1[r].requiredEIPs!==void 0){for(const n of EIPs$1[r].requiredEIPs)if(!(t.includes(n)||this.isActivatedEIP(n)))throw new Error(`${r} requires EIP ${n}, but is not included in the EIP list`)}}_mergeWithParamsCache(t){this._paramsCache.gasConfig={...this._paramsCache.gasConfig,...t.gasConfig},this._paramsCache.gasPrices={...this._paramsCache.gasPrices,...t.gasPrices},this._paramsCache.pow={...this._paramsCache.pow,...t.pow},this._paramsCache.sharding={...this._paramsCache.sharding,...t.sharding},this._paramsCache.vm={...this._paramsCache.vm,...t.vm}}_buildParamsCache(){this._paramsCache={};const t=this.hardfork();for(const r of this.HARDFORK_CHANGES){if("eips"in r[1]){const n=r[1].eips;for(const a of n){if(!(a in EIPs$1))throw new Error(`${a} not supported`);this._mergeWithParamsCache(EIPs$1[a])}}else this._mergeWithParamsCache(r[1]);if(r[0]===t)break}for(const r of this._eips){if(!(r in EIPs$1))throw new Error(`${r} not supported`);this._mergeWithParamsCache(EIPs$1[r])}}_buildActivatedEIPsCache(){this._activatedEIPsCache=[];for(const t of this.HARDFORK_CHANGES){const r=t[1];this.gteHardfork(r.name)&&"eips"in r&&(this._activatedEIPsCache=this._activatedEIPsCache.concat(r.eips))}this._activatedEIPsCache=this._activatedEIPsCache.concat(this._eips)}param(t,r){let n=null;return this._paramsCache[t]!==void 0&&this._paramsCache[t][r]!==void 0&&(n=this._paramsCache[t][r].v),BigInt(n??0)}paramByHardfork(t,r,n){let a=null;for(const o of this.HARDFORK_CHANGES){if("eips"in o[1]){const u=o[1].eips;for(const p of u){const b=this.paramByEIP(t,r,p);a=typeof b=="bigint"?b:a}}else o[1][t]!==void 0&&o[1][t][r]!==void 0&&(a=o[1][t][r].v);if(o[0]===n)break}return BigInt(a??0)}paramByEIP(t,r,n){if(!(n in EIPs$1))throw new Error(`${n} not supported`);const a=EIPs$1[n];if(!(t in a)||a[t][r]===void 0)return;const o=a[t][r].v;return BigInt(o)}paramByBlock(t,r,n,a,o){const u=this.getHardforkBy({blockNumber:n,td:a,timestamp:o});return this.paramByHardfork(t,r,u)}isActivatedEIP(t){return!!this._activatedEIPsCache.includes(t)}hardforkIsActiveOnBlock(t,r){r=toType$1(r,TypeOutput$1.BigInt),t=t??this._hardfork;const n=this.hardforkBlock(t);return typeof n=="bigint"&&n!==BIGINT_0&&r>=n}activeOnBlock(t){return this.hardforkIsActiveOnBlock(null,t)}hardforkGteHardfork(t,r){t=t??this._hardfork;const n=this.hardforks();let a=-1,o=-1,u=0;for(const p of n)p.name===t&&(a=u),p.name===r&&(o=u),u+=1;return a>=o&&o!==-1}gteHardfork(t){return this.hardforkGteHardfork(null,t)}hardforkBlock(t){var n;t=t??this._hardfork;const r=(n=this._getHardfork(t))==null?void 0:n.block;return r==null?null:BigInt(r)}hardforkTimestamp(t){var n;t=t??this._hardfork;const r=(n=this._getHardfork(t))==null?void 0:n.timestamp;return r==null?null:BigInt(r)}eipBlock(t){for(const r of this.HARDFORK_CHANGES){const n=r[1];if("eips"in n&&n.eips.includes(t))return this.hardforkBlock(r[0])}return null}eipTimestamp(t){for(const r of this.HARDFORK_CHANGES){const n=r[1];if("eips"in n&&n.eips.includes(t))return this.hardforkTimestamp(r[0])}return null}hardforkTTD(t){var n;t=t??this._hardfork;const r=(n=this._getHardfork(t))==null?void 0:n.ttd;return r==null?null:BigInt(r)}nextHardforkBlockOrTimestamp(t){t=t??this._hardfork;const r=this.hardforks();let n=r.findIndex(p=>p.name===t);if(t===Hardfork$1.Paris&&(n-=1),n<0)return null;let a=r[n].timestamp??r[n].block;a=a!=null?Number(a):null;const o=r.slice(n+1).find(p=>{let b=p.timestamp??p.block;return b=b!=null?Number(b):null,p.name!==Hardfork$1.Paris&&b!==null&&b!==void 0&&b!==a});if(o===void 0)return null;const u=o.timestamp??o.block;return u==null?null:BigInt(u)}_calcForkHash(t,r){let n=new Uint8Array(0),a=0;for(const u of this.hardforks()){const{block:p,timestamp:b,name:m}=u;let y=b??p;if(y=y!==null?Number(y):null,typeof y=="number"&&y!==0&&y!==a&&m!==Hardfork$1.Paris){const A=hexToBytes$3("0x"+y.toString(16).padStart(16,"0"));n=concatBytes$2(n,A),a=y}if(u.name===t)break}const o=concatBytes$2(r,n);return bytesToHex$3(intToBytes(crc32$1(o)>>>0))}forkHash(t,r){t=t??this._hardfork;const n=this._getHardfork(t);if(n===null||(n==null?void 0:n.block)===null&&(n==null?void 0:n.timestamp)===void 0&&(n==null?void 0:n.ttd)===void 0){const a="No fork hash calculation possible for future hardfork";throw new Error(a)}if((n==null?void 0:n.forkHash)!==null&&(n==null?void 0:n.forkHash)!==void 0)return n.forkHash;if(!r)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(t,r)}hardforkForForkHash(t){const r=this.hardforks().filter(n=>n.forkHash===t);return r.length>=1?r[r.length-1]:null}setForkHashes(t){for(const r of this.hardforks()){const n=r.timestamp??r.block;(r.forkHash===null||r.forkHash===void 0)&&(n!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,t))}}genesis(){return this._chainParams.genesis}hardforks(){const t=this._chainParams.hardforks;return this._chainParams.customHardforks!==void 0&&this._chainParams.customHardforks,t}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const t=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.type),n[0]===t)break;return r??this._chainParams.consensus.type}consensusAlgorithm(){const t=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.algorithm),n[0]===t)break;return r??this._chainParams.consensus.algorithm}consensusConfig(){const t=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES){if("consensus"in n[1]){const a=n[1],o=a.consensus.algorithm;r=a.consensus[o]}if(n[0]===t)break}return r??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return t.events=new eventsExports.EventEmitter,t}static getInitializedChains(t){const r={};for(const[a,o]of Object.entries(Chain$1))r[o]=a.toLowerCase();const n={...chains};if(t)for(const a of t){const{name:o}=a;r[a.chainId.toString()]=o,n[o]=a}return n.names=r,n}};var Capability$1;(function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"})(Capability$1||(Capability$1={}));function isAccessListBytes(e){if(e.length===0)return!0;const t=e[0];return!!Array.isArray(t)}function isAccessList$1(e){return!isAccessListBytes(e)}var TransactionType;(function(e){e[e.Legacy=0]="Legacy",e[e.AccessListEIP2930=1]="AccessListEIP2930",e[e.FeeMarketEIP1559=2]="FeeMarketEIP1559",e[e.BlobEIP4844=3]="BlobEIP4844"})(TransactionType||(TransactionType={}));function checkMaxInitCodeSize$1(e,t){const r=e.param("vm","maxInitCodeSize");if(r&&BigInt(t)>r)throw new Error(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("vm","maxInitCodeSize")}`)}class AccessLists{static getAccessListData(t){let r,n;if(isAccessList$1(t)){r=t;const a=[];for(let o=0;o<t.length;o++){const u=t[o],p=hexToBytes$3(u.address),b=[];for(let m=0;m<u.storageKeys.length;m++)b.push(hexToBytes$3(u.storageKeys[m]));a.push([p,b])}n=a}else{n=t??[];const a=[];for(let o=0;o<n.length;o++){const u=n[o],p=bytesToHex$3(u[0]),b=[];for(let y=0;y<u[1].length;y++)b.push(bytesToHex$3(u[1][y]));const m={address:p,storageKeys:b};a.push(m)}r=a}return{AccessListJSON:r,accessList:n}}static verifyAccessList(t){for(let r=0;r<t.length;r++){const n=t[r],a=n[0],o=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(a.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let u=0;u<o.length;u++)if(o[u].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(t){const r=[];for(let n=0;n<t.length;n++){const a=t[n],o={address:bytesToHex$3(setLengthLeft$1(a[0],20)),storageKeys:[]},u=a[1];for(let p=0;p<u.length;p++){const b=u[p];o.storageKeys.push(bytesToHex$3(setLengthLeft$1(b,32)))}r.push(o)}return r}static getDataFeeEIP2930(t,r){const n=r.param("gasPrices","accessListStorageKeyCost"),a=r.param("gasPrices","accessListAddressCost");let o=0;for(let u=0;u<t.length;u++){const p=t[u][1];o+=p.length}return t.length*Number(a)+o*Number(n)}}function txTypeBytes(e){return hexToBytes$3("0x"+e.toString(16).padStart(2,"0"))}let BaseTransaction$1=class{constructor(e,t){this.cache={hash:void 0,dataFee:void 0,senderPubKey:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Chain$1.Mainnet;const{nonce:r,gasLimit:n,to:a,value:o,data:u,v:p,r:b,s:m,type:y}=e;this._type=Number(bytesToBigInt(toBytes$3(y))),this.txOptions=t;const A=toBytes$3(a===""?"0x":a),I=toBytes$3(p===""?"0x":p),M=toBytes$3(b===""?"0x":b),C=toBytes$3(m===""?"0x":m);this.nonce=bytesToBigInt(toBytes$3(r===""?"0x":r)),this.gasLimit=bytesToBigInt(toBytes$3(n===""?"0x":n)),this.to=A.length>0?new Address$1(A):void 0,this.value=bytesToBigInt(toBytes$3(o===""?"0x":o)),this.data=toBytes$3(u===""?"0x":u),this.v=I.length>0?bytesToBigInt(I):void 0,this.r=M.length>0?bytesToBigInt(M):void 0,this.s=C.length>0?bytesToBigInt(C):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const P=this.to===void 0||this.to===null,B=t.allowUnlimitedInitCodeSize??!1,k=t.common??this._getCommon();P&&k.isActivatedEIP(3860)&&B===!1&&checkMaxInitCodeSize$1(k,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}getValidationErrors(){const e=[];return this.isSigned()&&!this.verifySignature()&&e.push("Invalid Signature"),this.getBaseFee()>this.gasLimit&&e.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),e}isValid(){return this.getValidationErrors().length===0}getBaseFee(){const e=this.common.param("gasPrices","tx");let t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(t+=r)}return t}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero");let r=BIGINT_0;for(let n=0;n<this.data.length;n++)this.data[n]===0?r+=e:r+=t;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const n=BigInt(Math.ceil(this.data.length/32)),a=this.common.param("gasPrices","initCodeWordCost")*n;r+=a}return r}toCreationAddress(){return this.to===void 0||this.to.bytes.length===0}isSigned(){const{v:e,r:t,s:r}=this;return!(e===void 0||t===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return unpadBytes(e).length!==0}catch{return!1}}getSenderAddress(){return new Address$1(publicToAddress(this.getSenderPublicKey()))}sign(e){var b;if(e.length!==32){const m=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(m)}let t=!1;this.type===TransactionType.Legacy&&this.common.gteHardfork("spuriousDragon")&&!this.supports(Capability$1.EIP155ReplayProtection)&&(this.activeCapabilities.push(Capability$1.EIP155ReplayProtection),t=!0);const r=this.getHashedMessageToSign(),n=((b=this.common.customCrypto)==null?void 0:b.ecsign)??ecsign,{v:a,r:o,s:u}=n(r,e),p=this.addSignature(a,o,u,!0);if(t){const m=this.activeCapabilities.indexOf(Capability$1.EIP155ReplayProtection);m>-1&&this.activeCapabilities.splice(m,1)}return p}toJSON(){return{type:bigIntToHex$1(BigInt(this.type)),nonce:bigIntToHex$1(this.nonce),gasLimit:bigIntToHex$1(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:bigIntToHex$1(this.value),data:bytesToHex$3(this.data),v:this.v!==void 0?bigIntToHex$1(this.v):void 0,r:this.r!==void 0?bigIntToHex$1(this.r):void 0,s:this.s!==void 0?bigIntToHex$1(this.s):void 0}}_getCommon(e,t){if(t!==void 0){const r=bytesToBigInt(toBytes$3(t));if(e){if(e.chainId()!==r){const n=this._errorMsg(`The chain ID does not match the chain ID of Common. Got: ${r}, expected: ${e.chainId}`);throw new Error(n)}return e.copy()}else return Common$1.isSupportedChainId(r)?new Common$1({chain:r}):Common$1.custom({name:"custom-chain",networkId:r,chainId:r},{baseChain:this.DEFAULT_CHAIN})}else return(e==null?void 0:e.copy())??new Common$1({chain:this.DEFAULT_CHAIN})}_validateCannotExceedMaxInteger(e,t=256,r=!1){for(const[n,a]of Object.entries(e))switch(t){case 64:if(r){if(a!==void 0&&a>=MAX_UINT64$1){const o=this._errorMsg(`${n} cannot equal or exceed MAX_UINT64 (2^64-1), given ${a}`);throw new Error(o)}}else if(a!==void 0&&a>MAX_UINT64$1){const o=this._errorMsg(`${n} cannot exceed MAX_UINT64 (2^64-1), given ${a}`);throw new Error(o)}break;case 256:if(r){if(a!==void 0&&a>=MAX_INTEGER$1){const o=this._errorMsg(`${n} cannot equal or exceed MAX_INTEGER (2^256-1), given ${a}`);throw new Error(o)}}else if(a!==void 0&&a>MAX_INTEGER$1){const o=this._errorMsg(`${n} cannot exceed MAX_INTEGER (2^256-1), given ${a}`);throw new Error(o)}break;default:{const o=this._errorMsg("unimplemented bits value");throw new Error(o)}}}static _validateNotArray(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,n]of Object.entries(e))if(t.includes(r)&&Array.isArray(n))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?bytesToHex$3(this.hash()):"not available (unsigned)"}catch{e="error"}let t="";try{t=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let n=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return n+=`signed=${t} hf=${r}`,n}};function getUpfrontCost(e,t){const r=e.maxPriorityFeePerGas,n=e.maxFeePerGas-t,a=(r<n?r:n)+t;return e.gasLimit*a+e.value}function getEffectivePriorityFee$1(e,t){if(t===void 0||t>e.maxFeePerGas)throw new Error("Tx cannot pay baseFee");const r=e.maxFeePerGas-t;return e.maxPriorityFeePerGas<r?e.maxPriorityFeePerGas:r}function errorMsg(e,t){return`${t} (${e.errorStr()})`}function getDataFee$1(e,t){if(e.cache.dataFee&&e.cache.dataFee.hardfork===e.common.hardfork())return e.cache.dataFee.value;const r=BaseTransaction$1.prototype.getDataFee.bind(e)()+(t??0n);return Object.isFrozen(e)&&(e.cache.dataFee={value:r,hardfork:e.common.hardfork()}),r}function hash(e){if(!e.isSigned()){const r=errorMsg(e,"Cannot call hash method if transaction is not signed");throw new Error(r)}const t=e.common.customCrypto.keccak256??keccak256;return Object.isFrozen(e)?(e.cache.hash||(e.cache.hash=t(e.serialize())),e.cache.hash):t(e.serialize())}function validateHighS(e){const{s:t}=e;if(e.common.gteHardfork("homestead")&&t!==void 0&&t>SECP256K1_ORDER_DIV_2$1){const r=errorMsg(e,"Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}}function getSenderPublicKey(e){if(e.cache.senderPubKey!==void 0)return e.cache.senderPubKey;const t=e.getMessageToVerifySignature(),{v:r,r:n,s:a}=e;validateHighS(e);try{const o=(e.common.customCrypto.ecrecover??ecrecover$1)(t,r,bigIntToUnpaddedBytes(n),bigIntToUnpaddedBytes(a),e.supports(Capability$1.EIP155ReplayProtection)?e.common.chainId():void 0);return Object.isFrozen(e)&&(e.cache.senderPubKey=o),o}catch{const o=errorMsg(e,"Invalid Signature");throw new Error(o)}}function getEffectivePriorityFee(e,t){if(t!==void 0&&t>e)throw new Error("Tx cannot pay baseFee");return t===void 0?e:e-t}function getHashedMessageToSign(e){return(e.common.customCrypto.keccak256??keccak256)(e.getMessageToSign())}function serialize(e,t){return concatBytes$2(txTypeBytes(e.type),RLP$1.encode(t??e.raw()))}function validateYParity(e){const{v:t}=e;if(t!==void 0&&t!==BIGINT_0&&t!==BIGINT_1){const r=errorMsg(e,"The y-parity of the transaction should either be 0 or 1");throw new Error(r)}}function getDataFee(e){return getDataFee$1(e,BigInt(AccessLists.getDataFeeEIP2930(e.accessList,e.common)))}let FeeMarketEIP1559Transaction$1=class _t extends BaseTransaction$1{constructor(t,r={}){super({...t,type:TransactionType.FeeMarketEIP1559},r);const{chainId:n,accessList:a,maxFeePerGas:o,maxPriorityFeePerGas:u}=t;if(this.common=this._getCommon(r.common,n),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const p=AccessLists.getAccessListData(a??[]);if(this.accessList=p.accessList,this.AccessListJSON=p.AccessListJSON,AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=bytesToBigInt(toBytes$3(o===""?"0x":o)),this.maxPriorityFeePerGas=bytesToBigInt(toBytes$3(u===""?"0x":u)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),BaseTransaction$1._validateNotArray(t),this.gasLimit*this.maxFeePerGas>MAX_INTEGER$1){const b=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(b)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const b=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(b)}validateYParity(this),validateHighS(this),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(t,r={}){return new _t(t,r)}static fromSerializedTx(t,r={}){if(equalsBytes(t.subarray(0,1),txTypeBytes(TransactionType.FeeMarketEIP1559))===!1)throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${TransactionType.FeeMarketEIP1559}, received: ${bytesToHex$3(t.subarray(0,1))}`);const n=RLP$1.decode(t.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return _t.fromValuesArray(n,r)}static fromValuesArray(t,r={}){if(t.length!==9&&t.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,a,o,u,p,b,m,y,A,I,M,C]=t;return this._validateNotArray({chainId:n,v:I}),validateNoLeadingZeroes$1({nonce:a,maxPriorityFeePerGas:o,maxFeePerGas:u,gasLimit:p,value:m,v:I,r:M,s:C}),new _t({chainId:bytesToBigInt(n),nonce:a,maxPriorityFeePerGas:o,maxFeePerGas:u,gasLimit:p,to:b,value:m,data:y,accessList:A??[],v:I!==void 0?bytesToBigInt(I):void 0,r:M,s:C},r)}getDataFee(){return getDataFee(this)}getEffectivePriorityFee(t){return getEffectivePriorityFee$1(this,t)}getUpfrontCost(t=BIGINT_0){return getUpfrontCost(this,t)}raw(){return[bigIntToUnpaddedBytes(this.chainId),bigIntToUnpaddedBytes(this.nonce),bigIntToUnpaddedBytes(this.maxPriorityFeePerGas),bigIntToUnpaddedBytes(this.maxFeePerGas),bigIntToUnpaddedBytes(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),bigIntToUnpaddedBytes(this.value),this.data,this.accessList,this.v!==void 0?bigIntToUnpaddedBytes(this.v):new Uint8Array(0),this.r!==void 0?bigIntToUnpaddedBytes(this.r):new Uint8Array(0),this.s!==void 0?bigIntToUnpaddedBytes(this.s):new Uint8Array(0)]}serialize(){return serialize(this)}getMessageToSign(){return serialize(this,this.raw().slice(0,9))}getHashedMessageToSign(){return getHashedMessageToSign(this)}hash(){return hash(this)}getMessageToVerifySignature(){return this.getHashedMessageToSign()}getSenderPublicKey(){return getSenderPublicKey(this)}addSignature(t,r,n,a=!1){r=toBytes$3(r),n=toBytes$3(n);const o={...this.txOptions,common:this.common};return _t.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:a?t-BIGINT_27:t,r:bytesToBigInt(r),s:bytesToBigInt(n)},o)}toJSON(){const t=AccessLists.getAccessListJSON(this.accessList);return{...super.toJSON(),chainId:bigIntToHex$1(this.chainId),maxPriorityFeePerGas:bigIntToHex$1(this.maxPriorityFeePerGas),maxFeePerGas:bigIntToHex$1(this.maxFeePerGas),accessList:t}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}_errorMsg(t){return errorMsg(this,t)}};function meetsEIP155$1(e,t){const r=Number(e),n=Number(t)*2;return r===n+35||r===n+36}class LegacyTransaction extends BaseTransaction$1{constructor(t,r={}){if(super({...t,type:TransactionType.Legacy},r),this.common=this._validateTxV(this.v,r.common),this.keccakFunction=this.common.customCrypto.keccak256??keccak256,this.gasPrice=bytesToBigInt(toBytes$3(t.gasPrice===""?"0x":t.gasPrice)),this.gasPrice*this.gasLimit>MAX_INTEGER$1){const n=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(n)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),BaseTransaction$1._validateNotArray(t),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?meetsEIP155$1(this.v,this.common.chainId())&&this.activeCapabilities.push(Capability$1.EIP155ReplayProtection):this.activeCapabilities.push(Capability$1.EIP155ReplayProtection)),((r==null?void 0:r.freeze)??!0)&&Object.freeze(this)}static fromTxData(t,r={}){return new LegacyTransaction(t,r)}static fromSerializedTx(t,r={}){const n=RLP$1.decode(t);if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,r)}static fromValuesArray(t,r={}){if(t.length!==6&&t.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,a,o,u,p,b,m,y,A]=t;return validateNoLeadingZeroes$1({nonce:n,gasPrice:a,gasLimit:o,value:p,v:m,r:y,s:A}),new LegacyTransaction({nonce:n,gasPrice:a,gasLimit:o,to:u,value:p,data:b,v:m,r:y,s:A},r)}getEffectivePriorityFee(t){return getEffectivePriorityFee(this.gasPrice,t)}raw(){return[bigIntToUnpaddedBytes(this.nonce),bigIntToUnpaddedBytes(this.gasPrice),bigIntToUnpaddedBytes(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),bigIntToUnpaddedBytes(this.value),this.data,this.v!==void 0?bigIntToUnpaddedBytes(this.v):new Uint8Array(0),this.r!==void 0?bigIntToUnpaddedBytes(this.r):new Uint8Array(0),this.s!==void 0?bigIntToUnpaddedBytes(this.s):new Uint8Array(0)]}serialize(){return RLP$1.encode(this.raw())}getMessageToSign(){const t=[bigIntToUnpaddedBytes(this.nonce),bigIntToUnpaddedBytes(this.gasPrice),bigIntToUnpaddedBytes(this.gasLimit),this.to!==void 0?this.to.bytes:new Uint8Array(0),bigIntToUnpaddedBytes(this.value),this.data];return this.supports(Capability$1.EIP155ReplayProtection)&&(t.push(bigIntToUnpaddedBytes(this.common.chainId())),t.push(unpadBytes(toBytes$3(0))),t.push(unpadBytes(toBytes$3(0)))),t}getHashedMessageToSign(){const t=this.getMessageToSign();return this.keccakFunction(RLP$1.encode(t))}getDataFee(){return getDataFee$1(this)}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){return hash(this)}getMessageToVerifySignature(){if(!this.isSigned()){const t=this._errorMsg("This transaction is not signed");throw new Error(t)}return this.getHashedMessageToSign()}getSenderPublicKey(){return getSenderPublicKey(this)}addSignature(t,r,n,a=!1){r=toBytes$3(r),n=toBytes$3(n),a&&this.supports(Capability$1.EIP155ReplayProtection)&&(t+=this.common.chainId()*BIGINT_2+BIGINT_8);const o={...this.txOptions,common:this.common};return LegacyTransaction.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:t,r:bytesToBigInt(r),s:bytesToBigInt(n)},o)}toJSON(){return{...super.toJSON(),gasPrice:bigIntToHex$1(this.gasPrice)}}_validateTxV(t,r){let n;const a=t!==void 0?Number(t):void 0;if(a!==void 0&&a<37&&a!==27&&a!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${a}`);if(a!==void 0&&a!==0&&(!r||r.gteHardfork("spuriousDragon"))&&a!==27&&a!==28)if(r){if(!meetsEIP155$1(BigInt(a),r.chainId()))throw new Error(`Incompatible EIP155-based V ${a} and chain id ${r.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let o;(a-35)%2===0?o=35:o=36,n=BigInt(a-o)/BIGINT_2}return this._getCommon(r,n)}errorStr(){let t=this._getSharedErrorPostfix();return t+=` gasPrice=${this.gasPrice}`,t}_errorMsg(t){return errorMsg(this,t)}}var FMT_NUMBER;(function(e){e.NUMBER="NUMBER_NUMBER",e.HEX="NUMBER_HEX",e.STR="NUMBER_STR",e.BIGINT="NUMBER_BIGINT"})(FMT_NUMBER||(FMT_NUMBER={}));var FMT_BYTES;(function(e){e.HEX="BYTES_HEX",e.UINT8ARRAY="BYTES_UINT8ARRAY"})(FMT_BYTES||(FMT_BYTES={}));const DEFAULT_RETURN_FORMAT={number:FMT_NUMBER.BIGINT,bytes:FMT_BYTES.HEX},ETH_DATA_FORMAT={number:FMT_NUMBER.HEX,bytes:FMT_BYTES.HEX};var BlockTags;(function(e){e.EARLIEST="earliest",e.LATEST="latest",e.PENDING="pending",e.SAFE="safe",e.FINALIZED="finalized"})(BlockTags||(BlockTags={}));var HardforksOrdered;(function(e){e.chainstart="chainstart",e.frontier="frontier",e.homestead="homestead",e.dao="dao",e.tangerineWhistle="tangerineWhistle",e.spuriousDragon="spuriousDragon",e.byzantium="byzantium",e.constantinople="constantinople",e.petersburg="petersburg",e.istanbul="istanbul",e.muirGlacier="muirGlacier",e.berlin="berlin",e.london="london",e.altair="altair",e.arrowGlacier="arrowGlacier",e.grayGlacier="grayGlacier",e.bellatrix="bellatrix",e.merge="merge",e.capella="capella",e.shanghai="shanghai"})(HardforksOrdered||(HardforksOrdered={}));const TypedArray=Object.getPrototypeOf(Uint8Array);var __awaiter$E=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const symbol=Symbol.for("web3/base-provider");class Web3BaseProvider{static isWeb3Provider(t){return t instanceof Web3BaseProvider||!!(t&&t[symbol])}get[symbol](){return!0}send(t,r){this.request(t).then(n=>{r(null,n)}).catch(n=>{r(n)})}sendAsync(t){return __awaiter$E(this,void 0,void 0,function*(){return this.request(t)})}asEIP1193Provider(){const t=Object.create(this),r=t.request;return t.request=function(n){return __awaiter$E(this,void 0,void 0,function*(){return(yield r(n)).result})},t.asEIP1193Provider=void 0,t}}class Web3BaseWallet extends Array{constructor(t){super(),this._accountProvider=t}}const ERR_RESPONSE=100,ERR_INVALID_RESPONSE=101,ERR_FORMATTERS=201,ERR_METHOD_NOT_IMPLEMENTED=202,ERR_OPERATION_TIMEOUT=203,ERR_OPERATION_ABORT=204,ERR_ABI_ENCODING=205,ERR_EXISTING_PLUGIN_NAMESPACE=206,ERR_INVALID_METHOD_PARAMS=207,ERR_MULTIPLE_ERRORS=208,ERR_CONTRACT=300,ERR_CONTRACT_RESOLVER_MISSING=301,ERR_CONTRACT_EXECUTION_REVERTED=310,ERR_CONTRACT_TX_DATA_AND_INPUT=311,ERR_TX=400,ERR_TX_REVERT_TRANSACTION=402,ERR_TX_REVERT_WITHOUT_REASON=405,ERR_RAW_TX_UNDEFINED=407,ERR_TX_INVALID_SENDER=408,ERR_TX_MISSING_CUSTOM_CHAIN=410,ERR_TX_MISSING_CUSTOM_CHAIN_ID=411,ERR_TX_CHAIN_ID_MISMATCH=412,ERR_TX_INVALID_CHAIN_INFO=413,ERR_TX_MISSING_CHAIN_INFO=414,ERR_TX_MISSING_GAS=415,ERR_TX_INVALID_LEGACY_GAS=416,ERR_TX_INVALID_FEE_MARKET_GAS=417,ERR_TX_INVALID_FEE_MARKET_GAS_PRICE=418,ERR_TX_INVALID_LEGACY_FEE_MARKET=419,ERR_TX_INVALID_OBJECT=420,ERR_TX_INVALID_NONCE_OR_CHAIN_ID=421,ERR_TX_UNABLE_TO_POPULATE_NONCE=422,ERR_TX_UNSUPPORTED_EIP_1559=423,ERR_TX_UNSUPPORTED_TYPE=424,ERR_TX_DATA_AND_INPUT=425,ERR_TX_POLLING_TIMEOUT=426,ERR_TX_RECEIPT_MISSING_OR_BLOCKHASH_NULL=427,ERR_TX_RECEIPT_MISSING_BLOCK_NUMBER=428,ERR_TX_LOCAL_WALLET_NOT_AVAILABLE=429,ERR_TX_NOT_FOUND=430,ERR_TX_SEND_TIMEOUT=431,ERR_TX_BLOCK_TIMEOUT=432,ERR_TX_SIGNING=433,ERR_TX_GAS_MISMATCH=434,ERR_TX_CHAIN_MISMATCH=435,ERR_TX_HARDFORK_MISMATCH=436,ERR_TX_INVALID_RECEIVER=437,ERR_TX_REVERT_TRANSACTION_CUSTOM_ERROR=438,ERR_TX_INVALID_PROPERTIES_FOR_TYPE=439,ERR_TX_MISSING_GAS_INNER_ERROR=440,ERR_TX_GAS_MISMATCH_INNER_ERROR=441,ERR_CONN=500,ERR_CONN_NOT_OPEN=503,ERR_CONN_MAX_ATTEMPTS=505,ERR_CONN_PENDING_REQUESTS=506,ERR_REQ_ALREADY_SENT=507,ERR_PROVIDER=600,ERR_INVALID_CLIENT=602,ERR_SUBSCRIPTION=603,ERR_WS_PROVIDER=604,ERR_PRIVATE_KEY_LENGTH=701,ERR_INVALID_PRIVATE_KEY=702,ERR_UNSUPPORTED_KDF=703,ERR_KEY_DERIVATION_FAIL=704,ERR_KEY_VERSION_UNSUPPORTED=705,ERR_INVALID_PASSWORD=706,ERR_IV_LENGTH=707,ERR_PBKDF2_ITERATIONS=709,ERR_SIGNATURE_FAILED=801,ERR_INVALID_SIGNATURE=802,JSONRPC_ERR_REJECTED_REQUEST=4001,JSONRPC_ERR_UNAUTHORIZED=4100,JSONRPC_ERR_UNSUPPORTED_METHOD=4200,JSONRPC_ERR_DISCONNECTED=4900,JSONRPC_ERR_CHAIN_DISCONNECTED=4901,ERR_ENS_UNSUPPORTED_NETWORK=902,ERR_ENS_NETWORK_NOT_SYNCED=903,ERR_INVALID_STRING=1001,ERR_INVALID_BYTES=1002,ERR_INVALID_NUMBER=1003,ERR_INVALID_UNIT=1004,ERR_INVALID_ADDRESS=1005,ERR_INVALID_HEX=1006,ERR_INVALID_BOOLEAN=1008,ERR_INVALID_UNSIGNED_INTEGER=1009,ERR_INVALID_SIZE=1010,ERR_INVALID_LARGE_VALUE=1011,ERR_INVALID_BLOCK=1012,ERR_INVALID_NIBBLE_WIDTH=1014,ERR_INVALID_INTEGER=1015,ERR_VALIDATION=1100,ERR_CORE_HARDFORK_MISMATCH=1101,ERR_SCHEMA_FORMAT=1200,ERR_RPC_INVALID_JSON=-32700,ERR_RPC_INVALID_REQUEST=-32600,ERR_RPC_INVALID_METHOD=-32601,ERR_RPC_INVALID_PARAMS=-32602,ERR_RPC_INTERNAL_ERROR=-32603,ERR_RPC_INVALID_INPUT=-32e3,ERR_RPC_MISSING_RESOURCE=-32001,ERR_RPC_UNAVAILABLE_RESOURCE=-32002,ERR_RPC_TRANSACTION_REJECTED=-32003,ERR_RPC_UNSUPPORTED_METHOD=-32004,ERR_RPC_LIMIT_EXCEEDED=-32005,ERR_RPC_NOT_SUPPORTED=-32006;class BaseWeb3Error extends Error{constructor(t,r){super(t),Array.isArray(r)?this.cause=new MultipleErrors(r):this.cause=r,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}get innerError(){return this.cause instanceof MultipleErrors?this.cause.errors:this.cause}set innerError(t){Array.isArray(t)?this.cause=new MultipleErrors(t):this.cause=t}static convertToString(t,r=!1){if(t==null)return"undefined";const n=JSON.stringify(t,(a,o)=>typeof o=="bigint"?o.toString():o);return r&&["bigint","string"].includes(typeof t)?n.replace(/['\\"]+/g,""):n}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class MultipleErrors extends BaseWeb3Error{constructor(t){super(`Multiple errors occurred: [${t.map(r=>r.message).join("], [")}]`),this.code=ERR_MULTIPLE_ERRORS,this.errors=t}}class InvalidValueError extends BaseWeb3Error{constructor(t,r){super(`Invalid value given "${BaseWeb3Error.convertToString(t,!0)}". Error: ${r}.`),this.name=this.constructor.name}}class PrivateKeyLengthError extends BaseWeb3Error{constructor(){super("Private key must be 32 bytes."),this.code=ERR_PRIVATE_KEY_LENGTH}}class InvalidPrivateKeyError extends BaseWeb3Error{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=ERR_INVALID_PRIVATE_KEY}}class InvalidSignatureError extends BaseWeb3Error{constructor(t){super(`"${t}"`),this.code=ERR_INVALID_SIGNATURE}}class InvalidKdfError extends BaseWeb3Error{constructor(){super("Invalid key derivation function"),this.code=ERR_UNSUPPORTED_KDF}}class KeyDerivationError extends BaseWeb3Error{constructor(){super("Key derivation failed - possibly wrong password"),this.code=ERR_KEY_DERIVATION_FAIL}}class KeyStoreVersionError extends BaseWeb3Error{constructor(){super("Unsupported key store version"),this.code=ERR_KEY_VERSION_UNSUPPORTED}}class InvalidPasswordError extends BaseWeb3Error{constructor(){super("Password cannot be empty"),this.code=ERR_INVALID_PASSWORD}}class IVLengthError extends BaseWeb3Error{constructor(){super("Initialization vector must be 16 bytes"),this.code=ERR_IV_LENGTH}}class PBKDF2IterationsError extends BaseWeb3Error{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=ERR_PBKDF2_ITERATIONS}}class ConnectionError extends BaseWeb3Error{constructor(t,r){super(t),this.code=ERR_CONN,r&&(this.errorCode=r.code,this.errorReason=r.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class ConnectionNotOpenError extends ConnectionError{constructor(t){super("Connection not open",t),this.code=ERR_CONN_NOT_OPEN}}class MaxAttemptsReachedOnReconnectingError extends ConnectionError{constructor(t){super(`Maximum number of reconnect attempts reached! (${t})`),this.code=ERR_CONN_MAX_ATTEMPTS}}class PendingRequestsOnReconnectingError extends ConnectionError{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=ERR_CONN_PENDING_REQUESTS}}class RequestAlreadySentError extends ConnectionError{constructor(t){super(`Request already sent with following id: ${t}`),this.code=ERR_REQ_ALREADY_SENT}}class Web3ContractError extends BaseWeb3Error{constructor(t,r){super(t),this.code=ERR_CONTRACT,this.receipt=r}}class ResolverMethodMissingError extends BaseWeb3Error{constructor(t,r){super(`The resolver at ${t} does not implement requested method: "${r}".`),this.address=t,this.name=r,this.code=ERR_CONTRACT_RESOLVER_MISSING}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class Eip838ExecutionError extends Web3ContractError{constructor(t){if(super(t.message||"Error"),this.name="name"in t&&t.name||this.constructor.name,this.stack="stack"in t&&t.stack||void 0,this.code=t.code,typeof t.data=="object"){let r;"originalError"in t.data?r=t.data.originalError:r=t.data,this.data=r.data,this.cause=new Eip838ExecutionError(r)}else this.data=t.data}setDecodedProperties(t,r,n){this.errorName=t,this.errorSignature=r,this.errorArgs=n}toJSON(){let t=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(t=Object.assign(Object.assign({},t),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),t}}class ContractExecutionError extends Web3ContractError{constructor(t){super("Error happened while trying to execute a function inside a smart contract"),this.code=ERR_CONTRACT_EXECUTION_REVERTED,this.cause=new Eip838ExecutionError(t)}}class ContractTransactionDataAndInputError extends InvalidValueError{constructor(t){var r,n;super(`data: ${(r=t.data)!==null&&r!==void 0?r:"undefined"}, input: ${(n=t.input)!==null&&n!==void 0?n:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=ERR_CONTRACT_TX_DATA_AND_INPUT}}class ENSUnsupportedNetworkError extends BaseWeb3Error{constructor(t){super(`ENS is not supported on network ${t}`),this.code=ERR_ENS_UNSUPPORTED_NETWORK}}class ENSNetworkNotSyncedError extends BaseWeb3Error{constructor(){super("Network not synced"),this.code=ERR_ENS_NETWORK_NOT_SYNCED}}class InvalidMethodParamsError extends BaseWeb3Error{constructor(t){super(`Invalid parameters passed. "${typeof t<"u"?t:""}"`),this.hint=t,this.code=ERR_INVALID_METHOD_PARAMS}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class FormatterError extends BaseWeb3Error{constructor(){super(...arguments),this.code=ERR_FORMATTERS}}class MethodNotImplementedError extends BaseWeb3Error{constructor(){super("The method you're trying to call is not implemented."),this.code=ERR_METHOD_NOT_IMPLEMENTED}}class OperationTimeoutError extends BaseWeb3Error{constructor(){super(...arguments),this.code=ERR_OPERATION_TIMEOUT}}class OperationAbortError extends BaseWeb3Error{constructor(){super(...arguments),this.code=ERR_OPERATION_ABORT}}class AbiError extends BaseWeb3Error{constructor(t,r){super(t),this.code=ERR_ABI_ENCODING,this.props=r??{}}}class ExistingPluginNamespaceError extends BaseWeb3Error{constructor(t){super(`A plugin with the namespace: ${t} has already been registered.`),this.code=ERR_EXISTING_PLUGIN_NAMESPACE}}class ProviderError extends BaseWeb3Error{constructor(){super(...arguments),this.code=ERR_PROVIDER}}class InvalidClientError extends BaseWeb3Error{constructor(t){super(`Client URL "${t}" is invalid.`),this.code=ERR_INVALID_CLIENT}}class SubscriptionError extends BaseWeb3Error{constructor(){super(...arguments),this.code=ERR_SUBSCRIPTION}}class Web3WSProviderError extends BaseWeb3Error{constructor(){super(...arguments),this.code=ERR_WS_PROVIDER}}class SignatureError extends InvalidValueError{constructor(){super(...arguments),this.code=ERR_SIGNATURE_FAILED}}class TransactionError extends BaseWeb3Error{constructor(t,r){super(t),this.receipt=r,this.code=ERR_TX}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class TransactionRevertInstructionError extends BaseWeb3Error{constructor(t,r,n,a){super(`Transaction has been reverted by the EVM${n===void 0?"":`:
 ${BaseWeb3Error.convertToString(n)}`}`),this.reason=t,this.signature=r,this.receipt=n,this.data=a,this.code=ERR_TX_REVERT_TRANSACTION}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class TransactionRevertWithCustomError extends TransactionRevertInstructionError{constructor(t,r,n,a,o,u,p){super(t),this.reason=t,this.customErrorName=r,this.customErrorDecodedSignature=n,this.customErrorArguments=a,this.signature=o,this.receipt=u,this.data=p,this.code=ERR_TX_REVERT_TRANSACTION_CUSTOM_ERROR}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class TransactionRevertedWithoutReasonError extends TransactionError{constructor(t){super(`Transaction has been reverted by the EVM${t===void 0?"":`:
 ${BaseWeb3Error.convertToString(t)}`}`,t),this.code=ERR_TX_REVERT_WITHOUT_REASON}}class UndefinedRawTransactionError extends TransactionError{constructor(){super("Raw transaction undefined"),this.code=ERR_RAW_TX_UNDEFINED}}class TransactionNotFound extends TransactionError{constructor(){super("Transaction not found"),this.code=ERR_TX_NOT_FOUND}}class InvalidTransactionWithSender extends InvalidValueError{constructor(t){super(t,"invalid transaction with invalid sender"),this.code=ERR_TX_INVALID_SENDER}}class InvalidTransactionWithReceiver extends InvalidValueError{constructor(t){super(t,"invalid transaction with invalid receiver"),this.code=ERR_TX_INVALID_RECEIVER}}class MissingCustomChainError extends InvalidValueError{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=ERR_TX_MISSING_CUSTOM_CHAIN}}class MissingCustomChainIdError extends InvalidValueError{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=ERR_TX_MISSING_CUSTOM_CHAIN_ID}}class ChainIdMismatchError extends InvalidValueError{constructor(t){super(JSON.stringify(t),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=ERR_TX_CHAIN_ID_MISMATCH}}class ChainMismatchError extends InvalidValueError{constructor(t){super(JSON.stringify(t),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=ERR_TX_CHAIN_MISMATCH}}class HardforkMismatchError extends InvalidValueError{constructor(t){super(JSON.stringify(t),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=ERR_TX_HARDFORK_MISMATCH}}class CommonOrChainAndHardforkError extends InvalidValueError{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=ERR_TX_INVALID_CHAIN_INFO}}class MissingChainOrHardforkError extends InvalidValueError{constructor(t){var r,n;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(r=t.chain)!==null&&r!==void 0?r:"undefined"}, "hardfork": ${(n=t.hardfork)!==null&&n!==void 0?n:"undefined"}`),this.code=ERR_TX_MISSING_CHAIN_INFO}}class MissingGasInnerError extends BaseWeb3Error{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=ERR_TX_MISSING_GAS_INNER_ERROR}}class MissingGasError extends InvalidValueError{constructor(t){var r,n,a,o;super(`gas: ${(r=t.gas)!==null&&r!==void 0?r:"undefined"}, gasPrice: ${(n=t.gasPrice)!==null&&n!==void 0?n:"undefined"}, maxPriorityFeePerGas: ${(a=t.maxPriorityFeePerGas)!==null&&a!==void 0?a:"undefined"}, maxFeePerGas: ${(o=t.maxFeePerGas)!==null&&o!==void 0?o:"undefined"}`,'"gas" is missing'),this.code=ERR_TX_MISSING_GAS,this.cause=new MissingGasInnerError}}class TransactionGasMismatchInnerError extends BaseWeb3Error{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=ERR_TX_GAS_MISMATCH_INNER_ERROR}}class TransactionGasMismatchError extends InvalidValueError{constructor(t){var r,n,a,o;super(`gas: ${(r=t.gas)!==null&&r!==void 0?r:"undefined"}, gasPrice: ${(n=t.gasPrice)!==null&&n!==void 0?n:"undefined"}, maxPriorityFeePerGas: ${(a=t.maxPriorityFeePerGas)!==null&&a!==void 0?a:"undefined"}, maxFeePerGas: ${(o=t.maxFeePerGas)!==null&&o!==void 0?o:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=ERR_TX_GAS_MISMATCH,this.cause=new TransactionGasMismatchInnerError}}class InvalidGasOrGasPrice extends InvalidValueError{constructor(t){var r,n;super(`gas: ${(r=t.gas)!==null&&r!==void 0?r:"undefined"}, gasPrice: ${(n=t.gasPrice)!==null&&n!==void 0?n:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=ERR_TX_INVALID_LEGACY_GAS}}class InvalidMaxPriorityFeePerGasOrMaxFeePerGas extends InvalidValueError{constructor(t){var r,n;super(`maxPriorityFeePerGas: ${(r=t.maxPriorityFeePerGas)!==null&&r!==void 0?r:"undefined"}, maxFeePerGas: ${(n=t.maxFeePerGas)!==null&&n!==void 0?n:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=ERR_TX_INVALID_FEE_MARKET_GAS}}class Eip1559GasPriceError extends InvalidValueError{constructor(t){super(t,"eip-1559 transactions don't support gasPrice"),this.code=ERR_TX_INVALID_FEE_MARKET_GAS_PRICE}}class UnsupportedFeeMarketError extends InvalidValueError{constructor(t){var r,n;super(`maxPriorityFeePerGas: ${(r=t.maxPriorityFeePerGas)!==null&&r!==void 0?r:"undefined"}, maxFeePerGas: ${(n=t.maxFeePerGas)!==null&&n!==void 0?n:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=ERR_TX_INVALID_LEGACY_FEE_MARKET}}class InvalidTransactionObjectError extends InvalidValueError{constructor(t){super(t,"invalid transaction object"),this.code=ERR_TX_INVALID_OBJECT}}class InvalidNonceOrChainIdError extends InvalidValueError{constructor(t){var r,n;super(`nonce: ${(r=t.nonce)!==null&&r!==void 0?r:"undefined"}, chainId: ${(n=t.chainId)!==null&&n!==void 0?n:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=ERR_TX_INVALID_NONCE_OR_CHAIN_ID}}class UnableToPopulateNonceError extends InvalidValueError{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=ERR_TX_UNABLE_TO_POPULATE_NONCE}}class Eip1559NotSupportedError extends InvalidValueError{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=ERR_TX_UNSUPPORTED_EIP_1559}}class UnsupportedTransactionTypeError extends InvalidValueError{constructor(t){super(t,"unsupported transaction type"),this.code=ERR_TX_UNSUPPORTED_TYPE}}class TransactionDataAndInputError extends InvalidValueError{constructor(t){var r,n;super(`data: ${(r=t.data)!==null&&r!==void 0?r:"undefined"}, input: ${(n=t.input)!==null&&n!==void 0?n:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=ERR_TX_DATA_AND_INPUT}}class TransactionSendTimeoutError extends BaseWeb3Error{constructor(t){super(`The connected Ethereum Node did not respond within ${t.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${t.transactionHash?t.transactionHash.toString():"not available"}`),this.code=ERR_TX_SEND_TIMEOUT}}function transactionTimeoutHint(e){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${e?e.toString():"not available"}`}class TransactionPollingTimeoutError extends BaseWeb3Error{constructor(t){super(`Transaction was not mined within ${t.numberOfSeconds} seconds. ${transactionTimeoutHint(t.transactionHash)}`),this.code=ERR_TX_POLLING_TIMEOUT}}class TransactionBlockTimeoutError extends BaseWeb3Error{constructor(t){super(`Transaction started at ${t.starterBlockNumber} but was not mined within ${t.numberOfBlocks} blocks. ${transactionTimeoutHint(t.transactionHash)}`),this.code=ERR_TX_BLOCK_TIMEOUT}}class TransactionMissingReceiptOrBlockHashError extends InvalidValueError{constructor(t){var r,n;super(`receipt: ${JSON.stringify(t.receipt)}, blockHash: ${(r=t.blockHash)===null||r===void 0?void 0:r.toString()}, transactionHash: ${(n=t.transactionHash)===null||n===void 0?void 0:n.toString()}`,"Receipt missing or blockHash null"),this.code=ERR_TX_RECEIPT_MISSING_OR_BLOCKHASH_NULL}}class TransactionReceiptMissingBlockNumberError extends InvalidValueError{constructor(t){super(`receipt: ${JSON.stringify(t.receipt)}`,"Receipt missing block number"),this.code=ERR_TX_RECEIPT_MISSING_BLOCK_NUMBER}}class TransactionSigningError extends BaseWeb3Error{constructor(t){super(`Invalid signature. "${t}"`),this.code=ERR_TX_SIGNING}}class LocalWalletNotAvailableError extends InvalidValueError{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=ERR_TX_LOCAL_WALLET_NOT_AVAILABLE}}class InvalidPropertiesForTransactionTypeError extends BaseWeb3Error{constructor(t,r){const n=[];t.forEach(a=>n.push(a.keyword)),super(`The following properties are invalid for the transaction type ${r}: ${n.join(", ")}`),this.code=ERR_TX_INVALID_PROPERTIES_FOR_TYPE}}class InvalidBytesError extends InvalidValueError{constructor(t){super(t,"can not parse as byte data"),this.code=ERR_INVALID_BYTES}}class InvalidNumberError extends InvalidValueError{constructor(t){super(t,"can not parse as number data"),this.code=ERR_INVALID_NUMBER}}class InvalidAddressError extends InvalidValueError{constructor(t){super(t,"invalid ethereum address"),this.code=ERR_INVALID_ADDRESS}}class InvalidStringError extends InvalidValueError{constructor(t){super(t,"not a valid string"),this.code=ERR_INVALID_STRING}}class InvalidUnitError extends InvalidValueError{constructor(t){super(t,"invalid unit"),this.code=ERR_INVALID_UNIT}}class InvalidIntegerError extends InvalidValueError{constructor(t){super(t,"not a valid unit. Must be a positive integer"),this.code=ERR_INVALID_INTEGER}}class HexProcessingError extends InvalidValueError{constructor(t){super(t,"can not be converted to hex"),this.code=ERR_INVALID_HEX}}class NibbleWidthError extends InvalidValueError{constructor(t){super(t,"value greater than the nibble width"),this.code=ERR_INVALID_NIBBLE_WIDTH}}class InvalidBooleanError extends InvalidValueError{constructor(t){super(t,"not a valid boolean."),this.code=ERR_INVALID_BOOLEAN}}class InvalidUnsignedIntegerError extends InvalidValueError{constructor(t){super(t,"not a valid unsigned integer."),this.code=ERR_INVALID_UNSIGNED_INTEGER}}class InvalidSizeError extends InvalidValueError{constructor(t){super(t,"invalid size given."),this.code=ERR_INVALID_SIZE}}class InvalidLargeValueError extends InvalidValueError{constructor(t){super(t,"value is larger than size."),this.code=ERR_INVALID_LARGE_VALUE}}class InvalidBlockError extends InvalidValueError{constructor(t){super(t,"invalid string given"),this.code=ERR_INVALID_BLOCK}}const isResponseWithError$1=e=>!Array.isArray(e)&&e.jsonrpc==="2.0"&&!!e&&(e.result===void 0||e.result===null)&&"error"in e&&(typeof e.id=="number"||typeof e.id=="string"),buildErrorMessage=e=>isResponseWithError$1(e)?e.error.message:"";class ResponseError extends BaseWeb3Error{constructor(t,r,n){var a;super(r??`Returned error: ${Array.isArray(t)?t.map(u=>buildErrorMessage(u)).join(","):buildErrorMessage(t)}`),this.code=ERR_RESPONSE,r||(this.data=Array.isArray(t)?t.map(u=>{var p;return(p=u.error)===null||p===void 0?void 0:p.data}):(a=t==null?void 0:t.error)===null||a===void 0?void 0:a.data),this.request=n;let o;"error"in t?o=t.error:t instanceof Array&&(o=t.filter(u=>u.error).map(u=>u.error)),Array.isArray(o)&&o.length>0?this.cause=new MultipleErrors(o):this.cause=o}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request})}}class InvalidResponseError extends ResponseError{constructor(t,r){super(t,void 0,r),this.code=ERR_INVALID_RESPONSE;let n;"error"in t?n=t.error:t instanceof Array&&(n=t.map(a=>a.error)),Array.isArray(n)?this.cause=new MultipleErrors(n):this.cause=n}}class ConfigHardforkMismatchError extends BaseWeb3Error{constructor(t,r){super(`Web3Config hardfork doesnt match in defaultHardfork ${t} and common.hardfork ${r}`),this.code=ERR_CORE_HARDFORK_MISMATCH}}class ConfigChainMismatchError extends BaseWeb3Error{constructor(t,r){super(`Web3Config chain doesnt match in defaultHardfork ${t} and common.hardfork ${r}`),this.code=ERR_CORE_HARDFORK_MISMATCH}}const genericRpcErrorMessageTemplate="An Rpc error has occured with a code of *code*",RpcErrorMessages={[ERR_RPC_INVALID_JSON]:{message:"Parse error",description:"Invalid JSON"},[ERR_RPC_INVALID_REQUEST]:{message:"Invalid request",description:"JSON is not a valid request object	"},[ERR_RPC_INVALID_METHOD]:{message:"Method not found",description:"Method does not exist	"},[ERR_RPC_INVALID_PARAMS]:{message:"Invalid params",description:"Invalid method parameters"},[ERR_RPC_INTERNAL_ERROR]:{message:"Internal error",description:"Internal JSON-RPC error"},[ERR_RPC_INVALID_INPUT]:{message:"Invalid input",description:"Missing or invalid parameters"},[ERR_RPC_MISSING_RESOURCE]:{message:"Resource not found",description:"Requested resource not found"},[ERR_RPC_UNAVAILABLE_RESOURCE]:{message:"Resource unavailable",description:"Requested resource not available"},[ERR_RPC_TRANSACTION_REJECTED]:{message:"Transaction rejected",description:"Transaction creation failed"},[ERR_RPC_UNSUPPORTED_METHOD]:{message:"Method not supported",description:"Method is not implemented"},[ERR_RPC_LIMIT_EXCEEDED]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[ERR_RPC_NOT_SUPPORTED]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[JSONRPC_ERR_REJECTED_REQUEST]:{name:"User Rejected Request",message:"The user rejected the request."},[JSONRPC_ERR_UNAUTHORIZED]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[JSONRPC_ERR_UNSUPPORTED_METHOD]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[JSONRPC_ERR_DISCONNECTED]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[JSONRPC_ERR_CHAIN_DISCONNECTED]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class RpcError extends BaseWeb3Error{constructor(t,r){super(r??genericRpcErrorMessageTemplate.replace("*code*",t.error.code.toString())),this.code=t.error.code,this.id=t.id,this.jsonrpc=t.jsonrpc,this.jsonRpcError=t.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class EIP1193ProviderRpcError extends BaseWeb3Error{constructor(t,r){var n,a,o,u;if(!t)super();else if(!((n=RpcErrorMessages[t])===null||n===void 0)&&n.message)super(RpcErrorMessages[t].message);else{const p=Object.keys(RpcErrorMessages).find(b=>typeof b=="string"&&t>=parseInt(b.split("-")[0],10)&&t<=parseInt(b.split("-")[1],10));super((o=(a=RpcErrorMessages[p??""])===null||a===void 0?void 0:a.message)!==null&&o!==void 0?o:genericRpcErrorMessageTemplate.replace("*code*",(u=t==null?void 0:t.toString())!==null&&u!==void 0?u:'""'))}this.code=t,this.data=r}}class ParseError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_JSON].message),this.code=ERR_RPC_INVALID_JSON}}class InvalidRequestError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_REQUEST].message),this.code=ERR_RPC_INVALID_REQUEST}}class MethodNotFoundError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_METHOD].message),this.code=ERR_RPC_INVALID_METHOD}}class InvalidParamsError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_PARAMS].message),this.code=ERR_RPC_INVALID_PARAMS}}class InternalError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INTERNAL_ERROR].message),this.code=ERR_RPC_INTERNAL_ERROR}}class InvalidInputError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_INVALID_INPUT].message),this.code=ERR_RPC_INVALID_INPUT}}class MethodNotSupported extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_UNSUPPORTED_METHOD].message),this.code=ERR_RPC_UNSUPPORTED_METHOD}}class ResourceUnavailableError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_UNAVAILABLE_RESOURCE].message),this.code=ERR_RPC_UNAVAILABLE_RESOURCE}}class ResourcesNotFoundError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_MISSING_RESOURCE].message),this.code=ERR_RPC_MISSING_RESOURCE}}class VersionNotSupportedError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_NOT_SUPPORTED].message),this.code=ERR_RPC_NOT_SUPPORTED}}class TransactionRejectedError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_TRANSACTION_REJECTED].message),this.code=ERR_RPC_TRANSACTION_REJECTED}}class LimitExceededError extends RpcError{constructor(t){super(t,RpcErrorMessages[ERR_RPC_LIMIT_EXCEEDED].message),this.code=ERR_RPC_LIMIT_EXCEEDED}}const rpcErrorsMap=new Map;rpcErrorsMap.set(ERR_RPC_INVALID_JSON,{error:ParseError}),rpcErrorsMap.set(ERR_RPC_INVALID_REQUEST,{error:InvalidRequestError}),rpcErrorsMap.set(ERR_RPC_INVALID_METHOD,{error:MethodNotFoundError}),rpcErrorsMap.set(ERR_RPC_INVALID_PARAMS,{error:InvalidParamsError}),rpcErrorsMap.set(ERR_RPC_INTERNAL_ERROR,{error:InternalError}),rpcErrorsMap.set(ERR_RPC_INVALID_INPUT,{error:InvalidInputError}),rpcErrorsMap.set(ERR_RPC_UNSUPPORTED_METHOD,{error:MethodNotSupported}),rpcErrorsMap.set(ERR_RPC_UNAVAILABLE_RESOURCE,{error:ResourceUnavailableError}),rpcErrorsMap.set(ERR_RPC_TRANSACTION_REJECTED,{error:TransactionRejectedError}),rpcErrorsMap.set(ERR_RPC_MISSING_RESOURCE,{error:ResourcesNotFoundError}),rpcErrorsMap.set(ERR_RPC_NOT_SUPPORTED,{error:VersionNotSupportedError}),rpcErrorsMap.set(ERR_RPC_LIMIT_EXCEEDED,{error:LimitExceededError});class SchemaFormatError extends BaseWeb3Error{constructor(t){super(`Format for the type ${t} is unsupported`),this.type=t,this.code=ERR_SCHEMA_FORMAT}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}var util;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const o={};for(const u of a)o[u]=u;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(p=>typeof a[a[p]]!="number"),u={};for(const p of o)u[p]=a[p];return e.objectValues(u)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&o.push(u);return o},e.find=(a,o)=>{for(const u of a)if(o(u))return u},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(util||(util={}));var objectUtil;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(e)?ZodParsedType.array:e===null?ZodParsedType.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&e instanceof Map?ZodParsedType.map:typeof Set<"u"&&e instanceof Set?ZodParsedType.set:typeof Date<"u"&&e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(o){return o.message},n={_errors:[]},a=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(a);else if(u.code==="invalid_return_type")a(u.returnTypeError);else if(u.code==="invalid_arguments")a(u.argumentsError);else if(u.path.length===0)n._errors.push(r(u));else{let p=n,b=0;for(;b<u.path.length;){const m=u.path[b];b===u.path.length-1?(p[m]=p[m]||{_errors:[]},p[m]._errors.push(r(u))):p[m]=p[m]||{_errors:[]},p=p[m],b++}}};return a(this),n}static assert(t){if(!(t instanceof ZodError))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,t)=>{let r;switch(e.code){case ZodIssueCode.invalid_type:e.received===ZodParsedType.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${util.joinValues(e.keys,", ")}`;break;case ZodIssueCode.invalid_union:r="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${util.joinValues(e.options)}`;break;case ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${util.joinValues(e.options)}, received '${e.received}'`;break;case ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case ZodIssueCode.invalid_date:r="Invalid date";break;case ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:util.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ZodIssueCode.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ZodIssueCode.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ZodIssueCode.custom:r="Invalid input";break;case ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,util.assertNever(e)}return{message:r}};let overrideErrorMap=errorMap;function setErrorMap(e){overrideErrorMap=e}function getErrorMap(){return overrideErrorMap}const makeIssue=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,o=[...r,...a.path||[]],u={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let p="";const b=n.filter(m=>!!m).slice().reverse();for(const m of b)p=m(u,{data:t,defaultError:p}).message;return{...a,path:o,message:p}},EMPTY_PATH=[];function addIssueToContext(e,t){const r=getErrorMap(),n=makeIssue({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===errorMap?void 0:errorMap].filter(a=>!!a)});e.common.issues.push(n)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return INVALID;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const o=await a.key,u=await a.value;n.push({key:o,value:u})}return ParseStatus.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:o,value:u}=a;if(o.status==="aborted"||u.status==="aborted")return INVALID;o.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||a.alwaysSet)&&(n[o.value]=u.value)}return{status:t.value,value:n}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>e.status==="aborted",isDirty=e=>e.status==="dirty",isValid$1=e=>e.status==="valid",isAsync=e=>typeof Promise<"u"&&e instanceof Promise;function __classPrivateFieldGet(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function __classPrivateFieldSet(e,t,r,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,t)=>{if(isValid$1(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ZodError(e.common.issues);return this._error=r,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,u)=>{var p,b;const{message:m}=e;return o.code==="invalid_enum_value"?{message:m??u.defaultError}:typeof u.data>"u"?{message:(p=m??n)!==null&&p!==void 0?p:u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:(b=m??r)!==null&&b!==void 0?b:u.defaultError}},description:a}}class ZodType{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return getParsedType(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ParseStatus,ctx:{common:t.parent.common,data:t.data,parsedType:getParsedType(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(isAsync(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},o=this._parseSync({data:t,path:a.path,parent:a});return handleResult(a,o)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:getParsedType(t)},a=this._parse({data:t,path:n.path,parent:n}),o=await(isAsync(a)?a:Promise.resolve(a));return handleResult(n,o)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,o)=>{const u=t(a),p=()=>o.addIssue({code:ZodIssueCode.custom,...n(a)});return typeof Promise<"u"&&u instanceof Promise?u.then(b=>b?!0:(p(),!1)):u?!0:(p(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(t){return ZodUnion.create([this,t],this._def)}and(t){return ZodIntersection.create(this,t,this._def)}transform(t){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:r,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:r,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ZodPipeline.create(this,t)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function timeRegex(e){return new RegExp(`^${timeRegexSource(e)}$`)}function datetimeRegex(e){let t=`${dateRegexSource}T${timeRegexSource(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function isValidIP(e,t){return!!((t==="v4"||!t)&&ipv4Regex.test(e)||(t==="v6"||!t)&&ipv6Regex.test(e))}class ZodString extends ZodType{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ZodParsedType.string){const a=this._getOrReturnCtx(t);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:a.parsedType}),INVALID}const r=new ParseStatus;let n;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,u=t.data.length<a.value;(o||u)&&(n=this._getOrReturnCtx(t,n),o?addIssueToContext(n,{code:ZodIssueCode.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&addIssueToContext(n,{code:ZodIssueCode.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")emailRegex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"email",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"emoji",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")uuidRegex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"uuid",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")nanoidRegex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")cuidRegex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"cuid",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")cuid2Regex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")ulidRegex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"ulid",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"url",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"regex",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?datetimeRegex(a).test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?dateRegex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?timeRegex(a).test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?durationRegex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"duration",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?isValidIP(t.data,a.version)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"ip",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?base64Regex.test(t.data)||(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{validation:"base64",code:ZodIssueCode.invalid_string,message:a.message}),r.dirty()):util.assertNever(a);return{status:r.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(n)})}_addCheck(t){return new ZodString({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...errorUtil.errToObj(t)})}url(t){return this._addCheck({kind:"url",...errorUtil.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...errorUtil.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...errorUtil.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...errorUtil.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...errorUtil.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...errorUtil.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...errorUtil.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...errorUtil.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...errorUtil.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...errorUtil.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...errorUtil.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...errorUtil.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...errorUtil.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...errorUtil.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...errorUtil.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...errorUtil.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...errorUtil.errToObj(r)})}nonempty(t){return this.min(1,errorUtil.errToObj(t))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ZodString.create=e=>{var t;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...processCreateParams(e)})};function floatSafeRemainder(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,o=parseInt(e.toFixed(a).replace(".","")),u=parseInt(t.toFixed(a).replace(".",""));return o%u/Math.pow(10,a)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ZodParsedType.number){const a=this._getOrReturnCtx(t);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:a.parsedType}),INVALID}let r;const n=new ParseStatus;for(const a of this._def.checks)a.kind==="int"?util.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?floatSafeRemainder(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.not_finite,message:a.message}),n.dirty()):util.assertNever(a);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,errorUtil.toString(r))}gt(t,r){return this.setLimit("min",t,!1,errorUtil.toString(r))}lte(t,r){return this.setLimit("max",t,!0,errorUtil.toString(r))}lt(t,r){return this.setLimit("max",t,!1,errorUtil.toString(r))}setLimit(t,r,n,a){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:errorUtil.toString(a)}]})}_addCheck(t){return new ZodNumber({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:errorUtil.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:errorUtil.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&util.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ZodParsedType.bigint){const a=this._getOrReturnCtx(t);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:a.parsedType}),INVALID}let r;const n=new ParseStatus;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),addIssueToContext(r,{code:ZodIssueCode.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):util.assertNever(a);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,errorUtil.toString(r))}gt(t,r){return this.setLimit("min",t,!1,errorUtil.toString(r))}lte(t,r){return this.setLimit("max",t,!0,errorUtil.toString(r))}lt(t,r){return this.setLimit("max",t,!1,errorUtil.toString(r))}setLimit(t,r,n,a){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:errorUtil.toString(a)}]})}_addCheck(t){return new ZodBigInt({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:errorUtil.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ZodBigInt.create=e=>{var t;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...processCreateParams(e)})};class ZodBoolean extends ZodType{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ZodParsedType.boolean){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:r.parsedType}),INVALID}return OK(t.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ZodParsedType.date){const a=this._getOrReturnCtx(t);return addIssueToContext(a,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:a.parsedType}),INVALID}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return addIssueToContext(a,{code:ZodIssueCode.invalid_date}),INVALID}const r=new ParseStatus;let n;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(n=this._getOrReturnCtx(t,n),addIssueToContext(n,{code:ZodIssueCode.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):util.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ZodDate({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:errorUtil.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:errorUtil.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.symbol){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:r.parsedType}),INVALID}return OK(t.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:r.parsedType}),INVALID}return OK(t.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.null){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:r.parsedType}),INVALID}return OK(t.data)}}ZodNull.create=e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(t){return OK(t.data)}}ZodAny.create=e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(t){return OK(t.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(t){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:r.parsedType}),INVALID}}ZodNever.create=e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.undefined){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:r.parsedType}),INVALID}return OK(t.data)}}ZodVoid.create=e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ZodParsedType.array)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:r.parsedType}),INVALID;if(a.exactLength!==null){const u=r.data.length>a.exactLength.value,p=r.data.length<a.exactLength.value;(u||p)&&(addIssueToContext(r,{code:u?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:p?a.exactLength.value:void 0,maximum:u?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((u,p)=>a.type._parseAsync(new ParseInputLazyPath(r,u,r.path,p)))).then(u=>ParseStatus.mergeArray(n,u));const o=[...r.data].map((u,p)=>a.type._parseSync(new ParseInputLazyPath(r,u,r.path,p)));return ParseStatus.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new ZodArray({...this._def,minLength:{value:t,message:errorUtil.toString(r)}})}max(t,r){return new ZodArray({...this._def,maxLength:{value:t,message:errorUtil.toString(r)}})}length(t,r){return new ZodArray({...this._def,exactLength:{value:t,message:errorUtil.toString(r)}})}nonempty(t){return this.min(1,t)}}ZodArray.create=(e,t)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(t)});function deepPartialify(e){if(e instanceof ZodObject){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ZodOptional.create(deepPartialify(n))}return new ZodObject({...e._def,shape:()=>t})}else return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(t=>deepPartialify(t))):e}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=util.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ZodParsedType.object){const b=this._getOrReturnCtx(t);return addIssueToContext(b,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:b.parsedType}),INVALID}const{status:r,ctx:n}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const b in n.data)o.includes(b)||u.push(b);const p=[];for(const b of o){const m=a[b],y=n.data[b];p.push({key:{status:"valid",value:b},value:m._parse(new ParseInputLazyPath(n,y,n.path,b)),alwaysSet:b in n.data})}if(this._def.catchall instanceof ZodNever){const b=this._def.unknownKeys;if(b==="passthrough")for(const m of u)p.push({key:{status:"valid",value:m},value:{status:"valid",value:n.data[m]}});else if(b==="strict")u.length>0&&(addIssueToContext(n,{code:ZodIssueCode.unrecognized_keys,keys:u}),r.dirty());else if(b!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const b=this._def.catchall;for(const m of u){const y=n.data[m];p.push({key:{status:"valid",value:m},value:b._parse(new ParseInputLazyPath(n,y,n.path,m)),alwaysSet:m in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const b=[];for(const m of p){const y=await m.key,A=await m.value;b.push({key:y,value:A,alwaysSet:m.alwaysSet})}return b}).then(b=>ParseStatus.mergeObjectSync(r,b)):ParseStatus.mergeObjectSync(r,p)}get shape(){return this._def.shape()}strict(t){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o,u,p;const b=(u=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,r,n).message)!==null&&u!==void 0?u:n.defaultError;return r.code==="unrecognized_keys"?{message:(p=errorUtil.errToObj(t).message)!==null&&p!==void 0?p:b}:{message:b}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(t){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ZodObject({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ZodObject({...this._def,catchall:t})}pick(t){const r={};return util.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ZodObject({...this._def,shape:()=>r})}omit(t){const r={};return util.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new ZodObject({...this._def,shape:()=>r})}deepPartial(){return deepPartialify(this)}partial(t){const r={};return util.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new ZodObject({...this._def,shape:()=>r})}required(t){const r={};return util.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ZodOptional;)a=a._def.innerType;r[n]=a}}),new ZodObject({...this._def,shape:()=>r})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)}),ZodObject.strictCreate=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)}),ZodObject.lazycreate=(e,t)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});class ZodUnion extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(o){for(const p of o)if(p.result.status==="valid")return p.result;for(const p of o)if(p.result.status==="dirty")return r.common.issues.push(...p.ctx.common.issues),p.result;const u=o.map(p=>new ZodError(p.ctx.common.issues));return addIssueToContext(r,{code:ZodIssueCode.invalid_union,unionErrors:u}),INVALID}if(r.common.async)return Promise.all(n.map(async o=>{const u={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:u}),ctx:u}})).then(a);{let o;const u=[];for(const b of n){const m={...r,common:{...r.common,issues:[]},parent:null},y=b._parseSync({data:r.data,path:r.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!o&&(o={result:y,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const p=u.map(b=>new ZodError(b));return addIssueToContext(r,{code:ZodIssueCode.invalid_union,unionErrors:p}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(e,t)=>new ZodUnion({options:e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(t)});const getDiscriminator=e=>e instanceof ZodLazy?getDiscriminator(e.schema):e instanceof ZodEffects?getDiscriminator(e.innerType()):e instanceof ZodLiteral?[e.value]:e instanceof ZodEnum?e.options:e instanceof ZodNativeEnum?util.objectValues(e.enum):e instanceof ZodDefault?getDiscriminator(e._def.innerType):e instanceof ZodUndefined?[void 0]:e instanceof ZodNull?[null]:e instanceof ZodOptional?[void 0,...getDiscriminator(e.unwrap())]:e instanceof ZodNullable?[null,...getDiscriminator(e.unwrap())]:e instanceof ZodBranded||e instanceof ZodReadonly?getDiscriminator(e.unwrap()):e instanceof ZodCatch?getDiscriminator(e._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.object)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:r.parsedType}),INVALID;const n=this.discriminator,a=r.data[n],o=this.optionsMap.get(a);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(addIssueToContext(r,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const o of r){const u=getDiscriminator(o.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const p of u){if(a.has(p))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(p)}`);a.set(p,o)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...processCreateParams(n)})}}function mergeValues(e,t){const r=getParsedType(e),n=getParsedType(t);if(e===t)return{valid:!0,data:e};if(r===ZodParsedType.object&&n===ZodParsedType.object){const a=util.objectKeys(t),o=util.objectKeys(e).filter(p=>a.indexOf(p)!==-1),u={...e,...t};for(const p of o){const b=mergeValues(e[p],t[p]);if(!b.valid)return{valid:!1};u[p]=b.data}return{valid:!0,data:u}}else if(r===ZodParsedType.array&&n===ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let o=0;o<e.length;o++){const u=e[o],p=t[o],b=mergeValues(u,p);if(!b.valid)return{valid:!1};a.push(b.data)}return{valid:!0,data:a}}else return r===ZodParsedType.date&&n===ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(o,u)=>{if(isAborted(o)||isAborted(u))return INVALID;const p=mergeValues(o.value,u.value);return p.valid?((isDirty(o)||isDirty(u))&&r.dirty(),{status:r.value,value:p.data}):(addIssueToContext(n,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,u])=>a(o,u)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ZodIntersection.create=(e,t,r)=>new ZodIntersection({left:e,right:t,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(r)});class ZodTuple extends ZodType{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ZodParsedType.array)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:n.parsedType}),INVALID;if(n.data.length<this._def.items.length)return addIssueToContext(n,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&n.data.length>this._def.items.length&&(addIssueToContext(n,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,u)=>{const p=this._def.items[u]||this._def.rest;return p?p._parse(new ParseInputLazyPath(n,o,n.path,u)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>ParseStatus.mergeArray(r,o)):ParseStatus.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new ZodTuple({...this._def,rest:t})}}ZodTuple.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(t)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ZodParsedType.object)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:n.parsedType}),INVALID;const a=[],o=this._def.keyType,u=this._def.valueType;for(const p in n.data)a.push({key:o._parse(new ParseInputLazyPath(n,p,n.path,p)),value:u._parse(new ParseInputLazyPath(n,n.data[p],n.path,p)),alwaysSet:p in n.data});return n.common.async?ParseStatus.mergeObjectAsync(r,a):ParseStatus.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ZodType?new ZodRecord({keyType:t,valueType:r,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(n)}):new ZodRecord({keyType:ZodString.create(),valueType:t,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(r)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ZodParsedType.map)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:n.parsedType}),INVALID;const a=this._def.keyType,o=this._def.valueType,u=[...n.data.entries()].map(([p,b],m)=>({key:a._parse(new ParseInputLazyPath(n,p,n.path,[m,"key"])),value:o._parse(new ParseInputLazyPath(n,b,n.path,[m,"value"]))}));if(n.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const b of u){const m=await b.key,y=await b.value;if(m.status==="aborted"||y.status==="aborted")return INVALID;(m.status==="dirty"||y.status==="dirty")&&r.dirty(),p.set(m.value,y.value)}return{status:r.value,value:p}})}else{const p=new Map;for(const b of u){const m=b.key,y=b.value;if(m.status==="aborted"||y.status==="aborted")return INVALID;(m.status==="dirty"||y.status==="dirty")&&r.dirty(),p.set(m.value,y.value)}return{status:r.value,value:p}}}}ZodMap.create=(e,t,r)=>new ZodMap({valueType:t,keyType:e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(r)});class ZodSet extends ZodType{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ZodParsedType.set)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:n.parsedType}),INVALID;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(addIssueToContext(n,{code:ZodIssueCode.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(addIssueToContext(n,{code:ZodIssueCode.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const o=this._def.valueType;function u(b){const m=new Set;for(const y of b){if(y.status==="aborted")return INVALID;y.status==="dirty"&&r.dirty(),m.add(y.value)}return{status:r.value,value:m}}const p=[...n.data.values()].map((b,m)=>o._parse(new ParseInputLazyPath(n,b,n.path,m)));return n.common.async?Promise.all(p).then(b=>u(b)):u(p)}min(t,r){return new ZodSet({...this._def,minSize:{value:t,message:errorUtil.toString(r)}})}max(t,r){return new ZodSet({...this._def,maxSize:{value:t,message:errorUtil.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ZodSet.create=(e,t)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(t)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.function)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:r.parsedType}),INVALID;function n(p,b){return makeIssue({data:p,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,getErrorMap(),errorMap].filter(m=>!!m),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:b}})}function a(p,b){return makeIssue({data:p,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,getErrorMap(),errorMap].filter(m=>!!m),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:b}})}const o={errorMap:r.common.contextualErrorMap},u=r.data;if(this._def.returns instanceof ZodPromise){const p=this;return OK(async function(...b){const m=new ZodError([]),y=await p._def.args.parseAsync(b,o).catch(I=>{throw m.addIssue(n(b,I)),m}),A=await Reflect.apply(u,this,y);return await p._def.returns._def.type.parseAsync(A,o).catch(I=>{throw m.addIssue(a(A,I)),m})})}else{const p=this;return OK(function(...b){const m=p._def.args.safeParse(b,o);if(!m.success)throw new ZodError([n(b,m.error)]);const y=Reflect.apply(u,this,m.data),A=p._def.returns.safeParse(y,o);if(!A.success)throw new ZodError([a(y,A.error)]);return A.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ZodFunction({...this._def,args:ZodTuple.create(t).rest(ZodUnknown.create())})}returns(t){return new ZodFunction({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new ZodFunction({args:t||ZodTuple.create([]).rest(ZodUnknown.create()),returns:r||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(n)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ZodLazy.create=(e,t)=>new ZodLazy({getter:e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(t)});class ZodLiteral extends ZodType{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{received:r.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:t.data}}get value(){return this._def.value}}ZodLiteral.create=(e,t)=>new ZodLiteral({value:e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(t)});function createZodEnum(e,t){return new ZodEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(t)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return addIssueToContext(r,{expected:util.joinValues(n),received:r.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return addIssueToContext(r,{received:r.data,code:ZodIssueCode.invalid_enum_value,options:n}),INVALID}return OK(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ZodEnum.create(t,{...this._def,...r})}exclude(t,r=this._def){return ZodEnum.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(t){const r=util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ZodParsedType.string&&n.parsedType!==ZodParsedType.number){const a=util.objectValues(r);return addIssueToContext(n,{expected:util.joinValues(a),received:n.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(t.data)){const a=util.objectValues(r);return addIssueToContext(n,{received:n.data,code:ZodIssueCode.invalid_enum_value,options:a}),INVALID}return OK(t.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(e,t)=>new ZodNativeEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(t)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ZodParsedType.promise&&r.common.async===!1)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:r.parsedType}),INVALID;const n=r.parsedType===ZodParsedType.promise?r.data:Promise.resolve(r.data);return OK(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ZodPromise.create=(e,t)=>new ZodPromise({type:e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(t)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,o={addIssue:u=>{addIssueToContext(n,u),u.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const u=a.transform(n.data,o);if(n.common.async)return Promise.resolve(u).then(async p=>{if(r.value==="aborted")return INVALID;const b=await this._def.schema._parseAsync({data:p,path:n.path,parent:n});return b.status==="aborted"?INVALID:b.status==="dirty"||r.value==="dirty"?DIRTY(b.value):b});{if(r.value==="aborted")return INVALID;const p=this._def.schema._parseSync({data:u,path:n.path,parent:n});return p.status==="aborted"?INVALID:p.status==="dirty"||r.value==="dirty"?DIRTY(p.value):p}}if(a.type==="refinement"){const u=p=>{const b=a.refinement(p,o);if(n.common.async)return Promise.resolve(b);if(b instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(n.common.async===!1){const p=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return p.status==="aborted"?INVALID:(p.status==="dirty"&&r.dirty(),u(p.value),{status:r.value,value:p.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(p=>p.status==="aborted"?INVALID:(p.status==="dirty"&&r.dirty(),u(p.value).then(()=>({status:r.value,value:p.value}))))}if(a.type==="transform")if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!isValid$1(u))return u;const p=a.transform(u.value,o);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:p}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>isValid$1(u)?Promise.resolve(a.transform(u.value,o)).then(p=>({status:r.value,value:p})):u);util.assertNever(a)}}ZodEffects.create=(e,t,r)=>new ZodEffects({schema:e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:t,...processCreateParams(r)}),ZodEffects.createWithPreprocess=(e,t,r)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(r)});class ZodOptional extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,t)=>new ZodOptional({innerType:e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(t)});class ZodNullable extends ZodType{_parse(t){return this._getType(t)===ZodParsedType.null?OK(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,t)=>new ZodNullable({innerType:e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(t)});class ZodDefault extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,t)=>new ZodDefault({innerType:e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...processCreateParams(t)});class ZodCatch extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return isAsync(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ZodError(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,t)=>new ZodCatch({innerType:e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...processCreateParams(t)});class ZodNaN extends ZodType{_parse(t){if(this._getType(t)!==ZodParsedType.nan){const r=this._getOrReturnCtx(t);return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:r.parsedType}),INVALID}return{status:"valid",value:t.data}}}ZodNaN.create=e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(e)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?INVALID:a.status==="dirty"?(r.dirty(),DIRTY(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?INVALID:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new ZodPipeline({in:t,out:r,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(t){const r=this._def.innerType._parse(t),n=a=>(isValid$1(a)&&(a.value=Object.freeze(a.value)),a);return isAsync(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}ZodReadonly.create=(e,t)=>new ZodReadonly({innerType:e,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(t)});function custom(e,t={},r){return e?ZodAny.create().superRefine((n,a)=>{var o,u;if(!e(n)){const p=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,b=(u=(o=p.fatal)!==null&&o!==void 0?o:r)!==null&&u!==void 0?u:!0,m=typeof p=="string"?{message:p}:p;a.addIssue({code:"custom",...m,fatal:b})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(e,t={message:`Input not instance of ${e.name}`})=>custom(r=>r instanceof e,t),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:e=>ZodString.create({...e,coerce:!0}),number:e=>ZodNumber.create({...e,coerce:!0}),boolean:e=>ZodBoolean.create({...e,coerce:!0}),bigint:e=>ZodBigInt.create({...e,coerce:!0}),date:e=>ZodDate.create({...e,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid:isValid$1,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const errorFormatter=e=>e.message?e.message:"unspecified error";class Web3ValidatorError extends BaseWeb3Error{constructor(t){super(),this.code=ERR_VALIDATION,this.errors=t,super.message=`Web3 validator found ${t.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(errorFormatter)}}const VALID_ETH_BASE_TYPES=["bool","int","uint","bytes","string","address","tuple"],isAbiParameterSchema=e=>typeof e=="object"&&"type"in e&&"name"in e,isString=e=>typeof e=="string",isHexStrict$1=e=>typeof e=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e);function isHexString(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/))}const isHex$1=e=>typeof e=="number"||typeof e=="bigint"||typeof e=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(e);function isHexPrefixed$1(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e.startsWith("0x")}const validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==void 0&&r.length>0&&r[0]===0)throw new Error(`${t} cannot have leading zeroes, received: ${r.toString()}`)},extraTypes=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],parseBaseType$1=e=>{let t=e.replace(/ /,""),r,n=!1,a=[];if(e.includes("[")&&(t=t.slice(0,t.indexOf("[")),a=[...e.matchAll(/(?:\[(\d*)\])/g)].map(o=>parseInt(o[1],10)).map(o=>Number.isNaN(o)?-1:o),n=a.length>0),VALID_ETH_BASE_TYPES.includes(t))return{baseType:t,isArray:n,baseTypeSize:r,arraySizes:a};if(t.startsWith("int"))r=parseInt(t.substring(3),10),t="int";else if(t.startsWith("uint"))r=parseInt(e.substring(4),10),t="uint";else if(t.startsWith("bytes"))r=parseInt(t.substring(5),10),t="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:a};return{baseType:t,isArray:n,baseTypeSize:r,arraySizes:a}},convertEthType=(e,t={})=>{if(Object.keys(t).includes("type"))throw new Web3ValidatorError([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:n}=parseBaseType$1(e);if(!r&&!extraTypes.includes(e))throw new Web3ValidatorError([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${n??""}`,required:!0}}return e?{format:e,required:!0}:{}},abiSchemaToJsonSchema=(e,t="/0")=>{const r={type:"array",items:[],maxItems:e.length,minItems:e.length};for(const[n,a]of e.entries()){let o,u,p=[];isAbiParameterSchema(a)?(o=a.type,u=a.name||`${t}/${n}`,p=a.components):typeof a=="string"?(o=a,u=`${t}/${n}`):Array.isArray(a)&&(a[0]&&typeof a[0]=="string"&&a[0].startsWith("tuple")&&!Array.isArray(a[0])&&a[1]&&Array.isArray(a[1])?(o=a[0],u=`${t}/${n}`,p=a[1]):(o="tuple",u=`${t}/${n}`,p=a));const{baseType:b,isArray:m,arraySizes:y}=parseBaseType$1(o);let A,I=r;for(let M=y.length-1;M>0;M-=1)A={type:"array",$id:u,items:[],maxItems:y[M],minItems:y[M]},y[M]<0&&(delete A.maxItems,delete A.minItems),Array.isArray(I.items)?I.items.length===0?I.items=[A]:I.items.push(A):I.items=[I.items,A],I=A;if(b==="tuple"&&!m){const M=abiSchemaToJsonSchema(p,u);M.$id=u,I.items.push(M)}else if(b==="tuple"&&m){const M=y[0],C=Object.assign({type:"array",$id:u,items:abiSchemaToJsonSchema(p,u)},M>=0&&{minItems:M,maxItems:M});I.items.push(C)}else if(m){const M=y[0],C=Object.assign({type:"array",$id:u,items:convertEthType(o)},M>=0&&{minItems:M,maxItems:M});I.items.push(C)}else Array.isArray(I.items)?I.items.push(Object.assign({$id:u},convertEthType(o))):I.items.push(Object.assign({$id:u},convertEthType(o)));I=r}return r},ethAbiToJsonSchema=e=>abiSchemaToJsonSchema(e),fetchArrayElement=(e,t)=>t===1?e:fetchArrayElement(e[0],t-1),transformJsonDataToAbiFormat=(e,t,r)=>{const n=[];for(const[a,o]of e.entries()){let u,p,b=[];isAbiParameterSchema(o)?(u=o.type,p=o.name,b=o.components):typeof o=="string"?u=o:Array.isArray(o)&&(o[1]&&Array.isArray(o[1])?(u=o[0],b=o[1]):(u="tuple",b=o));const{baseType:m,isArray:y,arraySizes:A}=parseBaseType$1(u),I=Array.isArray(t)?t[a]:t[p];if(m==="tuple"&&!y)n.push(transformJsonDataToAbiFormat(b,I,r));else if(m==="tuple"&&y){const M=[];for(const C of I)if(A.length>1){const P=fetchArrayElement(C,A.length-1),B=[];for(const k of P)B.push(transformJsonDataToAbiFormat(b,k,r));M.push(B)}else M.push(transformJsonDataToAbiFormat(b,C,r));n.push(M)}else n.push(I)}return r=r??[],r.push(...n),r},codePointToInt=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw new Error(`Invalid code point: ${e}`)},hexToNumber$1=e=>{if(!isHexStrict$1(e))throw new Error("Invalid hex string");const[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],n=BigInt(r);return n>Number.MAX_SAFE_INTEGER?t?-n:n:n<Number.MIN_SAFE_INTEGER?n:t?-1*Number(n):Number(n)},numberToHex$2=e=>{if((typeof e=="number"||typeof e=="bigint")&&e<0)return`-0x${e.toString(16).slice(1)}`;if((typeof e=="number"||typeof e=="bigint")&&e>=0)return`0x${e.toString(16)}`;if(typeof e=="string"&&isHexStrict$1(e)){const[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],n=r.split(/^(-)?0(x|X)/).slice(-1)[0];return`${t?"-":""}0x${n.replace(/^0+/,"").toLowerCase()}`}if(typeof e=="string"&&!isHexStrict$1(e))return numberToHex$2(BigInt(e));throw new InvalidNumberError(e)},padLeft$1=(e,t,r="0")=>{if(typeof e=="string"&&!isHexStrict$1(e))return e.padStart(t,r);const n=typeof e=="string"&&isHexStrict$1(e)?e:numberToHex$2(e),[a,o]=n.startsWith("-")?["-0x",n.slice(3)]:["0x",n.slice(2)];return`${a}${o.padStart(t,r)}`};function uint8ArrayToHexString$1(e){let t="0x";for(const r of e){const n=r.toString(16);t+=n.length===1?`0${n}`:n}return t}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(e){if(e>=charCodeMap.zero&&e<=charCodeMap.nine)return e-charCodeMap.zero;if(e>=charCodeMap.A&&e<=charCodeMap.F)return e-(charCodeMap.A-10);if(e>=charCodeMap.a&&e<=charCodeMap.f)return e-(charCodeMap.a-10)}function hexToUint8Array(e){let t=0;if(e.startsWith("0")&&(e[1]==="x"||e[1]==="X")&&(t=2),e.length%2!==0)throw new InvalidBytesError(`hex string has odd length: ${e}`);const r=(e.length-t)/2,n=new Uint8Array(r);for(let a=0,o=t;a<r;a+=1){const u=charCodeToBase16(e.charCodeAt(o++)),p=charCodeToBase16(e.charCodeAt(o++));if(u===void 0||p===void 0)throw new InvalidBytesError(`Invalid byte sequence ("${e[o-2]}${e[o-1]}" in "${e}").`);n[a]=u*16+p}return n}function ensureIfUint8Array(e){var t;return!(e instanceof Uint8Array)&&((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"?Uint8Array.from(e):e}const utils$2=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema,codePointToInt,ensureIfUint8Array,ethAbiToJsonSchema,fetchArrayElement,hexToNumber:hexToNumber$1,hexToUint8Array,numberToHex:numberToHex$2,padLeft:padLeft$1,parseBaseType:parseBaseType$1,transformJsonDataToAbiFormat,uint8ArrayToHexString:uint8ArrayToHexString$1},Symbol.toStringTag,{value:"Module"})),isUint8Array$1=e=>{var t,r;return e instanceof Uint8Array||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="Buffer"},isBytes=(e,t={abiType:"bytes"})=>{if(typeof e!="string"&&!Array.isArray(e)&&!isUint8Array$1(e)||typeof e=="string"&&isHexStrict$1(e)&&e.startsWith("-")||typeof e=="string"&&!isHexStrict$1(e))return!1;let r;if(typeof e=="string"){if(e.length%2!==0)return!1;r=hexToUint8Array(e)}else if(Array.isArray(e)){if(e.some(n=>n<0||n>255||!Number.isInteger(n)))return!1;r=new Uint8Array(e)}else r=e;if(t!=null&&t.abiType){const{baseTypeSize:n}=parseBaseType$1(t.abiType);return n?r.length===n:!0}return t!=null&&t.size?r.length===(t==null?void 0:t.size):!0},checkAddressCheckSum$1=e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;const t=e.slice(2),r=utils$o.utf8ToBytes(t.toLowerCase()),n=uint8ArrayToHexString$1(keccak256(ensureIfUint8Array(r))).slice(2);for(let a=0;a<40;a+=1)if(parseInt(n[a],16)>7&&t[a].toUpperCase()!==t[a]||parseInt(n[a],16)<=7&&t[a].toLowerCase()!==t[a])return!1;return!0},isAddress$1=(e,t=!0)=>{if(typeof e!="string"&&!isUint8Array$1(e))return!1;let r;return isUint8Array$1(e)?r=uint8ArrayToHexString$1(e):typeof e=="string"&&!isHexStrict$1(e)?r=e.toLowerCase().startsWith("0x")?e:`0x${e}`:r=e,/^(0x)?[0-9a-f]{40}$/i.test(r)?/^(0x|0X)?[0-9a-f]{40}$/.test(r)||/^(0x|0X)?[0-9A-F]{40}$/.test(r)?!0:t?checkAddressCheckSum$1(r):!0:!1},bigintPower=(e,t)=>{if(t===BigInt(0))return BigInt(1);let r=e;for(let n=1;n<t;n+=1)r*=e;return r},isUInt=(e,t={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof e)||typeof e=="string"&&e.length===0)return!1;let r;if(t!=null&&t.abiType){const{baseTypeSize:a}=parseBaseType$1(t.abiType);a&&(r=a)}else t.bitSize&&(r=t.bitSize);const n=bigintPower(BigInt(2),BigInt(r??256))-BigInt(1);try{const a=typeof e=="string"&&isHexStrict$1(e)?BigInt(hexToNumber$1(e)):BigInt(e);return a>=0&&a<=n}catch{return!1}},isInt=(e,t={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof e)||typeof e=="number"&&e>Number.MAX_SAFE_INTEGER)return!1;let r;if(t!=null&&t.abiType){const{baseTypeSize:o,baseType:u}=parseBaseType$1(t.abiType);if(u!=="int")return!1;o&&(r=o)}else t.bitSize&&(r=t.bitSize);const n=bigintPower(BigInt(2),BigInt((r??256)-1)),a=BigInt(-1)*bigintPower(BigInt(2),BigInt((r??256)-1));try{const o=typeof e=="string"&&isHexStrict$1(e)?BigInt(hexToNumber$1(e)):BigInt(e);return o>=a&&o<=n}catch{return!1}},isNumber=e=>!!(isInt(e)||typeof e=="string"&&/[0-9.]/.test(e)&&e.indexOf(".")===e.lastIndexOf(".")||typeof e=="number"),isBlockNumber=e=>isUInt(e),isBlockTag=e=>Object.values(BlockTags).includes(e),isBlockNumberOrTag=e=>isBlockTag(e)||isBlockNumber(e),isBloom$1=e=>typeof e!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(e)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(e)||/^(0x)?[0-9A-F]{512}$/.test(e)),isInBloom$1=(e,t)=>{if(typeof t=="string"&&!isHexStrict$1(t)||!isBloom$1(e))return!1;const r=typeof t=="string"?hexToUint8Array(t):t,n=uint8ArrayToHexString$1(keccak256(r)).slice(2);for(let a=0;a<12;a+=4){const o=(parseInt(n.slice(a,a+2),16)<<8)+parseInt(n.slice(a+2,a+4),16)&2047,u=codePointToInt(e.charCodeAt(e.length-1-Math.floor(o/4))),p=1<<o%4;if((u&p)!==p)return!1}return!0},isUserEthereumAddressInBloom$1=(e,t)=>{if(!isBloom$1(e)||!isAddress$1(t))return!1;const r=padLeft$1(t,64);return isInBloom$1(e,r)},isContractAddressInBloom$1=(e,t)=>!isBloom$1(e)||!isAddress$1(t)?!1:isInBloom$1(e,t),isBoolean=e=>["number","string","boolean"].includes(typeof e)?typeof e=="boolean"?!0:typeof e=="string"&&!isHexStrict$1(e)?e==="1"||e==="0":typeof e=="string"&&isHexStrict$1(e)?e==="0x1"||e==="0x0":e===1||e===0:!1,isNullish$1=e=>e==null,isObject=e=>typeof e=="object"&&!isNullish$1(e)&&!Array.isArray(e)&&!(e instanceof TypedArray),isTopic$1=e=>typeof e!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(e)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(e)||/^(0x)?[0-9A-F]{64}$/.test(e)),isTopicInBloom$1=(e,t)=>!isBloom$1(e)||!isTopic$1(t)?!1:isInBloom$1(e,t),isFilterObject=e=>{const t=["fromBlock","toBlock","address","topics","blockHash"];if(isNullish$1(e)||typeof e!="object"||!Object.keys(e).every(r=>t.includes(r))||!isNullish$1(e.fromBlock)&&!isBlockNumberOrTag(e.fromBlock)||!isNullish$1(e.toBlock)&&!isBlockNumberOrTag(e.toBlock))return!1;if(!isNullish$1(e.address)){if(Array.isArray(e.address)){if(!e.address.every(r=>isAddress$1(r)))return!1}else if(!isAddress$1(e.address))return!1}return!(!isNullish$1(e.topics)&&!e.topics.every(r=>isNullish$1(r)?!0:Array.isArray(r)?r.every(n=>isTopic$1(n)):!!isTopic$1(r)))},formats={address:e=>isAddress$1(e),bloom:e=>isBloom$1(e),blockNumber:e=>isBlockNumber(e),blockTag:e=>isBlockTag(e),blockNumberOrTag:e=>isBlockNumberOrTag(e),bool:e=>isBoolean(e),bytes:e=>isBytes(e),filter:e=>isFilterObject(e),hex:e=>isHexStrict$1(e),uint:e=>isUInt(e),int:e=>isInt(e),number:e=>isNumber(e),string:e=>isString(e)};for(let e=8;e<=256;e+=8)formats[`int${e}`]=t=>isInt(t,{bitSize:e}),formats[`uint${e}`]=t=>isUInt(t,{bitSize:e});for(let e=1;e<=32;e+=1)formats[`bytes${e}`]=t=>isBytes(t,{size:e});formats.bytes256=formats.bytes;const convertToZod=e=>{if((!(e!=null&&e.type)||(e==null?void 0:e.type)==="object")&&(e!=null&&e.properties)){const t={};for(const r of Object.keys(e.properties)){const n=convertToZod(e.properties[r]);n&&(t[r]=n)}return Array.isArray(e.required)?z.object(t).partial().required(e.required.reduce((r,n)=>Object.assign(Object.assign({},r),{[n]:!0}),{})):z.object(t).partial()}if((e==null?void 0:e.type)==="array"&&(e!=null&&e.items)){if(Array.isArray(e.items)&&e.items.length>1&&e.maxItems!==void 0&&new Set(e.items.map(n=>n.$id)).size===e.items.length){const n=[];for(const a of e.items){const o=convertToZod(a);o&&n.push(o)}return z.tuple(n)}const t=Array.isArray(e.items)?e.items[0]:e.items;let r=z.array(convertToZod(t));return r=e.minItems!==void 0?r.min(e.minItems):r,r=e.maxItems!==void 0?r.max(e.maxItems):r,r}if(e.oneOf&&Array.isArray(e.oneOf))return z.union(e.oneOf.map(t=>convertToZod(t)));if(e!=null&&e.format){if(!formats[e.format])throw new SchemaFormatError(e.format);return z.any().refine(formats[e.format],t=>({params:{value:t,format:e.format}}))}return e!=null&&e.type&&(e==null?void 0:e.type)!=="object"&&typeof z[String(e.type)]=="function"?z[String(e.type)]():z.object({data:z.any()}).partial()};class Validator{static factory(){return Validator.validatorInstance||(Validator.validatorInstance=new Validator),Validator.validatorInstance}validate(t,r,n){var a,o;const u=convertToZod(t).safeParse(r);if(!u.success){const p=this.convertErrors((o=(a=u.error)===null||a===void 0?void 0:a.issues)!==null&&o!==void 0?o:[]);if(p){if(n!=null&&n.silent)return p;throw new Web3ValidatorError(p)}}}convertErrors(t){if(t&&Array.isArray(t)&&t.length>0)return t.map(r=>{var n;let a,o,u,p;p=r.path.join("/");const b=String(r.path[r.path.length-1]),m=r.path.join("/");if(r.code===ZodIssueCode.too_big)o="maxItems",p=`${m}/maxItems`,u={limit:r.maximum},a=`must NOT have more than ${r.maximum} items`;else if(r.code===ZodIssueCode.too_small)o="minItems",p=`${m}/minItems`,u={limit:r.minimum},a=`must NOT have fewer than ${r.minimum} items`;else if(r.code===ZodIssueCode.custom){const{value:y,format:A}=(n=r.params)!==null&&n!==void 0?n:{};typeof y>"u"?a=`value at "/${p}" is required`:a=`value "${typeof y=="object"?JSON.stringify(y):y}" at "/${p}" must pass "${A}" validation`,u={value:y}}return{keyword:o??b,instancePath:m?`/${m}`:"",schemaPath:p?`#${p}`:"#",params:u??{value:r.message},message:a??r.message}})}}class Web3Validator{constructor(){this._validator=Validator.factory()}validateJSONSchema(t,r,n){return this._validator.validate(t,r,n)}validate(t,r,n={silent:!1}){var a,o;const u=ethAbiToJsonSchema(t);if(!(Array.isArray(u.items)&&((a=u.items)===null||a===void 0?void 0:a.length)===0&&r.length===0)){if(Array.isArray(u.items)&&((o=u.items)===null||o===void 0?void 0:o.length)===0&&r.length!==0)throw new Web3ValidatorError([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:r}]);return this._validator.validate(u,r,n)}}}const validator=new Web3Validator;function isUint8Array(e){var t,r;return e instanceof Uint8Array||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="Buffer"}function uint8ArrayConcat(...e){const t=e.reduce((a,o)=>a+o.length,0),r=new Uint8Array(t);let n=0;for(const a of e)r.set(a,n),n+=a.length;return r}function uint8ArrayEquals(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r+=1)if(e[r]!==t[r])return!1;return!0}const ethUnitMap={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},PrecisionLossWarning="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",bytesToUint8Array=e=>{if(validator.validate(["bytes"],[e]),isUint8Array(e))return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="string")return hexToUint8Array(e);throw new InvalidBytesError(e)},{uint8ArrayToHexString}=utils$2,bytesToHex$1=e=>uint8ArrayToHexString(bytesToUint8Array(e)),hexToBytes$1=e=>typeof e=="string"&&e.slice(0,2).toLowerCase()!=="0x"?bytesToUint8Array(`0x${e}`):bytesToUint8Array(e),hexToNumber=e=>(validator.validate(["hex"],[e]),hexToNumber$1(e)),toDecimal=hexToNumber,numberToHex$1=(e,t)=>{typeof e!="bigint"&&validator.validate(["int"],[e]);let r=numberToHex$2(e);return t&&(!r.startsWith("-")&&r.length%2===1?r="0x0".concat(r.slice(2)):r.length%2===0&&r.startsWith("-")&&(r="-0x0".concat(r.slice(3)))),r},fromDecimal=numberToHex$1,hexToNumberString=e=>hexToNumber(e).toString(),utf8ToHex=e=>{validator.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),bytesToHex$1(new TextEncoder().encode(t))},fromUtf8=utf8ToHex,stringToHex=utf8ToHex,hexToUtf8=e=>bytesToUtf8(hexToBytes$1(e)),toUtf8=e=>typeof e=="string"?hexToUtf8(e):(validator.validate(["bytes"],[e]),bytesToUtf8(e)),utf8ToBytes$1=utils$o.utf8ToBytes,hexToString=hexToUtf8,asciiToHex=e=>{validator.validate(["string"],[e]);let t="";for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r).toString(16);t+=n.length%2!==0?`0${n}`:n}return`0x${t}`},fromAscii=asciiToHex,hexToAscii=e=>new TextDecoder("ascii").decode(hexToBytes$1(e)),toAscii=hexToAscii,toHex=(e,t)=>{if(typeof e=="string"&&isAddress$1(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(typeof e=="number")return t?e<0?"int256":"uint256":numberToHex$1(e);if(typeof e=="bigint")return t?"bigint":numberToHex$1(e);if(isUint8Array(e))return t?"bytes":bytesToHex$1(e);if(typeof e=="object"&&e)return t?"string":utf8ToHex(JSON.stringify(e));if(typeof e=="string"){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":numberToHex$1(e);if(isHexStrict$1(e))return t?"bytes":e;if(isHex$1(e)&&!isInt(e)&&!isUInt(e))return t?"bytes":`0x${e}`;if(isHex$1(e)&&!isInt(e)&&isUInt(e))return t?"uint":numberToHex$1(e);if(!Number.isFinite(e))return t?"string":utf8ToHex(e)}throw new HexProcessingError(e)},toNumber=e=>{if(typeof e=="number")return e>1e20?(console.warn(PrecisionLossWarning),BigInt(e)):e;if(typeof e=="bigint")return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if(typeof e=="string"&&isHexStrict$1(e))return hexToNumber(e);try{return toNumber(BigInt(e))}catch{throw new InvalidNumberError(e)}},toBigInt=e=>{if(typeof e=="number")return BigInt(e);if(typeof e=="bigint")return e;if(typeof e=="string"&&isHex$1(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new InvalidNumberError(e)},fromWei=(e,t)=>{let r;if(typeof t=="string"){if(r=ethUnitMap[t],!r)throw new InvalidUnitError(t)}else{if(t<0||!Number.isInteger(t))throw new InvalidIntegerError(t);r=bigintPower(BigInt(10),BigInt(t))}const n=String(toNumber(e)),a=r.toString().length-1;if(a<=0)return n.toString();const o=n.padStart(a,"0"),u=o.slice(0,-a),p=o.slice(-a).replace(/\.?0+$/,"");return u===""?`0.${p}`:p===""?u:`${u}.${p}`.slice(0,u.length+a+1)},toWei=(e,t)=>{validator.validate(["number"],[e]);let r;if(typeof t=="string"){if(r=ethUnitMap[t],!r)throw new InvalidUnitError(t)}else{if(t<0||!Number.isInteger(t))throw new InvalidIntegerError(t);r=bigintPower(BigInt(10),BigInt(t))}let n=e;typeof n=="number"&&(n<1e-15&&console.warn(PrecisionLossWarning),n>1e20?(console.warn(PrecisionLossWarning),n=BigInt(n)):n=n.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[a,o]=String(typeof n=="string"&&!isHexStrict$1(n)?n:toNumber(n)).split(".").concat(""),u=BigInt(`${a}${o}`)*r,p=o.length;return p===0?u.toString():u.toString().slice(0,-p)},toChecksumAddress=e=>{if(!isAddress$1(e,!1))throw new InvalidAddressError(e);const t=e.toLowerCase().replace(/^0x/i,""),r=uint8ArrayToHexString$1(keccak256(ensureIfUint8Array(utf8ToBytes$1(t))));if(isNullish$1(r)||r==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let n="0x";const a=r.replace(/^0x/i,"");for(let o=0;o<t.length;o+=1)parseInt(a[o],16)>7?n+=t[o].toUpperCase():n+=t[o];return n},toBool=e=>{if(typeof e=="boolean")return e;if(typeof e=="number"&&(e===0||e===1)||typeof e=="bigint"&&(e===BigInt(0)||e===BigInt(1)))return!!e;if(typeof e=="string"&&!isHexStrict$1(e)&&(e==="1"||e==="0"||e==="false"||e==="true"))return e==="true"?!0:e==="false"?!1:!!Number(e);if(typeof e=="string"&&isHexStrict$1(e)&&(e==="0x1"||e==="0x0"))return!!toNumber(e);throw new InvalidBooleanError(e)};class EventEmitter extends EventEmitter$1{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(t){return this.maxListeners=t,this}getMaxListeners(){return this.maxListeners}}const isHexStrict=isHexStrict$1,isHex=isHex$1,checkAddressCheckSum=checkAddressCheckSum$1,isAddress=isAddress$1,isBloom=isBloom$1,isInBloom=isInBloom$1,isUserEthereumAddressInBloom=isUserEthereumAddressInBloom$1,isContractAddressInBloom=isContractAddressInBloom$1,isTopic=isTopic$1,isTopicInBloom=isTopicInBloom$1,compareBlockNumbers=(e,t)=>{const r=typeof e=="string"&&isBlockTag(e),n=typeof t=="string"&&isBlockTag(t);if(e===t||(e==="earliest"||e===0)&&(t==="earliest"||t===0))return 0;if(e==="earliest"&&t>0)return-1;if(t==="earliest"&&e>0)return 1;if(r&&n){const u={[BlockTags.EARLIEST]:1,[BlockTags.FINALIZED]:2,[BlockTags.SAFE]:3,[BlockTags.LATEST]:4,[BlockTags.PENDING]:5};return u[e]<u[t]?-1:1}if(r&&!n||!r&&n)throw new InvalidBlockError("Cannot compare blocktag with provided non-blocktag input.");const a=BigInt(e),o=BigInt(t);return a<o?-1:a===o?0:1},isContractInitOptions=e=>typeof e=="object"&&!isNullish$1(e)&&Object.keys(e).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(t=>t in e),isNullish=isNullish$1,isIterable=e=>typeof e=="object"&&!isNullish$1(e)&&!Array.isArray(e)&&!(e instanceof TypedArray),mergeDeep=(e,...t)=>{if(!isIterable(e))return e;const r=Object.assign({},e);for(const n of t)for(const a in n)isIterable(n[a])?(r[a]||(r[a]={}),r[a]=mergeDeep(r[a],n[a])):!isNullish$1(n[a])&&Object.hasOwnProperty.call(n,a)&&(Array.isArray(n[a])||n[a]instanceof TypedArray?r[a]=n[a].slice(0):r[a]=n[a]);return r},padLeft=(e,t,r="0")=>typeof e=="string"?isHexStrict$1(e)?padLeft$1(e,t,r):e.padStart(t,r):(validator.validate(["int"],[e]),padLeft$1(e,t,r)),padRight=(e,t,r="0")=>{if(typeof e=="string"&&!isHexStrict$1(e))return e.padEnd(t,r);validator.validate(["int"],[e]);const n=typeof e=="string"&&isHexStrict$1(e)?e:numberToHex$1(e),a=n.startsWith("-")?3:2;return n.padEnd(t+a,r)},rightPad=padRight,leftPad=padLeft,toTwosComplement=(e,t=64)=>{validator.validate(["int"],[e]);const r=toNumber(e);if(r>=0)return padLeft(toHex(r),t);const n=bigintPower(BigInt(2),BigInt(t*4));if(-r>=n)throw new NibbleWidthError(`value: ${e}, nibbleWidth: ${t}`);const a=BigInt(r)+n;return padLeft(numberToHex$1(a),t)},fromTwosComplement=(e,t=64)=>{validator.validate(["int"],[e]);const r=toNumber(e);if(r<0)return r;const n=Math.ceil(Math.log(Number(r))/Math.log(2));if(n>t*4)throw new NibbleWidthError(`value: "${e}", nibbleWidth: "${t}"`);if(t*4!==n)return r;const a=bigintPower(BigInt(2),BigInt(t)*BigInt(4));return toNumber(BigInt(r)-a)},{parseBaseType}=utils$2,isDataFormat=e=>typeof e=="object"&&!isNullish$1(e)&&"number"in e&&"bytes"in e,findSchemaByDataPath=(e,t,r=[])=>{let n=Object.assign({},e),a;for(const o of t){if(n.oneOf&&a){const u=a,p=r.find(([b])=>b===u);p&&p[0]===a&&(n=n.oneOf[p[1]])}if(!n.properties&&!n.items)return;n.properties?n=n.properties[o]:n.items&&n.items.properties?n=n.items.properties[o]:n.items&&isObject(n.items)?n=n.items:n.items&&Array.isArray(n.items)&&(n=n.items[parseInt(o,10)]),n&&o&&(a=o)}return n},convertScalarValue=(e,t,r)=>{try{const{baseType:n,baseTypeSize:a}=parseBaseType(t);if(n==="int"||n==="uint")switch(r.number){case FMT_NUMBER.NUMBER:return Number(toBigInt(e));case FMT_NUMBER.HEX:return numberToHex$1(toBigInt(e));case FMT_NUMBER.STR:return toBigInt(e).toString();case FMT_NUMBER.BIGINT:return toBigInt(e);default:throw new FormatterError(`Invalid format: ${String(r.number)}`)}if(n==="bytes"){let o;switch(a?typeof e=="string"?o=padLeft(e,a*2):isUint8Array(e)&&(o=uint8ArrayConcat(new Uint8Array(a-e.length),e)):o=e,r.bytes){case FMT_BYTES.HEX:return bytesToHex$1(bytesToUint8Array(o));case FMT_BYTES.UINT8ARRAY:return bytesToUint8Array(o);default:throw new FormatterError(`Invalid format: ${String(r.bytes)}`)}}}catch{return e}return e},convertArray=({value:e,schemaProp:t,schema:r,object:n,key:a,dataPath:o,format:u,oneOfPath:p=[]})=>{var b,m;if(Array.isArray(e)){let y=t;if((t==null?void 0:t.oneOf)!==void 0&&t.oneOf.forEach((A,I)=>{var M,C;!Array.isArray(t==null?void 0:t.items)&&(typeof e[0]=="object"&&((M=A==null?void 0:A.items)===null||M===void 0?void 0:M.type)==="object"||typeof e[0]=="string"&&((C=A==null?void 0:A.items)===null||C===void 0?void 0:C.type)!=="object")&&(y=A,p.push([a,I]))}),isNullish$1(y==null?void 0:y.items))return delete n[a],o.pop(),!0;if(isObject(y.items)&&!isNullish$1(y.items.format)){for(let A=0;A<e.length;A+=1)n[a][A]=convertScalarValue(e[A],(b=y==null?void 0:y.items)===null||b===void 0?void 0:b.format,u);return o.pop(),!0}if(!Array.isArray(y==null?void 0:y.items)&&((m=y==null?void 0:y.items)===null||m===void 0?void 0:m.type)==="object"){for(const A of e)convert$3(A,r,o,u,p);return o.pop(),!0}if(Array.isArray(y==null?void 0:y.items)){for(let A=0;A<e.length;A+=1)n[a][A]=convertScalarValue(e[A],y.items[A].format,u);return o.pop(),!0}}return!1},convert$3=(e,t,r,n,a=[])=>{var o;if(!isObject(e)&&!Array.isArray(e))return convertScalarValue(e,t==null?void 0:t.format,n);const u=e;if(Array.isArray(u)&&(t==null?void 0:t.type)==="array"&&((o=t==null?void 0:t.items)===null||o===void 0?void 0:o.type)==="object")convertArray({value:u,schemaProp:t,schema:t,object:u,key:"",dataPath:r,format:n,oneOfPath:a});else for(const[p,b]of Object.entries(u)){r.push(p);const m=findSchemaByDataPath(t,r,a);if(isNullish$1(m)){delete u[p],r.pop();continue}if(isObject(b)){convert$3(b,t,r,n,a),r.pop();continue}convertArray({value:b,schemaProp:m,schema:t,object:u,key:p,dataPath:r,format:n,oneOfPath:a})||(u[p]=convertScalarValue(b,m.format,n),r.pop())}return u},format=(e,t,r=DEFAULT_RETURN_FORMAT)=>{let n;isObject(t)?n=mergeDeep({},t):Array.isArray(t)?n=[...t]:n=t;const a=isObject(e)?e:ethAbiToJsonSchema(e);if(!a.properties&&!a.items&&!a.format)throw new FormatterError("Invalid json schema for formatting");return convert$3(n,a,[],r)},SHA3_EMPTY_BYTES="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",keccak256Wrapper=e=>{let t;return typeof e=="bigint"||typeof e=="number"?t=utils$o.utf8ToBytes(e.toString()):Array.isArray(e)?t=new Uint8Array(e):typeof e=="string"&&!isHexStrict$1(e)?t=utils$o.utf8ToBytes(e):t=bytesToUint8Array(e),bytesToHex$1(keccak256(ensureIfUint8Array(t)))},sha3=e=>{let t;typeof e=="string"?e.startsWith("0x")&&isHexStrict$1(e)?t=hexToBytes$1(e):t=utils$o.utf8ToBytes(e):t=e;const r=keccak256Wrapper(t);return r===SHA3_EMPTY_BYTES?void 0:r},sha3Raw=e=>{const t=sha3(e);return isNullish$1(t)?SHA3_EMPTY_BYTES:t},getType=e=>{if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");let t,r;if(typeof e=="object"&&("t"in e||"type"in e)&&("v"in e||"value"in e))t="t"in e?e.t:e.type,r="v"in e?e.v:e.value,t=t.toLowerCase()==="bigint"?"int":t;else{if(typeof e=="bigint")return["int",e];t=toHex(e,!0),r=toHex(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes")}return(t.startsWith("int")||t.startsWith("uint"))&&typeof r=="string"&&!/^(-)?0x/i.test(r)&&(r=toBigInt(r)),[t,r]},elementaryName=e=>e.startsWith("int[")?`int256${e.slice(3)}`:e==="int"?"int256":e.startsWith("uint[")?`uint256'${e.slice(4)}`:e==="uint"?"uint256":e,parseTypeN=(e,t)=>{const r=/^(\d+).*$/.exec(e.slice(t));return r?parseInt(r[1],10):0},bitLength=e=>e.toString(2).length,solidityPack=(e,t)=>{const r=t.toString();if(e==="string"){if(typeof t=="string")return utf8ToHex(t);throw new InvalidStringError(t)}if(e==="bool"||e==="boolean"){if(typeof t=="boolean")return t?"01":"00";throw new InvalidBooleanError(t)}if(e==="address"){if(!isAddress$1(r))throw new InvalidAddressError(r);return r}const n=elementaryName(e);if(e.startsWith("uint")){const a=parseTypeN(n,4);if(a%8||a<8||a>256)throw new InvalidSizeError(r);const o=toNumber(r);if(bitLength(o)>a)throw new InvalidLargeValueError(r);if(o<BigInt(0))throw new InvalidUnsignedIntegerError(r);return a?leftPad(o.toString(16),a/8*2):o.toString(16)}if(e.startsWith("int")){const a=parseTypeN(n,3);if(a%8||a<8||a>256)throw new InvalidSizeError(e);const o=toNumber(r);if(bitLength(o)>a)throw new InvalidLargeValueError(r);return o<BigInt(0)?toTwosComplement(o.toString(),a/8*2):a?leftPad(o.toString(16),a/4):o.toString(16)}if(n==="bytes"){if(r.replace(/^0x/i,"").length%2!==0)throw new InvalidBytesError(r);return r}if(e.startsWith("bytes")){if(r.replace(/^0x/i,"").length%2!==0)throw new InvalidBytesError(r);const a=parseTypeN(e,5);if(!a||a<1||a>64||a<r.replace(/^0x/i,"").length/2)throw new InvalidBytesError(r);return rightPad(r,a*2)}return""},processSolidityEncodePackedArgs=e=>{const[t,r]=getType(e);return Array.isArray(r)?r.map(n=>solidityPack(t,n).replace("0x","")).join(""):solidityPack(t,r).replace("0x","")},encodePacked=(...e)=>`0x${e.map(processSolidityEncodePackedArgs).join("").toLowerCase()}`,soliditySha3=(...e)=>sha3(encodePacked(...e)),soliditySha3Raw=(...e)=>sha3Raw(encodePacked(...e)),getStorageSlotNumForLongString=e=>sha3(`0x${(typeof e=="number"?e.toString():e).padStart(64,"0")}`),randomBytes=e=>getRandomBytesSync(e),randomHex=e=>bytesToHex$1(randomBytes(e));var __awaiter$D=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};function isPromise(e){return(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function waitWithTimeout(e,t,r){return __awaiter$D(this,void 0,void 0,function*(){let n;const a=yield Promise.race([e instanceof Promise?e:e(),new Promise((o,u)=>{n=setTimeout(()=>r?u(r):o(void 0),t)})]);if(n&&clearTimeout(n),a instanceof Error)throw a;return a})}function pollTillDefinedAndReturnIntervalId(e,t){let r;return[new Promise((n,a)=>{r=setInterval(function o(){return __awaiter$D(this,void 0,void 0,function*(){try{const u=yield waitWithTimeout(e,t);isNullish$1(u)||(clearInterval(r),n(u))}catch(u){clearInterval(r),a(u)}}),o}(),t)}),r]}function pollTillDefined(e,t){return __awaiter$D(this,void 0,void 0,function*(){return pollTillDefinedAndReturnIntervalId(e,t)[0]})}function rejectIfTimeout(e,t){let r;const n=new Promise((a,o)=>{r=setTimeout(()=>{o(t)},e)});return[r,n]}function rejectIfConditionAtInterval(e,t){let r;const n=new Promise((a,o)=>{r=setInterval(()=>{__awaiter$D(this,void 0,void 0,function*(){const u=yield e();u&&(clearInterval(r),o(u))})},t)});return[r,n]}const uuidV4=()=>{const e=randomBytes(16);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=bytesToHex$1(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")},isResponseRpcError=e=>{const t=e.error.code;return rpcErrorsMap.has(t)||t>=-32099&&t<=-32e3},isResponseWithResult=e=>!Array.isArray(e)&&!!e&&e.jsonrpc==="2.0"&&"result"in e&&isNullish$1(e.error)&&(typeof e.id=="number"||typeof e.id=="string"),isResponseWithError=e=>!Array.isArray(e)&&e.jsonrpc==="2.0"&&!!e&&isNullish$1(e.result)&&"error"in e&&(typeof e.id=="number"||typeof e.id=="string"),isResponseWithNotification=e=>!Array.isArray(e)&&!!e&&e.jsonrpc==="2.0"&&!isNullish$1(e.params)&&!isNullish$1(e.method),isSubscriptionResult=e=>!Array.isArray(e)&&!!e&&e.jsonrpc==="2.0"&&"id"in e&&"result"in e,validateResponse=e=>isResponseWithResult(e)||isResponseWithError(e),isValidResponse=e=>Array.isArray(e)?e.every(validateResponse):validateResponse(e),isBatchResponse=e=>Array.isArray(e)&&e.length>0&&isValidResponse(e);let requestIdSeed;const setRequestIdStart=e=>{requestIdSeed=e},toPayload=e=>{var t,r,n,a;return typeof requestIdSeed<"u"&&(requestIdSeed+=1),{jsonrpc:(t=e.jsonrpc)!==null&&t!==void 0?t:"2.0",id:(n=(r=e.id)!==null&&r!==void 0?r:requestIdSeed)!==null&&n!==void 0?n:uuidV4(),method:e.method,params:(a=e.params)!==null&&a!==void 0?a:void 0}},toBatchPayload=e=>e.map(t=>toPayload(t)),isBatchRequest=e=>Array.isArray(e)&&e.length>0,json_rpc=Object.freeze(Object.defineProperty({__proto__:null,isBatchRequest,isBatchResponse,isResponseRpcError,isResponseWithError,isResponseWithNotification,isResponseWithResult,isSubscriptionResult,isValidResponse,setRequestIdStart,toBatchPayload,toPayload,validateResponse},Symbol.toStringTag,{value:"Module"}));var __awaiter$C=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})},_a$2;class Web3DeferredPromise{constructor({timeout:t,eagerStart:r,timeoutMessage:n}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[_a$2]="Promise",this._state="pending",this._promise=new Promise((a,o)=>{this._resolve=a,this._reject=o}),this._timeoutMessage=n,this._timeoutInterval=t,r&&this.startTimer()}get state(){return this._state}then(t,r){return __awaiter$C(this,void 0,void 0,function*(){return this._promise.then(t,r)})}catch(t){return __awaiter$C(this,void 0,void 0,function*(){return this._promise.catch(t)})}finally(t){return __awaiter$C(this,void 0,void 0,function*(){return this._promise.finally(t)})}resolve(t){this._resolve(t),this._state="fulfilled",this._clearTimeout()}reject(t){this._reject(t),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new OperationTimeoutError(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}_a$2=Symbol.toStringTag;class ChunkResponseParser{constructor(t,r){this.eventEmitter=t,this.autoReconnect=r,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(t){this._clearQueues=t}parseResponse(t){const r=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(n=>{let a=n;this.lastChunk&&(a=this.lastChunk+a);let o;try{o=JSON.parse(a)}catch{this.lastChunk=a,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new InvalidResponseError({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,o&&r.push(o)}),r}}var __awaiter$B=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Eip1193Provider extends Web3BaseProvider{constructor(){super(...arguments),this._eventEmitter=new eventemitter3Exports.EventEmitter,this._chainId="",this._accounts=[]}_getChainId(){var t;return __awaiter$B(this,void 0,void 0,function*(){const r=yield this.request(toPayload({method:"eth_chainId",params:[]}));return(t=r==null?void 0:r.result)!==null&&t!==void 0?t:""})}_getAccounts(){var t;return __awaiter$B(this,void 0,void 0,function*(){const r=yield this.request(toPayload({method:"eth_accounts",params:[]}));return(t=r==null?void 0:r.result)!==null&&t!==void 0?t:[]})}_onConnect(){Promise.all([this._getChainId().then(t=>{t!==this._chainId&&(this._chainId=t,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(t=>{console.error(t)}),this._getAccounts().then(t=>{this._accounts.length===t.length&&t.every(r=>t.includes(r))||(this._accounts=t,this._onAccountsChanged())}).catch(t=>{console.error(t)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(t=>{console.error(t)})}_onDisconnect(t,r){this._eventEmitter.emit("disconnect",new EIP1193ProviderRpcError(t,r))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var __awaiter$A=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const DEFAULT_RECONNECTION_OPTIONS={autoReconnect:!0,delay:5e3,maxAttempts:5},NORMAL_CLOSE_CODE=1e3;class SocketProvider extends Eip1193Provider{constructor(t,r,n){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(t))throw new InvalidClientError(t);this._socketPath=t,this._socketOptions=r,this._reconnectOptions=Object.assign(Object.assign({},DEFAULT_RECONNECTION_OPTIONS),n??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new ChunkResponseParser(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}get SocketConnection(){return this._socketConnection}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(t){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",t&&t.message?new ConnectionError(`Error while connecting to ${this._socketPath}. Reason: ${t.message}`):new InvalidClientError(this._socketPath)}}_validateProviderPath(t){return!!t}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(t,r){this._eventEmitter.on(t,r)}once(t,r){this._eventEmitter.once(t,r)}removeListener(t,r){this._eventEmitter.removeListener(t,r)}_onDisconnect(t,r){this._connectionStatus="disconnected",super._onDisconnect(t,r)}disconnect(t,r){const n=t??NORMAL_CLOSE_CODE;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(n,r),this._onDisconnect(n,r)}safeDisconnect(t,r,n=!1,a=1e3){return __awaiter$A(this,void 0,void 0,function*(){let o=0;yield __awaiter$A(this,void 0,void 0,function*(){return new Promise(u=>{const p=setInterval(()=>{n&&o>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(p),u(!0)),o+=1},a)})}),this.disconnect(t,r)})}removeAllListeners(t){this._eventEmitter.removeAllListeners(t)}_onError(t){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",t)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((t,r)=>{t.deferredPromise.reject(new PendingRequestsOnReconnectingError),this._sentRequestsQueue.delete(r)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new MaxAttemptsReachedOnReconnectingError(this._reconnectOptions.maxAttempts))))}request(t){return __awaiter$A(this,void 0,void 0,function*(){if(isNullish(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const r=isBatchRequest(t)?t[0].id:t.id;if(!r)throw new Web3WSProviderError("Request Id not defined");if(this._sentRequestsQueue.has(r))throw new RequestAlreadySentError(r);const n=new Web3DeferredPromise;n.catch(o=>{this._eventEmitter.emit("error",o)});const a={payload:t,deferredPromise:n};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(r,a),a.deferredPromise;this._sentRequestsQueue.set(r,a);try{this._sendToSocket(a.payload)}catch(o){this._sentRequestsQueue.delete(r),this._eventEmitter.emit("error",o)}return n})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[t,r]of this._pendingRequestsQueue.entries())try{this._sendToSocket(r.payload),this._pendingRequestsQueue.delete(t),this._sentRequestsQueue.set(t,r)}catch(n){this._pendingRequestsQueue.delete(t),this._eventEmitter.emit("error",n)}}_onMessage(t){const r=this._parseResponses(t);if(!(isNullish(r)||r.length===0))for(const n of r){if(isResponseWithNotification(n)&&n.method.endsWith("_subscription")){this._eventEmitter.emit("message",n);return}const a=isBatchResponse(n)?n[0].id:n.id,o=this._sentRequestsQueue.get(a);if(!o)return;(isBatchResponse(n)||isResponseWithResult(n)||isResponseWithError(n))&&(this._eventEmitter.emit("message",n),o.deferredPromise.resolve(n)),this._sentRequestsQueue.delete(a)}}clearQueues(t){this._clearQueues(t)}_clearQueues(t){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((r,n)=>{r.deferredPromise.reject(new ConnectionNotOpenError(t)),this._pendingRequestsQueue.delete(n)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((r,n)=>{r.deferredPromise.reject(new ConnectionNotOpenError(t)),this._sentRequestsQueue.delete(n)}),this._removeSocketListeners()}}const utils$1=Object.freeze(Object.defineProperty({__proto__:null,ChunkResponseParser,Eip1193Provider,EventEmitter,SocketProvider,Web3DeferredPromise,asciiToHex,bytesToHex:bytesToHex$1,bytesToUint8Array,checkAddressCheckSum,compareBlockNumbers,convert:convert$3,convertScalarValue,encodePacked,ethUnitMap,format,fromAscii,fromDecimal,fromTwosComplement,fromUtf8,fromWei,getStorageSlotNumForLongString,hexToAscii,hexToBytes:hexToBytes$1,hexToNumber,hexToNumberString,hexToString,hexToUtf8,isAddress,isBatchRequest,isBatchResponse,isBloom,isContractAddressInBloom,isContractInitOptions,isDataFormat,isHex,isHexStrict,isInBloom,isNullish,isPromise,isResponseRpcError,isResponseWithError,isResponseWithNotification,isResponseWithResult,isSubscriptionResult,isTopic,isTopicInBloom,isUint8Array,isUserEthereumAddressInBloom,isValidResponse,jsonRpc:json_rpc,keccak256:keccak256Wrapper,keccak256Wrapper,leftPad,mergeDeep,numberToHex:numberToHex$1,padLeft,padRight,pollTillDefined,pollTillDefinedAndReturnIntervalId,processSolidityEncodePackedArgs,randomBytes,randomHex,rejectIfConditionAtInterval,rejectIfTimeout,rightPad,setRequestIdStart,sha3,sha3Raw,soliditySha3,soliditySha3Raw,stringToHex,toAscii,toBatchPayload,toBigInt,toBool,toChecksumAddress,toDecimal,toHex,toNumber,toPayload,toTwosComplement,toUtf8,toWei,uint8ArrayConcat,uint8ArrayEquals,utf8ToBytes:utf8ToBytes$1,utf8ToHex,uuidV4,validateResponse,waitWithTimeout},Symbol.toStringTag,{value:"Module"}));class Web3EventEmitter{constructor(){this._emitter=new EventEmitter}on(t,r){this._emitter.on(t,r)}once(t,r){this._emitter.once(t,r)}off(t,r){this._emitter.off(t,r)}emit(t,r){this._emitter.emit(t,r)}listenerCount(t){return this._emitter.listenerCount(t)}listeners(t){return this._emitter.listeners(t)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(t){this._emitter.setMaxListeners(t)}getMaxListeners(){return this._emitter.getMaxListeners()}}var Web3ConfigEvent;(function(e){e.CONFIG_CHANGE="CONFIG_CHANGE"})(Web3ConfigEvent||(Web3ConfigEvent={}));class Web3Config extends Web3EventEmitter{constructor(t){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:toHex(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,defaultReturnFormat:DEFAULT_RETURN_FORMAT},this.setConfig(t??{})}setConfig(t){const r=Object.keys(t);for(const n of r)this._triggerConfigChange(n,t[n]);Object.assign(this.config,t)}get handleRevert(){return this.config.handleRevert}set handleRevert(t){this._triggerConfigChange("handleRevert",t),this.config.handleRevert=t}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(t){this._triggerConfigChange("contractDataInputFill",t),this.config.contractDataInputFill=t}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(t){this._triggerConfigChange("defaultAccount",t),this.config.defaultAccount=t}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(t){this._triggerConfigChange("defaultBlock",t),this.config.defaultBlock=t}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(t){this._triggerConfigChange("transactionSendTimeout",t),this.config.transactionSendTimeout=t}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(t){this._triggerConfigChange("transactionBlockTimeout",t),this.config.transactionBlockTimeout=t}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(t){this._triggerConfigChange("transactionConfirmationBlocks",t),this.config.transactionConfirmationBlocks=t}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(t){this._triggerConfigChange("transactionPollingInterval",t),this.config.transactionPollingInterval=t,this.transactionReceiptPollingInterval=t,this.transactionConfirmationPollingInterval=t}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(t){this._triggerConfigChange("transactionPollingTimeout",t),this.config.transactionPollingTimeout=t}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(t){this._triggerConfigChange("transactionReceiptPollingInterval",t),this.config.transactionReceiptPollingInterval=t}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(t){this._triggerConfigChange("transactionConfirmationPollingInterval",t),this.config.transactionConfirmationPollingInterval=t}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(t){this._triggerConfigChange("blockHeaderTimeout",t),this.config.blockHeaderTimeout=t}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(t){this._triggerConfigChange("enableExperimentalFeatures",t),this.config.enableExperimentalFeatures=t}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(t){this._triggerConfigChange("maxListenersWarningThreshold",t),this.setMaxListenerWarningThreshold(t),this.config.maxListenersWarningThreshold=t}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(t){this._triggerConfigChange("defaultReturnFormat",t),this.config.defaultReturnFormat=t}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(t){this._triggerConfigChange("defaultNetworkId",t),this.config.defaultNetworkId=t}get defaultChain(){return this.config.defaultChain}set defaultChain(t){if(!isNullish(this.config.defaultCommon)&&!isNullish(this.config.defaultCommon.baseChain)&&t!==this.config.defaultCommon.baseChain)throw new ConfigChainMismatchError(this.config.defaultChain,t);this._triggerConfigChange("defaultChain",t),this.config.defaultChain=t}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(t){if(!isNullish(this.config.defaultCommon)&&!isNullish(this.config.defaultCommon.hardfork)&&t!==this.config.defaultCommon.hardfork)throw new ConfigHardforkMismatchError(this.config.defaultCommon.hardfork,t);this._triggerConfigChange("defaultHardfork",t),this.config.defaultHardfork=t}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(t){if(!isNullish(this.config.defaultHardfork)&&!isNullish(t)&&!isNullish(t.hardfork)&&this.config.defaultHardfork!==t.hardfork)throw new ConfigHardforkMismatchError(this.config.defaultHardfork,t.hardfork);if(!isNullish(this.config.defaultChain)&&!isNullish(t)&&!isNullish(t.baseChain)&&this.config.defaultChain!==t.baseChain)throw new ConfigChainMismatchError(this.config.defaultChain,t.baseChain);this._triggerConfigChange("defaultCommon",t),this.config.defaultCommon=t}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(t){this._triggerConfigChange("defaultTransactionType",t),this.config.defaultTransactionType=t}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(t){this._triggerConfigChange("defaultMaxPriorityFeePerGas",t),this.config.defaultMaxPriorityFeePerGas=t}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(t){this._triggerConfigChange("transactionBuilder",t),this.config.transactionBuilder=t}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(t){this._triggerConfigChange("transactionTypeParser",t),this.config.transactionTypeParser=t}_triggerConfigChange(t,r){this.emit(Web3ConfigEvent.CONFIG_CHANGE,{name:t,oldValue:this.config[t],newValue:r})}}var __awaiter$z=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class HttpProvider extends Web3BaseProvider{constructor(t,r){if(super(),!HttpProvider.validateClientUrl(t))throw new InvalidClientError(t);this.clientUrl=t,this.httpProviderOptions=r}static validateClientUrl(t){return typeof t=="string"?/^http(s)?:\/\//i.test(t):!1}getStatus(){throw new MethodNotImplementedError}supportsSubscriptions(){return!1}request(t,r){var n;return __awaiter$z(this,void 0,void 0,function*(){const a=Object.assign(Object.assign({},(n=this.httpProviderOptions)===null||n===void 0?void 0:n.providerOptions),r),o=yield fetch$1(this.clientUrl,Object.assign(Object.assign({},a),{method:"POST",headers:Object.assign(Object.assign({},a.headers),{"Content-Type":"application/json"}),body:JSON.stringify(t)}));if(!o.ok)throw new ResponseError(yield o.json());return yield o.json()})}on(){throw new MethodNotImplementedError}removeListener(){throw new MethodNotImplementedError}once(){throw new MethodNotImplementedError}removeAllListeners(){throw new MethodNotImplementedError}connect(){throw new MethodNotImplementedError}disconnect(){throw new MethodNotImplementedError}reset(){throw new MethodNotImplementedError}reconnect(){throw new MethodNotImplementedError}}var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof global$19<"u"?ws=global$19.WebSocket||global$19.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);const WebSocket$1=ws;class WebSocketProvider extends SocketProvider{constructor(t,r,n){super(t,r,n)}_validateProviderPath(t){return typeof t=="string"?/^ws(s)?:\/\//i.test(t):!1}getStatus(){if(this._socketConnection&&!isNullish(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new WebSocket$1(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(t,r){var n;(n=this._socketConnection)===null||n===void 0||n.close(t,r)}_sendToSocket(t){var r;if(this.getStatus()==="disconnected")throw new ConnectionNotOpenError;(r=this._socketConnection)===null||r===void 0||r.send(JSON.stringify(t))}_parseResponses(t){return this.chunkResponseParser.parseResponse(t.data)}_addSocketListeners(){var t,r,n,a;(t=this._socketConnection)===null||t===void 0||t.addEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("close",o=>this._onCloseHandler(o)),(a=this._socketConnection)===null||a===void 0||a.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var t,r,n;(t=this._socketConnection)===null||t===void 0||t.removeEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(t){var r;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(t.code)||!t.wasClean)){this._reconnect();return}this._clearQueues(t),this._removeSocketListeners(),this._onDisconnect(t.code,t.reason),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("error",this._onErrorHandler)}}const isWeb3Provider=e=>Web3BaseProvider.isWeb3Provider(e),isLegacyRequestProvider=e=>typeof e!="string"&&"request"in e&&e.request.constructor.name==="Function",isEIP1193Provider=e=>typeof e!="string"&&"request"in e&&e.request.constructor.name==="AsyncFunction",isLegacySendProvider=e=>typeof e!="string"&&"send"in e,isLegacySendAsyncProvider=e=>typeof e!="string"&&"sendAsync"in e,isSupportedProvider=e=>e&&(isWeb3Provider(e)||isEIP1193Provider(e)||isLegacyRequestProvider(e)||isLegacySendAsyncProvider(e)||isLegacySendProvider(e)),isSupportSubscriptions=e=>e&&"supportsSubscriptions"in e?e.supportsSubscriptions():!!(e&&typeof e!="string"&&"on"in e);var __awaiter$y=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})},Web3RequestManagerEvent;(function(e){e.PROVIDER_CHANGED="PROVIDER_CHANGED",e.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(Web3RequestManagerEvent||(Web3RequestManagerEvent={}));const availableProviders={HttpProvider,WebsocketProvider:WebSocketProvider};class Web3RequestManager extends Web3EventEmitter{constructor(t,r,n){super(),isNullish(t)||this.setProvider(t),this.useRpcCallSpecification=r,isNullish(n)||(this.middleware=n)}static get providers(){return availableProviders}get provider(){return this._provider}get providers(){return availableProviders}setProvider(t){let r;if(t&&typeof t=="string"&&this.providers)if(/^http(s)?:\/\//i.test(t))r=new this.providers.HttpProvider(t);else if(/^ws(s)?:\/\//i.test(t))r=new this.providers.WebsocketProvider(t);else throw new ProviderError(`Can't autodetect provider for "${t}"`);else isNullish(t)?r=void 0:r=t;return this.emit(Web3RequestManagerEvent.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=r,this.emit(Web3RequestManagerEvent.PROVIDER_CHANGED,this._provider),!0}setMiddleware(t){this.middleware=t}send(t){return __awaiter$y(this,void 0,void 0,function*(){const r=Object.assign({},t);let n=yield this._sendRequest(r);if(isNullish(this.middleware)||(n=yield this.middleware.processResponse(n)),isResponseWithResult(n))return n.result;throw new ResponseError(n)})}sendBatch(t){return __awaiter$y(this,void 0,void 0,function*(){return yield this._sendRequest(t)})}_sendRequest(t){return __awaiter$y(this,void 0,void 0,function*(){const{provider:r}=this;if(isNullish(r))throw new ProviderError("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let n=isBatchRequest(t)?toBatchPayload(t):toPayload(t);if(isNullish(this.middleware)||(n=yield this.middleware.processRequest(n)),isWeb3Provider(r)){let a;try{a=yield r.request(n)}catch(o){a=o}return this._processJsonRpcResponse(n,a,{legacy:!1,error:!1})}if(isEIP1193Provider(r))return r.request(n).then(a=>this._processJsonRpcResponse(n,a,{legacy:!0,error:!1})).catch(a=>this._processJsonRpcResponse(n,a,{legacy:!0,error:!0}));if(isLegacyRequestProvider(r))return new Promise((a,o)=>{const u=m=>{o(this._processJsonRpcResponse(n,m,{legacy:!0,error:!0}))},p=m=>a(this._processJsonRpcResponse(n,m,{legacy:!0,error:!1})),b=r.request(n,(m,y)=>m?u(m):p(y));isPromise(b)&&b.then(p).catch(m=>{try{const y=this._processJsonRpcResponse(n,m,{legacy:!0,error:!0});o(y)}catch(y){o(y)}})});if(isLegacySendProvider(r))return new Promise((a,o)=>{r.send(n,(u,p)=>{if(u)return o(this._processJsonRpcResponse(n,u,{legacy:!0,error:!0}));if(isNullish(p))throw new ResponseError({},'Got a "nullish" response from provider.');return a(this._processJsonRpcResponse(n,p,{legacy:!0,error:!1}))})});if(isLegacySendAsyncProvider(r))return r.sendAsync(n).then(a=>this._processJsonRpcResponse(n,a,{legacy:!0,error:!1})).catch(a=>this._processJsonRpcResponse(n,a,{legacy:!0,error:!0}));throw new ProviderError("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(t,r,{legacy:n,error:a}){if(isNullish(r))return this._buildResponse(t,null,a);if(isResponseWithError(r)){if(this.useRpcCallSpecification&&isResponseRpcError(r)){const o=r;if(rpcErrorsMap.get(o.error.code)){const u=rpcErrorsMap.get(o.error.code).error;throw new u(o)}else throw new RpcError(o)}else if(!Web3RequestManager._isReverted(r))throw new InvalidResponseError(r,t)}if(isResponseWithResult(r))return r;if(r instanceof Error)throw Web3RequestManager._isReverted(r),r;if(!n&&isBatchRequest(t)&&isBatchResponse(r)||n&&!a&&isBatchRequest(t))return r;if(n&&a&&isBatchRequest(t))throw r;if(n&&!isResponseWithError(r)&&!isResponseWithResult(r))return this._buildResponse(t,r,a);throw isBatchRequest(t)&&!Array.isArray(r)?new ResponseError(r,"Got normal response for a batch request."):!isBatchRequest(t)&&Array.isArray(r)?new ResponseError(r,"Got batch response for a normal request."):new ResponseError(r,"Invalid response")}static _isReverted(t){let r;if(isResponseWithError(t)?r=t.error:t instanceof Error&&(r=t),r==null?void 0:r.message.includes("revert"))throw new ContractExecutionError(r);return!1}_buildResponse(t,r,n){const a={jsonrpc:"2.0",id:isBatchRequest(t)?t[0].id:"id"in t?t.id:null};return n?Object.assign(Object.assign({},a),{error:r}):Object.assign(Object.assign({},a),{result:r})}}var __awaiter$x=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Web3SubscriptionManager{constructor(t,r,n=!1){this.requestManager=t,this.registeredSubscriptions=r,this.tolerateUnlinkedSubscription=n,this._subscriptions=new Map,this.requestManager.on(Web3RequestManagerEvent.BEFORE_PROVIDER_CHANGE,()=>__awaiter$x(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(Web3RequestManagerEvent.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const t=this.requestManager.provider;!this.requestManager.provider||typeof(t==null?void 0:t.supportsSubscriptions)=="function"&&!(t!=null&&t.supportsSubscriptions())||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",r=>this.messageListener(r)):t.on("data",r=>this.messageListener(r)))}messageListener(t){var r,n,a;if(!t)throw new SubscriptionError("Should not call messageListener with no data. Type was");const o=((r=t.params)===null||r===void 0?void 0:r.subscription)||((n=t.data)===null||n===void 0?void 0:n.subscription)||((a=t.id)===null||a===void 0?void 0:a.toString(16));if(o){const u=this._subscriptions.get(o);u==null||u.processSubscriptionData(t)}}subscribe(t,r,n=DEFAULT_RETURN_FORMAT){return __awaiter$x(this,void 0,void 0,function*(){const a=this.registeredSubscriptions[t];if(!a)throw new SubscriptionError("Invalid subscription type");const o=new a(r??void 0,{subscriptionManager:this,returnFormat:n});return yield this.addSubscription(o),o})}get subscriptions(){return this._subscriptions}addSubscription(t){return __awaiter$x(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new ProviderError("Provider not available");if(!this.supportsSubscriptions())throw new SubscriptionError("The current provider does not support subscriptions");if(t.id&&this._subscriptions.has(t.id))throw new SubscriptionError(`Subscription with id "${t.id}" already exists`);if(yield t.sendSubscriptionRequest(),isNullish(t.id))throw new SubscriptionError("Subscription is not subscribed yet.");return this._subscriptions.set(t.id,t),t.id})}removeSubscription(t){return __awaiter$x(this,void 0,void 0,function*(){const{id:r}=t;if(isNullish(r))throw new SubscriptionError("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(r)&&!this.tolerateUnlinkedSubscription)throw new SubscriptionError(`Subscription with id "${r.toString()}" does not exists`);return yield t.sendUnsubscribeRequest(),this._subscriptions.delete(r),r})}unsubscribe(t){return __awaiter$x(this,void 0,void 0,function*(){const r=[];for(const[n,a]of this.subscriptions.entries())(!t||typeof t=="function"&&t({id:n,sub:a}))&&r.push(this.removeSubscription(a));return Promise.all(r)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return isNullish(this.requestManager.provider)?!1:isSupportSubscriptions(this.requestManager.provider)}}var __awaiter$w=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Web3Subscription extends Web3EventEmitter{constructor(t,r){var n;super(),this.args=t;const{requestManager:a}=r,{subscriptionManager:o}=r;a?this._subscriptionManager=new Web3SubscriptionManager(a,{},!0):this._subscriptionManager=o,this._returnFormat=(n=r==null?void 0:r.returnFormat)!==null&&n!==void 0?n:DEFAULT_RETURN_FORMAT}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return __awaiter$w(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(t){var r,n;t!=null&&t.data?this._processSubscriptionResult((n=(r=t==null?void 0:t.data)===null||r===void 0?void 0:r.result)!==null&&n!==void 0?n:t==null?void 0:t.data):t&&isResponseWithNotification(t)&&this._processSubscriptionResult(t==null?void 0:t.params.result)}sendSubscriptionRequest(){return __awaiter$w(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return __awaiter$w(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return __awaiter$w(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return __awaiter$w(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(t){return t}_processSubscriptionResult(t){this.emit("data",this.formatSubscriptionResult(t))}_processSubscriptionError(t){this.emit("error",t)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var __awaiter$v=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Wallet extends Web3BaseWallet{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let t;try{t=window.localStorage;const r="__storage_test__";return t.setItem(r,r),t.removeItem(r),t}catch(r){return r&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!isNullish$1(t)&&t.length!==0?t:void 0}}create(t){for(let r=0;r<t;r+=1)this.add(this._accountProvider.create());return this}add(t){var r;if(typeof t=="string")return this.add(this._accountProvider.privateKeyToAccount(t));let n=this.length;return this.get(t.address)&&(console.warn(`Account ${t.address.toLowerCase()} already exists.`),n=(r=this._addressMap.get(t.address.toLowerCase()))!==null&&r!==void 0?r:n),this._addressMap.set(t.address.toLowerCase(),n),this[n]=t,this}get(t){if(typeof t=="string"){const r=this._addressMap.get(t.toLowerCase());return isNullish$1(r)?void 0:this[r]}return this[t]}remove(t){if(typeof t=="string"){const r=this._addressMap.get(t.toLowerCase());return isNullish$1(r)?!1:(this._addressMap.delete(t.toLowerCase()),this.splice(r,1),!0)}return this[t]?(this.splice(t,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(t,r){return __awaiter$v(this,void 0,void 0,function*(){return Promise.all(this.map(n=>__awaiter$v(this,void 0,void 0,function*(){return n.encrypt(t,r)})))})}decrypt(t,r,n){return __awaiter$v(this,void 0,void 0,function*(){const a=yield Promise.all(t.map(o=>__awaiter$v(this,void 0,void 0,function*(){return this._accountProvider.decrypt(o,r,n)})));for(const o of a)this.add(o);return this})}save(t,r){return __awaiter$v(this,void 0,void 0,function*(){const n=Wallet.getStorage();if(!n)throw new Error("Local storage not available.");return n.setItem(r??this._defaultKeyName,JSON.stringify(yield this.encrypt(t))),!0})}load(t,r){return __awaiter$v(this,void 0,void 0,function*(){const n=Wallet.getStorage();if(!n)throw new Error("Local storage not available.");const a=n.getItem(r??this._defaultKeyName);return a&&(yield this.decrypt(JSON.parse(a)||[],t)),this})}}const crypto$2={web:crypto$3};function validateOpt(e,t,r){if(!r.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${r}`);if(t.length!==16)throw new Error("AES: wrong IV length");if(r.startsWith("aes-128")&&e.length!==16||r.startsWith("aes-256")&&e.length!==32)throw new Error("AES: wrong key length")}async function getBrowserKey(e,t,r){if(!crypto$2.web)throw new Error("Browser crypto not available.");let n;if(["aes-128-cbc","aes-256-cbc"].includes(e)&&(n="cbc"),["aes-128-ctr","aes-256-ctr"].includes(e)&&(n="ctr"),!n)throw new Error("AES: unsupported mode");return[await crypto$2.web.subtle.importKey("raw",t,{name:`AES-${n.toUpperCase()}`,length:t.length*8},!0,["encrypt","decrypt"]),{name:`aes-${n}`,iv:r,counter:r,length:128}]}async function encrypt$1(e,t,r,n="aes-128-ctr",a=!0){if(validateOpt(t,r,n),crypto$2.web){const[o,u]=await getBrowserKey(n,t,r),p=await crypto$2.web.subtle.encrypt(u,o,e);let b=new Uint8Array(p);return!a&&u.name==="aes-cbc"&&!(e.length%16)&&(b=b.slice(0,-16)),b}else if(crypto$2.node){const o=crypto$2.node.createCipheriv(n,t,r);return o.setAutoPadding(a),utils$o.concatBytes(o.update(e),o.final())}else throw new Error("The environment doesn't have AES module")}async function getPadding(e,t,r,n){const a=e.slice(-16);for(let o=0;o<16;o++)a[o]^=r[o]^16;return(await encrypt$1(a,t,r,n)).slice(0,16)}async function decrypt$1(e,t,r,n="aes-128-ctr",a=!0){if(validateOpt(t,r,n),crypto$2.web){const[o,u]=await getBrowserKey(n,t,r);if(!a&&u.name==="aes-cbc"){const m=await getPadding(e,t,r,n);e=utils$o.concatBytes(e,m)}const p=await crypto$2.web.subtle.decrypt(u,o,e),b=new Uint8Array(p);if(u.name==="aes-cbc"){const m=await encrypt$1(b,t,r,n);if(!equalsBytes(m,e))throw new Error("AES: wrong padding")}return b}else if(crypto$2.node){const o=crypto$2.node.createDecipheriv(n,t,r);return o.setAutoPadding(a),utils$o.concatBytes(o.update(e),o.final())}else throw new Error("The environment doesn't have AES module")}function pbkdf2Sync(e,t,r,n,a){if(!["sha256","sha512"].includes(a))throw new Error("Only sha256 and sha512 are supported");return assertBytes(e),assertBytes(t),pbkdf2_2(sha256_1$3,e,t,{c:r,dkLen:n})}function setBigUint64(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const a=BigInt(32),o=BigInt(4294967295),u=Number(r>>a&o),p=Number(r&o),b=n?4:0,m=n?0:4;e.setUint32(t+b,u,n),e.setUint32(t+m,p,n)}const Chi=(e,t,r)=>e&t^~e&r,Maj=(e,t,r)=>e&t^e&r^t&r;class HashMD extends Hash{constructor(t,r,n,a){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=createView(this.buffer)}update(t){exists(this);const{view:r,buffer:n,blockLen:a}=this;t=toBytes$1(t);const o=t.length;for(let u=0;u<o;){const p=Math.min(a-this.pos,o-u);if(p===a){const b=createView(t);for(;a<=o-u;u+=a)this.process(b,u);continue}n.set(t.subarray(u,u+p),this.pos),this.pos+=p,u+=p,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){exists(this),output(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:a,isLE:o}=this;let{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>a-u&&(this.process(n,0),u=0);for(let A=u;A<a;A++)r[A]=0;setBigUint64(n,a-8,BigInt(this.length*8),o),this.process(n,0);const p=createView(t),b=this.outputLen;if(b%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=b/4,y=this.get();if(m>y.length)throw new Error("_sha2: outputLen bigger than state");for(let A=0;A<m;A++)p.setUint32(4*A,y[A],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:a,finished:o,destroyed:u,pos:p}=this;return t.length=a,t.pos=p,t.finished=o,t.destroyed=u,a%r&&t.buffer.set(n),t}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:t,B:r,C:n,D:a,E:o,F:u,G:p,H:b}=this;return[t,r,n,a,o,u,p,b]}set(t,r,n,a,o,u,p,b){this.A=t|0,this.B=r|0,this.C=n|0,this.D=a|0,this.E=o|0,this.F=u|0,this.G=p|0,this.H=b|0}process(t,r){for(let A=0;A<16;A++,r+=4)SHA256_W[A]=t.getUint32(r,!1);for(let A=16;A<64;A++){const I=SHA256_W[A-15],M=SHA256_W[A-2],C=rotr(I,7)^rotr(I,18)^I>>>3,P=rotr(M,17)^rotr(M,19)^M>>>10;SHA256_W[A]=P+SHA256_W[A-7]+C+SHA256_W[A-16]|0}let{A:n,B:a,C:o,D:u,E:p,F:b,G:m,H:y}=this;for(let A=0;A<64;A++){const I=rotr(p,6)^rotr(p,11)^rotr(p,25),M=y+I+Chi(p,b,m)+SHA256_K[A]+SHA256_W[A]|0,C=(rotr(n,2)^rotr(n,13)^rotr(n,22))+Maj(n,a,o)|0;y=m,m=b,b=p,p=u+M|0,u=o,o=a,a=n,n=M+C|0}n=n+this.A|0,a=a+this.B|0,o=o+this.C|0,u=u+this.D|0,p=p+this.E|0,b=b+this.F|0,m=m+this.G|0,y=y+this.H|0,this.set(n,a,o,u,p,b,m,y)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256=wrapConstructor(()=>new SHA256);class HMAC extends Hash{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,hash$1(t);const n=toBytes$1(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,o=new Uint8Array(a);o.set(n.length>a?t.create().update(n).digest():n);for(let u=0;u<o.length;u++)o[u]^=54;this.iHash.update(o),this.oHash=t.create();for(let u=0;u<o.length;u++)o[u]^=106;this.oHash.update(o),o.fill(0)}update(t){return exists(this),this.iHash.update(t),this}digestInto(t){exists(this),bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:a,destroyed:o,blockLen:u,outputLen:p}=this;return t=t,t.finished=a,t.destroyed=o,t.blockLen=u,t.outputLen=p,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(e,t,r)=>new HMAC(e,t).update(r).digest();hmac.create=(e,t)=>new HMAC(e,t);function pbkdf2Init(e,t,r,n){hash$1(e);const a=checkOpts({dkLen:32,asyncTick:10},n),{c:o,dkLen:u,asyncTick:p}=a;if(number(o),number(u),number(p),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const b=toBytes$1(t),m=toBytes$1(r),y=new Uint8Array(u),A=hmac.create(e,b),I=A._cloneInto().update(m);return{c:o,dkLen:u,asyncTick:p,DK:y,PRF:A,PRFSalt:I}}function pbkdf2Output(e,t,r,n,a){return e.destroy(),t.destroy(),n&&n.destroy(),a.fill(0),r}function pbkdf2(e,t,r,n){const{c:a,dkLen:o,DK:u,PRF:p,PRFSalt:b}=pbkdf2Init(e,t,r,n);let m;const y=new Uint8Array(4),A=createView(y),I=new Uint8Array(p.outputLen);for(let M=1,C=0;C<o;M++,C+=p.outputLen){const P=u.subarray(C,C+p.outputLen);A.setInt32(0,M,!1),(m=b._cloneInto(m)).update(y).digestInto(I),P.set(I.subarray(0,P.length));for(let B=1;B<a;B++){p._cloneInto(m).update(I).digestInto(I);for(let k=0;k<P.length;k++)P[k]^=I[k]}}return pbkdf2Output(p,b,u,m,I)}function XorAndSalsa(e,t,r,n,a,o){let u=e[t++]^r[n++],p=e[t++]^r[n++],b=e[t++]^r[n++],m=e[t++]^r[n++],y=e[t++]^r[n++],A=e[t++]^r[n++],I=e[t++]^r[n++],M=e[t++]^r[n++],C=e[t++]^r[n++],P=e[t++]^r[n++],B=e[t++]^r[n++],k=e[t++]^r[n++],N=e[t++]^r[n++],D=e[t++]^r[n++],L=e[t++]^r[n++],K=e[t++]^r[n++],J=u,ce=p,oe=b,Z=m,ie=y,s=A,d=I,l=M,v=C,S=P,O=B,T=k,_=N,c=D,w=L,x=K;for(let F=0;F<8;F+=2)ie^=rotl(J+_|0,7),v^=rotl(ie+J|0,9),_^=rotl(v+ie|0,13),J^=rotl(_+v|0,18),S^=rotl(s+ce|0,7),c^=rotl(S+s|0,9),ce^=rotl(c+S|0,13),s^=rotl(ce+c|0,18),w^=rotl(O+d|0,7),oe^=rotl(w+O|0,9),d^=rotl(oe+w|0,13),O^=rotl(d+oe|0,18),Z^=rotl(x+T|0,7),l^=rotl(Z+x|0,9),T^=rotl(l+Z|0,13),x^=rotl(T+l|0,18),ce^=rotl(J+Z|0,7),oe^=rotl(ce+J|0,9),Z^=rotl(oe+ce|0,13),J^=rotl(Z+oe|0,18),d^=rotl(s+ie|0,7),l^=rotl(d+s|0,9),ie^=rotl(l+d|0,13),s^=rotl(ie+l|0,18),T^=rotl(O+S|0,7),v^=rotl(T+O|0,9),S^=rotl(v+T|0,13),O^=rotl(S+v|0,18),_^=rotl(x+w|0,7),c^=rotl(_+x|0,9),w^=rotl(c+_|0,13),x^=rotl(w+c|0,18);a[o++]=u+J|0,a[o++]=p+ce|0,a[o++]=b+oe|0,a[o++]=m+Z|0,a[o++]=y+ie|0,a[o++]=A+s|0,a[o++]=I+d|0,a[o++]=M+l|0,a[o++]=C+v|0,a[o++]=P+S|0,a[o++]=B+O|0,a[o++]=k+T|0,a[o++]=N+_|0,a[o++]=D+c|0,a[o++]=L+w|0,a[o++]=K+x|0}function BlockMix(e,t,r,n,a){let o=n+0,u=n+16*a;for(let p=0;p<16;p++)r[u+p]=e[t+(2*a-1)*16+p];for(let p=0;p<a;p++,o+=16,t+=16)XorAndSalsa(r,u,e,t,r,o),p>0&&(u+=16),XorAndSalsa(r,o,e,t+=16,r,u)}function scryptInit(e,t,r){const n=checkOpts({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:a,r:o,p:u,dkLen:p,asyncTick:b,maxmem:m,onProgress:y}=n;if(number(a),number(o),number(u),number(p),number(b),number(m),y!==void 0&&typeof y!="function")throw new Error("progressCb should be function");const A=128*o,I=A/4;if(a<=1||a&a-1||a>=2**(A/8)||a>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(u<0||u>(2**32-1)*32/A)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(p<0||p>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const M=A*(a+u);if(M>m)throw new Error(`Scrypt: parameters too large, ${M} (128 * r * (N + p)) > ${m} (maxmem)`);const C=pbkdf2(sha256,e,t,{c:1,dkLen:A*u}),P=u32(C),B=u32(new Uint8Array(A*a)),k=u32(new Uint8Array(A));let N=()=>{};if(y){const D=2*a*u,L=Math.max(Math.floor(D/1e4),1);let K=0;N=()=>{K++,y&&(!(K%L)||K===D)&&y(K/D)}}return{N:a,r:o,p:u,dkLen:p,blockSize32:I,V:B,B32:P,B:C,tmp:k,blockMixCb:N,asyncTick:b}}function scryptOutput(e,t,r,n,a){const o=pbkdf2(sha256,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),a.fill(0),o}function scrypt(e,t,r){const{N:n,r:a,p:o,dkLen:u,blockSize32:p,V:b,B32:m,B:y,tmp:A,blockMixCb:I}=scryptInit(e,t,r);isLE||byteSwap32(m);for(let M=0;M<o;M++){const C=p*M;for(let P=0;P<p;P++)b[P]=m[C+P];for(let P=0,B=0;P<n-1;P++)BlockMix(b,B,b,B+=p,a),I();BlockMix(b,(n-1)*p,m,C,a),I();for(let P=0;P<n;P++){const B=m[C+p-16]%n;for(let k=0;k<p;k++)A[k]=m[C+k]^b[B*p+k];BlockMix(A,0,m,C,a),I()}}return isLE||byteSwap32(m),scryptOutput(e,u,y,b,A)}function scryptSync(e,t,r,n,a,o,u){return assertBytes(e),assertBytes(t),scrypt(e,t,{N:r,r:a,p:n,dkLen:o,onProgress:u})}var _a$1;const secp256k1=(_a$1=secp256k1$3.secp256k1)!==null&&_a$1!==void 0?_a$1:ethereumCryptography,MAX_UINT64=BigInt("0xffffffffffffffff"),MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),SECP256K1_ORDER=secp256k1.CURVE.n,SECP256K1_ORDER_DIV_2=SECP256K1_ORDER/BigInt(2),keyStoreSchema={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var Chain;(function(e){e[e.Mainnet=1]="Mainnet",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia"})(Chain||(Chain={}));var Hardfork;(function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Merge="merge",e.Shanghai="shanghai",e.ShardingForkDev="shardingFork"})(Hardfork||(Hardfork={}));var ConsensusType;(function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"})(ConsensusType||(ConsensusType={}));var ConsensusAlgorithm;(function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"})(ConsensusAlgorithm||(ConsensusAlgorithm={}));var CustomChain;(function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"})(CustomChain||(CustomChain={}));var TypeOutput;(function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Uint8Array=2]="Uint8Array",e[e.PrefixedHexString=3]="PrefixedHexString"})(TypeOutput||(TypeOutput={}));const stripHexPrefix$1=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return isHexPrefixed$1(e)?e.slice(2):e};function formatNonce(e){return!e||e==="0x0"?"0x0000000000000000":isHexPrefixed$1(e)?`0x${stripHexPrefix$1(e).padStart(16,"0")}`:`0x${e.padStart(16,"0")}`}const intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};function parseGethParams(e,t=!0){var r,n;const{name:a,config:o,difficulty:u,mixHash:p,gasLimit:b,coinbase:m,baseFeePerGas:y}=e;let{extraData:A,timestamp:I,nonce:M}=e;const C=Number(I),{chainId:P}=o;if(A===""&&(A="0x"),isHexPrefixed$1(I)||(I=intToHex(parseInt(I))),M.length!==18&&(M=formatNonce(M)),o.eip155Block!==o.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const B={name:a,chainId:P,networkId:P,genesis:{timestamp:I,gasLimit:parseInt(b),difficulty:parseInt(u),nonce:M,extraData:A,mixHash:p,coinbase:m,baseFeePerGas:y},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:o.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(r=o.clique.period)!==null&&r!==void 0?r:o.clique.blockperiodseconds,epoch:(n=o.clique.epoch)!==null&&n!==void 0?n:o.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},k={[Hardfork.Homestead]:{name:"homesteadBlock"},[Hardfork.Dao]:{name:"daoForkBlock"},[Hardfork.TangerineWhistle]:{name:"eip150Block"},[Hardfork.SpuriousDragon]:{name:"eip155Block"},[Hardfork.Byzantium]:{name:"byzantiumBlock"},[Hardfork.Constantinople]:{name:"constantinopleBlock"},[Hardfork.Petersburg]:{name:"petersburgBlock"},[Hardfork.Istanbul]:{name:"istanbulBlock"},[Hardfork.MuirGlacier]:{name:"muirGlacierBlock"},[Hardfork.Berlin]:{name:"berlinBlock"},[Hardfork.London]:{name:"londonBlock"},[Hardfork.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:t},[Hardfork.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Hardfork.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},N=Object.keys(k).reduce((K,J)=>(K[k[J].name]=J,K),{}),D=Object.keys(o).filter(K=>N[K]!==void 0&&o[K]!==void 0&&o[K]!==null);if(B.hardforks=D.map(K=>({name:N[K],block:k[N[K]].isTimestamp===!0||typeof o[K]!="number"?null:o[K],timestamp:k[N[K]].isTimestamp===!0&&typeof o[K]=="number"?o[K]:void 0})).filter(K=>K.block!==null||K.timestamp!==void 0),B.hardforks.sort((K,J)=>{var ce,oe;return((ce=K.block)!==null&&ce!==void 0?ce:1/0)-((oe=J.block)!==null&&oe!==void 0?oe:1/0)}),B.hardforks.sort((K,J)=>{var ce,oe;return((ce=K.timestamp)!==null&&ce!==void 0?ce:C)-((oe=J.timestamp)!==null&&oe!==void 0?oe:C)}),o.terminalTotalDifficulty!==void 0){const K={name:Hardfork.Merge,ttd:o.terminalTotalDifficulty,block:null},J=B.hardforks.findIndex(ce=>{var oe;return((oe=k[ce.name])===null||oe===void 0?void 0:oe.postMerge)===!0});J!==-1?B.hardforks.splice(J,0,K):B.hardforks.push(K)}const L=B.hardforks.length>0?B.hardforks.slice(-1)[0]:void 0;return B.hardfork=L==null?void 0:L.name,B.hardforks.unshift({name:Hardfork.Chainstart,block:0}),B}function parseGethGenesis(e,t,r){try{if(["config","difficulty","gasLimit","alloc"].some(n=>!(n in e)))throw new Error("Invalid format, expected geth genesis fields missing");return t!==void 0&&(e.name=t),parseGethParams(e,r)}catch(n){throw new Error(`Error parsing parameters file: ${n.message}`)}}function padToEven$1(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}const intToUint8Array=function(e){const t=intToHex(e);return hexToBytes$1(`0x${padToEven$1(t.slice(2))}`)},toUint8Array=function(e){var t;if(e==null)return new Uint8Array;if(e instanceof Uint8Array)return e;if(((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"||Array.isArray(e))return Uint8Array.from(e);if(typeof e=="string"){if(!isHexString(e))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${e}`);return hexToBytes$1(padToEven$1(stripHexPrefix$1(e)))}if(typeof e=="number")return toUint8Array(numberToHex$1(e));if(typeof e=="bigint"){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r=`0${r}`),toUint8Array(`0x${r}`)}if(e.toArray)return Uint8Array.from(e.toArray());throw new Error("invalid type")};function uint8ArrayToBigInt$1(e){const t=bytesToHex$1(e);return BigInt(t==="0x"?0:t)}function bigIntToUint8Array$1(e){return toUint8Array(`0x${e.toString(16)}`)}const zeros=function(e){return new Uint8Array(e).fill(0)},setLength=function(e,t,r){const n=zeros(t);return e.length<t?(n.set(e,t-e.length),n):e.subarray(-t)};function assertIsUint8Array(e){if(!isUint8Array(e)){const t=`This method only supports Uint8Array but input was: ${e}`;throw new Error(t)}}const setLengthLeft=function(e,t){return assertIsUint8Array(e),setLength(e,t)};function stripZeros(e){let t=e[0];for(;e.length>0&&t.toString()==="0";)e=e.slice(1),t=e[0];return e}const unpadUint8Array=function(e){return assertIsUint8Array(e),stripZeros(e)},bigIntToHex=e=>`0x${e.toString(16)}`;function bigIntToUnpaddedUint8Array(e){return unpadUint8Array(bigIntToUint8Array$1(e))}function calculateSigRecovery(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function isValidSigRecovery(e){return e===BigInt(0)||e===BigInt(1)}const ecrecover=function(e,t,r,n,a){const o=calculateSigRecovery(t,a);if(!isValidSigRecovery(o))throw new Error("Invalid signature v value");return new secp256k1.Signature(uint8ArrayToBigInt$1(r),uint8ArrayToBigInt$1(n)).addRecoveryBit(Number(o)).recoverPublicKey(e).toRawBytes(!1).slice(1)};function toType(e,t){if(e===null)return null;if(e===void 0)return;if(typeof e=="string"&&!isHexString(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=toUint8Array(e);switch(t){case TypeOutput.Uint8Array:return r;case TypeOutput.BigInt:return uint8ArrayToBigInt$1(r);case TypeOutput.Number:{const n=uint8ArrayToBigInt$1(r);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(n)}case TypeOutput.PrefixedHexString:return bytesToHex$1(r);default:throw new Error("unknown outputType")}}var dist$1={};Object.defineProperty(dist$1,"__esModule",{value:!0});var RLP=dist$1.RLP=dist$1.utils=dist$1.decode=dist$1.encode=void 0;function encode$k(e){if(Array.isArray(e)){const r=[];let n=0;for(let a=0;a<e.length;a++){const o=encode$k(e[a]);r.push(o),n+=o.length}return concatBytes(encodeLength(n,192),...r)}const t=toBytes(e);return t.length===1&&t[0]<128?t:concatBytes(encodeLength(t.length,128),t)}dist$1.encode=encode$k;function safeSlice(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function decodeLength(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return parseHexByte(bytesToHex(e))}function encodeLength(e,t){if(e<56)return Uint8Array.from([e+t]);const r=numberToHex(e),n=r.length/2,a=numberToHex(t+55+n);return Uint8Array.from(hexToBytes(a+r))}function decode$i(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=toBytes(e),n=_decode(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}dist$1.decode=decode$i;function _decode(e){let t,r,n,a,o;const u=[],p=e[0];if(p<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(p<=183){if(t=p-127,p===128?n=Uint8Array.from([]):n=safeSlice(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(p<=191){if(r=p-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=decodeLength(safeSlice(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=safeSlice(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(p<=247){for(t=p-191,a=safeSlice(e,1,t);a.length;)o=_decode(a),u.push(o.data),a=o.remainder;return{data:u,remainder:e.slice(t)}}else{if(r=p-246,t=decodeLength(safeSlice(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const b=r+t;if(b>e.length)throw new Error("invalid RLP: total length is larger than the data");for(a=safeSlice(e,r,b);a.length;)o=_decode(a),u.push(o.data),a=o.remainder;return{data:u,remainder:e.slice(b)}}}const cachedHexes=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bytesToHex(e){let t="";for(let r=0;r<e.length;r++)t+=cachedHexes[e[r]];return t}function parseHexByte(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function hexToBytes(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=parseHexByte(e.slice(n,n+2))}return t}function concatBytes(...e){if(e.length===1)return e[0];const t=e.reduce((n,a)=>n+a.length,0),r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const o=e[n];r.set(o,a),a+=o.length}return r}function utf8ToBytes(e){return new TextEncoder().encode(e)}function numberToHex(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function padToEven(e){return e.length%2?`0${e}`:e}function isHexPrefixed(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function stripHexPrefix(e){return typeof e!="string"?e:isHexPrefixed(e)?e.slice(2):e}function toBytes(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return isHexPrefixed(e)?hexToBytes(padToEven(stripHexPrefix(e))):utf8ToBytes(e);if(typeof e=="number"||typeof e=="bigint")return e?hexToBytes(numberToHex(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}dist$1.utils={bytesToHex,concatBytes,hexToBytes,utf8ToBytes},RLP=dist$1.RLP={encode:encode$k,decode:decode$i};var crc32={};(function(e){(function(t){t(typeof DO_NOT_EXPORT_CRC>"u"?e:{})})(function(t){t.version="1.2.2";function r(){for(var oe=0,Z=new Array(256),ie=0;ie!=256;++ie)oe=ie,oe=oe&1?-306674912^oe>>>1:oe>>>1,oe=oe&1?-306674912^oe>>>1:oe>>>1,oe=oe&1?-306674912^oe>>>1:oe>>>1,oe=oe&1?-306674912^oe>>>1:oe>>>1,oe=oe&1?-306674912^oe>>>1:oe>>>1,oe=oe&1?-306674912^oe>>>1:oe>>>1,oe=oe&1?-306674912^oe>>>1:oe>>>1,oe=oe&1?-306674912^oe>>>1:oe>>>1,Z[ie]=oe;return typeof Int32Array<"u"?new Int32Array(Z):Z}var n=r();function a(oe){var Z=0,ie=0,s=0,d=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(s=0;s!=256;++s)d[s]=oe[s];for(s=0;s!=256;++s)for(ie=oe[s],Z=256+s;Z<4096;Z+=256)ie=d[Z]=ie>>>8^oe[ie&255];var l=[];for(s=1;s!=16;++s)l[s-1]=typeof Int32Array<"u"?d.subarray(s*256,s*256+256):d.slice(s*256,s*256+256);return l}var o=a(n),u=o[0],p=o[1],b=o[2],m=o[3],y=o[4],A=o[5],I=o[6],M=o[7],C=o[8],P=o[9],B=o[10],k=o[11],N=o[12],D=o[13],L=o[14];function K(oe,Z){for(var ie=Z^-1,s=0,d=oe.length;s<d;)ie=ie>>>8^n[(ie^oe.charCodeAt(s++))&255];return~ie}function J(oe,Z){for(var ie=Z^-1,s=oe.length-15,d=0;d<s;)ie=L[oe[d++]^ie&255]^D[oe[d++]^ie>>8&255]^N[oe[d++]^ie>>16&255]^k[oe[d++]^ie>>>24]^B[oe[d++]]^P[oe[d++]]^C[oe[d++]]^M[oe[d++]]^I[oe[d++]]^A[oe[d++]]^y[oe[d++]]^m[oe[d++]]^b[oe[d++]]^p[oe[d++]]^u[oe[d++]]^n[oe[d++]];for(s+=15;d<s;)ie=ie>>>8^n[(ie^oe[d++])&255];return~ie}function ce(oe,Z){for(var ie=Z^-1,s=0,d=oe.length,l=0,v=0;s<d;)l=oe.charCodeAt(s++),l<128?ie=ie>>>8^n[(ie^l)&255]:l<2048?(ie=ie>>>8^n[(ie^(192|l>>6&31))&255],ie=ie>>>8^n[(ie^(128|l&63))&255]):l>=55296&&l<57344?(l=(l&1023)+64,v=oe.charCodeAt(s++)&1023,ie=ie>>>8^n[(ie^(240|l>>8&7))&255],ie=ie>>>8^n[(ie^(128|l>>2&63))&255],ie=ie>>>8^n[(ie^(128|v>>6&15|(l&3)<<4))&255],ie=ie>>>8^n[(ie^(128|v&63))&255]):(ie=ie>>>8^n[(ie^(224|l>>12&15))&255],ie=ie>>>8^n[(ie^(128|l>>6&63))&255],ie=ie>>>8^n[(ie^(128|l&63))&255]);return~ie}t.table=n,t.bstr=K,t.buf=J,t.str=ce})})(crc32);const pkg=getDefaultExportFromCjs$1(crc32),goerli={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},mainnet$1={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},sepolia={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},e1153={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},e1559={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},e2315={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},e2537={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},e2565={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},e2718={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},e2929={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},e2930={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},e3198={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},e3529={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},e3540={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},e3541={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},e3554={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},e3607={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},e3651={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},e3670={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},e3675={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},e3855={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},e3860={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},e4345={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},e4399={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},e5133={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},EIPs={1153:e1153,1559:e1559,2315:e2315,2537:e2537,2565:e2565,2718:e2718,2929:e2929,2930:e2930,3198:e3198,3529:e3529,3540:e3540,3541:e3541,3554:e3554,3607:e3607,3651:e3651,3670:e3670,3675:e3675,3855:e3855,3860:e3860,4345:e4345,4399:e4399,5133:e5133},chainstart={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},dao={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},homestead={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},tangerineWhistle={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},spuriousDragon={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},byzantium={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},istanbul={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},muirGlacier={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},london={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},shanghai={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},arrowGlacier={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},grayGlacier={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},mergeForkIdTransition={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},merge={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},hardforks={chainstart,homestead,dao,tangerineWhistle,spuriousDragon,byzantium,constantinople,petersburg,istanbul,muirGlacier,berlin,london,shanghai,arrowGlacier,grayGlacier,mergeForkIdTransition,merge},{buf:crc32Uint8Array}=pkg;class Common extends EventEmitter{constructor(t){var r,n;super(),this._eips=[],this._customChains=(r=t.customChains)!==null&&r!==void 0?r:[],this._chainParams=this.setChain(t.chain),this.DEFAULT_HARDFORK=(n=this._chainParams.defaultHardfork)!==null&&n!==void 0?n:Hardfork.Merge,this.HARDFORK_CHANGES=this.hardforks().map(a=>[a.name,hardforks[a.name]]),this._hardfork=this.DEFAULT_HARDFORK,t.hardfork!==void 0&&this.setHardfork(t.hardfork),t.eips&&this.setEIPs(t.eips)}static custom(t,r={}){var n;const a=(n=r.baseChain)!==null&&n!==void 0?n:"mainnet",o=Object.assign({},Common._getChainParams(a));if(o.name="custom-chain",typeof t!="string")return new Common(Object.assign({chain:Object.assign(Object.assign({},o),t)},r));if(t===CustomChain.PolygonMainnet)return Common.custom({name:CustomChain.PolygonMainnet,chainId:137,networkId:137},r);if(t===CustomChain.PolygonMumbai)return Common.custom({name:CustomChain.PolygonMumbai,chainId:80001,networkId:80001},r);if(t===CustomChain.ArbitrumRinkebyTestnet)return Common.custom({name:CustomChain.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},r);if(t===CustomChain.ArbitrumOne)return Common.custom({name:CustomChain.ArbitrumOne,chainId:42161,networkId:42161},r);if(t===CustomChain.xDaiChain)return Common.custom({name:CustomChain.xDaiChain,chainId:100,networkId:100},r);if(t===CustomChain.OptimisticKovan)return Common.custom({name:CustomChain.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:Hardfork.Berlin},r));if(t===CustomChain.OptimisticEthereum)return Common.custom({name:CustomChain.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:Hardfork.Berlin},r));throw new Error(`Custom chain ${t} not supported`)}static fromGethGenesis(t,{chain:r,eips:n,genesisHash:a,hardfork:o,mergeForkIdPostMerge:u}){var p;const b=parseGethGenesis(t,r,u),m=new Common({chain:(p=b.name)!==null&&p!==void 0?p:"custom",customChains:[b],eips:n,hardfork:o??b.hardfork});return a!==void 0&&m.setForkHashes(a),m}static isSupportedChainId(t){return!!this._getInitializedChains().names[t.toString()]}static _getChainParams(t,r){let n=t;const a=this._getInitializedChains(r);if(typeof n=="number"||typeof n=="bigint"){if(n=n.toString(),a.names[n]){const o=a.names[n];return a[o]}throw new Error(`Chain with ID ${n} not supported`)}if(a[n]!==void 0)return a[n];throw new Error(`Chain with name ${n} not supported`)}setChain(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")this._chainParams=Common._getChainParams(t,this._customChains);else if(typeof t=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const r=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of r)if(!(n in t))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=t}else throw new Error("Wrong input format");for(const r of this.hardforks())if(r.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(t){let r=!1;for(const n of this.HARDFORK_CHANGES)n[0]===t&&(this._hardfork!==t&&(this._hardfork=t,this.emit("hardforkChanged",t)),r=!0);if(!r)throw new Error(`Hardfork with name ${t} not supported`)}getHardforkByBlockNumber(t,r,n){const a=toType(t,TypeOutput.BigInt),o=toType(r,TypeOutput.BigInt),u=toType(n,TypeOutput.Number),p=this.hardforks().filter(A=>A.block!==null||A.ttd!==null&&A.ttd!==void 0||A.timestamp!==void 0),b=p.findIndex(A=>A.ttd!==null&&A.ttd!==void 0);if(p.slice(b+1).findIndex(A=>A.ttd!==null&&A.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let m=p.findIndex(A=>A.block!==null&&A.block>a||u!==void 0&&Number(A.timestamp)>u);if(m===-1)m=p.length;else if(m===0)throw Error("Must have at least one hardfork at block 0");if(u===void 0){const A=p.slice(0,m).reverse().findIndex(I=>I.block!==null||I.ttd!==void 0);m-=A}if(m-=1,p[m].block===null&&p[m].timestamp===void 0)(o==null||BigInt(p[m].ttd)>o)&&(m-=1);else if(b>=0&&o!==void 0&&o!==null){if(m>=b&&BigInt(p[b].ttd)>o)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(m<b&&BigInt(p[b].ttd)<=o)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const y=m;for(;m<p.length-1&&!(p[m].block!==p[m+1].block||p[m].timestamp!==p[m+1].timestamp);m+=1);if(u){if(p.slice(0,y).reduce((A,I)=>{var M;return Math.max(Number((M=I.timestamp)!==null&&M!==void 0?M:"0"),A)},0)>u)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(p.slice(m+1).reduce((A,I)=>{var M;return Math.min(Number((M=I.timestamp)!==null&&M!==void 0?M:u),A)},u)<u)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return p[m].name}setHardforkByBlockNumber(t,r,n){const a=this.getHardforkByBlockNumber(t,r,n);return this.setHardfork(a),a}_getHardfork(t){const r=this.hardforks();for(const n of r)if(n.name===t)return n;return null}setEIPs(t=[]){for(const r of t){if(!(r in EIPs))throw new Error(`${r} not supported`);const n=this.gteHardfork(EIPs[r].minimumHardfork);if(!n)throw new Error(`${r} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`);if(EIPs[r].requiredEIPs!==void 0){for(const a of EIPs[r].requiredEIPs)if(!(t.includes(a)||this.isActivatedEIP(a)))throw new Error(`${r} requires EIP ${a}, but is not included in the EIP list`)}}this._eips=t}param(t,r){let n;for(const a of this._eips)if(n=this.paramByEIP(t,r,a),n!==void 0)return n;return this.paramByHardfork(t,r,this._hardfork)}paramByHardfork(t,r,n){let a=null;for(const o of this.HARDFORK_CHANGES){if("eips"in o[1]){const u=o[1].eips;for(const p of u){const b=this.paramByEIP(t,r,p);a=typeof b=="bigint"?b:a}}else{if(o[1][t]===void 0)throw new Error(`Topic ${t} not defined`);o[1][t][r]!==void 0&&(a=o[1][t][r].v)}if(o[0]===n)break}return BigInt(a??0)}paramByEIP(t,r,n){if(!(n in EIPs))throw new Error(`${n} not supported`);const a=EIPs[n];if(!(t in a))throw new Error(`Topic ${t} not defined`);if(a[t][r]===void 0)return;const o=a[t][r].v;return BigInt(o)}paramByBlock(t,r,n,a,o){const u=this.getHardforkByBlockNumber(n,a,o);return this.paramByHardfork(t,r,u)}isActivatedEIP(t){if(this.eips().includes(t))return!0;for(const r of this.HARDFORK_CHANGES){const n=r[1];if(this.gteHardfork(n.name)&&"eips"in n&&n.eips.includes(t))return!0}return!1}hardforkIsActiveOnBlock(t,r){const n=toType(r,TypeOutput.BigInt),a=t??this._hardfork,o=this.hardforkBlock(a);return typeof o=="bigint"&&o!==BigInt(0)&&n>=o}activeOnBlock(t){return this.hardforkIsActiveOnBlock(null,t)}hardforkGteHardfork(t,r){const n=t??this._hardfork,a=this.hardforks();let o=-1,u=-1,p=0;for(const b of a)b.name===n&&(o=p),b.name===r&&(u=p),p+=1;return o>=u&&u!==-1}gteHardfork(t){return this.hardforkGteHardfork(null,t)}hardforkBlock(t){var r;const n=t??this._hardfork,a=(r=this._getHardfork(n))===null||r===void 0?void 0:r.block;return a==null?null:BigInt(a)}hardforkTimestamp(t){var r;const n=t??this._hardfork,a=(r=this._getHardfork(n))===null||r===void 0?void 0:r.timestamp;return a==null?null:BigInt(a)}eipBlock(t){for(const r of this.HARDFORK_CHANGES){const n=r[1];if("eips"in n&&n.eips.includes(t))return this.hardforkBlock(typeof r[0]=="number"?String(r[0]):r[0])}return null}hardforkTTD(t){var r;const n=t??this._hardfork,a=(r=this._getHardfork(n))===null||r===void 0?void 0:r.ttd;return a==null?null:BigInt(a)}isHardforkBlock(t,r){const n=toType(t,TypeOutput.BigInt),a=r??this._hardfork,o=this.hardforkBlock(a);return typeof o=="bigint"&&o!==BigInt(0)?o===n:!1}nextHardforkBlockOrTimestamp(t){var r,n;const a=t??this._hardfork,o=this.hardforks();let u=o.findIndex(y=>y.name===a);if(a===Hardfork.Merge&&(u-=1),u<0)return null;let p=(r=o[u].timestamp)!==null&&r!==void 0?r:o[u].block;p=p!=null?Number(p):null;const b=o.slice(u+1).find(y=>{var A;let I=(A=y.timestamp)!==null&&A!==void 0?A:y.block;return I=I!=null?Number(I):null,y.name!==Hardfork.Merge&&I!==null&&I!==void 0&&I!==p});if(b===void 0)return null;const m=(n=b.timestamp)!==null&&n!==void 0?n:b.block;return m==null?null:BigInt(m)}nextHardforkBlock(t){const r=t??this._hardfork;let n=this.hardforkBlock(r);if(n===null&&r===Hardfork.Merge){const a=this.hardforks(),o=a.findIndex(u=>u.ttd!==null&&u.ttd!==void 0);if(o<0)throw Error("Merge hardfork should have been found");n=this.hardforkBlock(a[o-1].name)}return n===null?null:this.hardforks().reduce((a,o)=>{const u=BigInt(o.block===null||o.ttd!==void 0&&o.ttd!==null?0:o.block);return u>n&&a===null?u:a},null)}isNextHardforkBlock(t,r){const n=toType(t,TypeOutput.BigInt),a=r??this._hardfork,o=this.nextHardforkBlock(a);return o===null?!1:o===n}_calcForkHash(t,r){let n=new Uint8Array,a=0;for(const u of this.hardforks()){const{block:p,timestamp:b,name:m}=u;let y=b??p;if(y=y!==null?Number(y):null,typeof y=="number"&&y!==0&&y!==a&&m!==Hardfork.Merge){const A=hexToBytes$1(y.toString(16).padStart(16,"0"));n=uint8ArrayConcat(n,A),a=y}if(u.name===t)break}const o=uint8ArrayConcat(r,n);return bytesToHex$1(intToUint8Array(crc32Uint8Array(o)>>>0))}forkHash(t,r){const n=t??this._hardfork,a=this._getHardfork(n);if(a===null||(a==null?void 0:a.block)===null&&(a==null?void 0:a.timestamp)===void 0&&(a==null?void 0:a.ttd)===void 0){const o="No fork hash calculation possible for future hardfork";throw new Error(o)}if((a==null?void 0:a.forkHash)!==null&&(a==null?void 0:a.forkHash)!==void 0)return a.forkHash;if(!r)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(n,r)}hardforkForForkHash(t){const r=this.hardforks().filter(n=>n.forkHash===t);return r.length>=1?r[r.length-1]:null}setForkHashes(t){var r;for(const n of this.hardforks()){const a=(r=n.timestamp)!==null&&r!==void 0?r:n.block;(n.forkHash===null||n.forkHash===void 0)&&(a!=null||typeof n.ttd<"u")&&(n.forkHash=this.forkHash(n.name,t))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const t=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.type),n[0]===t)break;return r??this._chainParams.consensus.type}consensusAlgorithm(){const t=this.hardfork();let r;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(r=n[1].consensus.algorithm),n[0]===t)break;return r??this._chainParams.consensus.algorithm}consensusConfig(){var t;const r=this.hardfork();let n;for(const a of this.HARDFORK_CHANGES)if("consensus"in a[1]&&(n=a[1].consensus[a[1].consensus.algorithm]),a[0]===r)break;return(t=n??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&t!==void 0?t:{}}copy(){const t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return t.removeAllListeners(),t}static _getInitializedChains(t){const r={};for(const[a,o]of Object.entries(Chain))r[o]=a.toLowerCase();const n={mainnet:mainnet$1,goerli,sepolia};if(t)for(const a of t){const{name:o}=a;r[a.chainId.toString()]=o,n[o]=a}return n.names=r,n}}var Capability;(function(e){e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists"})(Capability||(Capability={}));function isAccessListUint8Array(e){if(e.length===0)return!0;const t=e[0];return!!Array.isArray(t)}function isAccessList(e){return!isAccessListUint8Array(e)}class Address{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new Address(zeros(20))}equals(t){return uint8ArrayEquals(this.buf,t.buf)}isZero(){return this.equals(Address.zero())}toString(){return bytesToHex$1(this.buf)}toArray(){return this.buf}static publicToAddress(t,r=!1){let n=t;if(assertIsUint8Array(n),r&&n.length!==64&&(n=secp256k1.ProjectivePoint.fromHex(n).toRawBytes(!1).slice(1)),n.length!==64)throw new Error("Expected pubKey to be of length 64");return keccak256(n).slice(-20)}}const checkMaxInitCodeSize=(e,t)=>{const r=e.param("vm","maxInitCodeSize");if(r&&BigInt(t)>r)throw new Error(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("vm","maxInitCodeSize")}`)},getAccessListData=e=>{let t,r;if(isAccessList(e)){t=e;const n=[];for(let a=0;a<e.length;a+=1){const o=e[a],u=toUint8Array(o.address),p=[];for(let b=0;b<o.storageKeys.length;b+=1)p.push(toUint8Array(o.storageKeys[b]));n.push([u,p])}r=n}else{r=e??[];const n=[];for(let a=0;a<r.length;a+=1){const o=r[a],u=bytesToHex$1(o[0]),p=[];for(let m=0;m<o[1].length;m+=1)p.push(bytesToHex$1(o[1][m]));const b={address:u,storageKeys:p};n.push(b)}t=n}return{AccessListJSON:t,accessList:r}},verifyAccessList=e=>{for(let t=0;t<e.length;t+=1){const r=e[t],n=r[0],a=r[1];if(r[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(n.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let o=0;o<a.length;o+=1)if(a[o].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},getAccessListJSON=e=>{const t=[];for(let r=0;r<e.length;r+=1){const n=e[r],a={address:bytesToHex$1(setLengthLeft(n[0],20)),storageKeys:[]},o=n&&n[1];for(let u=0;u<o.length;u+=1){const p=o[u];a.storageKeys.push(bytesToHex$1(setLengthLeft(p,32)))}t.push(a)}return t},getDataFeeEIP2930=(e,t)=>{const r=t.param("gasPrices","accessListStorageKeyCost"),n=t.param("gasPrices","accessListAddressCost");let a=0;for(let o=0;o<e.length;o+=1){const u=e[o][1];a+=u.length}return e.length*Number(n)+a*Number(r)};class BaseTransaction{constructor(t,r){var n,a;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Chain.Mainnet,this.DEFAULT_HARDFORK=Hardfork.Merge;const{nonce:o,gasLimit:u,to:p,value:b,data:m,v:y,r:A,s:I,type:M}=t;this._type=Number(uint8ArrayToBigInt$1(toUint8Array(M))),this.txOptions=r;const C=toUint8Array(p===""?"0x":p),P=toUint8Array(y===""?"0x":y),B=toUint8Array(A===""?"0x":A),k=toUint8Array(I===""?"0x":I);this.nonce=uint8ArrayToBigInt$1(toUint8Array(o===""?"0x":o)),this.gasLimit=uint8ArrayToBigInt$1(toUint8Array(u===""?"0x":u)),this.to=C.length>0?new Address(C):void 0,this.value=uint8ArrayToBigInt$1(toUint8Array(b===""?"0x":b)),this.data=toUint8Array(m===""?"0x":m),this.v=P.length>0?uint8ArrayToBigInt$1(P):void 0,this.r=B.length>0?uint8ArrayToBigInt$1(B):void 0,this.s=k.length>0?uint8ArrayToBigInt$1(k):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const N=this.to===void 0||this.to===null,D=(n=r.allowUnlimitedInitCodeSize)!==null&&n!==void 0?n:!1,L=(a=r.common)!==null&&a!==void 0?a:this._getCommon();N&&L.isActivatedEIP(3860)&&!D&&checkMaxInitCodeSize(L,this.data.length)}get type(){return this._type}supports(t){return this.activeCapabilities.includes(t)}validate(t=!1){const r=[];return this.getBaseFee()>this.gasLimit&&r.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&r.push("Invalid Signature"),t?r:r.length===0}_validateYParity(){const{v:t}=this;if(t!==void 0&&t!==BigInt(0)&&t!==BigInt(1)){const r=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(r)}}_validateHighS(){const{s:t}=this;if(this.common.gteHardfork("homestead")&&t!==void 0&&t>SECP256K1_ORDER_DIV_2){const r=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(r)}}getBaseFee(){const t=this.common.param("gasPrices","tx");let r=this.getDataFee();if(t&&(r+=t),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const n=this.common.param("gasPrices","txCreation");n&&(r+=n)}return r}getDataFee(){const t=this.common.param("gasPrices","txDataZero"),r=this.common.param("gasPrices","txDataNonZero");let n=BigInt(0);for(let a=0;a<this.data.length;a+=1)this.data[a]===0?n+=t:n+=r;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const a=BigInt(Math.ceil(this.data.length/32)),o=this.common.param("gasPrices","initCodeWordCost")*a;n+=o}return n}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:t,r,s:n}=this;return!(t===void 0||r===void 0||n===void 0)}verifySignature(){try{const t=this.getSenderPublicKey();return unpadUint8Array(t).length!==0}catch{return!1}}getSenderAddress(){return new Address(Address.publicToAddress(this.getSenderPublicKey()))}sign(t){if(t.length!==32){const b=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(b)}let r=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(Capability.EIP155ReplayProtection),r=!0);const n=this.getMessageToSign(!0),{v:a,r:o,s:u}=this._ecsign(n,t),p=this._processSignature(a,o,u);if(r){const b=this.activeCapabilities.indexOf(Capability.EIP155ReplayProtection);b>-1&&this.activeCapabilities.splice(b,1)}return p}_getCommon(t,r){var n,a,o,u;if(r!==void 0){const p=uint8ArrayToBigInt$1(toUint8Array(r));if(t){if(t.chainId()!==p){const b=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(b)}return t.copy()}return Common.isSupportedChainId(p)?new Common({chain:p,hardfork:this.DEFAULT_HARDFORK}):Common.custom({name:"custom-chain",networkId:p,chainId:p},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if(t!=null&&t.copy&&typeof(t==null?void 0:t.copy)=="function")return t.copy();if(t){const p=typeof t.hardfork=="function"?t.hardfork():t.hardfork;return Common.custom({name:"custom-chain",networkId:t.networkId?t.networkId():(a=BigInt((n=t.customChain)===null||n===void 0?void 0:n.networkId))!==null&&a!==void 0?a:void 0,chainId:t.chainId?t.chainId():(u=BigInt((o=t.customChain)===null||o===void 0?void 0:o.chainId))!==null&&u!==void 0?u:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:p||this.DEFAULT_HARDFORK})}return new Common({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(t,r=256,n=!1){for(const[a,o]of Object.entries(t))switch(r){case 64:if(n){if(o!==void 0&&o>=MAX_UINT64){const u=this._errorMsg(`${a} cannot equal or exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(u)}}else if(o!==void 0&&o>MAX_UINT64){const u=this._errorMsg(`${a} cannot exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(u)}break;case 256:if(n){if(o!==void 0&&o>=MAX_INTEGER){const u=this._errorMsg(`${a} cannot equal or exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(u)}}else if(o!==void 0&&o>MAX_INTEGER){const u=this._errorMsg(`${a} cannot exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(u)}break;default:{const u=this._errorMsg("unimplemented bits value");throw new Error(u)}}}static _validateNotArray(t){const r=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,a]of Object.entries(t))if(r.includes(n)&&Array.isArray(a))throw new Error(`${n} cannot be an array`)}_getSharedErrorPostfix(){let t="";try{t=this.isSigned()?bytesToHex$1(this.hash()):"not available (unsigned)"}catch{t="error"}let r="";try{r=this.isSigned().toString()}catch{t="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let a=`tx type=${this.type} hash=${t} nonce=${this.nonce} value=${this.value} `;return a+=`signed=${r} hf=${n}`,a}_ecsign(t,r,n){const a=secp256k1.sign(t,r),o=a.toCompactRawBytes(),u=o.subarray(0,32),p=o.subarray(32,64),b=n===void 0?BigInt(a.recovery+27):BigInt(a.recovery+35)+BigInt(n)*BigInt(2);return{r:u,s:p,v:b}}static fromSerializedTx(t,r={}){}static fromTxData(t,r={}){}}const TRANSACTION_TYPE$2=2,TRANSACTION_TYPE_UINT8ARRAY$1=hexToBytes$1(TRANSACTION_TYPE$2.toString(16).padStart(2,"0"));class FeeMarketEIP1559Transaction extends BaseTransaction{constructor(t,r={}){var n;super(Object.assign(Object.assign({},t),{type:TRANSACTION_TYPE$2}),r),this.DEFAULT_HARDFORK="london";const{chainId:a,accessList:o,maxFeePerGas:u,maxPriorityFeePerGas:p}=t;if(this.common=this._getCommon(r.common,a),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const b=getAccessListData(o??[]);if(this.accessList=b.accessList,this.AccessListJSON=b.AccessListJSON,verifyAccessList(this.accessList),this.maxFeePerGas=uint8ArrayToBigInt$1(toUint8Array(u===""?"0x":u)),this.maxPriorityFeePerGas=uint8ArrayToBigInt$1(toUint8Array(p===""?"0x":p)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),BaseTransaction._validateNotArray(t),this.gasLimit*this.maxFeePerGas>MAX_INTEGER){const m=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(m)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const m=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(m)}this._validateYParity(),this._validateHighS(),(!((n=r==null?void 0:r.freeze)!==null&&n!==void 0)||n)&&Object.freeze(this)}static fromTxData(t,r={}){return new FeeMarketEIP1559Transaction(t,r)}static fromSerializedTx(t,r={}){if(!uint8ArrayEquals(t.subarray(0,1),TRANSACTION_TYPE_UINT8ARRAY$1))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${TRANSACTION_TYPE$2}, received: ${bytesToHex$1(t.subarray(0,1))}`);const n=RLP.decode(t.subarray(1));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return FeeMarketEIP1559Transaction.fromValuesArray(n,r)}static fromValuesArray(t,r={}){if(t.length!==9&&t.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,a,o,u,p,b,m,y,A,I,M,C]=t;return this._validateNotArray({chainId:n,v:I}),validateNoLeadingZeroes({nonce:a,maxPriorityFeePerGas:o,maxFeePerGas:u,gasLimit:p,value:m,v:I,r:M,s:C}),new FeeMarketEIP1559Transaction({chainId:uint8ArrayToBigInt$1(n),nonce:a,maxPriorityFeePerGas:o,maxFeePerGas:u,gasLimit:p,to:b,value:m,data:y,accessList:A??[],v:I!==void 0?uint8ArrayToBigInt$1(I):void 0,r:M,s:C},r)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let t=super.getDataFee();return t+=BigInt(getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t}getUpfrontCost(t=BigInt(0)){const r=this.maxPriorityFeePerGas,n=this.maxFeePerGas-t,a=(r<n?r:n)+t;return this.gasLimit*a+this.value}raw(){return[bigIntToUnpaddedUint8Array(this.chainId),bigIntToUnpaddedUint8Array(this.nonce),bigIntToUnpaddedUint8Array(this.maxPriorityFeePerGas),bigIntToUnpaddedUint8Array(this.maxFeePerGas),bigIntToUnpaddedUint8Array(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),bigIntToUnpaddedUint8Array(this.value),this.data,this.accessList,this.v!==void 0?bigIntToUnpaddedUint8Array(this.v):Uint8Array.from([]),this.r!==void 0?bigIntToUnpaddedUint8Array(this.r):Uint8Array.from([]),this.s!==void 0?bigIntToUnpaddedUint8Array(this.s):Uint8Array.from([])]}serialize(){const t=this.raw();return uint8ArrayConcat(TRANSACTION_TYPE_UINT8ARRAY$1,RLP.encode(t))}getMessageToSign(t=!0){const r=this.raw().slice(0,9),n=uint8ArrayConcat(TRANSACTION_TYPE_UINT8ARRAY$1,RLP.encode(r));return t?keccak256(n):n}hash(){if(!this.isSigned()){const t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=keccak256(this.serialize())),this.cache.hash):keccak256(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const t=this.getMessageToVerifySignature(),{v:r,r:n,s:a}=this;this._validateHighS();try{return ecrecover(t,r+BigInt(27),bigIntToUnpaddedUint8Array(n),bigIntToUnpaddedUint8Array(a))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(t,r,n){const a=Object.assign(Object.assign({},this.txOptions),{common:this.common});return FeeMarketEIP1559Transaction.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:t-BigInt(27),r:uint8ArrayToBigInt$1(r),s:uint8ArrayToBigInt$1(n)},a)}toJSON(){const t=getAccessListJSON(this.accessList);return{chainId:bigIntToHex(this.chainId),nonce:bigIntToHex(this.nonce),maxPriorityFeePerGas:bigIntToHex(this.maxPriorityFeePerGas),maxFeePerGas:bigIntToHex(this.maxFeePerGas),gasLimit:bigIntToHex(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:bigIntToHex(this.value),data:bytesToHex$1(this.data),accessList:t,v:this.v!==void 0?bigIntToHex(this.v):void 0,r:this.r!==void 0?bigIntToHex(this.r):void 0,s:this.s!==void 0?bigIntToHex(this.s):void 0}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}_errorMsg(t){return`${t} (${this.errorStr()})`}}const TRANSACTION_TYPE$1=1,TRANSACTION_TYPE_UINT8ARRAY=hexToBytes$1(TRANSACTION_TYPE$1.toString(16).padStart(2,"0"));class AccessListEIP2930Transaction extends BaseTransaction{constructor(t,r={}){var n;super(Object.assign(Object.assign({},t),{type:TRANSACTION_TYPE$1}),r),this.DEFAULT_HARDFORK="berlin";const{chainId:a,accessList:o,gasPrice:u}=t;if(this.common=this._getCommon(r.common,a),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const p=getAccessListData(o??[]);if(this.accessList=p.accessList,this.AccessListJSON=p.AccessListJSON,verifyAccessList(this.accessList),this.gasPrice=uint8ArrayToBigInt$1(toUint8Array(u===""?"0x":u)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),BaseTransaction._validateNotArray(t),this.gasPrice*this.gasLimit>MAX_INTEGER){const b=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(b)}this._validateYParity(),this._validateHighS(),(!((n=r==null?void 0:r.freeze)!==null&&n!==void 0)||n)&&Object.freeze(this)}static fromTxData(t,r={}){return new AccessListEIP2930Transaction(t,r)}static fromSerializedTx(t,r={}){if(!uint8ArrayEquals(t.subarray(0,1),TRANSACTION_TYPE_UINT8ARRAY))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${TRANSACTION_TYPE$1}, received: ${bytesToHex$1(t.subarray(0,1))}`);const n=RLP.decode(Uint8Array.from(t.subarray(1)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return AccessListEIP2930Transaction.fromValuesArray(n,r)}static fromValuesArray(t,r={}){if(t.length!==8&&t.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[n,a,o,u,p,b,m,y,A,I,M]=t;this._validateNotArray({chainId:n,v:A}),validateNoLeadingZeroes({nonce:a,gasPrice:o,gasLimit:u,value:b,v:A,r:I,s:M});const C=[];return new AccessListEIP2930Transaction({chainId:uint8ArrayToBigInt$1(n),nonce:a,gasPrice:o,gasLimit:u,to:p,value:b,data:m,accessList:y??C,v:A!==void 0?uint8ArrayToBigInt$1(A):void 0,r:I,s:M},r)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let t=super.getDataFee();return t+=BigInt(getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[bigIntToUnpaddedUint8Array(this.chainId),bigIntToUnpaddedUint8Array(this.nonce),bigIntToUnpaddedUint8Array(this.gasPrice),bigIntToUnpaddedUint8Array(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),bigIntToUnpaddedUint8Array(this.value),this.data,this.accessList,this.v!==void 0?bigIntToUnpaddedUint8Array(this.v):Uint8Array.from([]),this.r!==void 0?bigIntToUnpaddedUint8Array(this.r):Uint8Array.from([]),this.s!==void 0?bigIntToUnpaddedUint8Array(this.s):Uint8Array.from([])]}serialize(){const t=this.raw();return uint8ArrayConcat(TRANSACTION_TYPE_UINT8ARRAY,RLP.encode(t))}getMessageToSign(t=!0){const r=this.raw().slice(0,8),n=uint8ArrayConcat(TRANSACTION_TYPE_UINT8ARRAY,RLP.encode(r));return t?keccak256(n):n}hash(){if(!this.isSigned()){const t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=keccak256(this.serialize())),this.cache.hash):keccak256(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const t=this.getMessageToVerifySignature(),{v:r,r:n,s:a}=this;this._validateHighS();try{return ecrecover(t,r+BigInt(27),bigIntToUnpaddedUint8Array(n),bigIntToUnpaddedUint8Array(a))}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(t,r,n){const a=Object.assign(Object.assign({},this.txOptions),{common:this.common});return AccessListEIP2930Transaction.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:t-BigInt(27),r:uint8ArrayToBigInt$1(r),s:uint8ArrayToBigInt$1(n)},a)}toJSON(){const t=getAccessListJSON(this.accessList);return{chainId:bigIntToHex(this.chainId),nonce:bigIntToHex(this.nonce),gasPrice:bigIntToHex(this.gasPrice),gasLimit:bigIntToHex(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:bigIntToHex(this.value),data:bytesToHex$1(this.data),accessList:t,v:this.v!==void 0?bigIntToHex(this.v):void 0,r:this.r!==void 0?bigIntToHex(this.r):void 0,s:this.s!==void 0?bigIntToHex(this.s):void 0}}errorStr(){var t,r;let n=this._getSharedErrorPostfix();return n+=` gasPrice=${this.gasPrice} accessListCount=${(r=(t=this.accessList)===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0}`,n}_errorMsg(t){return`${t} (${this.errorStr()})`}}const TRANSACTION_TYPE=0;function meetsEIP155(e,t){const r=Number(e),n=Number(t)*2;return r===n+35||r===n+36}let Transaction$1=class wt extends BaseTransaction{constructor(t,r={}){var n;if(super(Object.assign(Object.assign({},t),{type:TRANSACTION_TYPE}),r),this.common=this._validateTxV(this.v,r.common),this.gasPrice=uint8ArrayToBigInt$1(toUint8Array(t.gasPrice===""?"0x":t.gasPrice)),this.gasPrice*this.gasLimit>MAX_INTEGER){const a=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(a)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),BaseTransaction._validateNotArray(t),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?meetsEIP155(this.v,this.common.chainId())&&this.activeCapabilities.push(Capability.EIP155ReplayProtection):this.activeCapabilities.push(Capability.EIP155ReplayProtection)),(!((n=r==null?void 0:r.freeze)!==null&&n!==void 0)||n)&&Object.freeze(this)}static fromTxData(t,r={}){return new wt(t,r)}static fromSerializedTx(t,r={}){const n=RLP.decode(t);if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,r)}static fromValuesArray(t,r={}){if(t.length!==6&&t.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,a,o,u,p,b,m,y,A]=t;return validateNoLeadingZeroes({nonce:n,gasPrice:a,gasLimit:o,value:p,v:m,r:y,s:A}),new wt({nonce:n,gasPrice:a,gasLimit:o,to:u,value:p,data:b,v:m,r:y,s:A},r)}raw(){return[bigIntToUnpaddedUint8Array(this.nonce),bigIntToUnpaddedUint8Array(this.gasPrice),bigIntToUnpaddedUint8Array(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),bigIntToUnpaddedUint8Array(this.value),this.data,this.v!==void 0?bigIntToUnpaddedUint8Array(this.v):Uint8Array.from([]),this.r!==void 0?bigIntToUnpaddedUint8Array(this.r):Uint8Array.from([]),this.s!==void 0?bigIntToUnpaddedUint8Array(this.s):Uint8Array.from([])]}serialize(){return RLP.encode(this.raw())}_getMessageToSign(){const t=[bigIntToUnpaddedUint8Array(this.nonce),bigIntToUnpaddedUint8Array(this.gasPrice),bigIntToUnpaddedUint8Array(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),bigIntToUnpaddedUint8Array(this.value),this.data];return this.supports(Capability.EIP155ReplayProtection)&&(t.push(toUint8Array(this.common.chainId())),t.push(unpadUint8Array(toUint8Array(0))),t.push(unpadUint8Array(toUint8Array(0)))),t}getMessageToSign(t=!0){const r=this._getMessageToSign();return t?keccak256(RLP.encode(r)):r}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=keccak256(RLP.encode(this.raw()))),this.cache.hash):keccak256(RLP.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const r=this._errorMsg("This transaction is not signed");throw new Error(r)}const t=this._getMessageToSign();return keccak256(RLP.encode(t))}getSenderPublicKey(){const t=this.getMessageToVerifySignature(),{v:r,r:n,s:a}=this;this._validateHighS();try{return ecrecover(t,r,bigIntToUnpaddedUint8Array(n),bigIntToUnpaddedUint8Array(a),this.supports(Capability.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const o=this._errorMsg("Invalid Signature");throw new Error(o)}}_processSignature(t,r,n){let a=t;this.supports(Capability.EIP155ReplayProtection)&&(a+=this.common.chainId()*BigInt(2)+BigInt(8));const o=Object.assign(Object.assign({},this.txOptions),{common:this.common});return wt.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:a,r:uint8ArrayToBigInt$1(r),s:uint8ArrayToBigInt$1(n)},o)}toJSON(){return{nonce:bigIntToHex(this.nonce),gasPrice:bigIntToHex(this.gasPrice),gasLimit:bigIntToHex(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:bigIntToHex(this.value),data:bytesToHex$1(this.data),v:this.v!==void 0?bigIntToHex(this.v):void 0,r:this.r!==void 0?bigIntToHex(this.r):void 0,s:this.s!==void 0?bigIntToHex(this.s):void 0}}_validateTxV(t,r){let n;const a=t!==void 0?Number(t):void 0;if(a!==void 0&&a<37&&a!==27&&a!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${a}`);if(a!==void 0&&a!==0&&(!r||r.gteHardfork("spuriousDragon"))&&a!==27&&a!==28)if(r){if(!meetsEIP155(BigInt(a),r.chainId()))throw new Error(`Incompatible EIP155-based V ${a} and chain id ${r.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let o;(a-35)%2===0?o=35:o=36,n=BigInt(a-o)/BigInt(2)}return this._getCommon(r,n)}errorStr(){let t=this._getSharedErrorPostfix();return t+=` gasPrice=${this.gasPrice}`,t}_errorMsg(t){return`${t} (${this.errorStr()})`}};const extraTxTypes=new Map;class TransactionFactory{constructor(){}static typeToInt(t){return Number(uint8ArrayToBigInt$1(toUint8Array(t)))}static registerTransactionType(t,r){const n=TransactionFactory.typeToInt(t);extraTxTypes.set(n,r)}static fromTxData(t,r={}){if(!("type"in t)||t.type===void 0)return Transaction$1.fromTxData(t,r);const n=TransactionFactory.typeToInt(t.type);if(n===0)return Transaction$1.fromTxData(t,r);if(n===1)return AccessListEIP2930Transaction.fromTxData(t,r);if(n===2)return FeeMarketEIP1559Transaction.fromTxData(t,r);const a=extraTxTypes.get(n);if(a!=null&&a.fromTxData)return a.fromTxData(t,r);throw new Error(`Tx instantiation with type ${n} not supported`)}static fromSerializedData(t,r={}){if(t[0]<=127)switch(t[0]){case 1:return AccessListEIP2930Transaction.fromSerializedTx(t,r);case 2:return FeeMarketEIP1559Transaction.fromSerializedTx(t,r);default:{const n=extraTxTypes.get(Number(t[0]));if(n!=null&&n.fromSerializedTx)return n.fromSerializedTx(t,r);throw new Error(`TypedTransaction with ID ${t[0]} unknown`)}}else return Transaction$1.fromSerializedTx(t,r)}static fromBlockBodyData(t,r={}){if(isUint8Array(t))return this.fromSerializedData(t,r);if(Array.isArray(t))return Transaction$1.fromValuesArray(t,r);throw new Error("Cannot decode transaction: unknown type input")}}var __awaiter$u=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const parseAndValidatePrivateKey=(e,t)=>{let r;if(!t&&typeof e=="string"&&isHexStrict$1(e)&&e.length!==66)throw new PrivateKeyLengthError;try{r=isUint8Array(e)?e:bytesToUint8Array(e)}catch{throw new InvalidPrivateKeyError}if(!t&&r.byteLength!==32)throw new PrivateKeyLengthError;return r},hashMessage=e=>{const t=isHexStrict$1(e)?e:utf8ToHex(e),r=hexToBytes$1(t),n=hexToBytes$1(fromUtf8(`Ethereum Signed Message:
${r.byteLength}`)),a=uint8ArrayConcat(n,r);return sha3Raw(a)},sign$4=(e,t)=>{const r=parseAndValidatePrivateKey(t),n=hashMessage(e),a=secp256k1.sign(n.substring(2),r),o=a.toCompactRawBytes(),u=a.r.toString(16).padStart(64,"0"),p=a.s.toString(16).padStart(64,"0"),b=a.recovery+27;return{message:e,messageHash:n,v:numberToHex$1(b),r:`0x${u}`,s:`0x${p}`,signature:`${bytesToHex$1(o)}${b.toString(16)}`}},signTransaction$4=(e,t)=>__awaiter$u(void 0,void 0,void 0,function*(){const r=e.sign(hexToBytes$1(t));if(isNullish$1(r.v)||isNullish$1(r.r)||isNullish$1(r.s))throw new TransactionSigningError("Signer Error");const n=r.validate(!0);if(n.length>0){let u="Signer Error ";for(const p of n)u+=`${u} ${p}.`;throw new TransactionSigningError(u)}const a=bytesToHex$1(r.serialize()),o=sha3Raw(a);return{messageHash:bytesToHex$1(r.getMessageToSign(!0)),v:`0x${r.v.toString(16)}`,r:`0x${r.r.toString(16).padStart(64,"0")}`,s:`0x${r.s.toString(16).padStart(64,"0")}`,rawTransaction:a,transactionHash:bytesToHex$1(o)}}),recoverTransaction=e=>{if(isNullish$1(e))throw new UndefinedRawTransactionError;const t=TransactionFactory.fromSerializedData(hexToBytes$1(e));return toChecksumAddress(t.getSenderAddress().toString())},recover=(e,t,r,n,a)=>{if(typeof e=="object"){const y=`${e.r}${e.s.slice(2)}${e.v.slice(2)}`;return recover(e.messageHash,y,r)}if(typeof t=="string"&&typeof r=="string"&&!isNullish$1(n)){const y=`${r}${n.slice(2)}${t.slice(2)}`;return recover(e,y,a)}if(isNullish$1(t))throw new InvalidSignatureError("signature string undefined");const o=130,u=r?e:hashMessage(e);let p=parseInt(t.substring(o),16);p>26&&(p-=27);const b=secp256k1.Signature.fromCompact(t.slice(2,o)).addRecoveryBit(p).recoverPublicKey(u.replace("0x","")).toRawBytes(!1),m=sha3Raw(b.subarray(1));return toChecksumAddress(`0x${m.slice(-40)}`)},privateKeyToAddress=e=>{const t=parseAndValidatePrivateKey(e),r=secp256k1.getPublicKey(t,!1),n=sha3Raw(r.slice(1)).slice(-40);return toChecksumAddress(`0x${n}`)},privateKeyToPublicKey=(e,t)=>{const r=parseAndValidatePrivateKey(e);return`0x${bytesToHex$1(secp256k1.getPublicKey(r,t)).slice(4)}`},encrypt=(e,t,r)=>__awaiter$u(void 0,void 0,void 0,function*(){var n,a,o,u,p,b,m;const y=parseAndValidatePrivateKey(e);let A;if(r!=null&&r.salt?A=typeof r.salt=="string"?hexToBytes$1(r.salt):r.salt:A=randomBytes(32),!(isString(t)||isUint8Array(t)))throw new InvalidPasswordError;const I=typeof t=="string"?hexToBytes$1(utf8ToHex(t)):t;let M;if(r!=null&&r.iv){if(M=typeof r.iv=="string"?hexToBytes$1(r.iv):r.iv,M.length!==16)throw new IVLengthError}else M=randomBytes(16);const C=(n=r==null?void 0:r.kdf)!==null&&n!==void 0?n:"scrypt";let P,B;if(C==="pbkdf2"){if(B={dklen:(a=r==null?void 0:r.dklen)!==null&&a!==void 0?a:32,salt:bytesToHex$1(A).replace("0x",""),c:(o=r==null?void 0:r.c)!==null&&o!==void 0?o:262144,prf:"hmac-sha256"},B.c<1e3)throw new PBKDF2IterationsError;P=pbkdf2Sync(I,A,B.c,B.dklen,"sha256")}else if(C==="scrypt")B={n:(u=r==null?void 0:r.n)!==null&&u!==void 0?u:8192,r:(p=r==null?void 0:r.r)!==null&&p!==void 0?p:8,p:(b=r==null?void 0:r.p)!==null&&b!==void 0?b:1,dklen:(m=r==null?void 0:r.dklen)!==null&&m!==void 0?m:32,salt:bytesToHex$1(A).replace("0x","")},P=scryptSync(I,A,B.n,B.p,B.r,B.dklen);else throw new InvalidKdfError;const k=yield encrypt$1(y,P.slice(0,16),M,"aes-128-ctr"),N=bytesToHex$1(k).slice(2),D=sha3Raw(uint8ArrayConcat(P.slice(16,32),k)).replace("0x","");return{version:3,id:uuidV4(),address:privateKeyToAddress(y).toLowerCase().replace("0x",""),crypto:{ciphertext:N,cipherparams:{iv:bytesToHex$1(M).replace("0x","")},cipher:"aes-128-ctr",kdf:C,kdfparams:B,mac:D}}}),privateKeyToAccount=(e,t)=>{const r=parseAndValidatePrivateKey(e,t);return{address:privateKeyToAddress(r),privateKey:bytesToHex$1(r),signTransaction:n=>{throw new TransactionSigningError("Do not have network access to sign the transaction")},sign:n=>sign$4(typeof n=="string"?n:JSON.stringify(n),r),encrypt:(n,a)=>__awaiter$u(void 0,void 0,void 0,function*(){return encrypt(r,n,a)})}},create=()=>{const e=secp256k1.utils.randomPrivateKey();return privateKeyToAccount(`${bytesToHex$1(e)}`)},decrypt=(e,t,r)=>__awaiter$u(void 0,void 0,void 0,function*(){const n=typeof e=="object"?e:JSON.parse(r?e.toLowerCase():e);if(validator.validateJSONSchema(keyStoreSchema,n),n.version!==3)throw new KeyStoreVersionError;const a=typeof t=="string"?hexToBytes$1(utf8ToHex(t)):t;validator.validate(["bytes"],[a]);let o;if(n.crypto.kdf==="scrypt"){const b=n.crypto.kdfparams,m=typeof b.salt=="string"?hexToBytes$1(b.salt):b.salt;o=scryptSync(a,m,b.n,b.p,b.r,b.dklen)}else if(n.crypto.kdf==="pbkdf2"){const b=n.crypto.kdfparams,m=typeof b.salt=="string"?hexToBytes$1(b.salt):b.salt;o=pbkdf2Sync(a,m,b.c,b.dklen,"sha256")}else throw new InvalidKdfError;const u=hexToBytes$1(n.crypto.ciphertext);if(sha3Raw(uint8ArrayConcat(o.slice(16,32),u)).replace("0x","")!==n.crypto.mac)throw new KeyDerivationError;const p=yield decrypt$1(hexToBytes$1(n.crypto.ciphertext),o.slice(0,16),hexToBytes$1(n.crypto.cipherparams.iv));return privateKeyToAccount(p)});var __awaiter$t=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const DEFAULT_BATCH_REQUEST_TIMEOUT=1e3;class Web3BatchRequest{constructor(t){this._requestManager=t,this._requests=new Map}get requests(){return[...this._requests.values()].map(t=>t.payload)}add(t){const r=toPayload(t),n=new Web3DeferredPromise;return this._requests.set(r.id,{payload:r,promise:n}),n}execute(t){var r;return __awaiter$t(this,void 0,void 0,function*(){if(this.requests.length===0)return Promise.resolve([]);const n=new Web3DeferredPromise({timeout:(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:DEFAULT_BATCH_REQUEST_TIMEOUT,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(n).catch(a=>n.reject(a)),n.catch(a=>{a instanceof OperationTimeoutError&&this._abortAllRequests("Batch request timeout"),n.reject(a)}),n})}_processBatchRequest(t){var r,n;return __awaiter$t(this,void 0,void 0,function*(){const a=yield this._requestManager.sendBatch([...this._requests.values()].map(p=>p.payload));if(a.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new ResponseError(a,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${a.length}`);const o=this.requests.map(p=>p.id).map(Number).sort((p,b)=>p-b),u=a.map(p=>p.id).map(Number).sort((p,b)=>p-b);if(JSON.stringify(o)!==JSON.stringify(u))throw this._abortAllRequests("Invalid batch response"),new ResponseError(a,`Batch request mismatch the results. Requests: [${o.join()}], Responses: [${u.join()}]`);for(const p of a)isResponseWithResult(p)?(r=this._requests.get(p.id))===null||r===void 0||r.promise.resolve(p.result):isResponseWithError(p)&&((n=this._requests.get(p.id))===null||n===void 0||n.promise.reject(p.error));t.resolve(a)})}_abortAllRequests(t){for(const{promise:r}of this._requests.values())r.reject(new OperationAbortError(t))}}var __awaiter$s=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Web3Context extends Web3Config{constructor(t){var r;if(super(),this.providers=Web3RequestManager.providers,isNullish(t)||typeof t=="string"&&t.trim()!==""||isSupportedProvider(t)){this._requestManager=new Web3RequestManager(t),this._subscriptionManager=new Web3SubscriptionManager(this._requestManager,{});return}const{config:n,provider:a,requestManager:o,subscriptionManager:u,registeredSubscriptions:p,accountProvider:b,wallet:m,requestManagerMiddleware:y}=t;this.setConfig(n??{}),this._requestManager=o??new Web3RequestManager(a,(r=n==null?void 0:n.enableExperimentalFeatures)===null||r===void 0?void 0:r.useSubscriptionWhenCheckingBlockTimeout,y),u?this._subscriptionManager=u:this._subscriptionManager=new Web3SubscriptionManager(this.requestManager,p??{}),b&&(this._accountProvider=b),m&&(this._wallet=m)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...t){return new this(...t.reverse())}getContextObject(){var t;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(t=this.subscriptionManager)===null||t===void 0?void 0:t.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(t,...r){const n=new t(...r,this.getContextObject());return this.on(Web3ConfigEvent.CONFIG_CHANGE,a=>{n.setConfig({[a.name]:a.newValue})}),this[t.name]=n,n}link(t){this.setConfig(t.config),this._requestManager=t.requestManager,this.provider=t.provider,this._subscriptionManager=t.subscriptionManager,this._wallet=t.wallet,this._accountProvider=t._accountProvider,t.on(Web3ConfigEvent.CONFIG_CHANGE,r=>{this.setConfig({[r.name]:r.newValue})})}registerPlugin(t){if(this[t.pluginNamespace]!==void 0)throw new ExistingPluginNamespaceError(t.pluginNamespace);const r={[t.pluginNamespace]:t};r[t.pluginNamespace].link(this),Object.assign(this,r)}get provider(){return this.currentProvider}set provider(t){this.requestManager.setProvider(t)}get currentProvider(){return this.requestManager.provider}set currentProvider(t){this.requestManager.setProvider(t)}get givenProvider(){return Web3Context.givenProvider}setProvider(t){return this.provider=t,!0}setRequestManagerMiddleware(t){this.requestManager.setMiddleware(t)}get BatchRequest(){return Web3BatchRequest.bind(void 0,this._requestManager)}extend(t){var r;return t.property&&!this[t.property]&&(this[t.property]={}),(r=t.methods)===null||r===void 0||r.forEach(n=>{const a=(...o)=>__awaiter$s(this,void 0,void 0,function*(){return this.requestManager.send({method:n.call,params:o})});t.property?this[t.property][n.name]=a:this[n.name]=a}),this}}Web3Context.providers=Web3RequestManager.providers;class Iban{constructor(t){if(this.toAddress=()=>{if(this.isDirect()){const r=this._iban.slice(4),n=Iban._parseInt(r,36),a=leftPad(n,40);return toChecksumAddress(a)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},Iban.isIndirect(t)||Iban.isDirect(t))this._iban=t;else throw new Error("Invalid IBAN was provided")}static isDirect(t){return t.length===34||t.length===35}isDirect(){return Iban.isDirect(this._iban)}static isIndirect(t){return t.length===20}isIndirect(){return Iban.isIndirect(this._iban)}static isValid(t){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(t)&&Iban._mod9710(Iban._iso13616Prepare(t))===1}isValid(){return Iban.isValid(this._iban)}static fromBban(t){const r="XE",n=`0${(98-this._mod9710(this._iso13616Prepare(`${r}00${t}`))).toString()}`.slice(-2);return new Iban(`${r}${n}${t}`)}static createIndirect(t){return Iban.fromBban(`ETH${t.institution}${t.identifier}`)}static fromAddress(t){if(!isAddress$1(t))throw new InvalidAddressError(t);const r=BigInt(hexToNumber(t)).toString(36),n=leftPad(r,15);return Iban.fromBban(n.toUpperCase())}static toIban(t){return Iban.fromAddress(t).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}Iban._iso13616Prepare=e=>{const t=e.toUpperCase();return`${t.slice(4)}${t.slice(0,4)}`.split("").map(r=>{const n=r.charCodeAt(0);return n>=65&&n<=90?n-65+10:r}).join("")},Iban._parseInt=(e,t)=>[...e].reduce((r,n)=>BigInt(parseInt(n,t))+BigInt(t)*r,BigInt(0)),Iban._mod9710=e=>{let t=e,r;for(;t.length>2;)r=t.slice(0,9),t=`${(parseInt(r,10)%97).toString()}${t.slice(r.length)}`;return parseInt(t,10)%97},Iban.toAddress=e=>new Iban(e).toAddress();var __awaiter$r=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})},_a;class Web3PromiEvent extends Web3EventEmitter{constructor(t){super(),this[_a]="Promise",this._promise=new Promise(t)}then(t,r){return __awaiter$r(this,void 0,void 0,function*(){return this._promise.then(t,r)})}catch(t){return __awaiter$r(this,void 0,void 0,function*(){return this._promise.catch(t)})}finally(t){return __awaiter$r(this,void 0,void 0,function*(){return this._promise.finally(t)})}on(t,r){return super.on(t,r),this}once(t,r){return super.once(t,r),this}}_a=Symbol.toStringTag,function(e,t){if(e.setImmediate)return;var r=1,n={},a=!1,o=e.document,u;function p(N){typeof N!="function"&&(N=new Function(""+N));for(var D=new Array(arguments.length-1),L=0;L<D.length;L++)D[L]=arguments[L+1];var K={callback:N,args:D};return n[r]=K,u(r),r++}function b(N){delete n[N]}function m(N){var D=N.callback,L=N.args;switch(L.length){case 0:D();break;case 1:D(L[0]);break;case 2:D(L[0],L[1]);break;case 3:D(L[0],L[1],L[2]);break;default:D.apply(t,L);break}}function y(N){if(a)setTimeout(y,0,N);else{var D=n[N];if(D){a=!0;try{m(D)}finally{b(N),a=!1}}}}function A(){u=function(N){process$1$1.nextTick(function(){y(N)})}}function I(){if(e.postMessage&&!e.importScripts){var N=!0,D=e.onmessage;return e.onmessage=function(){N=!1},e.postMessage("","*"),e.onmessage=D,N}}function M(){var N="setImmediate$"+Math.random()+"$",D=function(L){L.source===e&&typeof L.data=="string"&&L.data.indexOf(N)===0&&y(+L.data.slice(N.length))};e.addEventListener?e.addEventListener("message",D,!1):e.attachEvent("onmessage",D),u=function(L){e.postMessage(N+L,"*")}}function C(){var N=new MessageChannel;N.port1.onmessage=function(D){var L=D.data;y(L)},u=function(D){N.port2.postMessage(D)}}function P(){var N=o.documentElement;u=function(D){var L=o.createElement("script");L.onreadystatechange=function(){y(D),L.onreadystatechange=null,N.removeChild(L),L=null},N.appendChild(L)}}function B(){u=function(N){setTimeout(y,0,N)}}var k=Object.getPrototypeOf&&Object.getPrototypeOf(e);k=k&&k.setTimeout?k:e,{}.toString.call(e.process)==="[object process]"?A():I()?M():e.MessageChannel?C():o&&"onreadystatechange"in o.createElement("script")?P():B(),k.setImmediate=p,k.clearImmediate=b}(typeof self>"u"?typeof commonjsGlobal>"u"?commonjsGlobal:commonjsGlobal:self);var __awaiter$q=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};function getProtocolVersion(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_protocolVersion",params:[]})})}function getSyncing(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_syncing",params:[]})})}function getCoinbase(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_coinbase",params:[]})})}function getMining(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_mining",params:[]})})}function getHashRate$1(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_hashrate",params:[]})})}function getGasPrice$1(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_gasPrice",params:[]})})}function getMaxPriorityFeePerGas$1(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_maxPriorityFeePerGas",params:[]})})}function getAccounts$2(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_accounts",params:[]})})}function getBlockNumber$1(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_blockNumber",params:[]})})}function getBalance$1(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getBalance",params:[t,r]})})}function getStorageAt$1(e,t,r,n){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["address","hex","blockNumberOrTag"],[t,r,n]),e.send({method:"eth_getStorageAt",params:[t,r,n]})})}function getTransactionCount$1(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getTransactionCount",params:[t,r]})})}function getBlockTransactionCountByHash(e,t){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["bytes32"],[t]),e.send({method:"eth_getBlockTransactionCountByHash",params:[t]})})}function getBlockTransactionCountByNumber(e,t){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getBlockTransactionCountByNumber",params:[t]})})}function getUncleCountByBlockHash(e,t){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["bytes32"],[t]),e.send({method:"eth_getUncleCountByBlockHash",params:[t]})})}function getUncleCountByBlockNumber(e,t){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getUncleCountByBlockNumber",params:[t]})})}function getCode$1(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getCode",params:[t,r]})})}function sign$3(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["address","hex"],[t,r]),e.send({method:"eth_sign",params:[t,r]})})}function signTransaction$3(e,t){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_signTransaction",params:[t]})})}function sendTransaction$3(e,t){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_sendTransaction",params:[t]})})}function sendRawTransaction(e,t){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["hex"],[t]),e.send({method:"eth_sendRawTransaction",params:[t]})})}function call$1(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_call",params:[t,r]})})}function estimateGas$1(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_estimateGas",params:[t,r]})})}function getBlockByHash(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["bytes32","bool"],[t,r]),e.send({method:"eth_getBlockByHash",params:[t,r]})})}function getBlockByNumber(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["blockNumberOrTag","bool"],[t,r]),e.send({method:"eth_getBlockByNumber",params:[t,r]})})}function getTransactionByHash(e,t){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionByHash",params:[t]})})}function getTransactionByBlockHashAndIndex(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["bytes32","hex"],[t,r]),e.send({method:"eth_getTransactionByBlockHashAndIndex",params:[t,r]})})}function getTransactionByBlockNumberAndIndex(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["blockNumberOrTag","hex"],[t,r]),e.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[t,r]})})}function getTransactionReceipt$1(e,t){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionReceipt",params:[t]})})}function getUncleByBlockHashAndIndex(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["bytes32","hex"],[t,r]),e.send({method:"eth_getUncleByBlockHashAndIndex",params:[t,r]})})}function getUncleByBlockNumberAndIndex(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["blockNumberOrTag","hex"],[t,r]),e.send({method:"eth_getUncleByBlockNumberAndIndex",params:[t,r]})})}function getLogs$1(e,t){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["filter"],[t]),e.send({method:"eth_getLogs",params:[t]})})}function getWork(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_getWork",params:[]})})}function submitWork(e,t,r,n){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["bytes8","bytes32","bytes32"],[t,r,n]),e.send({method:"eth_submitWork",params:[t,r,n]})})}function getFeeHistory$1(e,t,r,n){return __awaiter$q(this,void 0,void 0,function*(){validator.validate(["hex","blockNumberOrTag"],[t,r]);for(const a of n)validator.validate(["number"],[a]);return e.send({method:"eth_feeHistory",params:[t,r,n]})})}function getPendingTransactions$1(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_pendingTransactions",params:[]})})}function requestAccounts(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_requestAccounts",params:[]})})}function getChainId$1(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"eth_chainId",params:[]})})}function getProof$1(e,t,r,n){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["address","bytes32[]","blockNumberOrTag"],[t,r,n]),e.send({method:"eth_getProof",params:[t,r,n]})})}function getNodeInfo(e){return __awaiter$q(this,void 0,void 0,function*(){return e.send({method:"web3_clientVersion",params:[]})})}function createAccessList$1(e,t,r){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_createAccessList",params:[t,r]})})}function signTypedData$1(e,t,r,n=!1){return __awaiter$q(this,void 0,void 0,function*(){return validator.validate(["address"],[t]),e.send({method:`eth_signTypedData${n?"":"_v4"}`,params:[t,r]})})}var __awaiter$p=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};function getId$1(e){return __awaiter$p(this,void 0,void 0,function*(){return e.send({method:"net_version",params:[]})})}function getPeerCount$1(e){return __awaiter$p(this,void 0,void 0,function*(){return e.send({method:"net_peerCount",params:[]})})}function isListening$1(e){return __awaiter$p(this,void 0,void 0,function*(){return e.send({method:"net_listening",params:[]})})}var __awaiter$o=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const getAccounts$1=e=>__awaiter$o(void 0,void 0,void 0,function*(){return e.send({method:"personal_listAccounts",params:[]})}),newAccount$1=(e,t)=>__awaiter$o(void 0,void 0,void 0,function*(){return e.send({method:"personal_newAccount",params:[t]})}),unlockAccount$1=(e,t,r,n)=>__awaiter$o(void 0,void 0,void 0,function*(){return e.send({method:"personal_unlockAccount",params:[t,r,n]})}),lockAccount$1=(e,t)=>__awaiter$o(void 0,void 0,void 0,function*(){return e.send({method:"personal_lockAccount",params:[t]})}),importRawKey$1=(e,t,r)=>__awaiter$o(void 0,void 0,void 0,function*(){return e.send({method:"personal_importRawKey",params:[t,r]})}),sendTransaction$2=(e,t,r)=>__awaiter$o(void 0,void 0,void 0,function*(){return e.send({method:"personal_sendTransaction",params:[t,r]})}),signTransaction$2=(e,t,r)=>__awaiter$o(void 0,void 0,void 0,function*(){return e.send({method:"personal_signTransaction",params:[t,r]})}),sign$2=(e,t,r,n)=>__awaiter$o(void 0,void 0,void 0,function*(){return e.send({method:"personal_sign",params:[t,r,n]})}),ecRecover$1=(e,t,r)=>__awaiter$o(void 0,void 0,void 0,function*(){return e.send({method:"personal_ecRecover",params:[t,r]})}),transactionType0x0Schema={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},transactionType0x1Schema={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},transactionType0x2Schema={type:"object",properties:{gasPrice:{type:"null"}}},validateTxTypeAndHandleErrors=(e,t,r)=>{try{validator.validateJSONSchema(e,t)}catch(n){throw n instanceof Web3ValidatorError?new InvalidPropertiesForTransactionTypeError(n.errors,r):n}},defaultTransactionTypeParser=e=>{var t,r;const n=e;if(!isNullish$1(n.type)){let o;switch(n.type){case"0x0":o=transactionType0x0Schema;break;case"0x1":o=transactionType0x1Schema;break;case"0x2":o=transactionType0x2Schema;break;default:return format({format:"uint"},n.type,ETH_DATA_FORMAT)}return validateTxTypeAndHandleErrors(o,n,n.type),format({format:"uint"},n.type,ETH_DATA_FORMAT)}if(!isNullish$1(n.maxFeePerGas)||!isNullish$1(n.maxPriorityFeePerGas))return validateTxTypeAndHandleErrors(transactionType0x2Schema,n,"0x2"),"0x2";if(!isNullish$1(n.accessList))return validateTxTypeAndHandleErrors(transactionType0x1Schema,n,"0x1"),"0x1";const a=(t=n.hardfork)!==null&&t!==void 0?t:(r=n.common)===null||r===void 0?void 0:r.hardfork;if(!isNullish$1(a)){const o=Object.keys(HardforksOrdered).indexOf(a);if(o>=Object.keys(HardforksOrdered).indexOf("london"))return isNullish$1(n.gasPrice)?"0x2":"0x0";if(o===Object.keys(HardforksOrdered).indexOf("berlin"))return"0x0"}if(!isNullish$1(n.gasPrice))return validateTxTypeAndHandleErrors(transactionType0x0Schema,n,"0x0"),"0x0"},detectTransactionType=(e,t)=>{var r;return((r=t==null?void 0:t.transactionTypeParser)!==null&&r!==void 0?r:defaultTransactionTypeParser)(e)},detectRawTransactionType=e=>e[0]>127?"0x0":toHex(e[0]),accessListItemSchema={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},accessListSchema={type:"array",items:Object.assign({},accessListItemSchema)},accessListResultSchema={type:"object",properties:{accessList:Object.assign({},accessListSchema),gasUsed:{type:"string"}}},chainSchema={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},hardforkSchema={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},customChainSchema={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},transactionSchema={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},accessListSchema),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},chainSchema),hardfork:Object.assign({},hardforkSchema),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},customChainSchema),baseChain:Object.assign({},chainSchema),hardfork:Object.assign({},hardforkSchema)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},transactionInfoSchema={type:"object",properties:Object.assign(Object.assign({},transactionSchema.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},accessListSchema),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},withdrawalsSchema={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},blockSchema={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},transactionInfoSchema)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},withdrawalsSchema)},withdrawalsRoot:{format:"bytes32"}}},blockHeaderSchema={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},withdrawalsSchema)},withdrawalsRoot:{format:"bytes32"}}},logSchema={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},syncSchema={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},transactionReceiptSchema={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},logSchema)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},SignatureObjectSchema={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},feeHistorySchema={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},storageProofSchema={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},accountSchema={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},storageProofSchema)}}};function formatTransaction(e,t=DEFAULT_RETURN_FORMAT,r={transactionSchema:transactionInfoSchema,fillInputAndData:!1}){var n,a;let o=mergeDeep({},e);if(isNullish$1(e==null?void 0:e.common)||(o.common=Object.assign({},e.common),isNullish$1((n=e.common)===null||n===void 0?void 0:n.customChain)||(o.common.customChain=Object.assign({},e.common.customChain))),o=format((a=r.transactionSchema)!==null&&a!==void 0?a:transactionInfoSchema,o,t),!isNullish$1(o.data)&&!isNullish$1(o.input)&&toHex(o.data)!==toHex(o.input))throw new TransactionDataAndInputError({data:bytesToHex$1(o.data),input:bytesToHex$1(o.input)});return r.fillInputAndData&&(isNullish$1(o.data)?isNullish$1(o.input)||(o.data=o.input):o.input=o.data),isNullish$1(o.gasLimit)||(o.gas=o.gasLimit,delete o.gasLimit),o}function decodeSignedTransaction(e,t,r={fillInputAndData:!1}){return{raw:format({format:"bytes"},e,t),tx:formatTransaction(Object.assign(Object.assign({},TransactionFactory.fromSerializedData(hexToBytes$1(e)).toJSON()),{hash:bytesToHex$1(keccak256Wrapper(hexToBytes$1(e))),type:detectRawTransactionType(hexToBytes$1(e))}),t,{fillInputAndData:r.fillInputAndData})}}var __awaiter$n=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};function getId(e,t){return __awaiter$n(this,void 0,void 0,function*(){const r=yield getId$1(e.requestManager);return format({format:"uint"},r,t)})}function getPeerCount(e,t){return __awaiter$n(this,void 0,void 0,function*(){const r=yield getPeerCount$1(e.requestManager);return format({format:"uint"},r,t)})}const isListening=e=>__awaiter$n(void 0,void 0,void 0,function*(){return isListening$1(e.requestManager)});var __awaiter$m=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Net extends Web3Context{getId(t=this.defaultReturnFormat){return __awaiter$m(this,void 0,void 0,function*(){return getId(this,t)})}getPeerCount(t=this.defaultReturnFormat){return __awaiter$m(this,void 0,void 0,function*(){return getPeerCount(this,t)})}isListening(){return __awaiter$m(this,void 0,void 0,function*(){return isListening(this)})}}const ALL_EVENTS="ALLEVENTS",ALL_EVENTS_ABI={name:ALL_EVENTS,signature:"",type:"event",inputs:[]},NUMBER_DATA_FORMAT={bytes:FMT_BYTES.HEX,number:FMT_NUMBER.NUMBER};var __awaiter$l=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};function getEip1559GasPricing(e,t,r){var n,a,o,u;return __awaiter$l(this,void 0,void 0,function*(){const p=yield getBlock(t,t.defaultBlock,!1,ETH_DATA_FORMAT);if(isNullish$1(p.baseFeePerGas))throw new Eip1559NotSupportedError;let b;if(isNullish$1(e.gasPrice)&&BigInt(p.baseFeePerGas)===BigInt(0)&&(b=yield getGasPrice(t,r)),!isNullish$1(e.gasPrice)||!isNullish$1(b)){const m=format({format:"uint"},(n=e.gasPrice)!==null&&n!==void 0?n:b,r);return{maxPriorityFeePerGas:m,maxFeePerGas:m}}return{maxPriorityFeePerGas:format({format:"uint"},(a=e.maxPriorityFeePerGas)!==null&&a!==void 0?a:t.defaultMaxPriorityFeePerGas,r),maxFeePerGas:format({format:"uint"},(o=e.maxFeePerGas)!==null&&o!==void 0?o:BigInt(p.baseFeePerGas)*BigInt(2)+BigInt((u=e.maxPriorityFeePerGas)!==null&&u!==void 0?u:t.defaultMaxPriorityFeePerGas),r)}})}function getTransactionGasPricing(e,t,r){return __awaiter$l(this,void 0,void 0,function*(){const n=getTransactionType(e,t);if(!isNullish$1(n)){if(n.startsWith("-"))throw new UnsupportedTransactionTypeError(n);if(Number(n)<0||Number(n)>127)throw new UnsupportedTransactionTypeError(n);if(isNullish$1(e.gasPrice)&&(n==="0x0"||n==="0x1"))return{gasPrice:yield getGasPrice(t,r),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(n==="0x2")return Object.assign({gasPrice:void 0},yield getEip1559GasPricing(e,t,r))}})}var __awaiter$k=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const getTransactionFromOrToAttr=(e,t,r,n)=>{if(r!==void 0&&e in r&&r[e]!==void 0){if(typeof r[e]=="string"&&isAddress$1(r[e]))return r[e];if(!isHexStrict$1(r[e])&&isNumber(r[e])){if(t.wallet){const a=t.wallet.get(format({format:"uint"},r[e],NUMBER_DATA_FORMAT));if(!isNullish$1(a))return a.address;throw new LocalWalletNotAvailableError}throw new LocalWalletNotAvailableError}else throw e==="from"?new InvalidTransactionWithSender(r.from):new InvalidTransactionWithReceiver(r.to)}if(e==="from"){if(!isNullish$1(n))return privateKeyToAddress(n);if(!isNullish$1(t.defaultAccount))return t.defaultAccount}},getTransactionNonce=(e,t,r=e.defaultReturnFormat)=>__awaiter$k(void 0,void 0,void 0,function*(){if(isNullish$1(t))throw new UnableToPopulateNonceError;return getTransactionCount(e,t,e.defaultBlock,r)}),getTransactionType=(e,t)=>{const r=detectTransactionType(e,t);if(!isNullish$1(r))return r;if(!isNullish$1(t.defaultTransactionType))return format({format:"uint"},t.defaultTransactionType,ETH_DATA_FORMAT)};function defaultTransactionBuilder(e){var t,r;return __awaiter$k(this,void 0,void 0,function*(){let n=format(transactionSchema,e.transaction,e.web3Context.defaultReturnFormat);if(isNullish$1(n.from)&&(n.from=getTransactionFromOrToAttr("from",e.web3Context,void 0,e.privateKey)),isNullish$1(n.nonce)&&(n.nonce=yield getTransactionNonce(e.web3Context,n.from,ETH_DATA_FORMAT)),isNullish$1(n.value)&&(n.value="0x0"),isNullish$1(n.data))isNullish$1(n.input)?n.input="0x":n.input.startsWith("0x")||(n.input=`0x${n.input}`);else{if(!isNullish$1(n.input)&&n.data!==n.input)throw new TransactionDataAndInputError({data:bytesToHex$1(n.data),input:bytesToHex$1(n.input)});n.data.startsWith("0x")||(n.data=`0x${n.data}`)}if(isNullish$1(n.common)){if(e.web3Context.defaultCommon){const a=e.web3Context.defaultCommon,o=a.customChain.chainId,u=a.customChain.networkId,p=a.customChain.name;n.common=Object.assign(Object.assign({},a),{customChain:{chainId:o,networkId:u,name:p}})}isNullish$1(n.chain)&&(n.chain=e.web3Context.defaultChain),isNullish$1(n.hardfork)&&(n.hardfork=e.web3Context.defaultHardfork)}if(isNullish$1(n.chainId)&&isNullish$1((t=n.common)===null||t===void 0?void 0:t.customChain.chainId)&&(n.chainId=yield getChainId(e.web3Context,ETH_DATA_FORMAT)),isNullish$1(n.networkId)&&(n.networkId=(r=e.web3Context.defaultNetworkId)!==null&&r!==void 0?r:yield getId(e.web3Context,ETH_DATA_FORMAT)),isNullish$1(n.gasLimit)&&!isNullish$1(n.gas)&&(n.gasLimit=n.gas),n.type=getTransactionType(n,e.web3Context),isNullish$1(n.accessList)&&(n.type==="0x1"||n.type==="0x2")&&(n.accessList=[]),e.fillGasPrice&&(n=Object.assign(Object.assign({},n),yield getTransactionGasPricing(n,e.web3Context,ETH_DATA_FORMAT))),isNullish$1(n.gas)&&isNullish$1(n.gasLimit)&&e.fillGasLimit){const a=yield estimateGas(e.web3Context,n,"latest",ETH_DATA_FORMAT);n=Object.assign(Object.assign({},n),{gas:format({format:"uint"},a,ETH_DATA_FORMAT)})}return n})}const transactionBuilder=e=>__awaiter$k(void 0,void 0,void 0,function*(){var t;return((t=e.web3Context.transactionBuilder)!==null&&t!==void 0?t:defaultTransactionBuilder)(Object.assign(Object.assign({},e),{transaction:e.transaction}))});var __awaiter$j=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};function resolveByPolling(e,t,r){const n=e.transactionPollingInterval,[a,o]=rejectIfConditionAtInterval(()=>__awaiter$j(this,void 0,void 0,function*(){let u;try{u=yield getBlockNumber(e,NUMBER_DATA_FORMAT)}catch(b){console.warn("An error happen while trying to get the block number",b);return}const p=u-t;if(p>=e.transactionBlockTimeout)return new TransactionBlockTimeoutError({starterBlockNumber:t,numberOfBlocks:p,transactionHash:r})}),n);return[o,{clean:()=>{clearInterval(a)}}]}function resolveBySubscription(e,t,r){var n;return __awaiter$j(this,void 0,void 0,function*(){let a=!0,o,u;function p(b,m){m&&console.warn("error happened at subscription. So revert to polling...",m),u.clean(),a=!1;const[y,A]=resolveByPolling(e,t,r);u.clean=A.clean,y.catch(I=>b(I))}try{o=yield(n=e.subscriptionManager)===null||n===void 0?void 0:n.subscribe("newHeads"),u={clean:()=>{var b;o.id&&((b=e.subscriptionManager)===null||b===void 0||b.removeSubscription(o).then(()=>{}).catch(()=>{}))}}}catch{return resolveByPolling(e,t,r)}return[new Promise((b,m)=>{try{o.on("data",y=>{if(a=!1,!(y!=null&&y.number))return;const A=Number(BigInt(y.number)-BigInt(t));A>=e.transactionBlockTimeout&&m(new TransactionBlockTimeoutError({starterBlockNumber:t,numberOfBlocks:A,transactionHash:r}))}),o.on("error",y=>{p(m,y)})}catch(y){p(m,y)}setTimeout(()=>{a&&p(m)},e.blockHeaderTimeout*1e3)}),u]})}function rejectIfBlockTimeout(e,t){var r,n;return __awaiter$j(this,void 0,void 0,function*(){const{provider:a}=e.requestManager;let o;const u=yield getBlockNumber(e,NUMBER_DATA_FORMAT);return!((n=(r=a).supportsSubscriptions)===null||n===void 0)&&n.call(r)&&e.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?o=yield resolveBySubscription(e,u,t):o=resolveByPolling(e,u,t),o})}var __awaiter$i=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};function trySendTransaction(e,t,r){return __awaiter$i(this,void 0,void 0,function*(){const[n,a]=rejectIfTimeout(e.transactionSendTimeout,new TransactionSendTimeoutError({numberOfSeconds:e.transactionSendTimeout/1e3,transactionHash:r})),[o,u]=yield rejectIfBlockTimeout(e,r);try{return yield Promise.race([t(),a,o])}finally{clearTimeout(n),u.clean()}})}var __awaiter$h=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};function waitForTransactionReceipt(e,t,r,n){var a;return __awaiter$h(this,void 0,void 0,function*(){const o=(a=e.transactionReceiptPollingInterval)!==null&&a!==void 0?a:e.transactionPollingInterval,[u,p]=pollTillDefinedAndReturnIntervalId(()=>__awaiter$h(this,void 0,void 0,function*(){try{return(n??getTransactionReceipt)(e,t,r)}catch(I){console.warn("An error happen while trying to get the transaction receipt",I);return}}),o),[b,m]=rejectIfTimeout(e.transactionPollingTimeout,new TransactionPollingTimeoutError({numberOfSeconds:e.transactionPollingTimeout/1e3,transactionHash:t})),[y,A]=yield rejectIfBlockTimeout(e,t);try{return yield Promise.race([u,m,y])}finally{b&&clearTimeout(b),p&&clearInterval(p),A.clean()}})}var __awaiter$g=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const watchTransactionByPolling=({web3Context:e,transactionReceipt:t,transactionPromiEvent:r,customTransactionReceiptSchema:n,returnFormat:a})=>{var o;let u=1;const p=setInterval(()=>{__awaiter$g(void 0,void 0,void 0,function*(){if(u>=e.transactionConfirmationBlocks){clearInterval(p);return}const b=yield getBlockByNumber(e.requestManager,numberToHex$1(BigInt(t.blockNumber)+BigInt(u)),!1);b!=null&&b.hash&&(u+=1,r.emit("confirmation",{confirmations:format({format:"uint"},u,a),receipt:format(n??transactionReceiptSchema,t,a),latestBlockHash:format({format:"bytes32"},b.hash,a)}))})},(o=e.transactionReceiptPollingInterval)!==null&&o!==void 0?o:e.transactionPollingInterval)};var __awaiter$f=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const watchTransactionBySubscription=({web3Context:e,transactionReceipt:t,transactionPromiEvent:r,customTransactionReceiptSchema:n,returnFormat:a})=>{let o=!0,u;setImmediate(()=>{var p;(p=e.subscriptionManager)===null||p===void 0||p.subscribe("newHeads").then(b=>{b.on("data",m=>__awaiter$f(void 0,void 0,void 0,function*(){var y;if(o=!1,!(m!=null&&m.number)||u===(m==null?void 0:m.parentHash))return;u=m==null?void 0:m.parentHash;const A=BigInt(m.number)-BigInt(t.blockNumber)+BigInt(1);r.emit("confirmation",{confirmations:format({format:"uint"},A,a),receipt:format(n??transactionReceiptSchema,t,a),latestBlockHash:format({format:"bytes32"},m.parentHash,a)}),A>=e.transactionConfirmationBlocks&&(yield(y=e.subscriptionManager)===null||y===void 0?void 0:y.removeSubscription(b))})),b.on("error",()=>__awaiter$f(void 0,void 0,void 0,function*(){var m;yield(m=e.subscriptionManager)===null||m===void 0?void 0:m.removeSubscription(b),o=!1,watchTransactionByPolling({web3Context:e,transactionReceipt:t,transactionPromiEvent:r,customTransactionReceiptSchema:n,returnFormat:a})}))}).catch(()=>{o=!1,watchTransactionByPolling({web3Context:e,transactionReceipt:t,customTransactionReceiptSchema:n,transactionPromiEvent:r,returnFormat:a})})}),setTimeout(()=>{o&&watchTransactionByPolling({web3Context:e,transactionReceipt:t,transactionPromiEvent:r,returnFormat:a})},e.blockHeaderTimeout*1e3)};function watchTransactionForConfirmations(e,t,r,n,a,o){if(isNullish$1(r)||isNullish$1(r.blockHash))throw new TransactionMissingReceiptOrBlockHashError({receipt:r,blockHash:format({format:"bytes32"},r==null?void 0:r.blockHash,a),transactionHash:format({format:"bytes32"},n,a)});if(!r.blockNumber)throw new TransactionReceiptMissingBlockNumberError({receipt:r});t.emit("confirmation",{confirmations:format({format:"uint"},1,a),receipt:format(o??transactionReceiptSchema,r,a),latestBlockHash:format({format:"bytes32"},r.blockHash,a)});const u=e.requestManager.provider;u&&"supportsSubscriptions"in u&&u.supportsSubscriptions()?watchTransactionBySubscription({web3Context:e,transactionReceipt:r,transactionPromiEvent:t,customTransactionReceiptSchema:o,returnFormat:a}):watchTransactionByPolling({web3Context:e,transactionReceipt:r,transactionPromiEvent:t,customTransactionReceiptSchema:o,returnFormat:a})}const isAbiErrorFragment=e=>!isNullish(e)&&typeof e=="object"&&!isNullish(e.type)&&e.type==="error",isAbiEventFragment=e=>!isNullish(e)&&typeof e=="object"&&!isNullish(e.type)&&e.type==="event",isAbiFunctionFragment=e=>!isNullish(e)&&typeof e=="object"&&!isNullish(e.type)&&e.type==="function",isAbiConstructorFragment=e=>!isNullish(e)&&typeof e=="object"&&!isNullish(e.type)&&e.type==="constructor",isSimplifiedStructFormat=e=>typeof e=="object"&&typeof e.components>"u"&&typeof e.name>"u",mapStructNameAndType=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},mapStructToCoderFormat=e=>{const t=[];for(const r of Object.keys(e)){const n=e[r];typeof n=="object"?t.push(Object.assign(Object.assign({},mapStructNameAndType(r)),{components:mapStructToCoderFormat(n)})):t.push({name:r,type:e[r]})}return t},flattenTypes=(e,t)=>{const r=[];return t.forEach(n=>{if(typeof n.components=="object"){if(!n.type.startsWith("tuple"))throw new AbiError(`Invalid value given "${n.type}". Error: components found but type is not tuple.`);const a=n.type.indexOf("["),o=a>=0?n.type.substring(a):"",u=flattenTypes(e,n.components);Array.isArray(u)&&e?r.push(`tuple(${u.join(",")})${o}`):r.push(`(${u.join(",")})${o}`)}else r.push(n.type)}),r},jsonInterfaceMethodToString=e=>{var t,r,n,a;return isAbiErrorFragment(e)||isAbiEventFragment(e)||isAbiFunctionFragment(e)?!((t=e.name)===null||t===void 0)&&t.includes("(")?e.name:`${(r=e.name)!==null&&r!==void 0?r:""}(${flattenTypes(!1,(n=e.inputs)!==null&&n!==void 0?n:[]).join(",")})`:`(${flattenTypes(!1,(a=e.inputs)!==null&&a!==void 0?a:[]).join(",")})`},encodeErrorSignature=e=>{if(typeof e!="string"&&!isAbiErrorFragment(e))throw new AbiError("Invalid parameter value in encodeErrorSignature");let t;return e&&(typeof e=="function"||typeof e=="object")?t=jsonInterfaceMethodToString(e):t=e,sha3Raw(t)},encodeEventSignature=e=>{if(typeof e!="string"&&!isAbiEventFragment(e))throw new AbiError("Invalid parameter value in encodeEventSignature");let t;return e&&(typeof e=="function"||typeof e=="object")?t=jsonInterfaceMethodToString(e):t=e,sha3Raw(t)};function execTyped(e,t){var r;return(r=e.exec(t))==null?void 0:r.groups}var bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,__defProp=Object.defineProperty,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__publicField=(e,t,r)=>(__defNormalProp(e,typeof t!="symbol"?t+"":t,r),r),name="abitype",version="0.7.1",BaseError=class extends Error{constructor(e,t={}){var o;const r=t.cause instanceof BaseError?t.cause.details:(o=t.cause)!=null&&o.message?t.cause.message:t.details,n=t.cause instanceof BaseError&&t.cause.docsPath||t.docsPath,a=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...r?[`Details: ${r}`]:[],`Version: ${name}@${version}`].join(`
`);super(a),__publicField(this,"details"),__publicField(this,"docsPath"),__publicField(this,"metaMessages"),__publicField(this,"shortMessage"),__publicField(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}},structSignatureRegex=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function isStructSignature(e){return structSignatureRegex.test(e)}function execStructSignature(e){return execTyped(structSignatureRegex,e)}var modifiers=new Set(["memory","indexed","storage","calldata"]),functionModifiers=new Set(["calldata","memory","storage"]);function getParameterCacheKey(e,t){return t?`${t}:${e}`:e}var parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(e,t){var A,I;const r=getParameterCacheKey(e,t==null?void 0:t.type);if(parameterCache.has(r))return parameterCache.get(r);const n=isTupleRegex.test(e),a=execTyped(n?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,e);if(!a)throw new BaseError("Invalid ABI parameter.",{details:e});if(a.name&&isSolidityKeyword(a.name))throw new BaseError("Invalid ABI parameter.",{details:e,metaMessages:[`"${a.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const o=a.name?{name:a.name}:{},u=a.modifier==="indexed"?{indexed:!0}:{},p=(t==null?void 0:t.structs)??{};let b,m={};if(n){b="tuple";const M=splitParameters(a.type),C=[],P=M.length;for(let B=0;B<P;B++)C.push(parseAbiParameter(M[B],{structs:p}));m={components:C}}else if(a.type in p)b="tuple",m={components:p[a.type]};else if(dynamicIntegerRegex.test(a.type))b=`${a.type}256`;else if(b=a.type,(t==null?void 0:t.type)!=="struct"&&!isSolidityType(b))throw new BaseError("Unknown type.",{metaMessages:[`Type "${b}" is not a valid ABI type.`]});if(a.modifier){if(!((I=(A=t==null?void 0:t.modifiers)==null?void 0:A.has)!=null&&I.call(A,a.modifier)))throw new BaseError("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${a.modifier}" not allowed${t!=null&&t.type?` in "${t.type}" type`:""}.`]});if(functionModifiers.has(a.modifier)&&!isValidDataLocation(b,!!a.array))throw new BaseError("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${a.modifier}" not allowed${t!=null&&t.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${a.modifier}" was given.`]})}const y={type:`${b}${a.array??""}`,...o,...u,...m};return parameterCache.set(r,y),y}function splitParameters(e,t=[],r="",n=0){if(e===""){if(r==="")return t;if(n!==0)throw new BaseError("Unbalanced parentheses.",{metaMessages:[`"${r.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`});return[...t,r.trim()]}const a=e.length;for(let o=0;o<a;o++){const u=e[o],p=e.slice(o+1);switch(u){case",":return n===0?splitParameters(p,[...t,r.trim()]):splitParameters(p,t,`${r}${u}`,n);case"(":return splitParameters(p,t,`${r}${u}`,n+1);case")":return splitParameters(p,t,`${r}${u}`,n-1);default:return splitParameters(p,t,`${r}${u}`,n)}}return[]}function isSolidityType(e){return e==="address"||e==="bool"||e==="function"||e==="string"||bytesRegex.test(e)||integerRegex.test(e)}var protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||bytesRegex.test(e)||integerRegex.test(e)||protectedKeywordsRegex.test(e)}function isValidDataLocation(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function parseStructs(e){const t={},r=e.length;for(let u=0;u<r;u++){const p=e[u];if(!isStructSignature(p))continue;const b=execStructSignature(p);if(!b)throw new BaseError("Invalid struct signature.",{details:p});const m=b.properties.split(";"),y=[],A=m.length;for(let I=0;I<A;I++){const M=m[I].trim();if(!M)continue;const C=parseAbiParameter(M,{type:"struct"});y.push(C)}if(!y.length)throw new BaseError("Invalid struct signature.",{details:p,metaMessages:["No properties exist."]});t[b.name]=y}const n={},a=Object.entries(t),o=a.length;for(let u=0;u<o;u++){const[p,b]=a[u];n[p]=resolveStructs(b,t)}return n}var typeWithoutTupleRegex=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(e,t,r=new Set){const n=[],a=e.length;for(let o=0;o<a;o++){const u=e[o];if(isTupleRegex.test(u.type))n.push(u);else{const p=execTyped(typeWithoutTupleRegex,u.type);if(!(p!=null&&p.type))throw new BaseError("Invalid ABI parameter.",{details:JSON.stringify(u,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:b,type:m}=p;if(m in t){if(r.has(m))throw new BaseError("Circular reference detected.",{metaMessages:[`Struct "${m}" is a circular reference.`]});n.push({...u,type:`tuple${b??""}`,components:resolveStructs(t[m]??[],t,new Set([...r,m]))})}else if(isSolidityType(m))n.push(u);else throw new BaseError("Unknown type.",{metaMessages:[`Type "${m}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return n}function parseAbiParameter2(e){let t;if(typeof e=="string")t=parseAbiParameter(e,{modifiers});else{const r=parseStructs(e),n=e.length;for(let a=0;a<n;a++){const o=e[a];if(!isStructSignature(o)){t=parseAbiParameter(o,{modifiers,structs:r});break}}}if(!t)throw new BaseError("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t}const WORD_SIZE=32;function alloc(e=0){var t;if(((t=globalThis.Buffer)===null||t===void 0?void 0:t.alloc)!==void 0){const r=globalThis.Buffer.alloc(e);return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}return new Uint8Array(e)}function convertExternalAbiParameter(e){var t,r;return Object.assign(Object.assign({},e),{name:(t=e.name)!==null&&t!==void 0?t:"",components:(r=e.components)===null||r===void 0?void 0:r.map(n=>convertExternalAbiParameter(n))})}function isAbiParameter(e){return!isNullish(e)&&typeof e=="object"&&!isNullish(e.type)&&typeof e.type=="string"}function toAbiParams(e){return e.map(t=>{var r;if(isAbiParameter(t))return t;if(typeof t=="string")return convertExternalAbiParameter(parseAbiParameter2(t.replace(/tuple/,"")));if(isSimplifiedStructFormat(t)){const n=Object.keys(t)[0],a=mapStructNameAndType(n);return a.name=(r=a.name)!==null&&r!==void 0?r:"",Object.assign(Object.assign({},a),{components:mapStructToCoderFormat(t[n])})}throw new AbiError("Invalid abi")})}function extractArrayType(e){const t=e.type.lastIndexOf("["),r=e.type.substring(0,t),n=e.type.substring(t);let a=-1;if(n!=="[]"&&(a=Number(n.slice(1,-1)),isNaN(a)))throw new AbiError("Invalid fixed array size",{size:n});return{param:{type:r,name:"",components:e.components},size:a}}function isDynamic(e){var t,r;return e.type==="string"||e.type==="bytes"||e.type.endsWith("[]")?!0:e.type==="tuple"?(r=(t=e.components)===null||t===void 0?void 0:t.some(isDynamic))!==null&&r!==void 0?r:!1:e.type.endsWith("]")?isDynamic(extractArrayType(e).param):!1}const ADDRESS_BYTES_COUNT=20,ADDRESS_OFFSET=WORD_SIZE-ADDRESS_BYTES_COUNT;function encodeAddress(e,t){if(typeof t!="string")throw new AbiError("address type expects string as input type",{value:t,name:e.name,type:e.type});let r=t.toLowerCase();if(r.startsWith("0x")||(r=`0x${r}`),!isAddress$1(r))throw new AbiError("provided input is not valid address",{value:t,name:e.name,type:e.type});const n=hexToUint8Array(r),a=alloc(WORD_SIZE);return a.set(n,ADDRESS_OFFSET),{dynamic:!1,encoded:a}}function decodeAddress(e,t){const r=t.subarray(ADDRESS_OFFSET,WORD_SIZE);if(r.length!==ADDRESS_BYTES_COUNT)throw new AbiError("Invalid decoding input, not enough bytes to decode address",{bytes:t});const n=uint8ArrayToHexString$1(r);return{result:toChecksumAddress(n),encoded:t.subarray(WORD_SIZE),consumed:WORD_SIZE}}const numberLimits=new Map;let base=BigInt(256);for(let e=8;e<=256;e+=8)numberLimits.set(`uint${e}`,{min:BigInt(0),max:base-BigInt(1)}),numberLimits.set(`int${e}`,{min:-base/BigInt(2),max:base/BigInt(2)-BigInt(1)}),base*=BigInt(256);numberLimits.set("int",numberLimits.get("int256")),numberLimits.set("uint",numberLimits.get("uint256"));const mask=BigInt(1)<<BigInt(256);function bigIntToUint8Array(e,t=WORD_SIZE){let r;return e<0?r=(mask+e).toString(16):r=e.toString(16),r=padLeft(r,t*2),hexToUint8Array(r)}function uint8ArrayToBigInt(e,t){const r=uint8ArrayToHexString$1(e),n=BigInt(r);return n<=t?n:n-mask}function encodeNumber(e,t){let r;try{r=toBigInt(t)}catch{throw new AbiError("provided input is not number value",{type:e.type,value:t,name:e.name})}const n=numberLimits.get(e.type);if(!n)throw new AbiError("provided abi contains invalid number datatype",{type:e.type});if(r<n.min)throw new AbiError("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:n.min.toString()});if(r>n.max)throw new AbiError("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:n.max.toString()});return{dynamic:!1,encoded:bigIntToUint8Array(r)}}function decodeNumber(e,t){if(t.length<WORD_SIZE)throw new AbiError("Not enough bytes left to decode",{param:e,bytesLeft:t.length});const r=t.subarray(0,WORD_SIZE),n=numberLimits.get(e.type);if(!n)throw new AbiError("provided abi contains invalid number datatype",{type:e.type});const a=uint8ArrayToBigInt(r,n.max);if(a<n.min)throw new AbiError("decoded value is less then minimum for given type",{type:e.type,value:a,name:e.name,minimum:n.min.toString()});if(a>n.max)throw new AbiError("decoded value is greater then maximum for given type",{type:e.type,value:a,name:e.name,maximum:n.max.toString()});return{result:a,encoded:t.subarray(WORD_SIZE),consumed:WORD_SIZE}}function encodeBoolean(e,t){let r;try{r=toBool(t)}catch(n){if(n instanceof InvalidBooleanError)throw new AbiError("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return encodeNumber({type:"uint8",name:""},Number(r))}function decodeBool(e,t){const r=decodeNumber({type:"uint8",name:""},t);if(r.result>1||r.result<0)throw new AbiError("Invalid boolean value encoded",{boolBytes:t.subarray(0,WORD_SIZE),numberResult:r});return{result:r.result===BigInt(1),encoded:r.encoded,consumed:WORD_SIZE}}const MAX_STATIC_BYTES_COUNT=32;function encodeBytes(e,t){if(typeof t=="string"&&t.length%2!==0&&(t+="0"),!isBytes(t))throw new AbiError("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});const r=bytesToUint8Array(t),[,n]=e.type.split("bytes");if(n){if(Number(n)>MAX_STATIC_BYTES_COUNT||Number(n)<1)throw new AbiError("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(n)<r.length)throw new AbiError("provided input size is different than type size",{type:e.type,value:t,name:e.name});const u=alloc(WORD_SIZE);return u.set(r),{dynamic:!1,encoded:u}}const a=Math.ceil(r.length/WORD_SIZE),o=alloc(WORD_SIZE+a*WORD_SIZE);return o.set(encodeNumber({type:"uint32",name:""},r.length).encoded),o.set(r,WORD_SIZE),{dynamic:!0,encoded:o}}function decodeBytes(e,t){const[,r]=e.type.split("bytes");let n=Number(r),a=t,o=1,u=0;if(!n){const p=decodeNumber({type:"uint32",name:""},a);n=Number(p.result),u+=p.consumed,a=p.encoded,o=Math.ceil(n/WORD_SIZE)}if(n>t.length)throw new AbiError("there is not enough data to decode",{type:e.type,encoded:t,size:n});return{result:bytesToHex$1(a.subarray(0,n)),encoded:a.subarray(o*WORD_SIZE),consumed:u+o*WORD_SIZE}}function encodeString(e,t){if(typeof t!="string")throw new AbiError("invalid input, should be string",{input:t});const r=utf8ToBytes$1(t);return encodeBytes({type:"bytes",name:""},r)}function decodeString(e,t){const r=decodeBytes({type:"bytes",name:""},t);return{result:hexToUtf8(r.result),encoded:r.encoded,consumed:r.consumed}}function encodeDynamicParams(e){let t=0,r=0;const n=[],a=[];for(const o of e)o.dynamic?t+=WORD_SIZE:t+=o.encoded.length;for(const o of e)o.dynamic?(n.push(encodeNumber({type:"uint256",name:""},t+r)),a.push(o),r+=o.encoded.length):n.push(o);return uint8ArrayConcat(...n.map(o=>o.encoded),...a.map(o=>o.encoded))}function encodeArray(e,t){if(!Array.isArray(t))throw new AbiError("Expected value to be array",{abi:e,values:t});const{size:r,param:n}=extractArrayType(e),a=t.map(p=>encodeParamFromAbiParameter(n,p)),o=r===-1,u=a.length>0&&a[0].dynamic;if(!o&&t.length!==r)throw new AbiError("Given arguments count doesn't match array length",{arrayLength:r,argumentsLength:t.length});if(o||u){const p=encodeDynamicParams(a);if(o){const b=encodeNumber({type:"uint256",name:""},a.length).encoded;return{dynamic:!0,encoded:a.length>0?uint8ArrayConcat(b,p):b}}return{dynamic:!0,encoded:p}}return{dynamic:!1,encoded:uint8ArrayConcat(...a.map(p=>p.encoded))}}function decodeArray(e,t){let{size:r,param:n}=extractArrayType(e);const a=r===-1;let o=0;const u=[];let p=t;if(a){const b=decodeNumber({type:"uint32",name:""},t);r=Number(b.result),o=b.consumed,p=b.encoded}if(isDynamic(n)){for(let b=0;b<r;b+=1){const m=decodeNumber({type:"uint32",name:""},p.subarray(b*WORD_SIZE));o+=m.consumed;const y=decodeParamFromAbiParameter(n,p.subarray(Number(m.result)));o+=y.consumed,u.push(y.result)}return{result:u,encoded:p.subarray(o),consumed:o}}for(let b=0;b<r;b+=1){const m=decodeParamFromAbiParameter(n,t.subarray(o));o+=m.consumed,u.push(m.result)}return{result:u,encoded:t.subarray(o),consumed:o}}function encodeParamFromAbiParameter(e,t){if(e.type==="string")return encodeString(e,t);if(e.type==="bool")return encodeBoolean(e,t);if(e.type==="address")return encodeAddress(e,t);if(e.type==="tuple")return encodeTuple(e,t);if(e.type.endsWith("]"))return encodeArray(e,t);if(e.type.startsWith("bytes"))return encodeBytes(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return encodeNumber(e,t);throw new AbiError("Unsupported",{param:e,value:t})}function decodeParamFromAbiParameter(e,t){if(e.type==="string")return decodeString(e,t);if(e.type==="bool")return decodeBool(e,t);if(e.type==="address")return decodeAddress(e,t);if(e.type==="tuple")return decodeTuple(e,t);if(e.type.endsWith("]"))return decodeArray(e,t);if(e.type.startsWith("bytes"))return decodeBytes(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return decodeNumber(e,t);throw new AbiError("Unsupported",{param:e,bytes:t})}function encodeTuple(e,t){var r,n,a;let o=!1;if(!Array.isArray(t)&&typeof t!="object")throw new AbiError("param must be either Array or Object",{param:e,input:t});const u=t,p=[];for(let b=0;b<((n=(r=e.components)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0);b+=1){const m=e.components[b];let y;if(Array.isArray(u)){if(b>=u.length)throw new AbiError("input param length missmatch",{param:e,input:t});y=encodeParamFromAbiParameter(m,u[b])}else{const A=u[(a=m.name)!==null&&a!==void 0?a:""];if(A==null)throw new AbiError("missing input defined in abi",{param:e,input:t,paramName:m.name});y=encodeParamFromAbiParameter(m,A)}y.dynamic&&(o=!0),p.push(y)}return o?{dynamic:!0,encoded:encodeDynamicParams(p)}:{dynamic:!1,encoded:uint8ArrayConcat(...p.map(b=>b.encoded))}}function decodeTuple(e,t){const r={__length__:0};let n=0;if(!e.components)return{result:r,encoded:t,consumed:n};let a=0;for(const[o,u]of e.components.entries()){let p;if(isDynamic(u)){const b=decodeNumber({type:"uint32",name:""},t.subarray(n));p=decodeParamFromAbiParameter(u,t.subarray(Number(b.result))),n+=b.consumed,a+=p.consumed}else p=decodeParamFromAbiParameter(u,t.subarray(n)),n+=p.consumed;r.__length__+=1,r[o]=p.result,u.name&&u.name!==""&&(r[u.name]=p.result)}return{encoded:t.subarray(n+a),result:r,consumed:n+a}}function decodeParameters$1(e,t,r){const n=toAbiParams(e),a=hexToUint8Array(t);return decodeTuple({type:"tuple",name:"",components:n},a).result}function inferParamsAbi(e){const t=[];return e.forEach(r=>{if(Array.isArray(r)){const n=inferParamsAbi(r);t.push({type:"tuple",components:n,name:""})}else t.push({type:toHex(r,!0)})}),t}function encodeParameters(e,t){if((e==null?void 0:e.length)!==t.length)throw new AbiError("Invalid number of values received for given ABI",{expected:e==null?void 0:e.length,received:t.length});const r=toAbiParams(e);return uint8ArrayToHexString$1(encodeTuple({type:"tuple",name:"",components:r},t).encoded)}function inferTypesAndEncodeParameters(e){try{const t=inferParamsAbi(e);return uint8ArrayToHexString$1(encodeTuple({type:"tuple",name:"",components:t},e).encoded)}catch{throw new AbiError("Could not infer types from given params",{params:e})}}const encodeParameter=(e,t)=>encodeParameters([e],[t]),decodeParametersWith=(e,t,r)=>{try{if(e.length>0&&(!t||t==="0x"||t==="0X"))throw new AbiError("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return decodeParameters$1(e,`0x${t.replace(/0x/i,"")}`,r)}catch(n){throw new AbiError(`Parameter decoding error: ${n.message}`,{internalErr:n})}},decodeParameters=(e,t)=>decodeParametersWith(e,t,!1),decodeParameter=(e,t)=>decodeParameters([e],t)[0],encodeFunctionSignature=e=>{if(typeof e!="string"&&!isAbiFunctionFragment(e))throw new AbiError("Invalid parameter value in encodeFunctionSignature");let t;return e&&(typeof e=="function"||typeof e=="object")?t=jsonInterfaceMethodToString(e):t=e,sha3Raw(t).slice(0,10)},encodeFunctionCall=(e,t)=>{var r;if(!isAbiFunctionFragment(e))throw new AbiError("Invalid parameter value in encodeFunctionCall");return`${encodeFunctionSignature(e)}${encodeParameters((r=e.inputs)!==null&&r!==void 0?r:[],t??[]).replace("0x","")}`},STATIC_TYPES=["bool","string","int","uint","address","fixed","ufixed"],_decodeParameter=(e,t)=>e==="string"?t:decodeParameter(e,t),decodeLog=(e,t,r)=>{const n=Array.isArray(r)?r:[r],a={},o={};for(const[I,M]of e.entries())M.indexed?a[I]=M:o[I]=M;const u=t?decodeParametersWith(Object.values(o),t,!0):{__length__:0},p=n.length-Object.keys(a).length,b=Object.values(a).map((I,M)=>STATIC_TYPES.some(C=>I.type.startsWith(C))?_decodeParameter(I.type,n[M+p]):n[M+p]),m={__length__:0};let y=0,A=0;for(const[I,M]of e.entries())m[I]=M.type==="string"?"":void 0,a[I]&&(m[I]=b[y],y+=1),o[I]&&(m[I]=u[String(A)],A+=1),M.name&&(m[M.name]=m[I]),m.__length__+=1;return m},decodeContractErrorData=(e,t)=>{if(t!=null&&t.data){let r,n,a;try{const o=t.data.slice(0,10),u=e.find(p=>encodeErrorSignature(p).startsWith(o));u!=null&&u.inputs&&(r=u.name,n=jsonInterfaceMethodToString(u),a=decodeParameters([...u.inputs],t.data.substring(10)))}catch(o){console.error(o)}r&&t.setDecodedProperties(r,n,a)}};var __awaiter$e=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const parseTransactionError=(e,t)=>{var r,n,a,o,u;if(e instanceof ContractExecutionError&&e.cause instanceof Eip838ExecutionError){if(t!==void 0){const p=t.filter(b=>isAbiErrorFragment(b));return decodeContractErrorData(p,e.cause),{reason:e.cause.message,signature:(r=e.cause.data)===null||r===void 0?void 0:r.slice(0,10),data:(n=e.cause.data)===null||n===void 0?void 0:n.substring(10),customErrorName:e.cause.errorName,customErrorDecodedSignature:e.cause.errorSignature,customErrorArguments:e.cause.errorArgs}}return{reason:e.cause.message,signature:(a=e.cause.data)===null||a===void 0?void 0:a.slice(0,10),data:(o=e.cause.data)===null||o===void 0?void 0:o.substring(10)}}if(e instanceof InvalidResponseError&&!Array.isArray((u=e.cause)===null||u===void 0?void 0:u.errors)&&e.cause!==void 0)return e.cause.message;throw e};function getRevertReason(e,t,r,n=e.defaultReturnFormat){return __awaiter$e(this,void 0,void 0,function*(){try{yield call(e,t,e.defaultBlock,n);return}catch(a){return parseTransactionError(a,r)}})}var __awaiter$d=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};function getTransactionError(e,t,r,n,a,o){return __awaiter$d(this,void 0,void 0,function*(){let u=o;u===void 0&&e.handleRevert&&t!==void 0&&(u=yield getRevertReason(e,t,a));let p;if(u===void 0)p=new TransactionRevertedWithoutReasonError(r);else if(typeof u=="string")p=new TransactionRevertInstructionError(u,void 0,r);else if(u.customErrorName!==void 0&&u.customErrorDecodedSignature!==void 0&&u.customErrorArguments!==void 0){const b=u;p=new TransactionRevertWithCustomError(b.reason,b.customErrorName,b.customErrorDecodedSignature,b.customErrorArguments,b.signature,r,b.data)}else p=new TransactionRevertInstructionError(u.reason,u.signature,r,u.data);return p})}const decodeEventABI=(e,t,r,n=DEFAULT_RETURN_FORMAT)=>{var a,o,u,p,b;let m=Object.assign({},e);const y=format(logSchema,t,n);if([ALL_EVENTS,"allEvents"].includes(m.name)){const I=r.find(M=>M.signature===t.topics[0]);I?m=I:m={anonymous:!0}}if(m.inputs=(o=(a=m.inputs)!==null&&a!==void 0?a:e.inputs)!==null&&o!==void 0?o:[],!m.anonymous){let I=0;((u=m.inputs)!==null&&u!==void 0?u:[]).forEach(M=>{M.indexed&&(I+=1)}),I>0&&(t!=null&&t.topics)&&(t==null?void 0:t.topics.length)!==I+1&&(m=Object.assign(Object.assign({},m),{anonymous:!0,inputs:[]}))}const A=m.anonymous?t.topics:((p=t.topics)!==null&&p!==void 0?p:[]).slice(1);return Object.assign(Object.assign({},y),{returnValues:decodeLog([...(b=m.inputs)!==null&&b!==void 0?b:[]],t.data,A),event:m.name,signature:m.anonymous||!t.topics||t.topics.length===0||!t.topics[0]?void 0:t.topics[0],raw:{data:t.data,topics:t.topics}})};var __awaiter$c=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class SendTxHelper{constructor({options:t,web3Context:r,promiEvent:n,returnFormat:a}){this.options={checkRevertBeforeSending:!0},this.options=t,this.web3Context=r,this.promiEvent=n,this.returnFormat=a}getReceiptWithEvents(t){var r,n;const a=Object.assign({},t??{});if(!((r=this.options)===null||r===void 0)&&r.contractAbi&&a.logs&&a.logs.length>0){a.events={};for(const o of a.logs){const u=decodeEventABI(ALL_EVENTS_ABI,o,(n=this.options)===null||n===void 0?void 0:n.contractAbi,this.returnFormat);u.event&&(a.events[u.event]=u)}}return a}checkRevertBeforeSending(t){return __awaiter$c(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let r=t;isNullish$1(t.data)&&isNullish$1(t.input)&&isNullish$1(t.gas)&&(r=Object.assign(Object.assign({},t),{gas:21e3}));const n=yield getRevertReason(this.web3Context,r,this.options.contractAbi);if(n!==void 0)throw yield getTransactionError(this.web3Context,t,void 0,void 0,this.options.contractAbi,n)}})}emitSending(t){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",t)}populateGasPrice({transactionFormatted:t,transaction:r}){var n;return __awaiter$c(this,void 0,void 0,function*(){let a=t;return!(!((n=this.options)===null||n===void 0)&&n.ignoreGasPricing)&&isNullish$1(t.gasPrice)&&(isNullish$1(r.maxPriorityFeePerGas)||isNullish$1(r.maxFeePerGas))&&(a=Object.assign(Object.assign({},t),yield getTransactionGasPricing(t,this.web3Context,ETH_DATA_FORMAT))),a})}signAndSend({wallet:t,tx:r}){return __awaiter$c(this,void 0,void 0,function*(){if(t){const n=yield t.signTransaction(r);return trySendTransaction(this.web3Context,()=>__awaiter$c(this,void 0,void 0,function*(){return sendRawTransaction(this.web3Context.requestManager,n.rawTransaction)}),n.transactionHash)}return trySendTransaction(this.web3Context,()=>__awaiter$c(this,void 0,void 0,function*(){return sendTransaction$3(this.web3Context.requestManager,r)}))})}emitSent(t){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",t)}emitTransactionHash(t){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",t)}emitReceipt(t){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",t)}handleError({error:t,tx:r}){var n;return __awaiter$c(this,void 0,void 0,function*(){let a=t;return a instanceof ContractExecutionError&&this.web3Context.handleRevert&&(a=yield getTransactionError(this.web3Context,r,void 0,void 0,(n=this.options)===null||n===void 0?void 0:n.contractAbi)),(a instanceof InvalidResponseError||a instanceof ContractExecutionError||a instanceof TransactionRevertWithCustomError||a instanceof TransactionRevertedWithoutReasonError||a instanceof TransactionRevertInstructionError||a instanceof TransactionPollingTimeoutError)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",a),a})}emitConfirmation({receipt:t,transactionHash:r,customTransactionReceiptSchema:n}){this.promiEvent.listenerCount("confirmation")>0&&watchTransactionForConfirmations(this.web3Context,this.promiEvent,t,r,this.returnFormat,n)}handleResolve({receipt:t,tx:r}){var n,a,o;return __awaiter$c(this,void 0,void 0,function*(){if(!((n=this.options)===null||n===void 0)&&n.transactionResolver)return(a=this.options)===null||a===void 0?void 0:a.transactionResolver(t);if(t.status===BigInt(0)){const u=yield getTransactionError(this.web3Context,r,t,void 0,(o=this.options)===null||o===void 0?void 0:o.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",u),u}else return t})}}var __awaiter$b=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})},__rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const isSyncing=e=>__awaiter$b(void 0,void 0,void 0,function*(){return getSyncing(e.requestManager)});function getHashRate(e,t){return __awaiter$b(this,void 0,void 0,function*(){const r=yield getHashRate$1(e.requestManager);return format({format:"uint"},r,t??e.defaultReturnFormat)})}function getGasPrice(e,t){return __awaiter$b(this,void 0,void 0,function*(){const r=yield getGasPrice$1(e.requestManager);return format({format:"uint"},r,t??e.defaultReturnFormat)})}function getMaxPriorityFeePerGas(e,t){return __awaiter$b(this,void 0,void 0,function*(){const r=yield getMaxPriorityFeePerGas$1(e.requestManager);return format({format:"uint"},r,t??e.defaultReturnFormat)})}function getBlockNumber(e,t){return __awaiter$b(this,void 0,void 0,function*(){const r=yield getBlockNumber$1(e.requestManager);return format({format:"uint"},r,t??e.defaultReturnFormat)})}function getBalance(e,t,r=e.defaultBlock,n){return __awaiter$b(this,void 0,void 0,function*(){const a=isBlockTag(r)?r:format({format:"uint"},r,ETH_DATA_FORMAT),o=yield getBalance$1(e.requestManager,t,a);return format({format:"uint"},o,n??e.defaultReturnFormat)})}function getStorageAt(e,t,r,n=e.defaultBlock,a){return __awaiter$b(this,void 0,void 0,function*(){const o=format({format:"uint"},r,ETH_DATA_FORMAT),u=isBlockTag(n)?n:format({format:"uint"},n,ETH_DATA_FORMAT),p=yield getStorageAt$1(e.requestManager,t,o,u);return format({format:"bytes"},p,a??e.defaultReturnFormat)})}function getCode(e,t,r=e.defaultBlock,n){return __awaiter$b(this,void 0,void 0,function*(){const a=isBlockTag(r)?r:format({format:"uint"},r,ETH_DATA_FORMAT),o=yield getCode$1(e.requestManager,t,a);return format({format:"bytes"},o,n??e.defaultReturnFormat)})}function getBlock(e,t=e.defaultBlock,r=!1,n){return __awaiter$b(this,void 0,void 0,function*(){let a;if(isBytes(t)){const o=format({format:"bytes32"},t,ETH_DATA_FORMAT);a=yield getBlockByHash(e.requestManager,o,r)}else{const o=isBlockTag(t)?t:format({format:"uint"},t,ETH_DATA_FORMAT);a=yield getBlockByNumber(e.requestManager,o,r)}return format(blockSchema,a,n??e.defaultReturnFormat)})}function getBlockTransactionCount(e,t=e.defaultBlock,r){return __awaiter$b(this,void 0,void 0,function*(){let n;if(isBytes(t)){const a=format({format:"bytes32"},t,ETH_DATA_FORMAT);n=yield getBlockTransactionCountByHash(e.requestManager,a)}else{const a=isBlockTag(t)?t:format({format:"uint"},t,ETH_DATA_FORMAT);n=yield getBlockTransactionCountByNumber(e.requestManager,a)}return format({format:"uint"},n,r??e.defaultReturnFormat)})}function getBlockUncleCount(e,t=e.defaultBlock,r){return __awaiter$b(this,void 0,void 0,function*(){let n;if(isBytes(t)){const a=format({format:"bytes32"},t,ETH_DATA_FORMAT);n=yield getUncleCountByBlockHash(e.requestManager,a)}else{const a=isBlockTag(t)?t:format({format:"uint"},t,ETH_DATA_FORMAT);n=yield getUncleCountByBlockNumber(e.requestManager,a)}return format({format:"uint"},n,r??e.defaultReturnFormat)})}function getUncle(e,t=e.defaultBlock,r,n){return __awaiter$b(this,void 0,void 0,function*(){const a=format({format:"uint"},r,ETH_DATA_FORMAT);let o;if(isBytes(t)){const u=format({format:"bytes32"},t,ETH_DATA_FORMAT);o=yield getUncleByBlockHashAndIndex(e.requestManager,u,a)}else{const u=isBlockTag(t)?t:format({format:"uint"},t,ETH_DATA_FORMAT);o=yield getUncleByBlockNumberAndIndex(e.requestManager,u,a)}return format(blockSchema,o,n??e.defaultReturnFormat)})}function getTransaction(e,t,r=e.defaultReturnFormat){return __awaiter$b(this,void 0,void 0,function*(){const n=format({format:"bytes32"},t,DEFAULT_RETURN_FORMAT),a=yield getTransactionByHash(e.requestManager,n);return isNullish$1(a)?a:formatTransaction(a,r,{fillInputAndData:!0})})}function getPendingTransactions(e,t){return __awaiter$b(this,void 0,void 0,function*(){return(yield getPendingTransactions$1(e.requestManager)).map(r=>formatTransaction(r,t??e.defaultReturnFormat,{fillInputAndData:!0}))})}function getTransactionFromBlock(e,t=e.defaultBlock,r,n){return __awaiter$b(this,void 0,void 0,function*(){const a=format({format:"uint"},r,ETH_DATA_FORMAT);let o;if(isBytes(t)){const u=format({format:"bytes32"},t,ETH_DATA_FORMAT);o=yield getTransactionByBlockHashAndIndex(e.requestManager,u,a)}else{const u=isBlockTag(t)?t:format({format:"uint"},t,ETH_DATA_FORMAT);o=yield getTransactionByBlockNumberAndIndex(e.requestManager,u,a)}return isNullish$1(o)?o:formatTransaction(o,n??e.defaultReturnFormat,{fillInputAndData:!0})})}function getTransactionReceipt(e,t,r){return __awaiter$b(this,void 0,void 0,function*(){const n=format({format:"bytes32"},t,DEFAULT_RETURN_FORMAT);let a;try{a=yield getTransactionReceipt$1(e.requestManager,n)}catch(o){if(typeof o=="object"&&!isNullish$1(o)&&"message"in o&&o.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw o}return isNullish$1(a)?a:format(transactionReceiptSchema,a,r??e.defaultReturnFormat)})}function getTransactionCount(e,t,r=e.defaultBlock,n){return __awaiter$b(this,void 0,void 0,function*(){const a=isBlockTag(r)?r:format({format:"uint"},r,ETH_DATA_FORMAT),o=yield getTransactionCount$1(e.requestManager,t,a);return format({format:"uint"},o,n??e.defaultReturnFormat)})}function sendTransaction$1(e,t,r,n={checkRevertBeforeSending:!0},a){const o=new Web3PromiEvent((u,p)=>{setImmediate(()=>{__awaiter$b(this,void 0,void 0,function*(){const b=new SendTxHelper({web3Context:e,promiEvent:o,options:n,returnFormat:r});let m=Object.assign({},t);isNullish$1(a)||(m=yield a.processTransaction(m));let y=formatTransaction(Object.assign(Object.assign({},m),{from:getTransactionFromOrToAttr("from",e,m),to:getTransactionFromOrToAttr("to",e,m)}),ETH_DATA_FORMAT);try{y=yield b.populateGasPrice({transaction:m,transactionFormatted:y}),yield b.checkRevertBeforeSending(y),b.emitSending(y);let A;e.wallet&&!isNullish$1(y.from)&&(A=e.wallet.get(y.from));const I=yield b.signAndSend({wallet:A,tx:y}),M=format({format:"bytes32"},I,r??e.defaultReturnFormat);b.emitSent(y),b.emitTransactionHash(M);const C=yield waitForTransactionReceipt(e,I,r??e.defaultReturnFormat),P=b.getReceiptWithEvents(format(transactionReceiptSchema,C,r??e.defaultReturnFormat));b.emitReceipt(P),u(yield b.handleResolve({receipt:P,tx:y})),b.emitConfirmation({receipt:P,transactionHash:I})}catch(A){p(yield b.handleError({error:A,tx:y}))}})})});return o}function sendSignedTransaction(e,t,r,n={checkRevertBeforeSending:!0}){const a=new Web3PromiEvent((o,u)=>{setImmediate(()=>{__awaiter$b(this,void 0,void 0,function*(){const p=new SendTxHelper({web3Context:e,promiEvent:a,options:n,returnFormat:r}),b=format({format:"bytes"},t,ETH_DATA_FORMAT),m=TransactionFactory.fromSerializedData(bytesToUint8Array(hexToBytes$1(b))),y=Object.assign(Object.assign({},m.toJSON()),{from:m.getSenderAddress().toString()});try{const{v:A,r:I,s:M}=y,C=__rest(y,["v","r","s"]);yield p.checkRevertBeforeSending(C),p.emitSending(b);const P=yield trySendTransaction(e,()=>__awaiter$b(this,void 0,void 0,function*(){return sendRawTransaction(e.requestManager,b)}));p.emitSent(b);const B=format({format:"bytes32"},P,r??e.defaultReturnFormat);p.emitTransactionHash(B);const k=yield waitForTransactionReceipt(e,P,r??e.defaultReturnFormat),N=p.getReceiptWithEvents(format(transactionReceiptSchema,k,r??e.defaultReturnFormat));p.emitReceipt(N),o(yield p.handleResolve({receipt:N,tx:y})),p.emitConfirmation({receipt:N,transactionHash:P})}catch(A){u(yield p.handleError({error:A,tx:y}))}})})});return a}function sign$1(e,t,r,n=e.defaultReturnFormat){var a;return __awaiter$b(this,void 0,void 0,function*(){const o=format({format:"bytes"},t,DEFAULT_RETURN_FORMAT);if(!((a=e.wallet)===null||a===void 0)&&a.get(r)){const p=e.wallet.get(r).sign(o);return format(SignatureObjectSchema,p,n)}if(typeof r=="number")throw new SignatureError(t,'RPC method "eth_sign" does not support index signatures');const u=yield sign$3(e.requestManager,r,o);return format({format:"bytes"},u,n)})}function signTransaction$1(e,t,r=e.defaultReturnFormat){return __awaiter$b(this,void 0,void 0,function*(){const n=yield signTransaction$3(e.requestManager,formatTransaction(t,ETH_DATA_FORMAT));return isString(n)?decodeSignedTransaction(n,r,{fillInputAndData:!0}):{raw:format({format:"bytes"},n.raw,r),tx:formatTransaction(n.tx,r,{fillInputAndData:!0})}})}function call(e,t,r=e.defaultBlock,n=e.defaultReturnFormat){return __awaiter$b(this,void 0,void 0,function*(){const a=isBlockTag(r)?r:format({format:"uint"},r,ETH_DATA_FORMAT),o=yield call$1(e.requestManager,formatTransaction(t,ETH_DATA_FORMAT),a);return format({format:"bytes"},o,n)})}function estimateGas(e,t,r=e.defaultBlock,n){return __awaiter$b(this,void 0,void 0,function*(){const a=formatTransaction(t,ETH_DATA_FORMAT),o=isBlockTag(r)?r:format({format:"uint"},r,ETH_DATA_FORMAT),u=yield estimateGas$1(e.requestManager,a,o);return format({format:"uint"},u,n??e.defaultReturnFormat)})}function getLogs(e,t,r){return __awaiter$b(this,void 0,void 0,function*(){let{toBlock:n,fromBlock:a}=t;isNullish$1(n)||(typeof n=="number"||typeof n=="bigint")&&(n=numberToHex$1(n)),isNullish$1(a)||(typeof a=="number"||typeof a=="bigint")&&(a=numberToHex$1(a));const o=Object.assign(Object.assign({},t),{fromBlock:a,toBlock:n});return(yield getLogs$1(e.requestManager,o)).map(u=>typeof u=="string"?u:format(logSchema,u,r??e.defaultReturnFormat))})}function getChainId(e,t){return __awaiter$b(this,void 0,void 0,function*(){const r=yield getChainId$1(e.requestManager);return format({format:"uint"},r,t??e.defaultReturnFormat)})}function getProof(e,t,r,n=e.defaultBlock,a){return __awaiter$b(this,void 0,void 0,function*(){const o=r.map(b=>format({format:"bytes"},b,ETH_DATA_FORMAT)),u=isBlockTag(n)?n:format({format:"uint"},n,ETH_DATA_FORMAT),p=yield getProof$1(e.requestManager,t,o,u);return format(accountSchema,p,a??e.defaultReturnFormat)})}function getFeeHistory(e,t,r=e.defaultBlock,n,a){return __awaiter$b(this,void 0,void 0,function*(){const o=format({format:"uint"},t,ETH_DATA_FORMAT),u=isBlockTag(r)?r:format({format:"uint"},r,ETH_DATA_FORMAT),p=format({type:"array",items:{format:"uint"}},n,NUMBER_DATA_FORMAT),b=yield getFeeHistory$1(e.requestManager,o,u,p);return format(feeHistorySchema,b,a??e.defaultReturnFormat)})}function createAccessList(e,t,r=e.defaultBlock,n){return __awaiter$b(this,void 0,void 0,function*(){const a=isBlockTag(r)?r:format({format:"uint"},r,ETH_DATA_FORMAT),o=yield createAccessList$1(e.requestManager,formatTransaction(t,ETH_DATA_FORMAT),a);return format(accessListResultSchema,o,n??e.defaultReturnFormat)})}function signTypedData(e,t,r,n,a){return __awaiter$b(this,void 0,void 0,function*(){const o=yield signTypedData$1(e.requestManager,t,r,n);return format({format:"bytes"},o,a??e.defaultReturnFormat)})}let LogsSubscription$1=class extends Web3Subscription{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return format(logSchema,e,super.returnFormat)}};class NewPendingTransactionsSubscription extends Web3Subscription{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(t){return format({format:"string"},t,super.returnFormat)}}class NewHeadsSubscription extends Web3Subscription{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(t){return format(blockHeaderSchema,t,super.returnFormat)}}class SyncingSubscription extends Web3Subscription{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(t){if(typeof t=="boolean")this.emit("changed",t);else{const r=Object.fromEntries(Object.entries(t.status).map(([n,a])=>[n.charAt(0).toLowerCase()+n.substring(1),a]));this.emit("changed",t.syncing),this.emit("data",format(syncSchema,r,super.returnFormat))}}}var __awaiter$a=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const registeredSubscriptions={logs:LogsSubscription$1,newPendingTransactions:NewPendingTransactionsSubscription,newHeads:NewHeadsSubscription,syncing:SyncingSubscription,pendingTransactions:NewPendingTransactionsSubscription,newBlockHeaders:NewHeadsSubscription};class Web3Eth extends Web3Context{constructor(t){if(typeof t=="string"||isSupportedProvider(t)){super({provider:t,registeredSubscriptions});return}if(t.registeredSubscriptions){super(t);return}super(Object.assign(Object.assign({},t),{registeredSubscriptions})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(t){this.transactionMiddleware=t}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return __awaiter$a(this,void 0,void 0,function*(){return getProtocolVersion(this.requestManager)})}isSyncing(){return __awaiter$a(this,void 0,void 0,function*(){return getSyncing(this.requestManager)})}getCoinbase(){return __awaiter$a(this,void 0,void 0,function*(){return getCoinbase(this.requestManager)})}isMining(){return __awaiter$a(this,void 0,void 0,function*(){return getMining(this.requestManager)})}getHashrate(t){var r;return t===void 0&&(t=(r=this.defaultReturnFormat)!==null&&r!==void 0?r:DEFAULT_RETURN_FORMAT),__awaiter$a(this,void 0,void 0,function*(){return this.getHashRate(t)})}getHashRate(t=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getHashRate(this,t)})}getGasPrice(t=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getGasPrice(this,t)})}getMaxPriorityFeePerGas(t=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getMaxPriorityFeePerGas(this,t)})}calculateFeeData(t=BigInt(2),r=ethUnitMap.Gwei){var n;return __awaiter$a(this,void 0,void 0,function*(){const a=yield this.getBlock(void 0,!1),o=(n=a==null?void 0:a.baseFeePerGas)!==null&&n!==void 0?n:void 0;let u;try{u=yield this.getGasPrice()}catch{}let p;try{p=yield this.getMaxPriorityFeePerGas()}catch{}let b;return o&&(p=p??r,b=o*t+p),{gasPrice:u,maxFeePerGas:b,maxPriorityFeePerGas:p,baseFeePerGas:o}})}getAccounts(){var t;return __awaiter$a(this,void 0,void 0,function*(){return((t=yield getAccounts$2(this.requestManager))!==null&&t!==void 0?t:[]).map(r=>toChecksumAddress(r))})}getBlockNumber(t=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getBlockNumber(this,t)})}getBalance(t,r=this.defaultBlock,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getBalance(this,t,r,n)})}getStorageAt(t,r,n=this.defaultBlock,a=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getStorageAt(this,t,r,n,a)})}getCode(t,r=this.defaultBlock,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getCode(this,t,r,n)})}getBlock(t=this.defaultBlock,r=!1,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getBlock(this,t,r,n)})}getBlockTransactionCount(t=this.defaultBlock,r=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getBlockTransactionCount(this,t,r)})}getBlockUncleCount(t=this.defaultBlock,r=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getBlockUncleCount(this,t,r)})}getUncle(t=this.defaultBlock,r,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getUncle(this,t,r,n)})}getTransaction(t,r=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){const n=yield getTransaction(this,t,r);if(!n)throw new TransactionNotFound;return n})}getPendingTransactions(t=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getPendingTransactions(this,t)})}getTransactionFromBlock(t=this.defaultBlock,r,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getTransactionFromBlock(this,t,r,n)})}getTransactionReceipt(t,r=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){const n=yield getTransactionReceipt(this,t,r);if(!n)throw new TransactionNotFound;return n})}getTransactionCount(t,r=this.defaultBlock,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getTransactionCount(this,t,r,n)})}sendTransaction(t,r=this.defaultReturnFormat,n){return sendTransaction$1(this,t,r,n,this.transactionMiddleware)}sendSignedTransaction(t,r=this.defaultReturnFormat,n){return sendSignedTransaction(this,t,r,n)}sign(t,r,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return sign$1(this,t,r,n)})}signTransaction(t,r=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return signTransaction$1(this,t,r)})}call(t,r=this.defaultBlock,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return call(this,t,r,n)})}estimateGas(t,r=this.defaultBlock,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return estimateGas(this,t,r,n)})}getPastLogs(t,r=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getLogs(this,t,r)})}getWork(){return __awaiter$a(this,void 0,void 0,function*(){return getWork(this.requestManager)})}submitWork(t,r,n){return __awaiter$a(this,void 0,void 0,function*(){return submitWork(this.requestManager,t,r,n)})}requestAccounts(){return __awaiter$a(this,void 0,void 0,function*(){return requestAccounts(this.requestManager)})}getChainId(t=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getChainId(this,t)})}getNodeInfo(){return __awaiter$a(this,void 0,void 0,function*(){return getNodeInfo(this.requestManager)})}getProof(t,r,n=this.defaultBlock,a=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getProof(this,t,r,n,a)})}getFeeHistory(t,r=this.defaultBlock,n,a=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return getFeeHistory(this,t,r,n,a)})}createAccessList(t,r=this.defaultBlock,n=this.defaultReturnFormat){return __awaiter$a(this,void 0,void 0,function*(){return createAccessList(this,t,r,n)})}signTypedData(t,r,n,a){var o;return n===void 0&&(n=!1),a===void 0&&(a=(o=this.defaultReturnFormat)!==null&&o!==void 0?o:DEFAULT_RETURN_FORMAT),__awaiter$a(this,void 0,void 0,function*(){return signTypedData(this,t,r,n,a)})}subscribe(t,r,n){var a,o;return n===void 0&&(n=(a=this.defaultReturnFormat)!==null&&a!==void 0?a:DEFAULT_RETURN_FORMAT),__awaiter$a(this,void 0,void 0,function*(){const u=yield(o=this.subscriptionManager)===null||o===void 0?void 0:o.subscribe(t,r,n);return u instanceof LogsSubscription$1&&t==="logs"&&typeof r=="object"&&!isNullish(r.fromBlock)&&Number.isFinite(Number(r.fromBlock))&&setImmediate(()=>{this.getPastLogs(r).then(p=>{for(const b of p)u._processSubscriptionResult(b)}).catch(p=>{u._processSubscriptionError(p)})}),u})}static shouldClearSubscription({sub:t}){return!(t instanceof SyncingSubscription)}clearSubscriptions(t=!1){var r;return(r=this.subscriptionManager)===null||r===void 0?void 0:r.unsubscribe(t?Web3Eth.shouldClearSubscription:void 0)}}const validateCustomChainInfo=e=>{if(!isNullish$1(e.common)){if(isNullish$1(e.common.customChain))throw new MissingCustomChainError;if(isNullish$1(e.common.customChain.chainId))throw new MissingCustomChainIdError;if(!isNullish$1(e.chainId)&&e.chainId!==e.common.customChain.chainId)throw new ChainIdMismatchError({txChainId:e.chainId,customChainId:e.common.customChain.chainId})}},validateChainInfo=e=>{if(!isNullish$1(e.common)&&!isNullish$1(e.chain)&&!isNullish$1(e.hardfork))throw new CommonOrChainAndHardforkError;if(!isNullish$1(e.chain)&&isNullish$1(e.hardfork)||!isNullish$1(e.hardfork)&&isNullish$1(e.chain))throw new MissingChainOrHardforkError({chain:e.chain,hardfork:e.hardfork})},validateBaseChain=e=>{if(!isNullish$1(e.common)&&!isNullish$1(e.common.baseChain)&&!isNullish$1(e.chain)&&e.chain!==e.common.baseChain)throw new ChainMismatchError({txChain:e.chain,baseChain:e.common.baseChain})},validateHardfork=e=>{if(!isNullish$1(e.common)&&!isNullish$1(e.common.hardfork)&&!isNullish$1(e.hardfork)&&e.hardfork!==e.common.hardfork)throw new HardforkMismatchError({txHardfork:e.hardfork,commonHardfork:e.common.hardfork})},validateLegacyGas=e=>{if(isNullish$1(e.gas)||!isUInt(e.gas)||isNullish$1(e.gasPrice)||!isUInt(e.gasPrice))throw new InvalidGasOrGasPrice({gas:e.gas,gasPrice:e.gasPrice});if(!isNullish$1(e.maxFeePerGas)||!isNullish$1(e.maxPriorityFeePerGas))throw new UnsupportedFeeMarketError({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas})},validateFeeMarketGas=e=>{if(!isNullish$1(e.gasPrice)&&e.type==="0x2")throw new Eip1559GasPriceError(e.gasPrice);if(e.type==="0x0"||e.type==="0x1")throw new UnsupportedFeeMarketError({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas});if(isNullish$1(e.maxFeePerGas)||!isUInt(e.maxFeePerGas)||isNullish$1(e.maxPriorityFeePerGas)||!isUInt(e.maxPriorityFeePerGas))throw new InvalidMaxPriorityFeePerGasOrMaxFeePerGas({maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas})},validateGas=e=>{const t=!isNullish$1(e.gas)||!isNullish$1(e.gasLimit),r=t&&!isNullish$1(e.gasPrice),n=t&&!isNullish$1(e.maxPriorityFeePerGas)&&!isNullish$1(e.maxFeePerGas);if(!r&&!n)throw new MissingGasError({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});if(r&&n)throw new TransactionGasMismatchError({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});(r?validateLegacyGas:validateFeeMarketGas)(e),(!isNullish$1(e.type)&&e.type>"0x1"?validateFeeMarketGas:validateLegacyGas)(e)},validateTransactionForSigning=(e,t)=>{if(!isNullish$1(t)){t(e);return}if(typeof e!="object"||isNullish$1(e))throw new InvalidTransactionObjectError(e);validateCustomChainInfo(e),validateChainInfo(e),validateBaseChain(e),validateHardfork(e);const r=formatTransaction(e,ETH_DATA_FORMAT);if(validateGas(r),isNullish$1(r.nonce)||isNullish$1(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new InvalidNonceOrChainIdError({nonce:e.nonce,chainId:e.chainId})};var __awaiter$9=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const getEthereumjsTxDataFromTransaction=e=>{var t,r;return{nonce:e.nonce,gasPrice:e.gasPrice,gasLimit:(t=e.gasLimit)!==null&&t!==void 0?t:e.gas,to:e.to,value:e.value,data:(r=e.data)!==null&&r!==void 0?r:e.input,type:e.type,chainId:e.chainId,accessList:e.accessList,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas}},getEthereumjsTransactionOptions=(e,t)=>{var r,n,a,o,u,p,b,m,y,A,I,M,C,P,B,k,N,D;const L=!isNullish$1(e.chain)&&!isNullish$1(e.hardfork)||!isNullish$1(e.common);let K;if(!L)t.defaultCommon?(K=Object.assign({},t.defaultCommon),isNullish$1(K.hardfork)&&(K.hardfork=(r=e.hardfork)!==null&&r!==void 0?r:t.defaultHardfork),isNullish$1(K.baseChain)&&(K.baseChain=t.defaultChain)):K=Common.custom({name:"custom-network",chainId:toNumber(e.chainId),networkId:isNullish$1(e.networkId)?void 0:toNumber(e.networkId),defaultHardfork:(n=e.hardfork)!==null&&n!==void 0?n:t.defaultHardfork},{baseChain:t.defaultChain});else{const J=(p=(u=(o=(a=e==null?void 0:e.common)===null||a===void 0?void 0:a.customChain)===null||o===void 0?void 0:o.name)!==null&&u!==void 0?u:e.chain)!==null&&p!==void 0?p:"custom-network",ce=toNumber((y=(m=(b=e==null?void 0:e.common)===null||b===void 0?void 0:b.customChain)===null||m===void 0?void 0:m.chainId)!==null&&y!==void 0?y:e==null?void 0:e.chainId),oe=toNumber((M=(I=(A=e==null?void 0:e.common)===null||A===void 0?void 0:A.customChain)===null||I===void 0?void 0:I.networkId)!==null&&M!==void 0?M:e==null?void 0:e.networkId),Z=(B=(P=(C=e==null?void 0:e.common)===null||C===void 0?void 0:C.hardfork)!==null&&P!==void 0?P:e==null?void 0:e.hardfork)!==null&&B!==void 0?B:t.defaultHardfork,ie=(D=(N=(k=e.common)===null||k===void 0?void 0:k.baseChain)!==null&&N!==void 0?N:e.chain)!==null&&D!==void 0?D:t.defaultChain;ce&&oe&&J&&(K=Common.custom({name:J,chainId:ce,networkId:oe,defaultHardfork:Z},{baseChain:ie}))}return{common:K}},prepareTransactionForSigning=(e,t,r,n=!1,a=!0)=>__awaiter$9(void 0,void 0,void 0,function*(){const o=yield transactionBuilder({transaction:e,web3Context:t,privateKey:r,fillGasPrice:n,fillGasLimit:a}),u=formatTransaction(o,ETH_DATA_FORMAT);return validateTransactionForSigning(u),TransactionFactory.fromTxData(getEthereumjsTxDataFromTransaction(u),getEthereumjsTransactionOptions(u,t))}),encodeEventABI=({address:e},t,r)=>{var n,a;const o=r==null?void 0:r.topics,u=(n=r==null?void 0:r.filter)!==null&&n!==void 0?n:{},p={};if(isNullish(r==null?void 0:r.fromBlock)||(p.fromBlock=format(blockSchema.properties.number,r==null?void 0:r.fromBlock,{number:FMT_NUMBER.HEX,bytes:FMT_BYTES.HEX})),isNullish(r==null?void 0:r.toBlock)||(p.toBlock=format(blockSchema.properties.number,r==null?void 0:r.toBlock,{number:FMT_NUMBER.HEX,bytes:FMT_BYTES.HEX})),o&&Array.isArray(o))p.topics=[...o];else if(p.topics=[],t&&!t.anonymous&&![ALL_EVENTS,"allEvents"].includes(t.name)&&p.topics.push((a=t.signature)!==null&&a!==void 0?a:encodeEventSignature(jsonInterfaceMethodToString(t))),![ALL_EVENTS,"allEvents"].includes(t.name)&&t.inputs)for(const b of t.inputs){if(!b.indexed)continue;const m=u[b.name];if(!m){p.topics.push(null);continue}Array.isArray(m)?p.topics.push(m.map(y=>encodeParameter(b.type,y))):b.type==="string"?p.topics.push(keccak256Wrapper(m)):p.topics.push(encodeParameter(b.type,m))}return p.topics.length||delete p.topics,e&&(p.address=e.toLowerCase()),p},encodeMethodABI=(e,t,r)=>{const n=Array.isArray(e.inputs)?e.inputs.length:0;if(e.inputs&&n!==t.length)throw new Web3ContractError(`The number of arguments is not matching the methods required number. You need to pass ${n} arguments.`);let a;if(e.inputs?a=encodeParameters(Array.isArray(e.inputs)?e.inputs:[],t).replace("0x",""):a=inferTypesAndEncodeParameters(t).replace("0x",""),isAbiConstructorFragment(e)){if(!r)throw new Web3ContractError("The contract has no contract data option set. This is necessary to append the constructor parameters.");return r.startsWith("0x")?`${r}${a}`:`0x${r}${a}`}return`${encodeFunctionSignature(e)}${a}`},decodeMethodParams=(e,t,r=!0)=>{const n=r&&t&&t.length>=10&&t.startsWith("0x")?t.slice(10):t;if(!e.inputs)throw new Web3ContractError("No inputs found in the ABI");return decodeParameters([...e.inputs],n)},decodeMethodReturn=(e,t)=>{if(e.type==="constructor")return t;if(!t)return null;const r=t.length>=2?t.slice(2):t;if(!e.outputs)return null;const n=decodeParameters([...e.outputs],r);return n.__length__===1?n[0]:n};class LogsSubscription extends Web3Subscription{constructor(t,r){super(t,r),this.address=t.address,this.topics=t.topics,this.abi=t.abi,this.jsonInterface=t.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(t){return decodeEventABI(this.abi,t,this.jsonInterface,super.returnFormat)}}const dataInputEncodeMethodHelper=(e,t,r,n)=>{var a,o;const u={};return(!isNullish(e.data)||n==="both")&&(u.data=encodeMethodABI(t,r,(a=e.data)!==null&&a!==void 0?a:e.input)),(!isNullish(e.input)||n==="both")&&(u.input=encodeMethodABI(t,r,(o=e.input)!==null&&o!==void 0?o:e.data)),isNullish(u.input)&&isNullish(u.data)&&(u[n]=encodeMethodABI(t,r)),{data:u.data,input:u.input}},getSendTxParams=({abi:e,params:t,options:r,contractOptions:n})=>{var a,o,u;if(!((u=(o=(a=r==null?void 0:r.input)!==null&&a!==void 0?a:r==null?void 0:r.data)!==null&&o!==void 0?o:n.input)!==null&&u!==void 0?u:n.data)&&!(r!=null&&r.to)&&!n.address)throw new Web3ContractError("Contract address not specified");if(!(r!=null&&r.from)&&!n.from)throw new Web3ContractError('Contract "from" address not specified');let p=mergeDeep({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas,data:n.data},r);const b=dataInputEncodeMethodHelper(p,e,t,r==null?void 0:r.dataInputFill);return p=Object.assign(Object.assign({},p),{data:b.data,input:b.input}),p},getEthTxCallParams=({abi:e,params:t,options:r,contractOptions:n})=>{if(!(r!=null&&r.to)&&!n.address)throw new Web3ContractError("Contract address not specified");let a=mergeDeep({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas,data:n.data},r);const o=dataInputEncodeMethodHelper(a,e,t,r==null?void 0:r.dataInputFill);return a=Object.assign(Object.assign({},a),{data:o.data,input:o.input}),a},getEstimateGasParams=({abi:e,params:t,options:r,contractOptions:n})=>{let a=mergeDeep({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,data:n.data},r);const o=dataInputEncodeMethodHelper(a,e,t,r==null?void 0:r.dataInputFill);return a=Object.assign(Object.assign({},a),{data:o.data,input:o.input}),a},isWeb3ContractContext=e=>typeof e=="object"&&!isNullish(e)&&Object.keys(e).length!==0&&!isContractInitOptions(e),getCreateAccessListParams=({abi:e,params:t,options:r,contractOptions:n})=>{if(!(r!=null&&r.to)&&!n.address)throw new Web3ContractError("Contract address not specified");if(!(r!=null&&r.from)&&!n.from)throw new Web3ContractError('Contract "from" address not specified');let a=mergeDeep({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas,data:n.data},r);const o=dataInputEncodeMethodHelper(a,e,t,r==null?void 0:r.dataInputFill);return a=Object.assign(Object.assign({},a),{data:o.data,input:o.input}),a};var __awaiter$8=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const contractSubscriptions={logs:LogsSubscription,newHeads:NewHeadsSubscription,newBlockHeaders:NewHeadsSubscription};class Contract extends Web3Context{constructor(t,r,n,a,o){var u,p,b;const m=isContractInitOptions(r)?r:isContractInitOptions(n)?n:void 0;let y;isWeb3ContractContext(r)?y=r:isWeb3ContractContext(n)?y=n:y=a;let A;if(typeof r=="object"&&"provider"in r?A=r.provider:typeof n=="object"&&"provider"in n?A=n.provider:typeof a=="object"&&"provider"in a?A=a.provider:A=Contract.givenProvider,super(Object.assign(Object.assign({},y),{provider:A,registeredSubscriptions:contractSubscriptions})),this.syncWithContext=!1,this._functions={},y!=null&&y.wallet&&(this._wallet=y.wallet),y!=null&&y.accountProvider&&(this._accountProvider=y.accountProvider),!isNullish$1(m)&&!isNullish$1(m.data)&&!isNullish$1(m.input)&&this.config.contractDataInputFill!=="both")throw new ContractTransactionDataAndInputError({data:m.data,input:m.input});this._overloadedMethodAbis=new Map;const I=isDataFormat(a)?a:isDataFormat(n)?n:o??this.defaultReturnFormat,M=typeof r=="string"?r:void 0;this.config.contractDataInputFill=(u=m==null?void 0:m.dataInputFill)!==null&&u!==void 0?u:this.config.contractDataInputFill,this._parseAndSetJsonInterface(t,I),this.defaultReturnFormat!==I&&(this.defaultReturnFormat=I),isNullish$1(M)||this._parseAndSetAddress(M,I),this.options={address:M,jsonInterface:this._jsonInterface,gas:(p=m==null?void 0:m.gas)!==null&&p!==void 0?p:m==null?void 0:m.gasLimit,gasPrice:m==null?void 0:m.gasPrice,from:m==null?void 0:m.from,input:m==null?void 0:m.input,data:m==null?void 0:m.data},this.syncWithContext=(b=m==null?void 0:m.syncWithContext)!==null&&b!==void 0?b:!1,y instanceof Web3Context&&this.subscribeToContextEvents(y),Object.defineProperty(this.options,"address",{set:C=>this._parseAndSetAddress(C,I),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:C=>this._parseAndSetJsonInterface(C,I),get:()=>this._jsonInterface}),y instanceof Web3Context&&y.on(Web3ConfigEvent.CONFIG_CHANGE,C=>{this.setConfig({[C.name]:C.newValue})})}setTransactionMiddleware(t){this.transactionMiddleware=t}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let t;return this.options.address?t=new Contract([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):t=new Contract([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&t.subscribeToContextEvents(this.context),t}deploy(t){var r,n,a;let o=this._jsonInterface.find(A=>A.type==="constructor");o||(o={type:"constructor",stateMutability:""});const u=format({format:"bytes"},(r=t==null?void 0:t.input)!==null&&r!==void 0?r:this.options.input,DEFAULT_RETURN_FORMAT),p=format({format:"bytes"},(n=t==null?void 0:t.data)!==null&&n!==void 0?n:this.options.data,DEFAULT_RETURN_FORMAT);if((!u||u.trim()==="0x")&&(!p||p.trim()==="0x"))throw new Web3ContractError("contract creation without any data provided.");const b=(a=t==null?void 0:t.arguments)!==null&&a!==void 0?a:[],m=Object.assign(Object.assign({},this.options),{input:u,data:p}),y=u??p;return{arguments:b,send:A=>{const I=Object.assign({},A);return this._contractMethodDeploySend(o,b,I,m)},estimateGas:(A,I=this.defaultReturnFormat)=>__awaiter$8(this,void 0,void 0,function*(){const M=Object.assign({},A);return this._contractMethodEstimateGas({abi:o,params:b,returnFormat:I,options:M,contractOptions:m})}),encodeABI:()=>encodeMethodABI(o,b,format({format:"bytes"},y,this.defaultReturnFormat)),decodeData:A=>Object.assign(Object.assign({},decodeMethodParams(o,A.replace(y,""),!1)),{__method__:o.type})}}getPastEvents(t,r,n){var a;return __awaiter$8(this,void 0,void 0,function*(){const o=typeof t=="string"?t:ALL_EVENTS,u=typeof t!="string"&&!isDataFormat(t)?t:isDataFormat(r)?{}:r,p=isDataFormat(t)?t:isDataFormat(r)?r:n??this.defaultReturnFormat,b=o==="allEvents"||o===ALL_EVENTS?ALL_EVENTS_ABI:this._jsonInterface.find(k=>"name"in k&&k.name===o);if(!b)throw new Web3ContractError(`Event ${o} not found.`);const{fromBlock:m,toBlock:y,topics:A,address:I}=encodeEventABI(this.options,b,u??{}),M=yield getLogs(this,{fromBlock:m,toBlock:y,topics:A,address:I},p),C=M?M.map(k=>typeof k=="string"?k:decodeEventABI(b,k,this._jsonInterface,p)):[],P=(a=u==null?void 0:u.filter)!==null&&a!==void 0?a:{},B=Object.keys(P);return B.length>0?C.filter(k=>typeof k=="string"?!0:B.every(N=>{var D;if(Array.isArray(P[N]))return P[N].some(K=>String(k.returnValues[N]).toUpperCase()===String(K).toUpperCase());const L=(D=b.inputs)===null||D===void 0?void 0:D.filter(K=>K.name===N)[0];return L!=null&&L.indexed&&L.type==="string"&&keccak256Wrapper(P[N])===String(k.returnValues[N])?!0:String(k.returnValues[N]).toUpperCase()===String(P[N]).toUpperCase()})):C})}_parseAndSetAddress(t,r=this.defaultReturnFormat){this._address=t&&toChecksumAddress(format({format:"address"},t,r))}decodeMethodData(t){const r=t.slice(0,10),n=this._jsonInterface.filter(a=>a.type!=="error").find(a=>r===encodeFunctionSignature(jsonInterfaceMethodToString(a)));if(!n)throw new Web3ContractError(`The ABI for the provided method signature ${r} was not found.`);return Object.assign(Object.assign({},decodeMethodParams(n,t)),{__method__:jsonInterfaceMethodToString(n)})}_parseAndSetJsonInterface(t,r=this.defaultReturnFormat){var n,a,o,u,p;this._functions={},this._methods={},this._events={};let b=[];const m=t.filter(A=>A.type!=="error"),y=t.filter(A=>isAbiErrorFragment(A));for(const A of m){const I=Object.assign(Object.assign({},A),{signature:""});if(isAbiFunctionFragment(I)){const M=jsonInterfaceMethodToString(I),C=encodeFunctionSignature(M);I.methodNameWithInputs=M,I.signature=C,I.constant=(a=(n=I.stateMutability==="view")!==null&&n!==void 0?n:I.stateMutability==="pure")!==null&&a!==void 0?a:I.constant,I.payable=(o=I.stateMutability==="payable")!==null&&o!==void 0?o:I.payable,this._overloadedMethodAbis.set(I.name,[...(u=this._overloadedMethodAbis.get(I.name))!==null&&u!==void 0?u:[],I]);const P=(p=this._overloadedMethodAbis.get(I.name))!==null&&p!==void 0?p:[],B=this._createContractMethod(P,y),k=this._createContractMethod(P,y,!0);this._functions[M]={signature:C,method:k},this._methods[I.name]=B,this._methods[M]=k,this._methods[C]=k}else if(isAbiEventFragment(I)){const M=jsonInterfaceMethodToString(I),C=encodeEventSignature(M),P=this._createContractEvent(I,r);I.signature=C,(!(M in this._events)||I.name==="bound")&&(this._events[M]=P),this._events[I.name]=P,this._events[C]=P}b=[...b,I]}this._events.allEvents=this._createContractEvent(ALL_EVENTS_ABI,r),this._jsonInterface=[...b],this._errorsInterface=y}_getAbiParams(t,r){var n;try{return transformJsonDataToAbiFormat((n=t.inputs)!==null&&n!==void 0?n:[],r)}catch(a){throw new Web3ContractError(`Invalid parameters for method ${t.name}: ${a.message}`)}}_createContractMethod(t,r,n=!1){const a=t[t.length-1];return(...o)=>{var u,p,b;let m;const y=(p=n?(u=this._overloadedMethodAbis.get(a.name))===null||u===void 0?void 0:u.filter(P=>P.signature===a.signature):this._overloadedMethodAbis.get(a.name))!==null&&p!==void 0?p:[];let A=y[0];const I=r,M=y.filter(P=>{var B;return((B=P.inputs)!==null&&B!==void 0?B:[]).length===o.length});if(y.length===1||M.length===0)m=this._getAbiParams(A,o),validator.validate((b=a.inputs)!==null&&b!==void 0?b:[],m);else{const P=[],B=[];for(const k of M)try{m=this._getAbiParams(k,o),validator.validate(k.inputs,m),B.push(k)}catch(N){P.push(N)}if(B.length===1?[A]=B:B.length>1&&([A]=B,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${B.length} compatible methods: ${JSON.stringify(B.map(k=>`${k.methodNameWithInputs} (signature: ${k.signature})`))} 
	The first one will be used: ${A.methodNameWithInputs}`)),P.length===M.length)throw new Web3ValidatorError(P)}const C={arguments:m,call:(P,B)=>__awaiter$8(this,void 0,void 0,function*(){return this._contractMethodCall(A,m,I,P,B)}),send:P=>this._contractMethodSend(A,m,I,P),populateTransaction:(P,B)=>{var k,N;let D=B??this.options;D=Object.assign(Object.assign({},D),{input:void 0,from:(N=(k=D==null?void 0:D.from)!==null&&k!==void 0?k:this.defaultAccount)!==null&&N!==void 0?N:void 0});const L=getSendTxParams({abi:a,params:o,options:Object.assign(Object.assign({},P),{dataInputFill:this.config.contractDataInputFill}),contractOptions:D});return L.dataInputFill&&delete L.dataInputFill,L},estimateGas:(P,B=this.defaultReturnFormat)=>__awaiter$8(this,void 0,void 0,function*(){return this._contractMethodEstimateGas({abi:A,params:m,returnFormat:B,options:P})}),encodeABI:()=>encodeMethodABI(A,m),decodeData:P=>decodeMethodParams(A,P),createAccessList:(P,B)=>__awaiter$8(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(A,m,I,P,B)})};return A.stateMutability,C}}_contractMethodCall(t,r,n,a,o){var u;return __awaiter$8(this,void 0,void 0,function*(){const p=getEthTxCallParams({abi:t,params:r,options:Object.assign(Object.assign({},a),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(u=this.options.from)!==null&&u!==void 0?u:this.config.defaultAccount})});try{const b=yield call(this,p,o,this.defaultReturnFormat);return decodeMethodReturn(t,b)}catch(b){throw b instanceof ContractExecutionError&&decodeContractErrorData(n,b.cause),b}})}_contractMethodCreateAccessList(t,r,n,a,o){var u;return __awaiter$8(this,void 0,void 0,function*(){const p=getCreateAccessListParams({abi:t,params:r,options:Object.assign(Object.assign({},a),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(u=this.options.from)!==null&&u!==void 0?u:this.config.defaultAccount})});try{return createAccessList(this,p,o,this.defaultReturnFormat)}catch(b){throw b instanceof ContractExecutionError&&decodeContractErrorData(n,b.cause),b}})}_contractMethodSend(t,r,n,a,o){var u,p;let b=o??this.options;b=Object.assign(Object.assign({},b),{input:void 0,from:(p=(u=b.from)!==null&&u!==void 0?u:this.defaultAccount)!==null&&p!==void 0?p:void 0});const m=getSendTxParams({abi:t,params:r,options:Object.assign(Object.assign({},a),{dataInputFill:this.config.contractDataInputFill}),contractOptions:b}),y=isNullish$1(this.transactionMiddleware)?sendTransaction$1(this,m,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):sendTransaction$1(this,m,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return y.on("error",A=>{A instanceof ContractExecutionError&&decodeContractErrorData(n,A.cause)}),y}_contractMethodDeploySend(t,r,n,a){var o,u;let p=a??this.options;p=Object.assign(Object.assign({},p),{from:(u=(o=p.from)!==null&&o!==void 0?o:this.defaultAccount)!==null&&u!==void 0?u:void 0});const b=getSendTxParams({abi:t,params:r,options:Object.assign(Object.assign({},n),{dataInputFill:this.contractDataInputFill}),contractOptions:p}),m={transactionResolver:y=>{if(y.status===BigInt(0))throw new Web3ContractError("code couldn't be stored",y);const A=this.clone();return A.options.address=y.contractAddress,A},contractAbi:this._jsonInterface,checkRevertBeforeSending:!1};return isNullish$1(this.transactionMiddleware)?sendTransaction$1(this,b,this.defaultReturnFormat,m):sendTransaction$1(this,b,this.defaultReturnFormat,m,this.transactionMiddleware)}_contractMethodEstimateGas({abi:t,params:r,returnFormat:n,options:a,contractOptions:o}){return __awaiter$8(this,void 0,void 0,function*(){const u=getEstimateGasParams({abi:t,params:r,options:Object.assign(Object.assign({},a),{dataInputFill:this.config.contractDataInputFill}),contractOptions:o??this.options});return estimateGas(this,u,BlockTags.LATEST,n??this.defaultReturnFormat)})}_createContractEvent(t,r=this.defaultReturnFormat){return(...n)=>{var a;const{topics:o,fromBlock:u}=encodeEventABI(this.options,t,n[0]),p=new LogsSubscription({address:this.options.address,topics:o,abi:t,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:r});return isNullish$1(u)||this.getPastEvents(t.name,{fromBlock:u,topics:o},r).then(b=>{b&&b.forEach(m=>p.emit("data",m))}).catch(b=>{p.emit("error",new SubscriptionError("Failed to get past events.",b))}),(a=this.subscriptionManager)===null||a===void 0||a.addSubscription(p).catch(b=>{p.emit("error",new SubscriptionError("Failed to subscribe.",b))}),p}}subscribeToContextEvents(t){const r=this;this.context=t,r.syncWithContext&&t.on(Web3ConfigEvent.CONFIG_CHANGE,n=>{r.setConfig({[n.name]:n.newValue})})}}const interfaceIds={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},methodsInInterface={setAddr:"addr",addr:"addr",setPubkey:"pubkey",pubkey:"pubkey",setContenthash:"contenthash",contenthash:"contenthash",text:"text",name:"name"},registryAddresses={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},networkIds={"0x1":"main","0x5":"goerli"},ENSRegistryAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],PublicResolverAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var COMPRESSED$1="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const FENCED=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),NSM_MAX=4;function decode_arithmetic(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),a=1,o=[0,1];for(let K=1;K<n;K++)o.push(a+=r());let u=r(),p=t;t+=u;let b=0,m=0;function y(){return b==0&&(m=m<<8|e[t++],b=8),m>>--b&1}const A=31,I=2**A,M=I>>>1,C=M>>1,P=I-1;let B=0;for(let K=0;K<A;K++)B=B<<1|y();let k=[],N=0,D=I;for(;;){let K=Math.floor(((B-N+1)*a-1)/D),J=0,ce=n;for(;ce-J>1;){let ie=J+ce>>>1;K<o[ie]?ce=ie:J=ie}if(J==0)break;k.push(J);let oe=N+Math.floor(D*o[J]/a),Z=N+Math.floor(D*o[J+1]/a)-1;for(;!((oe^Z)&M);)B=B<<1&P|y(),oe=oe<<1&P,Z=Z<<1&P|1;for(;oe&~Z&C;)B=B&M|B<<1&P>>>1|y(),oe=oe<<1^M,Z=(Z^M)<<1|M|1;N=oe,D=1+Z-oe}let L=n-4;return k.map(K=>{switch(K-L){case 3:return L+65792+(e[p++]<<16|e[p++]<<8|e[p++]);case 2:return L+256+(e[p++]<<8|e[p++]);case 1:return L+e[p++];default:return K-1}})}function read_payload(e){let t=0;return()=>e[t++]}function read_compressed_payload(e){return read_payload(decode_arithmetic(unsafe_atob(e)))}function unsafe_atob(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((a,o)=>t[a.charCodeAt(0)]=o);let r=e.length,n=new Uint8Array(6*r>>3);for(let a=0,o=0,u=0,p=0;a<r;a++)p=p<<6|t[e.charCodeAt(a)],u+=6,u>=8&&(n[o++]=p>>(u-=8));return n}function signed(e){return e&1?~e>>1:e>>1}function read_deltas(e,t){let r=Array(e);for(let n=0,a=0;n<e;n++)r[n]=a+=signed(t());return r}function read_sorted(e,t=0){let r=[];for(;;){let n=e(),a=e();if(!a)break;t+=n;for(let o=0;o<a;o++)r.push(t+o);t+=a+1}return r}function read_sorted_arrays(e){return read_array_while(()=>{let t=read_sorted(e);if(t.length)return t})}function read_mapped(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(read_linear_table(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(read_replacement_table(r,e))}return t.flat()}function read_array_while(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function read_transposed(e,t,r){let n=Array(e).fill().map(()=>[]);for(let a=0;a<t;a++)read_deltas(e,r).forEach((o,u)=>n[u].push(o));return n}function read_linear_table(e,t){let r=1+t(),n=t(),a=read_array_while(t);return read_transposed(a.length,1+e,t).flatMap((o,u)=>{let[p,...b]=o;return Array(a[u]).fill().map((m,y)=>{let A=y*n;return[p+y*r,b.map(I=>I+A)]})})}function read_replacement_table(e,t){let r=1+t();return read_transposed(r,1+e,t).map(n=>[n[0],n.slice(1)])}function read_trie(e){let t=[],r=read_sorted(e);return a(n([]),[]),t;function n(o){let u=e(),p=read_array_while(()=>{let b=read_sorted(e).map(m=>r[m]);if(b.length)return n(b)});return{S:u,B:p,Q:o}}function a({S:o,B:u},p,b){if(!(o&4&&b===p[p.length-1])){o&2&&(b=p[p.length-1]),o&1&&t.push(p);for(let m of u)for(let y of m.Q)a(m,[...p,y],b)}}}function hex_cp(e){return e.toString(16).toUpperCase().padStart(2,"0")}function quote_cp(e){return`{${hex_cp(e)}}`}function explode_cp(e){let t=[];for(let r=0,n=e.length;r<n;){let a=e.codePointAt(r);r+=a<65536?1:2,t.push(a)}return t}function str_from_cps(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function compare_arrays(e,t){let r=e.length,n=r-t.length;for(let a=0;n==0&&a<r;a++)n=e[a]-t[a];return n}var COMPRESSED="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const S0=44032,L0=4352,V0=4449,T0=4519,L_COUNT=19,V_COUNT=21,T_COUNT=28,N_COUNT=V_COUNT*T_COUNT,S_COUNT=L_COUNT*N_COUNT,S1=S0+S_COUNT,L1=L0+L_COUNT,V1=V0+V_COUNT,T1=T0+T_COUNT;function unpack_cc(e){return e>>24&255}function unpack_cp(e){return e&16777215}let SHIFTED_RANK,EXCLUSIONS,DECOMP,RECOMP;function init$1(){let e=read_compressed_payload(COMPRESSED);SHIFTED_RANK=new Map(read_sorted_arrays(e).flatMap((t,r)=>t.map(n=>[n,r+1<<24]))),EXCLUSIONS=new Set(read_sorted(e)),DECOMP=new Map,RECOMP=new Map;for(let[t,r]of read_mapped(e)){if(!EXCLUSIONS.has(t)&&r.length==2){let[n,a]=r,o=RECOMP.get(n);o||(o=new Map,RECOMP.set(n,o)),o.set(a,t)}DECOMP.set(t,r.reverse())}}function is_hangul(e){return e>=S0&&e<S1}function compose_pair(e,t){if(e>=L0&&e<L1&&t>=V0&&t<V1)return S0+(e-L0)*N_COUNT+(t-V0)*T_COUNT;if(is_hangul(e)&&t>T0&&t<T1&&(e-S0)%T_COUNT==0)return e+(t-T0);{let r=RECOMP.get(e);return r&&(r=r.get(t),r)?r:-1}}function decomposed(e){SHIFTED_RANK||init$1();let t=[],r=[],n=!1;function a(o){let u=SHIFTED_RANK.get(o);u&&(n=!0,o|=u),t.push(o)}for(let o of e)for(;;){if(o<128)t.push(o);else if(is_hangul(o)){let u=o-S0,p=u/N_COUNT|0,b=u%N_COUNT/T_COUNT|0,m=u%T_COUNT;a(L0+p),a(V0+b),m>0&&a(T0+m)}else{let u=DECOMP.get(o);u?r.push(...u):a(o)}if(!r.length)break;o=r.pop()}if(n&&t.length>1){let o=unpack_cc(t[0]);for(let u=1;u<t.length;u++){let p=unpack_cc(t[u]);if(p==0||o<=p){o=p;continue}let b=u-1;for(;;){let m=t[b+1];if(t[b+1]=t[b],t[b]=m,!b||(o=unpack_cc(t[--b]),o<=p))break}o=unpack_cc(t[u])}}return t}function composed_from_decomposed(e){let t=[],r=[],n=-1,a=0;for(let o of e){let u=unpack_cc(o),p=unpack_cp(o);if(n==-1)u==0?n=p:t.push(p);else if(a>0&&a>=u)u==0?(t.push(n,...r),r.length=0,n=p):r.push(p),a=u;else{let b=compose_pair(n,p);b>=0?n=b:a==0&&u==0?(t.push(n),n=p):(r.push(p),a=u)}}return n>=0&&t.push(n,...r),t}function nfd(e){return decomposed(e).map(unpack_cp)}function nfc(e){return composed_from_decomposed(decomposed(e))}const HYPHEN=45,STOP_CH=".",FE0F=65039,UNIQUE_PH=1,Array_from=e=>Array.from(e);function group_has_cp(e,t){return e.P.has(t)||e.Q.has(t)}class Emoji extends Array{get is_emoji(){return!0}}let MAPPED,IGNORED,CM,NSM,ESCAPE,GROUPS,WHOLE_VALID,WHOLE_MAP,VALID,EMOJI_LIST,EMOJI_ROOT;function init(){if(MAPPED)return;let e=read_compressed_payload(COMPRESSED$1);const t=()=>read_sorted(e),r=()=>new Set(t()),n=(y,A)=>A.forEach(I=>y.add(I));MAPPED=new Map(read_mapped(e)),IGNORED=r(),CM=t(),NSM=new Set(t().map(y=>CM[y])),CM=new Set(CM),ESCAPE=r(),r();let a=read_sorted_arrays(e),o=e();const u=()=>{let y=new Set;return t().forEach(A=>n(y,a[A])),n(y,t()),y};GROUPS=read_array_while(y=>{let A=read_array_while(e).map(I=>I+96);if(A.length){let I=y>=o;A[0]-=32,A=str_from_cps(A),I&&(A=`Restricted[${A}]`);let M=u(),C=u(),P=!e();return{N:A,P:M,Q:C,M:P,R:I}}}),WHOLE_VALID=r(),WHOLE_MAP=new Map;let p=t().concat(Array_from(WHOLE_VALID)).sort((y,A)=>y-A);p.forEach((y,A)=>{let I=e(),M=p[A]=I?p[A-I]:{V:[],M:new Map};M.V.push(y),WHOLE_VALID.has(y)||WHOLE_MAP.set(y,M)});for(let{V:y,M:A}of new Set(WHOLE_MAP.values())){let I=[];for(let C of y){let P=GROUPS.filter(k=>group_has_cp(k,C)),B=I.find(({G:k})=>P.some(N=>k.has(N)));B||(B={G:new Set,V:[]},I.push(B)),B.V.push(C),n(B.G,P)}let M=I.flatMap(C=>Array_from(C.G));for(let{G:C,V:P}of I){let B=new Set(M.filter(k=>!C.has(k)));for(let k of P)A.set(k,B)}}VALID=new Set;let b=new Set;const m=y=>VALID.has(y)?b.add(y):VALID.add(y);for(let y of GROUPS){for(let A of y.P)m(A);for(let A of y.Q)m(A)}for(let y of VALID)!WHOLE_MAP.has(y)&&!b.has(y)&&WHOLE_MAP.set(y,UNIQUE_PH);n(VALID,nfd(VALID)),EMOJI_LIST=read_trie(e).map(y=>Emoji.from(y)).sort(compare_arrays),EMOJI_ROOT=new Map;for(let y of EMOJI_LIST){let A=[EMOJI_ROOT];for(let I of y){let M=A.map(C=>{let P=C.get(I);return P||(P=new Map,C.set(I,P)),P});I===FE0F?A.push(...M):A=M}for(let I of A)I.V=y}}function quoted_cp(e){return(should_escape(e)?"":`${bidi_qq(safe_str_from_cps([e]))} `)+quote_cp(e)}function bidi_qq(e){return`"${e}"\u200E`}function check_label_extension(e){if(e.length>=4&&e[2]==HYPHEN&&e[3]==HYPHEN)throw new Error(`invalid label extension: "${str_from_cps(e.slice(0,4))}"`)}function check_leading_underscore(e){for(let t=e.lastIndexOf(95);t>0;)if(e[--t]!==95)throw new Error("underscore allowed only at start")}function check_fenced(e){let t=e[0],r=FENCED.get(t);if(r)throw error_placement(`leading ${r}`);let n=e.length,a=-1;for(let o=1;o<n;o++){t=e[o];let u=FENCED.get(t);if(u){if(a==o)throw error_placement(`${r} + ${u}`);a=o+1,r=u}}if(a==n)throw error_placement(`trailing ${r}`)}function safe_str_from_cps(e,t=1/0,r=quote_cp){let n=[];is_combining_mark(e[0])&&n.push("\u25CC"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let a=0,o=e.length;for(let u=0;u<o;u++){let p=e[u];should_escape(p)&&(n.push(str_from_cps(e.slice(a,u))),n.push(r(p)),a=u+1)}return n.push(str_from_cps(e.slice(a,o))),n.join("")}function is_combining_mark(e){return init(),CM.has(e)}function should_escape(e){return init(),ESCAPE.has(e)}function ens_normalize(e){return flatten(split(e,nfc,filter_fe0f))}function split(e,t,r){if(!e)return[];init();let n=0;return e.split(STOP_CH).map(a=>{let o=explode_cp(a),u={input:o,offset:n};n+=o.length+1;try{let p=u.tokens=tokens_from_str(o,t,r),b=p.length,m;if(!b)throw new Error("empty label");let y=u.output=p.flat();if(check_leading_underscore(y),!(u.emoji=b>1||p[0].is_emoji)&&y.every(A=>A<128))check_label_extension(y),m="ASCII";else{let A=p.flatMap(I=>I.is_emoji?[]:I);if(!A.length)m="Emoji";else{if(CM.has(y[0]))throw error_placement("leading combining mark");for(let C=1;C<b;C++){let P=p[C];if(!P.is_emoji&&CM.has(P[0]))throw error_placement(`emoji + combining mark: "${str_from_cps(p[C-1])} + ${safe_str_from_cps([P[0]])}"`)}check_fenced(y);let I=Array_from(new Set(A)),[M]=determine_group(I);check_group(M,A),check_whole(M,I),m=M.N}}u.type=m}catch(p){u.error=p}return u})}function check_whole(e,t){let r,n=[];for(let a of t){let o=WHOLE_MAP.get(a);if(o===UNIQUE_PH)return;if(o){let u=o.M.get(a);if(r=r?r.filter(p=>u.has(p)):Array_from(u),!r.length)return}else n.push(a)}if(r){for(let a of r)if(n.every(o=>group_has_cp(a,o)))throw new Error(`whole-script confusable: ${e.N}/${a.N}`)}}function determine_group(e){let t=GROUPS;for(let r of e){let n=t.filter(a=>group_has_cp(a,r));if(!n.length)throw GROUPS.some(a=>group_has_cp(a,r))?error_group_member(t[0],r):error_disallowed(r);if(t=n,n.length==1)break}return t}function flatten(e){return e.map(({input:t,error:r,output:n})=>{if(r){let a=r.message;throw new Error(e.length==1?a:`Invalid label ${bidi_qq(safe_str_from_cps(t,63))}: ${a}`)}return str_from_cps(n)}).join(STOP_CH)}function error_disallowed(e){return new Error(`disallowed character: ${quoted_cp(e)}`)}function error_group_member(e,t){let r=quoted_cp(t),n=GROUPS.find(a=>a.P.has(t));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function error_placement(e){return new Error(`illegal placement: ${e}`)}function check_group(e,t){for(let r of t)if(!group_has_cp(e,r))throw error_group_member(e,r);if(e.M){let r=nfd(t);for(let n=1,a=r.length;n<a;n++)if(NSM.has(r[n])){let o=n+1;for(let u;o<a&&NSM.has(u=r[o]);o++)for(let p=n;p<o;p++)if(r[p]==u)throw new Error(`duplicate non-spacing marks: ${quoted_cp(u)}`);if(o-n>NSM_MAX)throw new Error(`excessive non-spacing marks: ${bidi_qq(safe_str_from_cps(r.slice(n-1,o)))} (${o-n}/${NSM_MAX})`);n=o}}}function tokens_from_str(e,t,r){let n=[],a=[];for(e=e.slice().reverse();e.length;){let o=consume_emoji_reversed(e);if(o)a.length&&(n.push(t(a)),a=[]),n.push(r(o));else{let u=e.pop();if(VALID.has(u))a.push(u);else{let p=MAPPED.get(u);if(p)a.push(...p);else if(!IGNORED.has(u))throw error_disallowed(u)}}}return a.length&&n.push(t(a)),n}function filter_fe0f(e){return e.filter(t=>t!=FE0F)}function consume_emoji_reversed(e,t){let r=EMOJI_ROOT,n,a=e.length;for(;a&&(r=r.get(e[--a]),!!r);){let{V:o}=r;o&&(n=o,e.length=a)}return n}const normalize=e=>ens_normalize(e),namehash=e=>{let t="";for(let r=0;r<32;r+=1)t+="00";if(e){const r=normalize(e).split(".");for(let n=r.length-1;n>=0;n-=1){const a=sha3Raw(r[n]).slice(2);t=sha3Raw(`0x${t}${a}`).slice(2)}}return`0x${t}`};var __awaiter$7=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Registry{constructor(t,r){this.contract=new Contract(ENSRegistryAbi,r??registryAddresses.main,t),this.context=t}getOwner(t){return __awaiter$7(this,void 0,void 0,function*(){try{return this.contract.methods.owner(namehash(t)).call()}catch{throw new Error}})}getTTL(t){return __awaiter$7(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(namehash(t)).call()}catch{throw new Error}})}recordExists(t){return __awaiter$7(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(namehash(t)).call()}catch{throw new Error}})}getResolver(t){return __awaiter$7(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(namehash(t)).call().then(r=>{if(typeof r=="string")return new Contract(PublicResolverAbi,r,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var __awaiter$6=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Resolver{constructor(t){this.registry=t}getResolverContractAdapter(t){return __awaiter$6(this,void 0,void 0,function*(){return this.registry.getResolver(t)})}checkInterfaceSupport(t,r){var n,a;return __awaiter$6(this,void 0,void 0,function*(){if(isNullish(interfaceIds[r]))throw new ResolverMethodMissingError((n=t.options.address)!==null&&n!==void 0?n:"",r);if(!(yield t.methods.supportsInterface(interfaceIds[r]).call()))throw new ResolverMethodMissingError((a=t.options.address)!==null&&a!==void 0?a:"",r)})}supportsInterface(t,r){var n;return __awaiter$6(this,void 0,void 0,function*(){const a=yield this.getResolverContractAdapter(t);let o=r;if(!isHexStrict$1(o)){if(o=(n=sha3(r))!==null&&n!==void 0?n:"",r==="")throw new Error("Invalid interface Id");o=o.slice(0,10)}return a.methods.supportsInterface(o).call()})}getAddress(t,r=60){return __awaiter$6(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(n,methodsInInterface.addr),n.methods.addr(namehash(t),r).call()})}getPubkey(t){return __awaiter$6(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(r,methodsInInterface.pubkey),r.methods.pubkey(namehash(t)).call()})}getContenthash(t){return __awaiter$6(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(r,methodsInInterface.contenthash),r.methods.contenthash(namehash(t)).call()})}setAddress(t,r,n){return __awaiter$6(this,void 0,void 0,function*(){const a=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(a,methodsInInterface.setAddr),a.methods.setAddr(namehash(t),r).send(n)})}getText(t,r){return __awaiter$6(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(n,methodsInInterface.text),n.methods.text(namehash(t),r).call()})}getName(t,r=!0){return __awaiter$6(this,void 0,void 0,function*(){const n=`${t.toLowerCase().substring(2)}.addr.reverse`,a=yield this.getResolverContractAdapter(n);return r&&(yield this.checkInterfaceSupport(a,methodsInInterface.name)),a.methods.name(namehash(n)).call()})}}var __awaiter$5=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class ENS extends Web3Context{constructor(t,r){super(r??""),this.registryAddress=t??registryAddresses.main,this._registry=new Registry(this.getContextObject(),t),this._resolver=new Resolver(this._registry)}getResolver(t){return __awaiter$5(this,void 0,void 0,function*(){return this._registry.getResolver(t)})}recordExists(t){return __awaiter$5(this,void 0,void 0,function*(){return this._registry.recordExists(t)})}getTTL(t){return __awaiter$5(this,void 0,void 0,function*(){return this._registry.getTTL(t)})}getOwner(t){return __awaiter$5(this,void 0,void 0,function*(){return this._registry.getOwner(t)})}getAddress(t,r=60){return __awaiter$5(this,void 0,void 0,function*(){return this._resolver.getAddress(t,r)})}getText(t,r){return __awaiter$5(this,void 0,void 0,function*(){return isAddress$1(t)?this._resolver.getText(yield this._resolver.getName(t,!1),r):this._resolver.getText(t,r)})}getName(t,r=!0){return __awaiter$5(this,void 0,void 0,function*(){return this._resolver.getName(t,r)})}getPubkey(t){return __awaiter$5(this,void 0,void 0,function*(){return this._resolver.getPubkey(t)})}getContenthash(t){return __awaiter$5(this,void 0,void 0,function*(){return this._resolver.getContenthash(t)})}checkNetwork(){return __awaiter$5(this,void 0,void 0,function*(){const t=Date.now()/1e3;if(!this._lastSyncCheck||t-this._lastSyncCheck>3600){const a=yield isSyncing(this);if(!(typeof a=="boolean"&&!a))throw new ENSNetworkNotSyncedError;this._lastSyncCheck=t}if(this._detectedAddress)return this._detectedAddress;const r=yield getId(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:FMT_NUMBER.HEX})),n=registryAddresses[networkIds[r]];if(typeof n>"u")throw new ENSUnsupportedNetworkError(r);return this._detectedAddress=n,this._detectedAddress})}supportsInterface(t,r){return __awaiter$5(this,void 0,void 0,function*(){return this._resolver.supportsInterface(t,r)})}get events(){return this._registry.events}setAddress(t,r,n){return __awaiter$5(this,void 0,void 0,function*(){return this._resolver.setAddress(t,r,n)})}}var __awaiter$4=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const getAccounts=e=>__awaiter$4(void 0,void 0,void 0,function*(){return(yield getAccounts$1(e)).map(toChecksumAddress)}),newAccount=(e,t)=>__awaiter$4(void 0,void 0,void 0,function*(){validator.validate(["string"],[t]);const r=yield newAccount$1(e,t);return toChecksumAddress(r)}),unlockAccount=(e,t,r,n)=>__awaiter$4(void 0,void 0,void 0,function*(){return validator.validate(["address","string","uint"],[t,r,n]),unlockAccount$1(e,t,r,n)}),lockAccount=(e,t)=>__awaiter$4(void 0,void 0,void 0,function*(){return validator.validate(["address"],[t]),lockAccount$1(e,t)}),importRawKey=(e,t,r)=>__awaiter$4(void 0,void 0,void 0,function*(){return validator.validate(["string","string"],[t,r]),importRawKey$1(e,t,r)}),sendTransaction=(e,t,r)=>__awaiter$4(void 0,void 0,void 0,function*(){const n=formatTransaction(t,ETH_DATA_FORMAT);return sendTransaction$2(e,n,r)}),signTransaction=(e,t,r)=>__awaiter$4(void 0,void 0,void 0,function*(){const n=formatTransaction(t,ETH_DATA_FORMAT);return signTransaction$2(e,n,r)}),sign=(e,t,r,n)=>__awaiter$4(void 0,void 0,void 0,function*(){validator.validate(["string","address","string"],[t,r,n]);const a=isHexStrict$1(t)?t:utf8ToHex(t);return sign$2(e,a,r,n)}),ecRecover=(e,t,r)=>__awaiter$4(void 0,void 0,void 0,function*(){validator.validate(["string","string"],[t,r]);const n=isHexStrict$1(t)?t:utf8ToHex(t);return ecRecover$1(e,n,r)});var __awaiter$3=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Personal extends Web3Context{getAccounts(){return __awaiter$3(this,void 0,void 0,function*(){return getAccounts(this.requestManager)})}newAccount(t){return __awaiter$3(this,void 0,void 0,function*(){return newAccount(this.requestManager,t)})}unlockAccount(t,r,n){return __awaiter$3(this,void 0,void 0,function*(){return unlockAccount(this.requestManager,t,r,n)})}lockAccount(t){return __awaiter$3(this,void 0,void 0,function*(){return lockAccount(this.requestManager,t)})}importRawKey(t,r){return __awaiter$3(this,void 0,void 0,function*(){return importRawKey(this.requestManager,t,r)})}sendTransaction(t,r){return __awaiter$3(this,void 0,void 0,function*(){return sendTransaction(this.requestManager,t,r)})}signTransaction(t,r){return __awaiter$3(this,void 0,void 0,function*(){return signTransaction(this.requestManager,t,r)})}sign(t,r,n){return __awaiter$3(this,void 0,void 0,function*(){return sign(this.requestManager,t,r,n)})}ecRecover(t,r){return __awaiter$3(this,void 0,void 0,function*(){return ecRecover(this.requestManager,t,r)})}}var Transport;(function(e){e.HTTPS="https",e.WebSocket="wss"})(Transport||(Transport={}));var Network;(function(e){e.ETH_MAINNET="eth_mainnet",e.ETH_GOERLI="eth_goerli",e.ETH_SEPOLIA="eth_sepolia",e.ETH_HOLESKY="eth_holesky",e.POLYGON_MAINNET="polygon_mainnet",e.POLYGON_MUMBAI="polygon_mumbai",e.POLYGON_AMONY="polygon_amony",e.ARBITRUM_MAINNET="arbitrum_mainnet",e.ARBITRUM_SEPOLIA="arbitrum_sepolia",e.BASE_MAINNET="base_mainnet",e.BASE_SEPOLIA="base_sepolia",e.OPTIMISM_MAINNET="optimism_mainnet",e.OPTIMISM_SEPOLIA="optimism_sepolia",e.BNB_MAINNET="bnb_mainnet",e.BNB_TESTNET="bnb_testnet"})(Network||(Network={}));const ERR_QUICK_NODE_RATE_LIMIT=1300;class QuickNodeRateLimitError extends BaseWeb3Error{constructor(){super("Too many requests, Quicknode has reached its rate limit."),this.code=ERR_QUICK_NODE_RATE_LIMIT}}var __awaiter$2=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};class Web3ExternalProvider extends Eip1193Provider{constructor(t,r,n,a){super(),this.transport=r,r===Transport.HTTPS?this.provider=new HttpProvider(this.getRPCURL(t,r,n,a)):r===Transport.WebSocket&&(this.provider=new WebSocketProvider(this.getRPCURL(t,r,n,a)))}request(t,r){return __awaiter$2(this,void 0,void 0,function*(){if(this.transport===Transport.HTTPS){const n=yield this.provider.request(t,r);if(typeof n=="object"&&!isNullish$1(n)&&"error"in n&&!isNullish$1(n.error)&&"code"in n.error&&n.error.code===429)throw new QuickNodeRateLimitError;return n}return this.provider.request(t)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(t,r){var n;!((n=this.provider)===null||n===void 0)&&n.once&&this.provider.once(t,r)}removeAllListeners(t){var r;!((r=this.provider)===null||r===void 0)&&r.removeAllListeners&&this.provider.removeAllListeners(t)}connect(){var t;!((t=this.provider)===null||t===void 0)&&t.connect&&this.provider.connect()}disconnect(t,r){var n;!((n=this.provider)===null||n===void 0)&&n.disconnect&&this.provider.disconnect(t,r)}reset(){var t;!((t=this.provider)===null||t===void 0)&&t.reset&&this.provider.reset()}on(t,r){this.provider&&this.provider.on(t,r)}removeListener(t,r){this.provider&&this.provider.removeListener(t,r)}}const isValid=e=>e!==void 0&&e.trim().length>0;class QuickNodeProvider extends Web3ExternalProvider{constructor(t=Network.ETH_MAINNET,r=Transport.HTTPS,n="",a=""){super(t,r,n,a)}getRPCURL(t,r,n,a){let o="",u="";switch(t){case Network.ETH_MAINNET:o=isValid(a)?a:"powerful-holy-bush.quiknode.pro",u=isValid(n)?n:"3240624a343867035925ff7561eb60dfdba2a668";break;case Network.ETH_SEPOLIA:o=isValid(a)?a:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",u=isValid(n)?n:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case Network.ETH_HOLESKY:o=isValid(a)?a:"yolo-morning-card.ethereum-holesky.quiknode.pro",u=isValid(n)?n:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case Network.ARBITRUM_MAINNET:o=isValid(a)?a:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",u=isValid(n)?n:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case Network.ARBITRUM_SEPOLIA:o=isValid(a)?a:"few-patient-pond.arbitrum-sepolia.quiknode.pro",u=isValid(n)?n:"3be985450970628c860b959c65cd2642dcafe53c";break;case Network.BNB_MAINNET:o=isValid(a)?a:"purple-empty-reel.bsc.quiknode.pro",u=isValid(n)?n:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case Network.BNB_TESTNET:o=isValid(a)?a:"floral-rough-scion.bsc-testnet.quiknode.pro",u=isValid(n)?n:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case Network.POLYGON_MAINNET:o=isValid(a)?a:"small-chaotic-moon.matic.quiknode.pro",u=isValid(n)?n:"847569f8a017e84d985e10d0f44365d965a951f1";break;case Network.POLYGON_AMONY:o=isValid(a)?a:"prettiest-side-shape.matic-amoy.quiknode.pro",u=isValid(n)?n:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${r}://${o}/${u}`}}const mainnet=new QuickNodeProvider,abi={encodeEventSignature,encodeFunctionCall,encodeFunctionSignature,encodeParameter,encodeParameters,decodeParameter,decodeParameters,decodeLog};var __awaiter$1=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})};const initAccountsForContext=e=>{const t=(u,p)=>__awaiter$1(void 0,void 0,void 0,function*(){const b=yield prepareTransactionForSigning(u,e),m=format({format:"bytes"},p,ETH_DATA_FORMAT);return signTransaction$4(b,m)}),r=u=>{const p=privateKeyToAccount(u);return Object.assign(Object.assign({},p),{signTransaction:b=>__awaiter$1(void 0,void 0,void 0,function*(){return t(b,p.privateKey)})})},n=(u,p,b)=>__awaiter$1(void 0,void 0,void 0,function*(){var m;const y=yield decrypt(u,p,(m=b==null?void 0:b.nonStrict)!==null&&m!==void 0?m:!0);return Object.assign(Object.assign({},y),{signTransaction:A=>__awaiter$1(void 0,void 0,void 0,function*(){return t(A,y.privateKey)})})}),a=()=>{const u=create();return Object.assign(Object.assign({},u),{signTransaction:p=>__awaiter$1(void 0,void 0,void 0,function*(){return t(p,u.privateKey)})})},o=new Wallet({create:a,privateKeyToAccount:r,decrypt:n});return{signTransaction:t,create:a,privateKeyToAccount:r,decrypt:n,recoverTransaction,hashMessage,sign:sign$4,recover,encrypt,wallet:o,privateKeyToAddress,parseAndValidatePrivateKey,privateKeyToPublicKey}},Web3PkgInfo={version:"4.11.0"};var __awaiter=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function p(y){try{m(n.next(y))}catch(A){u(A)}}function b(y){try{m(n.throw(y))}catch(A){u(A)}}function m(y){y.done?o(y.value):a(y.value).then(p,b)}m((n=n.apply(e,t||[])).next())})},Eip6963EventName;(function(e){e.eip6963announceProvider="eip6963:announceProvider",e.eip6963requestProvider="eip6963:requestProvider"})(Eip6963EventName||(Eip6963EventName={}));const eip6963ProvidersMap=new Map,web3ProvidersMapUpdated="web3:providersMapUpdated",requestEIP6963Providers=()=>__awaiter(void 0,void 0,void 0,function*(){return new Promise((e,t)=>{typeof window>"u"&&t(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(Eip6963EventName.eip6963announceProvider,r=>{eip6963ProvidersMap.set(r.detail.info.uuid,r.detail);const n=new CustomEvent(web3ProvidersMapUpdated,{detail:eip6963ProvidersMap});window.dispatchEvent(n),e(eip6963ProvidersMap)}),window.dispatchEvent(new Event(Eip6963EventName.eip6963requestProvider))})}),onNewProviderDiscovered=e=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(web3ProvidersMapUpdated,e)};class Web3 extends Web3Context{constructor(t=mainnet){var r;(isNullish(t)||typeof t=="string"&&t.trim()===""||typeof t!="string"&&!isSupportedProvider(t)&&!t.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let n={};typeof t=="string"||isSupportedProvider(t)?n.provider=t:t?n=t:n={},n.registeredSubscriptions=Object.assign(Object.assign({},registeredSubscriptions),(r=n.registeredSubscriptions)!==null&&r!==void 0?r:{}),super(n);const a=initAccountsForContext(this);this._wallet=a.wallet,this._accountProvider=a,this.utils=utils$1;const o=this;class u extends Contract{constructor(m,y,A,I,M){if(isContractInitOptions(y)&&isContractInitOptions(A))throw new InvalidMethodParamsError("Should not provide options at both 2nd and 3rd parameters");let C,P={},B,k;if(!isNullish(y)&&typeof y!="object"&&typeof y!="string")throw new InvalidMethodParamsError;if(typeof y=="string"&&(C=y),isContractInitOptions(y)?P=y:isContractInitOptions(A)?P=A:P={},y instanceof Web3Context?B=y:A instanceof Web3Context?B=A:I instanceof Web3Context?B=I:B=o.getContextObject(),M?k=M:isDataFormat(A)?k=A:isDataFormat(I)&&(k=I),super(m,C,P,B,k),super.subscribeToContextEvents(o),!isNullish(p)){const N=p.getTransactionMiddleware();isNullish(N)||super.setTransactionMiddleware(N)}}}const p=o.use(Web3Eth);this.eth=Object.assign(p,{ens:o.use(ENS,registryAddresses.main),Iban,net:o.use(Net),personal:o.use(Personal),Contract:u,abi,accounts:a})}}Web3.version=Web3PkgInfo.version,Web3.utils=utils$1,Web3.requestEIP6963Providers=requestEIP6963Providers,Web3.onNewProviderDiscovered=onNewProviderDiscovered,Web3.modules={Web3Eth,Iban,Net,ENS,Personal};class EVMUtils{createUnsignedTransaction(t,r,n,a,o){n=JSON.parse(n);const{nonce:u,gasPrice:p,gasLimit:b,maxPriorityFeePerGas:m}=JSON.parse(a),y=n.name?Common$1.custom({name:n.name,chainId:n.chainId,networkId:n.chainId}):new Common$1({chain:n.chainId});if(m){const A={nonce:u,gasLimit:b,maxFeePerGas:p,maxPriorityFeePerGas:m,to:t,value:BigInt(r),chain:n.chainId};o&&(A.data=o);let I=FeeMarketEIP1559Transaction$1.fromTxData(A,{common:y});const M=I.getHashedMessageToSign();return I=I.serialize(),JSON.stringify({transaction:I,payload:M,chainInfo:n,typeOfTransaction:"FeeMarketEIP1559Transaction"})}else{const A={nonce:u,gasLimit:b,gasPrice:p,to:Address$1.fromString(t),value:BigInt(r)};o&&(A.data=o);let I=LegacyTransaction.fromTxData(A,{common:y});const M=I.getHashedMessageToSign();return I=I.serialize(),JSON.stringify({transaction:I,payload:M,chainInfo:n,typeOfTransaction:"LegacyTransaction"})}}signTransactionWithMPCSignature(t,r,n,a,o){let u;o=JSON.parse(o);const p=o.name?Common$1.custom({name:o.name,chainId:o.chainId,networkId:o.chainId}):new Common$1({chain:o.chainId});a==="FeeMarketEIP1559Transaction"?u=FeeMarketEIP1559Transaction$1.fromSerializedTx(Uint8Array.from(JSON.parse(r)),{common:p}):u=LegacyTransaction.fromSerializedTx(Uint8Array.from(JSON.parse(r)),{common:p});const{big_r:b,big_s:m}=JSON.parse(t),y=Buffer$2.from(b.substring(2),"hex"),A=Buffer$2.from(m,"hex");let I;if(a==="FeeMarketEIP1559Transaction")I=[0n,1n].map(C=>u.addSignature(C,y,A));else{const C=[27,28],P=[o.chainId*2+35,o.chainId*2+36];I=[...C,...P].map(B=>u.addSignature(B,y,A))}const M=I.find(C=>C.getSenderAddress().toString().toLowerCase()===n.toLowerCase());if(!M)throw new Error("Signature is not valid");if(M.getValidationErrors().length>0)throw new Error("Transaction validation errors");if(!M.verifySignature())throw new Error("Signature is not valid");return bytesToHex$3(M.serialize())}signTransaction(t,r,n,a){let o;const u=a.name?Common$1.custom({name:a.name,chainId:a.chainId,networkId:a.chainId}):new Common$1({chain:a.chainId});n==="FeeMarketEIP1559Transaction"?o=FeeMarketEIP1559Transaction$1.fromSerializedTx(Uint8Array.from(JSON.parse(t)),{common:u}):o=LegacyTransaction.fromSerializedTx(Uint8Array.from(JSON.parse(t)),{common:u});const p=o.sign(r);return bytesToHex$3(p.serialize())}getAbiEncodedSmartContractArgs(t,r){r=JSON.parse(r);const n=new Web3,a=n.eth.abi.encodeFunctionSignature(t);let o=t.slice(t.indexOf("(")+1,t.indexOf(")"));const u=o?o.split(","):[],p=n.eth.abi.encodeParameters(u,r);return a+p.slice(2)}}var src={},address={},networks={};Object.defineProperty(networks,"__esModule",{value:!0}),networks.testnet=networks.regtest=networks.bitcoin=void 0,networks.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},networks.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},networks.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};var payments$2={},embed={},script={},bip66={};Object.defineProperty(bip66,"__esModule",{value:!0}),bip66.encode=bip66.decode=bip66.check=void 0;function check$d(e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return!1;const t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return!1;const r=e[5+t];return!(r===0||6+t+r!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||r>1&&e[t+6]===0&&!(e[t+7]&128))}bip66.check=check$d;function decode$h(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(e[0]!==48)throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(e[2]!==2)throw new Error("Expected DER integer");const t=e[3];if(t===0)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(e[4+t]!==2)throw new Error("Expected DER integer (2)");const r=e[5+t];if(r===0)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(e[4]&128)throw new Error("R value is negative");if(t>1&&e[4]===0&&!(e[5]&128))throw new Error("R value excessively padded");if(e[t+6]&128)throw new Error("S value is negative");if(r>1&&e[t+6]===0&&!(e[t+7]&128))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}}bip66.decode=decode$h;function encode$j(e,t){const r=e.length,n=t.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(e[0]&128)throw new Error("R value is negative");if(t[0]&128)throw new Error("S value is negative");if(r>1&&e[0]===0&&!(e[1]&128))throw new Error("R value excessively padded");if(n>1&&t[0]===0&&!(t[1]&128))throw new Error("S value excessively padded");const a=Buffer$2.allocUnsafe(6+r+n);return a[0]=48,a[1]=a.length-2,a[2]=2,a[3]=e.length,e.copy(a,4),a[4+r]=2,a[5+r]=t.length,t.copy(a,6+r),a}bip66.encode=encode$j;var ops={};Object.defineProperty(ops,"__esModule",{value:!0}),ops.REVERSE_OPS=ops.OPS=void 0;const OPS$7={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};ops.OPS=OPS$7;const REVERSE_OPS={};ops.REVERSE_OPS=REVERSE_OPS;for(const e of Object.keys(OPS$7)){const t=OPS$7[e];REVERSE_OPS[t]=e}var push_data={};Object.defineProperty(push_data,"__esModule",{value:!0}),push_data.decode=push_data.encode=push_data.encodingLength=void 0;const ops_1=ops;function encodingLength$2(e){return e<ops_1.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}push_data.encodingLength=encodingLength$2;function encode$i(e,t,r){const n=encodingLength$2(t);return n===1?e.writeUInt8(t,r):n===2?(e.writeUInt8(ops_1.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):n===3?(e.writeUInt8(ops_1.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(ops_1.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),n}push_data.encode=encode$i;function decode$g(e,t){const r=e.readUInt8(t);let n,a;if(r<ops_1.OPS.OP_PUSHDATA1)n=r,a=1;else if(r===ops_1.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;n=e.readUInt8(t+1),a=2}else if(r===ops_1.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;n=e.readUInt16LE(t+1),a=3}else{if(t+5>e.length)return null;if(r!==ops_1.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=e.readUInt32LE(t+1),a=5}return{opcode:r,number:n,size:a}}push_data.decode=decode$g;var script_number={};Object.defineProperty(script_number,"__esModule",{value:!0}),script_number.encode=script_number.decode=void 0;function decode$f(e,t,r){t=t||4,r=r===void 0?!0:r;const n=e.length;if(n===0)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&!(e[n-1]&127)&&(n<=1||!(e[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){const o=e.readUInt32LE(0),u=e.readUInt8(4);return u&128?-((u&-129)*4294967296+o):u*4294967296+o}let a=0;for(let o=0;o<n;++o)a|=e[o]<<8*o;return e[n-1]&128?-(a&~(128<<8*(n-1))):a}script_number.decode=decode$f;function scriptNumSize(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function encode$h(e){let t=Math.abs(e);const r=scriptNumSize(t),n=Buffer$2.allocUnsafe(r),a=e<0;for(let o=0;o<r;++o)n.writeUInt8(t&255,o),t>>=8;return n[r-1]&128?n.writeUInt8(a?128:0,r-1):a&&(n[r-1]|=128),n}script_number.encode=encode$h;var script_signature={},types$4={},types$3={Array:function(e){return e!=null&&e.constructor===Array},Boolean:function(e){return typeof e=="boolean"},Function:function(e){return typeof e=="function"},Nil:function(e){return e==null},Number:function(e){return typeof e=="number"},Object:function(e){return typeof e=="object"},String:function(e){return typeof e=="string"},"":function(){return!0}};types$3.Null=types$3.Nil;for(var typeName$1 in types$3)types$3[typeName$1].toJSON=(function(e){return e}).bind(null,typeName$1);var native$1=types$3,native=native$1;function getTypeName(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function getValueTypeName$1(e){return native.Nil(e)?"":getTypeName(e.constructor)}function getValue(e){return native.Function(e)?"":native.String(e)?JSON.stringify(e):e&&native.Object(e)?"":e}function captureStackTrace(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function tfJSON$1(e){return native.Function(e)?e.toJSON?e.toJSON():getTypeName(e):native.Array(e)?"Array":e&&native.Object(e)?"Object":e!==void 0?e:""}function tfErrorString(e,t,r){var n=getValue(t);return"Expected "+tfJSON$1(e)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function TfTypeError$1(e,t,r){r=r||getValueTypeName$1(t),this.message=tfErrorString(e,t,r),captureStackTrace(this,TfTypeError$1),this.__type=e,this.__value=t,this.__valueTypeName=r}TfTypeError$1.prototype=Object.create(Error.prototype),TfTypeError$1.prototype.constructor=TfTypeError$1;function tfPropertyErrorString(e,t,r,n,a){var o='" of type ';return t==="key"&&(o='" with key type '),tfErrorString('property "'+tfJSON$1(r)+o+tfJSON$1(e),n,a)}function TfPropertyTypeError$1(e,t,r,n,a){e?(a=a||getValueTypeName$1(n),this.message=tfPropertyErrorString(e,r,t,n,a)):this.message='Unexpected property "'+t+'"',captureStackTrace(this,TfTypeError$1),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=a}TfPropertyTypeError$1.prototype=Object.create(Error.prototype),TfPropertyTypeError$1.prototype.constructor=TfTypeError$1;function tfCustomError(e,t){return new TfTypeError$1(e,{},t)}function tfSubError$1(e,t,r){return e instanceof TfPropertyTypeError$1?(t=t+"."+e.__property,e=new TfPropertyTypeError$1(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof TfTypeError$1&&(e=new TfPropertyTypeError$1(e.__type,t,r,e.__value,e.__valueTypeName)),captureStackTrace(e),e}var errors={TfTypeError:TfTypeError$1,TfPropertyTypeError:TfPropertyTypeError$1,tfCustomError,tfSubError:tfSubError$1,tfJSON:tfJSON$1,getValueTypeName:getValueTypeName$1},extra,hasRequiredExtra;function requireExtra(){if(hasRequiredExtra)return extra;hasRequiredExtra=1;var e=native$1,t=errors;function r(J){return Buffer$2.isBuffer(J)}function n(J){return typeof J=="string"&&/^([0-9a-f]{2})+$/i.test(J)}function a(J,ce){var oe=J.toJSON();function Z(ie){if(!J(ie))return!1;if(ie.length===ce)return!0;throw t.tfCustomError(oe+"(Length: "+ce+")",oe+"(Length: "+ie.length+")")}return Z.toJSON=function(){return oe},Z}var o=a.bind(null,e.Array),u=a.bind(null,r),p=a.bind(null,n),b=a.bind(null,e.String);function m(J,ce,oe){oe=oe||e.Number;function Z(ie,s){return oe(ie,s)&&ie>J&&ie<ce}return Z.toJSON=function(){return`${oe.toJSON()} between [${J}, ${ce}]`},Z}var y=Math.pow(2,53)-1;function A(J){return typeof J=="number"&&isFinite(J)}function I(J){return J<<24>>24===J}function M(J){return J<<16>>16===J}function C(J){return(J|0)===J}function P(J){return typeof J=="number"&&J>=-y&&J<=y&&Math.floor(J)===J}function B(J){return(J&255)===J}function k(J){return(J&65535)===J}function N(J){return J>>>0===J}function D(J){return typeof J=="number"&&J>=0&&J<=y&&Math.floor(J)===J}var L={ArrayN:o,Buffer:r,BufferN:u,Finite:A,Hex:n,HexN:p,Int8:I,Int16:M,Int32:C,Int53:P,Range:m,StringN:b,UInt8:B,UInt16:k,UInt32:N,UInt53:D};for(var K in L)L[K].toJSON=(function(J){return J}).bind(null,K);return extra=L,extra}var ERRORS=errors,NATIVE=native$1,tfJSON=ERRORS.tfJSON,TfTypeError=ERRORS.TfTypeError,TfPropertyTypeError=ERRORS.TfPropertyTypeError,tfSubError=ERRORS.tfSubError,getValueTypeName=ERRORS.getValueTypeName,TYPES={arrayOf:function e(t,r){t=compile(t),r=r||{};function n(a,o){return!NATIVE.Array(a)||NATIVE.Nil(a)||r.minLength!==void 0&&a.length<r.minLength||r.maxLength!==void 0&&a.length>r.maxLength||r.length!==void 0&&a.length!==r.length?!1:a.every(function(u,p){try{return typeforce$3(t,u,o)}catch(b){throw tfSubError(b,p)}})}return n.toJSON=function(){var a="["+tfJSON(t)+"]";return r.length!==void 0?a+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(a+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),a},n},maybe:function e(t){t=compile(t);function r(n,a){return NATIVE.Nil(n)||t(n,a,e)}return r.toJSON=function(){return"?"+tfJSON(t)},r},map:function e(t,r){t=compile(t),r&&(r=compile(r));function n(a,o){if(!NATIVE.Object(a)||NATIVE.Nil(a))return!1;for(var u in a){try{r&&typeforce$3(r,u,o)}catch(b){throw tfSubError(b,u,"key")}try{var p=a[u];typeforce$3(t,p,o)}catch(b){throw tfSubError(b,u)}}return!0}return r?n.toJSON=function(){return"{"+tfJSON(r)+": "+tfJSON(t)+"}"}:n.toJSON=function(){return"{"+tfJSON(t)+"}"},n},object:function e(t){var r={};for(var n in t)r[n]=compile(t[n]);function a(o,u){if(!NATIVE.Object(o)||NATIVE.Nil(o))return!1;var p;try{for(p in r){var b=r[p],m=o[p];typeforce$3(b,m,u)}}catch(y){throw tfSubError(y,p)}if(u){for(p in o)if(!r[p])throw new TfPropertyTypeError(void 0,p)}return!0}return a.toJSON=function(){return tfJSON(r)},a},anyOf:function e(){var t=[].slice.call(arguments).map(compile);function r(n,a){return t.some(function(o){try{return typeforce$3(o,n,a)}catch{return!1}})}return r.toJSON=function(){return t.map(tfJSON).join("|")},r},allOf:function e(){var t=[].slice.call(arguments).map(compile);function r(n,a){return t.every(function(o){try{return typeforce$3(o,n,a)}catch{return!1}})}return r.toJSON=function(){return t.map(tfJSON).join(" & ")},r},quacksLike:function e(t){function r(n){return t===getValueTypeName(n)}return r.toJSON=function(){return t},r},tuple:function e(){var t=[].slice.call(arguments).map(compile);function r(n,a){return NATIVE.Nil(n)||NATIVE.Nil(n.length)||a&&n.length!==t.length?!1:t.every(function(o,u){try{return typeforce$3(o,n[u],a)}catch(p){throw tfSubError(p,u)}})}return r.toJSON=function(){return"("+t.map(tfJSON).join(", ")+")"},r},value:function e(t){function r(n){return n===t}return r.toJSON=function(){return t},r}};TYPES.oneOf=TYPES.anyOf;function compile(e){if(NATIVE.String(e))return e[0]==="?"?TYPES.maybe(e.slice(1)):NATIVE[e]||TYPES.quacksLike(e);if(e&&NATIVE.Object(e)){if(NATIVE.Array(e)){if(e.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return TYPES.arrayOf(e[0])}return TYPES.object(e)}else if(NATIVE.Function(e))return e;return TYPES.value(e)}function typeforce$3(e,t,r,n){if(NATIVE.Function(e)){if(e(t,r))return!0;throw new TfTypeError(n||e,t)}return typeforce$3(compile(e),t,r)}for(var typeName in NATIVE)typeforce$3[typeName]=NATIVE[typeName];for(typeName in TYPES)typeforce$3[typeName]=TYPES[typeName];var EXTRA=requireExtra();for(typeName in EXTRA)typeforce$3[typeName]=EXTRA[typeName];typeforce$3.compile=compile,typeforce$3.TfTypeError=TfTypeError,typeforce$3.TfPropertyTypeError=TfPropertyTypeError;var typeforce_1=typeforce$3;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.oneOf=e.Null=e.BufferN=e.Function=e.UInt32=e.UInt8=e.tuple=e.maybe=e.Hex=e.Buffer=e.String=e.Boolean=e.Array=e.Number=e.Hash256bit=e.Hash160bit=e.Buffer256bit=e.isTaptree=e.isTapleaf=e.TAPLEAF_VERSION_MASK=e.Satoshi=e.isPoint=e.stacksEqual=e.typeforce=void 0;const t=require$$0$1;e.typeforce=typeforce_1;const r=t.Buffer.alloc(32,0),n=t.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function a(y,A){return y.length!==A.length?!1:y.every((I,M)=>I.equals(A[M]))}e.stacksEqual=a;function o(y){if(!t.Buffer.isBuffer(y)||y.length<33)return!1;const A=y[0],I=y.slice(1,33);if(I.compare(r)===0||I.compare(n)>=0)return!1;if((A===2||A===3)&&y.length===33)return!0;const M=y.slice(33);return M.compare(r)===0||M.compare(n)>=0?!1:A===4&&y.length===65}e.isPoint=o;const u=21*1e14;function p(y){return e.typeforce.UInt53(y)&&y<=u}e.Satoshi=p,e.TAPLEAF_VERSION_MASK=254;function b(y){return!y||!("output"in y)||!t.Buffer.isBuffer(y.output)?!1:y.version!==void 0?(y.version&e.TAPLEAF_VERSION_MASK)===y.version:!0}e.isTapleaf=b;function m(y){return(0,e.Array)(y)?y.length!==2?!1:y.every(A=>m(A)):b(y)}e.isTaptree=m,e.Buffer256bit=e.typeforce.BufferN(32),e.Hash160bit=e.typeforce.BufferN(20),e.Hash256bit=e.typeforce.BufferN(32),e.Number=e.typeforce.Number,e.Array=e.typeforce.Array,e.Boolean=e.typeforce.Boolean,e.String=e.typeforce.String,e.Buffer=e.typeforce.Buffer,e.Hex=e.typeforce.Hex,e.maybe=e.typeforce.maybe,e.tuple=e.typeforce.tuple,e.UInt8=e.typeforce.UInt8,e.UInt32=e.typeforce.UInt32,e.Function=e.typeforce.Function,e.BufferN=e.typeforce.BufferN,e.Null=e.typeforce.Null,e.oneOf=e.typeforce.oneOf})(types$4);var hasRequiredScript_signature;function requireScript_signature(){if(hasRequiredScript_signature)return script_signature;hasRequiredScript_signature=1,Object.defineProperty(script_signature,"__esModule",{value:!0}),script_signature.encode=script_signature.decode=void 0;const e=bip66,t=requireScript(),r=types$4,{typeforce:n}=r,a=Buffer$2.alloc(1,0);function o(m){let y=0;for(;m[y]===0;)++y;return y===m.length?a:(m=m.slice(y),m[0]&128?Buffer$2.concat([a,m],1+m.length):m)}function u(m){m[0]===0&&(m=m.slice(1));const y=Buffer$2.alloc(32,0),A=Math.max(0,32-m.length);return m.copy(y,A),y}function p(m){const y=m.readUInt8(m.length-1);if(!(0,t.isDefinedHashType)(y))throw new Error("Invalid hashType "+y);const A=e.decode(m.slice(0,-1)),I=u(A.r),M=u(A.s);return{signature:Buffer$2.concat([I,M],64),hashType:y}}script_signature.decode=p;function b(m,y){if(n({signature:r.BufferN(64),hashType:r.UInt8},{signature:m,hashType:y}),!(0,t.isDefinedHashType)(y))throw new Error("Invalid hashType "+y);const A=Buffer$2.allocUnsafe(1);A.writeUInt8(y,0);const I=o(m.slice(0,32)),M=o(m.slice(32,64));return Buffer$2.concat([e.encode(I,M),A])}return script_signature.encode=b,script_signature}var hasRequiredScript;function requireScript(){return hasRequiredScript||(hasRequiredScript=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.signature=e.number=e.isCanonicalScriptSignature=e.isDefinedHashType=e.isCanonicalPubKey=e.toStack=e.fromASM=e.toASM=e.decompile=e.compile=e.countNonPushOnlyOPs=e.isPushOnly=e.OPS=void 0;const t=bip66,r=ops;Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return r.OPS}});const n=push_data,a=script_number,o=requireScript_signature(),u=types$4,{typeforce:p}=u,b=r.OPS.OP_RESERVED;function m(Z){return u.Number(Z)&&(Z===r.OPS.OP_0||Z>=r.OPS.OP_1&&Z<=r.OPS.OP_16||Z===r.OPS.OP_1NEGATE)}function y(Z){return u.Buffer(Z)||m(Z)}function A(Z){return u.Array(Z)&&Z.every(y)}e.isPushOnly=A;function I(Z){return Z.length-Z.filter(y).length}e.countNonPushOnlyOPs=I;function M(Z){if(Z.length===0)return r.OPS.OP_0;if(Z.length===1){if(Z[0]>=1&&Z[0]<=16)return b+Z[0];if(Z[0]===129)return r.OPS.OP_1NEGATE}}function C(Z){return Buffer$2.isBuffer(Z)}function P(Z){return u.Array(Z)}function B(Z){return Buffer$2.isBuffer(Z)}function k(Z){if(C(Z))return Z;p(u.Array,Z);const ie=Z.reduce((l,v)=>B(v)?v.length===1&&M(v)!==void 0?l+1:l+n.encodingLength(v.length)+v.length:l+1,0),s=Buffer$2.allocUnsafe(ie);let d=0;if(Z.forEach(l=>{if(B(l)){const v=M(l);if(v!==void 0){s.writeUInt8(v,d),d+=1;return}d+=n.encode(s,l.length,d),l.copy(s,d),d+=l.length}else s.writeUInt8(l,d),d+=1}),d!==s.length)throw new Error("Could not decode chunks");return s}e.compile=k;function N(Z){if(P(Z))return Z;p(u.Buffer,Z);const ie=[];let s=0;for(;s<Z.length;){const d=Z[s];if(d>r.OPS.OP_0&&d<=r.OPS.OP_PUSHDATA4){const l=n.decode(Z,s);if(l===null||(s+=l.size,s+l.number>Z.length))return null;const v=Z.slice(s,s+l.number);s+=l.number;const S=M(v);S!==void 0?ie.push(S):ie.push(v)}else ie.push(d),s+=1}return ie}e.decompile=N;function D(Z){if(C(Z)&&(Z=N(Z)),!Z)throw new Error("Could not convert invalid chunks to ASM");return Z.map(ie=>{if(B(ie)){const s=M(ie);if(s===void 0)return ie.toString("hex");ie=s}return r.REVERSE_OPS[ie]}).join(" ")}e.toASM=D;function L(Z){return p(u.String,Z),k(Z.split(" ").map(ie=>r.OPS[ie]!==void 0?r.OPS[ie]:(p(u.Hex,ie),Buffer$2.from(ie,"hex"))))}e.fromASM=L;function K(Z){return Z=N(Z),p(A,Z),Z.map(ie=>B(ie)?ie:ie===r.OPS.OP_0?Buffer$2.allocUnsafe(0):a.encode(ie-b))}e.toStack=K;function J(Z){return u.isPoint(Z)}e.isCanonicalPubKey=J;function ce(Z){const ie=Z&-129;return ie>0&&ie<4}e.isDefinedHashType=ce;function oe(Z){return!Buffer$2.isBuffer(Z)||!ce(Z[Z.length-1])?!1:t.check(Z.slice(0,-1))}e.isCanonicalScriptSignature=oe,e.number=a,e.signature=o}(script)),script}var lazy$7={};Object.defineProperty(lazy$7,"__esModule",{value:!0}),lazy$7.value=lazy$7.prop=void 0;function prop(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const n=r.call(this);return this[t]=n,n},set(n){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}lazy$7.prop=prop;function value(e){let t;return()=>(t!==void 0||(t=e()),t)}lazy$7.value=value,Object.defineProperty(embed,"__esModule",{value:!0}),embed.p2data=void 0;const networks_1$7=networks,bscript$9=requireScript(),types_1$7=types$4,lazy$6=lazy$7,OPS$6=bscript$9.OPS;function p2data(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,types_1$7.typeforce)({network:types_1$7.typeforce.maybe(types_1$7.typeforce.Object),output:types_1$7.typeforce.maybe(types_1$7.typeforce.Buffer),data:types_1$7.typeforce.maybe(types_1$7.typeforce.arrayOf(types_1$7.typeforce.Buffer))},e);const r={name:"embed",network:e.network||networks_1$7.bitcoin};if(lazy$6.prop(r,"output",()=>{if(e.data)return bscript$9.compile([OPS$6.OP_RETURN].concat(e.data))}),lazy$6.prop(r,"data",()=>{if(e.output)return bscript$9.decompile(e.output).slice(1)}),t.validate&&e.output){const n=bscript$9.decompile(e.output);if(n[0]!==OPS$6.OP_RETURN)throw new TypeError("Output is invalid");if(!n.slice(1).every(types_1$7.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!(0,types_1$7.stacksEqual)(e.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,e)}embed.p2data=p2data;var p2ms$1={};Object.defineProperty(p2ms$1,"__esModule",{value:!0}),p2ms$1.p2ms=void 0;const networks_1$6=networks,bscript$8=requireScript(),types_1$6=types$4,lazy$5=lazy$7,OPS$5=bscript$8.OPS,OP_INT_BASE=OPS$5.OP_RESERVED;function p2ms(e,t){if(!e.input&&!e.output&&!(e.pubkeys&&e.m!==void 0)&&!e.signatures)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{});function r(p){return bscript$8.isCanonicalScriptSignature(p)||(t.allowIncomplete&&p===OPS$5.OP_0)!==void 0}(0,types_1$6.typeforce)({network:types_1$6.typeforce.maybe(types_1$6.typeforce.Object),m:types_1$6.typeforce.maybe(types_1$6.typeforce.Number),n:types_1$6.typeforce.maybe(types_1$6.typeforce.Number),output:types_1$6.typeforce.maybe(types_1$6.typeforce.Buffer),pubkeys:types_1$6.typeforce.maybe(types_1$6.typeforce.arrayOf(types_1$6.isPoint)),signatures:types_1$6.typeforce.maybe(types_1$6.typeforce.arrayOf(r)),input:types_1$6.typeforce.maybe(types_1$6.typeforce.Buffer)},e);const n={network:e.network||networks_1$6.bitcoin};let a=[],o=!1;function u(p){o||(o=!0,a=bscript$8.decompile(p),n.m=a[0]-OP_INT_BASE,n.n=a[a.length-2]-OP_INT_BASE,n.pubkeys=a.slice(1,-2))}if(lazy$5.prop(n,"output",()=>{if(e.m&&n.n&&e.pubkeys)return bscript$8.compile([].concat(OP_INT_BASE+e.m,e.pubkeys,OP_INT_BASE+n.n,OPS$5.OP_CHECKMULTISIG))}),lazy$5.prop(n,"m",()=>{if(n.output)return u(n.output),n.m}),lazy$5.prop(n,"n",()=>{if(n.pubkeys)return n.pubkeys.length}),lazy$5.prop(n,"pubkeys",()=>{if(e.output)return u(e.output),n.pubkeys}),lazy$5.prop(n,"signatures",()=>{if(e.input)return bscript$8.decompile(e.input).slice(1)}),lazy$5.prop(n,"input",()=>{if(e.signatures)return bscript$8.compile([OPS$5.OP_0].concat(e.signatures))}),lazy$5.prop(n,"witness",()=>{if(n.input)return[]}),lazy$5.prop(n,"name",()=>{if(!(!n.m||!n.n))return`p2ms(${n.m} of ${n.n})`}),t.validate){if(e.output){if(u(e.output),!types_1$6.typeforce.Number(a[0]))throw new TypeError("Output is invalid");if(!types_1$6.typeforce.Number(a[a.length-2]))throw new TypeError("Output is invalid");if(a[a.length-1]!==OPS$5.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(n.m<=0||n.n>16||n.m>n.n||n.n!==a.length-3)throw new TypeError("Output is invalid");if(!n.pubkeys.every(p=>(0,types_1$6.isPoint)(p)))throw new TypeError("Output is invalid");if(e.m!==void 0&&e.m!==n.m)throw new TypeError("m mismatch");if(e.n!==void 0&&e.n!==n.n)throw new TypeError("n mismatch");if(e.pubkeys&&!(0,types_1$6.stacksEqual)(e.pubkeys,n.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(e.n!==void 0&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(n.n=e.pubkeys.length,n.n<n.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<n.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>n.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==OPS$5.OP_0)throw new TypeError("Input is invalid");if(n.signatures.length===0||!n.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!(0,types_1$6.stacksEqual)(e.signatures,n.signatures))throw new TypeError("Signature mismatch");if(e.m!==void 0&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(n,e)}p2ms$1.p2ms=p2ms;var p2pk$1={};Object.defineProperty(p2pk$1,"__esModule",{value:!0}),p2pk$1.p2pk=void 0;const networks_1$5=networks,bscript$7=requireScript(),types_1$5=types$4,lazy$4=lazy$7,OPS$4=bscript$7.OPS;function p2pk(e,t){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,types_1$5.typeforce)({network:types_1$5.typeforce.maybe(types_1$5.typeforce.Object),output:types_1$5.typeforce.maybe(types_1$5.typeforce.Buffer),pubkey:types_1$5.typeforce.maybe(types_1$5.isPoint),signature:types_1$5.typeforce.maybe(bscript$7.isCanonicalScriptSignature),input:types_1$5.typeforce.maybe(types_1$5.typeforce.Buffer)},e);const r=lazy$4.value(()=>bscript$7.decompile(e.input)),n={name:"p2pk",network:e.network||networks_1$5.bitcoin};if(lazy$4.prop(n,"output",()=>{if(e.pubkey)return bscript$7.compile([e.pubkey,OPS$4.OP_CHECKSIG])}),lazy$4.prop(n,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),lazy$4.prop(n,"signature",()=>{if(e.input)return r()[0]}),lazy$4.prop(n,"input",()=>{if(e.signature)return bscript$7.compile([e.signature])}),lazy$4.prop(n,"witness",()=>{if(n.input)return[]}),t.validate){if(e.output){if(e.output[e.output.length-1]!==OPS$4.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,types_1$5.isPoint)(n.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(n.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(n.input))throw new TypeError("Signature mismatch");if(e.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!bscript$7.isCanonicalScriptSignature(n.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(n,e)}p2pk$1.p2pk=p2pk;var p2pkh$1={},crypto$1={},sha1={};Object.defineProperty(sha1,"__esModule",{value:!0}),sha1.sha1=void 0;const _md_js_1=_md,utils_js_1=utils$o,SHA1_IV=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),SHA1_W=new Uint32Array(80);class SHA1 extends _md_js_1.HashMD{constructor(){super(64,20,8,!1),this.A=SHA1_IV[0]|0,this.B=SHA1_IV[1]|0,this.C=SHA1_IV[2]|0,this.D=SHA1_IV[3]|0,this.E=SHA1_IV[4]|0}get(){const{A:t,B:r,C:n,D:a,E:o}=this;return[t,r,n,a,o]}set(t,r,n,a,o){this.A=t|0,this.B=r|0,this.C=n|0,this.D=a|0,this.E=o|0}process(t,r){for(let b=0;b<16;b++,r+=4)SHA1_W[b]=t.getUint32(r,!1);for(let b=16;b<80;b++)SHA1_W[b]=(0,utils_js_1.rotl)(SHA1_W[b-3]^SHA1_W[b-8]^SHA1_W[b-14]^SHA1_W[b-16],1);let{A:n,B:a,C:o,D:u,E:p}=this;for(let b=0;b<80;b++){let m,y;b<20?(m=(0,_md_js_1.Chi)(a,o,u),y=1518500249):b<40?(m=a^o^u,y=1859775393):b<60?(m=(0,_md_js_1.Maj)(a,o,u),y=2400959708):(m=a^o^u,y=3395469782);const A=(0,utils_js_1.rotl)(n,5)+m+p+y+SHA1_W[b]|0;p=u,u=o,o=(0,utils_js_1.rotl)(a,30),a=n,n=A}n=n+this.A|0,a=a+this.B|0,o=o+this.C|0,u=u+this.D|0,p=p+this.E|0,this.set(n,a,o,u,p)}roundClean(){SHA1_W.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}sha1.sha1=(0,utils_js_1.wrapConstructor)(()=>new SHA1),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.taggedHash=e.TAGGED_HASH_PREFIXES=e.TAGS=e.hash256=e.hash160=e.sha256=e.sha1=e.ripemd160=void 0;const t=ripemd160,r=sha1,n=sha256$3;function a(y){return Buffer$2.from((0,t.ripemd160)(Uint8Array.from(y)))}e.ripemd160=a;function o(y){return Buffer$2.from((0,r.sha1)(Uint8Array.from(y)))}e.sha1=o;function u(y){return Buffer$2.from((0,n.sha256)(Uint8Array.from(y)))}e.sha256=u;function p(y){return Buffer$2.from((0,t.ripemd160)((0,n.sha256)(Uint8Array.from(y))))}e.hash160=p;function b(y){return Buffer$2.from((0,n.sha256)((0,n.sha256)(Uint8Array.from(y))))}e.hash256=b,e.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],e.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Buffer$2.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Buffer$2.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Buffer$2.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Buffer$2.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Buffer$2.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Buffer$2.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Buffer$2.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Buffer$2.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Buffer$2.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function m(y,A){return u(Buffer$2.concat([e.TAGGED_HASH_PREFIXES[y],A]))}e.taggedHash=m}(crypto$1),Object.defineProperty(p2pkh$1,"__esModule",{value:!0}),p2pkh$1.p2pkh=void 0;const bcrypto$5=crypto$1,networks_1$4=networks,bscript$6=requireScript(),types_1$4=types$4,lazy$3=lazy$7,bs58check$1=bs58check$3,OPS$3=bscript$6.OPS;function p2pkh(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,types_1$4.typeforce)({network:types_1$4.typeforce.maybe(types_1$4.typeforce.Object),address:types_1$4.typeforce.maybe(types_1$4.typeforce.String),hash:types_1$4.typeforce.maybe(types_1$4.typeforce.BufferN(20)),output:types_1$4.typeforce.maybe(types_1$4.typeforce.BufferN(25)),pubkey:types_1$4.typeforce.maybe(types_1$4.isPoint),signature:types_1$4.typeforce.maybe(bscript$6.isCanonicalScriptSignature),input:types_1$4.typeforce.maybe(types_1$4.typeforce.Buffer)},e);const r=lazy$3.value(()=>{const u=Buffer$2.from(bs58check$1.decode(e.address)),p=u.readUInt8(0),b=u.slice(1);return{version:p,hash:b}}),n=lazy$3.value(()=>bscript$6.decompile(e.input)),a=e.network||networks_1$4.bitcoin,o={name:"p2pkh",network:a};if(lazy$3.prop(o,"address",()=>{if(!o.hash)return;const u=Buffer$2.allocUnsafe(21);return u.writeUInt8(a.pubKeyHash,0),o.hash.copy(u,1),bs58check$1.encode(u)}),lazy$3.prop(o,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return r().hash;if(e.pubkey||o.pubkey)return bcrypto$5.hash160(e.pubkey||o.pubkey)}),lazy$3.prop(o,"output",()=>{if(o.hash)return bscript$6.compile([OPS$3.OP_DUP,OPS$3.OP_HASH160,o.hash,OPS$3.OP_EQUALVERIFY,OPS$3.OP_CHECKSIG])}),lazy$3.prop(o,"pubkey",()=>{if(e.input)return n()[1]}),lazy$3.prop(o,"signature",()=>{if(e.input)return n()[0]}),lazy$3.prop(o,"input",()=>{if(e.pubkey&&e.signature)return bscript$6.compile([e.signature,e.pubkey])}),lazy$3.prop(o,"witness",()=>{if(o.input)return[]}),t.validate){let u=Buffer$2.from([]);if(e.address){if(r().version!==a.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");u=r().hash}if(e.hash){if(u.length>0&&!u.equals(e.hash))throw new TypeError("Hash mismatch");u=e.hash}if(e.output){if(e.output.length!==25||e.output[0]!==OPS$3.OP_DUP||e.output[1]!==OPS$3.OP_HASH160||e.output[2]!==20||e.output[23]!==OPS$3.OP_EQUALVERIFY||e.output[24]!==OPS$3.OP_CHECKSIG)throw new TypeError("Output is invalid");const p=e.output.slice(3,23);if(u.length>0&&!u.equals(p))throw new TypeError("Hash mismatch");u=p}if(e.pubkey){const p=bcrypto$5.hash160(e.pubkey);if(u.length>0&&!u.equals(p))throw new TypeError("Hash mismatch");u=p}if(e.input){const p=n();if(p.length!==2)throw new TypeError("Input is invalid");if(!bscript$6.isCanonicalScriptSignature(p[0]))throw new TypeError("Input has invalid signature");if(!(0,types_1$4.isPoint)(p[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(p[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(p[1]))throw new TypeError("Pubkey mismatch");const b=bcrypto$5.hash160(p[1]);if(u.length>0&&!u.equals(b))throw new TypeError("Hash mismatch")}}return Object.assign(o,e)}p2pkh$1.p2pkh=p2pkh;var p2sh$1={};Object.defineProperty(p2sh$1,"__esModule",{value:!0}),p2sh$1.p2sh=void 0;const bcrypto$4=crypto$1,networks_1$3=networks,bscript$5=requireScript(),types_1$3=types$4,lazy$2=lazy$7,bs58check=bs58check$3,OPS$2=bscript$5.OPS;function p2sh(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,types_1$3.typeforce)({network:types_1$3.typeforce.maybe(types_1$3.typeforce.Object),address:types_1$3.typeforce.maybe(types_1$3.typeforce.String),hash:types_1$3.typeforce.maybe(types_1$3.typeforce.BufferN(20)),output:types_1$3.typeforce.maybe(types_1$3.typeforce.BufferN(23)),redeem:types_1$3.typeforce.maybe({network:types_1$3.typeforce.maybe(types_1$3.typeforce.Object),output:types_1$3.typeforce.maybe(types_1$3.typeforce.Buffer),input:types_1$3.typeforce.maybe(types_1$3.typeforce.Buffer),witness:types_1$3.typeforce.maybe(types_1$3.typeforce.arrayOf(types_1$3.typeforce.Buffer))}),input:types_1$3.typeforce.maybe(types_1$3.typeforce.Buffer),witness:types_1$3.typeforce.maybe(types_1$3.typeforce.arrayOf(types_1$3.typeforce.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||networks_1$3.bitcoin);const n={network:r},a=lazy$2.value(()=>{const p=Buffer$2.from(bs58check.decode(e.address)),b=p.readUInt8(0),m=p.slice(1);return{version:b,hash:m}}),o=lazy$2.value(()=>bscript$5.decompile(e.input)),u=lazy$2.value(()=>{const p=o(),b=p[p.length-1];return{network:r,output:b===OPS$2.OP_FALSE?Buffer$2.from([]):b,input:bscript$5.compile(p.slice(0,-1)),witness:e.witness||[]}});if(lazy$2.prop(n,"address",()=>{if(!n.hash)return;const p=Buffer$2.allocUnsafe(21);return p.writeUInt8(n.network.scriptHash,0),n.hash.copy(p,1),bs58check.encode(p)}),lazy$2.prop(n,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return a().hash;if(n.redeem&&n.redeem.output)return bcrypto$4.hash160(n.redeem.output)}),lazy$2.prop(n,"output",()=>{if(n.hash)return bscript$5.compile([OPS$2.OP_HASH160,n.hash,OPS$2.OP_EQUAL])}),lazy$2.prop(n,"redeem",()=>{if(e.input)return u()}),lazy$2.prop(n,"input",()=>{if(!(!e.redeem||!e.redeem.input||!e.redeem.output))return bscript$5.compile([].concat(bscript$5.decompile(e.redeem.input),e.redeem.output))}),lazy$2.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),lazy$2.prop(n,"name",()=>{const p=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&p.push(n.redeem.name),p.join("-")}),t.validate){let p=Buffer$2.from([]);if(e.address){if(a().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(a().hash.length!==20)throw new TypeError("Invalid address");p=a().hash}if(e.hash){if(p.length>0&&!p.equals(e.hash))throw new TypeError("Hash mismatch");p=e.hash}if(e.output){if(e.output.length!==23||e.output[0]!==OPS$2.OP_HASH160||e.output[1]!==20||e.output[22]!==OPS$2.OP_EQUAL)throw new TypeError("Output is invalid");const m=e.output.slice(2,22);if(p.length>0&&!p.equals(m))throw new TypeError("Hash mismatch");p=m}const b=m=>{if(m.output){const y=bscript$5.decompile(m.output);if(!y||y.length<1)throw new TypeError("Redeem.output too short");if(m.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(bscript$5.countNonPushOnlyOPs(y)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const A=bcrypto$4.hash160(m.output);if(p.length>0&&!p.equals(A))throw new TypeError("Hash mismatch");p=A}if(m.input){const y=m.input.length>0,A=m.witness&&m.witness.length>0;if(!y&&!A)throw new TypeError("Empty input");if(y&&A)throw new TypeError("Input and witness provided");if(y){const I=bscript$5.decompile(m.input);if(!bscript$5.isPushOnly(I))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const m=o();if(!m||m.length<1)throw new TypeError("Input too short");if(!Buffer$2.isBuffer(u().output))throw new TypeError("Input is invalid");b(u())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){const m=u();if(e.redeem.output&&!e.redeem.output.equals(m.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(m.input))throw new TypeError("Redeem.input mismatch")}b(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!(0,types_1$3.stacksEqual)(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,e)}p2sh$1.p2sh=p2sh;var p2wpkh$1={},dist={};Object.defineProperty(dist,"__esModule",{value:!0}),dist.bech32m=dist.bech32=void 0;const ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(let e=0;e<ALPHABET.length;e++){const t=ALPHABET.charAt(e);ALPHABET_MAP[t]=e}function polymodStep(e){const t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function prefixChk(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=polymodStep(t)^n>>5}t=polymodStep(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=polymodStep(t)^n&31}return t}function convert$2(e,t,r,n){let a=0,o=0;const u=(1<<r)-1,p=[];for(let b=0;b<e.length;++b)for(a=a<<t|e[b],o+=t;o>=r;)o-=r,p.push(a>>o&u);if(n)o>0&&p.push(a<<r-o&u);else{if(o>=t)return"Excess padding";if(a<<r-o&u)return"Non-zero padding"}return p}function toWords(e){return convert$2(e,8,5,!0)}function fromWordsUnsafe(e){const t=convert$2(e,5,8,!1);if(Array.isArray(t))return t}function fromWords(e){const t=convert$2(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function getLibraryFromEncoding(e){let t;e==="bech32"?t=1:t=734539939;function r(u,p,b){if(b=b||90,u.length+7+p.length>b)throw new TypeError("Exceeds length limit");u=u.toLowerCase();let m=prefixChk(u);if(typeof m=="string")throw new Error(m);let y=u+"1";for(let A=0;A<p.length;++A){const I=p[A];if(I>>5)throw new Error("Non 5-bit word");m=polymodStep(m)^I,y+=ALPHABET.charAt(I)}for(let A=0;A<6;++A)m=polymodStep(m);m^=t;for(let A=0;A<6;++A){const I=m>>(5-A)*5&31;y+=ALPHABET.charAt(I)}return y}function n(u,p){if(p=p||90,u.length<8)return u+" too short";if(u.length>p)return"Exceeds length limit";const b=u.toLowerCase(),m=u.toUpperCase();if(u!==b&&u!==m)return"Mixed-case string "+u;u=b;const y=u.lastIndexOf("1");if(y===-1)return"No separator character for "+u;if(y===0)return"Missing prefix for "+u;const A=u.slice(0,y),I=u.slice(y+1);if(I.length<6)return"Data too short";let M=prefixChk(A);if(typeof M=="string")return M;const C=[];for(let P=0;P<I.length;++P){const B=I.charAt(P),k=ALPHABET_MAP[B];if(k===void 0)return"Unknown character "+B;M=polymodStep(M)^k,!(P+6>=I.length)&&C.push(k)}return M!==t?"Invalid checksum for "+u:{prefix:A,words:C}}function a(u,p){const b=n(u,p);if(typeof b=="object")return b}function o(u,p){const b=n(u,p);if(typeof b=="object")return b;throw new Error(b)}return{decodeUnsafe:a,decode:o,encode:r,toWords,fromWordsUnsafe,fromWords}}dist.bech32=getLibraryFromEncoding("bech32"),dist.bech32m=getLibraryFromEncoding("bech32m"),Object.defineProperty(p2wpkh$1,"__esModule",{value:!0}),p2wpkh$1.p2wpkh=void 0;const bcrypto$3=crypto$1,networks_1$2=networks,bscript$4=requireScript(),types_1$2=types$4,lazy$1=lazy$7,bech32_1$1=dist,OPS$1=bscript$4.OPS,EMPTY_BUFFER$2=Buffer$2.alloc(0);function p2wpkh(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,types_1$2.typeforce)({address:types_1$2.typeforce.maybe(types_1$2.typeforce.String),hash:types_1$2.typeforce.maybe(types_1$2.typeforce.BufferN(20)),input:types_1$2.typeforce.maybe(types_1$2.typeforce.BufferN(0)),network:types_1$2.typeforce.maybe(types_1$2.typeforce.Object),output:types_1$2.typeforce.maybe(types_1$2.typeforce.BufferN(22)),pubkey:types_1$2.typeforce.maybe(types_1$2.isPoint),signature:types_1$2.typeforce.maybe(bscript$4.isCanonicalScriptSignature),witness:types_1$2.typeforce.maybe(types_1$2.typeforce.arrayOf(types_1$2.typeforce.Buffer))},e);const r=lazy$1.value(()=>{const o=bech32_1$1.bech32.decode(e.address),u=o.words.shift(),p=bech32_1$1.bech32.fromWords(o.words);return{version:u,prefix:o.prefix,data:Buffer$2.from(p)}}),n=e.network||networks_1$2.bitcoin,a={name:"p2wpkh",network:n};if(lazy$1.prop(a,"address",()=>{if(!a.hash)return;const o=bech32_1$1.bech32.toWords(a.hash);return o.unshift(0),bech32_1$1.bech32.encode(n.bech32,o)}),lazy$1.prop(a,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return r().data;if(e.pubkey||a.pubkey)return bcrypto$3.hash160(e.pubkey||a.pubkey)}),lazy$1.prop(a,"output",()=>{if(a.hash)return bscript$4.compile([OPS$1.OP_0,a.hash])}),lazy$1.prop(a,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.witness)return e.witness[1]}),lazy$1.prop(a,"signature",()=>{if(e.witness)return e.witness[0]}),lazy$1.prop(a,"input",()=>{if(a.witness)return EMPTY_BUFFER$2}),lazy$1.prop(a,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),t.validate){let o=Buffer$2.from([]);if(e.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");o=r().data}if(e.hash){if(o.length>0&&!o.equals(e.hash))throw new TypeError("Hash mismatch");o=e.hash}if(e.output){if(e.output.length!==22||e.output[0]!==OPS$1.OP_0||e.output[1]!==20)throw new TypeError("Output is invalid");if(o.length>0&&!o.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");o=e.output.slice(2)}if(e.pubkey){const u=bcrypto$3.hash160(e.pubkey);if(o.length>0&&!o.equals(u))throw new TypeError("Hash mismatch");if(o=u,!(0,types_1$2.isPoint)(e.pubkey)||e.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(e.witness.length!==2)throw new TypeError("Witness is invalid");if(!bscript$4.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,types_1$2.isPoint)(e.witness[1])||e.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const u=bcrypto$3.hash160(e.witness[1]);if(o.length>0&&!o.equals(u))throw new TypeError("Hash mismatch")}}return Object.assign(a,e)}p2wpkh$1.p2wpkh=p2wpkh;var p2wsh$1={};Object.defineProperty(p2wsh$1,"__esModule",{value:!0}),p2wsh$1.p2wsh=void 0;const bcrypto$2=crypto$1,networks_1$1=networks,bscript$3=requireScript(),types_1$1=types$4,lazy=lazy$7,bech32_1=dist,OPS=bscript$3.OPS,EMPTY_BUFFER$1=Buffer$2.alloc(0);function chunkHasUncompressedPubkey(e){return!!(Buffer$2.isBuffer(e)&&e.length===65&&e[0]===4&&(0,types_1$1.isPoint)(e))}function p2wsh(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,types_1$1.typeforce)({network:types_1$1.typeforce.maybe(types_1$1.typeforce.Object),address:types_1$1.typeforce.maybe(types_1$1.typeforce.String),hash:types_1$1.typeforce.maybe(types_1$1.typeforce.BufferN(32)),output:types_1$1.typeforce.maybe(types_1$1.typeforce.BufferN(34)),redeem:types_1$1.typeforce.maybe({input:types_1$1.typeforce.maybe(types_1$1.typeforce.Buffer),network:types_1$1.typeforce.maybe(types_1$1.typeforce.Object),output:types_1$1.typeforce.maybe(types_1$1.typeforce.Buffer),witness:types_1$1.typeforce.maybe(types_1$1.typeforce.arrayOf(types_1$1.typeforce.Buffer))}),input:types_1$1.typeforce.maybe(types_1$1.typeforce.BufferN(0)),witness:types_1$1.typeforce.maybe(types_1$1.typeforce.arrayOf(types_1$1.typeforce.Buffer))},e);const r=lazy.value(()=>{const u=bech32_1.bech32.decode(e.address),p=u.words.shift(),b=bech32_1.bech32.fromWords(u.words);return{version:p,prefix:u.prefix,data:Buffer$2.from(b)}}),n=lazy.value(()=>bscript$3.decompile(e.redeem.input));let a=e.network;a||(a=e.redeem&&e.redeem.network||networks_1$1.bitcoin);const o={network:a};if(lazy.prop(o,"address",()=>{if(!o.hash)return;const u=bech32_1.bech32.toWords(o.hash);return u.unshift(0),bech32_1.bech32.encode(a.bech32,u)}),lazy.prop(o,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return r().data;if(o.redeem&&o.redeem.output)return bcrypto$2.sha256(o.redeem.output)}),lazy.prop(o,"output",()=>{if(o.hash)return bscript$3.compile([OPS.OP_0,o.hash])}),lazy.prop(o,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:EMPTY_BUFFER$1,witness:e.witness.slice(0,-1)}}),lazy.prop(o,"input",()=>{if(o.witness)return EMPTY_BUFFER$1}),lazy.prop(o,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const u=bscript$3.toStack(n());return o.redeem=Object.assign({witness:u},e.redeem),o.redeem.input=EMPTY_BUFFER$1,[].concat(u,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),lazy.prop(o,"name",()=>{const u=["p2wsh"];return o.redeem!==void 0&&o.redeem.name!==void 0&&u.push(o.redeem.name),u.join("-")}),t.validate){let u=Buffer$2.from([]);if(e.address){if(r().prefix!==a.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");u=r().data}if(e.hash){if(u.length>0&&!u.equals(e.hash))throw new TypeError("Hash mismatch");u=e.hash}if(e.output){if(e.output.length!==34||e.output[0]!==OPS.OP_0||e.output[1]!==32)throw new TypeError("Output is invalid");const p=e.output.slice(2);if(u.length>0&&!u.equals(p))throw new TypeError("Hash mismatch");u=p}if(e.redeem){if(e.redeem.network&&e.redeem.network!==a)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const p=bscript$3.decompile(e.redeem.output);if(!p||p.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(bscript$3.countNonPushOnlyOPs(p)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const b=bcrypto$2.sha256(e.redeem.output);if(u.length>0&&!u.equals(b))throw new TypeError("Hash mismatch");u=b}if(e.redeem.input&&!bscript$3.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!(0,types_1$1.stacksEqual)(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&n().some(chunkHasUncompressedPubkey)||e.redeem.output&&(bscript$3.decompile(e.redeem.output)||[]).some(chunkHasUncompressedPubkey))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const p=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(p))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(chunkHasUncompressedPubkey)||(bscript$3.decompile(p)||[]).some(chunkHasUncompressedPubkey))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,e)}p2wsh$1.p2wsh=p2wsh;var p2tr={},ecc_lib={};Object.defineProperty(ecc_lib,"__esModule",{value:!0}),ecc_lib.getEccLib=ecc_lib.initEccLib=void 0;const _ECCLIB_CACHE={};function initEccLib(e){e?e!==_ECCLIB_CACHE.eccLib&&(verifyEcc(e),_ECCLIB_CACHE.eccLib=e):_ECCLIB_CACHE.eccLib=e}ecc_lib.initEccLib=initEccLib;function getEccLib(){if(!_ECCLIB_CACHE.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return _ECCLIB_CACHE.eccLib}ecc_lib.getEccLib=getEccLib;const h=e=>Buffer$2.from(e,"hex");function verifyEcc(e){assert(typeof e.isXOnlyPoint=="function"),assert(e.isXOnlyPoint(h("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),assert(e.isXOnlyPoint(h("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),assert(e.isXOnlyPoint(h("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),assert(e.isXOnlyPoint(h("0000000000000000000000000000000000000000000000000000000000000001"))),assert(!e.isXOnlyPoint(h("0000000000000000000000000000000000000000000000000000000000000000"))),assert(!e.isXOnlyPoint(h("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),assert(typeof e.xOnlyPointAddTweak=="function"),tweakAddVectors.forEach(t=>{const r=e.xOnlyPointAddTweak(h(t.pubkey),h(t.tweak));t.result===null?assert(r===null):(assert(r!==null),assert(r.parity===t.parity),assert(Buffer$2.from(r.xOnlyPubkey).equals(h(t.result))))})}function assert(e){if(!e)throw new Error("ecc library invalid")}const tweakAddVectors=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}];var bip341={},bufferutils={},Buffer=safeBufferExports.Buffer,MAX_SAFE_INTEGER$1=9007199254740991;function checkUInt53$1(e){if(e<0||e>MAX_SAFE_INTEGER$1||e%1!==0)throw new RangeError("value out of range")}function encode$g(e,t,r){if(checkUInt53$1(e),t||(t=Buffer.allocUnsafe(encodingLength$1(e))),!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),e<253?(t.writeUInt8(e,r),encode$g.bytes=1):e<=65535?(t.writeUInt8(253,r),t.writeUInt16LE(e,r+1),encode$g.bytes=3):e<=4294967295?(t.writeUInt8(254,r),t.writeUInt32LE(e,r+1),encode$g.bytes=5):(t.writeUInt8(255,r),t.writeUInt32LE(e>>>0,r+1),t.writeUInt32LE(e/4294967296|0,r+5),encode$g.bytes=9),t}function decode$e(e,t){if(!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");t||(t=0);var r=e.readUInt8(t);if(r<253)return decode$e.bytes=1,r;if(r===253)return decode$e.bytes=3,e.readUInt16LE(t+1);if(r===254)return decode$e.bytes=5,e.readUInt32LE(t+1);decode$e.bytes=9;var n=e.readUInt32LE(t+1),a=e.readUInt32LE(t+5),o=a*4294967296+n;return checkUInt53$1(o),o}function encodingLength$1(e){return checkUInt53$1(e),e<253?1:e<=65535?3:e<=4294967295?5:9}var varuintBitcoin={encode:encode$g,decode:decode$e,encodingLength:encodingLength$1};Object.defineProperty(bufferutils,"__esModule",{value:!0}),bufferutils.BufferReader=bufferutils.BufferWriter=bufferutils.cloneBuffer=bufferutils.reverseBuffer=bufferutils.writeUInt64LE=bufferutils.readUInt64LE=bufferutils.varuint=void 0;const types$2=types$4,{typeforce:typeforce$2}=types$2,varuint$7=varuintBitcoin;bufferutils.varuint=varuint$7;function verifuint$1(e,t){if(typeof e!="number")throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function readUInt64LE$1(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,verifuint$1(n+r,9007199254740991),n+r}bufferutils.readUInt64LE=readUInt64LE$1;function writeUInt64LE$1(e,t,r){return verifuint$1(t,9007199254740991),e.writeInt32LE(t&-1,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}bufferutils.writeUInt64LE=writeUInt64LE$1;function reverseBuffer$1(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e}bufferutils.reverseBuffer=reverseBuffer$1;function cloneBuffer(e){const t=Buffer$2.allocUnsafe(e.length);return e.copy(t),t}bufferutils.cloneBuffer=cloneBuffer;class BufferWriter{static withCapacity(t){return new BufferWriter(Buffer$2.alloc(t))}constructor(t,r=0){this.buffer=t,this.offset=r,typeforce$2(types$2.tuple(types$2.Buffer,types$2.UInt32),[t,r])}writeUInt8(t){this.offset=this.buffer.writeUInt8(t,this.offset)}writeInt32(t){this.offset=this.buffer.writeInt32LE(t,this.offset)}writeUInt32(t){this.offset=this.buffer.writeUInt32LE(t,this.offset)}writeUInt64(t){this.offset=writeUInt64LE$1(this.buffer,t,this.offset)}writeVarInt(t){varuint$7.encode(t,this.buffer,this.offset),this.offset+=varuint$7.encode.bytes}writeSlice(t){if(this.buffer.length<this.offset+t.length)throw new Error("Cannot write slice out of bounds");this.offset+=t.copy(this.buffer,this.offset)}writeVarSlice(t){this.writeVarInt(t.length),this.writeSlice(t)}writeVector(t){this.writeVarInt(t.length),t.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}bufferutils.BufferWriter=BufferWriter;class BufferReader{constructor(t,r=0){this.buffer=t,this.offset=r,typeforce$2(types$2.tuple(types$2.Buffer,types$2.UInt32),[t,r])}readUInt8(){const t=this.buffer.readUInt8(this.offset);return this.offset++,t}readInt32(){const t=this.buffer.readInt32LE(this.offset);return this.offset+=4,t}readUInt32(){const t=this.buffer.readUInt32LE(this.offset);return this.offset+=4,t}readUInt64(){const t=readUInt64LE$1(this.buffer,this.offset);return this.offset+=8,t}readVarInt(){const t=varuint$7.decode(this.buffer,this.offset);return this.offset+=varuint$7.decode.bytes,t}readSlice(t){if(this.buffer.length<this.offset+t)throw new Error("Cannot read slice out of bounds");const r=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const t=this.readVarInt(),r=[];for(let n=0;n<t;n++)r.push(this.readVarSlice());return r}}bufferutils.BufferReader=BufferReader,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tweakKey=e.tapTweakHash=e.tapleafHash=e.findScriptPath=e.toHashTree=e.rootHashFromPath=e.MAX_TAPTREE_DEPTH=e.LEAF_VERSION_TAPSCRIPT=void 0;const t=require$$0$1,r=ecc_lib,n=crypto$1,a=bufferutils,o=types$4;e.LEAF_VERSION_TAPSCRIPT=192,e.MAX_TAPTREE_DEPTH=128;const u=P=>"left"in P&&"right"in P;function p(P,B){if(P.length<33)throw new TypeError(`The control-block length is too small. Got ${P.length}, expected min 33.`);const k=(P.length-33)/32;let N=B;for(let D=0;D<k;D++){const L=P.slice(33+32*D,65+32*D);N.compare(L)<0?N=M(N,L):N=M(L,N)}return N}e.rootHashFromPath=p;function b(P){if((0,o.isTapleaf)(P))return{hash:y(P)};const B=[b(P[0]),b(P[1])];B.sort((D,L)=>D.hash.compare(L.hash));const[k,N]=B;return{hash:M(k.hash,N.hash),left:k,right:N}}e.toHashTree=b;function m(P,B){if(u(P)){const k=m(P.left,B);if(k!==void 0)return[...k,P.right.hash];const N=m(P.right,B);if(N!==void 0)return[...N,P.left.hash]}else if(P.hash.equals(B))return[]}e.findScriptPath=m;function y(P){const B=P.version||e.LEAF_VERSION_TAPSCRIPT;return n.taggedHash("TapLeaf",t.Buffer.concat([t.Buffer.from([B]),C(P.output)]))}e.tapleafHash=y;function A(P,B){return n.taggedHash("TapTweak",t.Buffer.concat(B?[P,B]:[P]))}e.tapTweakHash=A;function I(P,B){if(!t.Buffer.isBuffer(P)||P.length!==32||B&&B.length!==32)return null;const k=A(P,B),N=(0,r.getEccLib)().xOnlyPointAddTweak(P,k);return!N||N.xOnlyPubkey===null?null:{parity:N.parity,x:t.Buffer.from(N.xOnlyPubkey)}}e.tweakKey=I;function M(P,B){return n.taggedHash("TapBranch",t.Buffer.concat([P,B]))}function C(P){const B=a.varuint.encodingLength(P.length),k=t.Buffer.allocUnsafe(B);return a.varuint.encode(P.length,k),t.Buffer.concat([k,P])}}(bip341);var hasRequiredP2tr;function requireP2tr(){if(hasRequiredP2tr)return p2tr;hasRequiredP2tr=1,Object.defineProperty(p2tr,"__esModule",{value:!0}),p2tr.p2tr=void 0;const e=require$$0$1,t=networks,r=requireScript(),n=types$4,a=ecc_lib,o=bip341,u=lazy$7,p=dist,b=requireAddress(),m=r.OPS,y=1,A=80;function I(M,C){if(!M.address&&!M.output&&!M.pubkey&&!M.internalPubkey&&!(M.witness&&M.witness.length>1))throw new TypeError("Not enough data");C=Object.assign({validate:!0},C||{}),(0,n.typeforce)({address:n.typeforce.maybe(n.typeforce.String),input:n.typeforce.maybe(n.typeforce.BufferN(0)),network:n.typeforce.maybe(n.typeforce.Object),output:n.typeforce.maybe(n.typeforce.BufferN(34)),internalPubkey:n.typeforce.maybe(n.typeforce.BufferN(32)),hash:n.typeforce.maybe(n.typeforce.BufferN(32)),pubkey:n.typeforce.maybe(n.typeforce.BufferN(32)),signature:n.typeforce.maybe(n.typeforce.anyOf(n.typeforce.BufferN(64),n.typeforce.BufferN(65))),witness:n.typeforce.maybe(n.typeforce.arrayOf(n.typeforce.Buffer)),scriptTree:n.typeforce.maybe(n.isTaptree),redeem:n.typeforce.maybe({output:n.typeforce.maybe(n.typeforce.Buffer),redeemVersion:n.typeforce.maybe(n.typeforce.Number),witness:n.typeforce.maybe(n.typeforce.arrayOf(n.typeforce.Buffer))}),redeemVersion:n.typeforce.maybe(n.typeforce.Number)},M);const P=u.value(()=>(0,b.fromBech32)(M.address)),B=u.value(()=>{if(!(!M.witness||!M.witness.length))return M.witness.length>=2&&M.witness[M.witness.length-1][0]===A?M.witness.slice(0,-1):M.witness.slice()}),k=u.value(()=>{if(M.scriptTree)return(0,o.toHashTree)(M.scriptTree);if(M.hash)return{hash:M.hash}}),N=M.network||t.bitcoin,D={name:"p2tr",network:N};if(u.prop(D,"address",()=>{if(!D.pubkey)return;const L=p.bech32m.toWords(D.pubkey);return L.unshift(y),p.bech32m.encode(N.bech32,L)}),u.prop(D,"hash",()=>{const L=k();if(L)return L.hash;const K=B();if(K&&K.length>1){const J=K[K.length-1],ce=J[0]&n.TAPLEAF_VERSION_MASK,oe=K[K.length-2],Z=(0,o.tapleafHash)({output:oe,version:ce});return(0,o.rootHashFromPath)(J,Z)}return null}),u.prop(D,"output",()=>{if(D.pubkey)return r.compile([m.OP_1,D.pubkey])}),u.prop(D,"redeemVersion",()=>M.redeemVersion?M.redeemVersion:M.redeem&&M.redeem.redeemVersion!==void 0&&M.redeem.redeemVersion!==null?M.redeem.redeemVersion:o.LEAF_VERSION_TAPSCRIPT),u.prop(D,"redeem",()=>{const L=B();if(!(!L||L.length<2))return{output:L[L.length-2],witness:L.slice(0,-2),redeemVersion:L[L.length-1][0]&n.TAPLEAF_VERSION_MASK}}),u.prop(D,"pubkey",()=>{if(M.pubkey)return M.pubkey;if(M.output)return M.output.slice(2);if(M.address)return P().data;if(D.internalPubkey){const L=(0,o.tweakKey)(D.internalPubkey,D.hash);if(L)return L.x}}),u.prop(D,"internalPubkey",()=>{if(M.internalPubkey)return M.internalPubkey;const L=B();if(L&&L.length>1)return L[L.length-1].slice(1,33)}),u.prop(D,"signature",()=>{if(M.signature)return M.signature;const L=B();if(!(!L||L.length!==1))return L[0]}),u.prop(D,"witness",()=>{if(M.witness)return M.witness;const L=k();if(L&&M.redeem&&M.redeem.output&&M.internalPubkey){const K=(0,o.tapleafHash)({output:M.redeem.output,version:D.redeemVersion}),J=(0,o.findScriptPath)(L,K);if(!J)return;const ce=(0,o.tweakKey)(M.internalPubkey,L.hash);if(!ce)return;const oe=e.Buffer.concat([e.Buffer.from([D.redeemVersion|ce.parity]),M.internalPubkey].concat(J));return[M.redeem.output,oe]}if(M.signature)return[M.signature]}),C.validate){let L=e.Buffer.from([]);if(M.address){if(N&&N.bech32!==P().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(P().version!==y)throw new TypeError("Invalid address version");if(P().data.length!==32)throw new TypeError("Invalid address data");L=P().data}if(M.pubkey){if(L.length>0&&!L.equals(M.pubkey))throw new TypeError("Pubkey mismatch");L=M.pubkey}if(M.output){if(M.output.length!==34||M.output[0]!==m.OP_1||M.output[1]!==32)throw new TypeError("Output is invalid");if(L.length>0&&!L.equals(M.output.slice(2)))throw new TypeError("Pubkey mismatch");L=M.output.slice(2)}if(M.internalPubkey){const ce=(0,o.tweakKey)(M.internalPubkey,D.hash);if(L.length>0&&!L.equals(ce.x))throw new TypeError("Pubkey mismatch");L=ce.x}if(L&&L.length&&!(0,a.getEccLib)().isXOnlyPoint(L))throw new TypeError("Invalid pubkey for p2tr");const K=k();if(M.hash&&K&&!M.hash.equals(K.hash))throw new TypeError("Hash mismatch");if(M.redeem&&M.redeem.output&&K){const ce=(0,o.tapleafHash)({output:M.redeem.output,version:D.redeemVersion});if(!(0,o.findScriptPath)(K,ce))throw new TypeError("Redeem script not in tree")}const J=B();if(M.redeem&&D.redeem){if(M.redeem.redeemVersion&&M.redeem.redeemVersion!==D.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(M.redeem.output){if(r.decompile(M.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(D.redeem.output&&!M.redeem.output.equals(D.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(M.redeem.witness&&D.redeem.witness&&!(0,n.stacksEqual)(M.redeem.witness,D.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(J&&J.length)if(J.length===1){if(M.signature&&!M.signature.equals(J[0]))throw new TypeError("Signature mismatch")}else{const ce=J[J.length-1];if(ce.length<33)throw new TypeError(`The control-block length is too small. Got ${ce.length}, expected min 33.`);if((ce.length-33)%32!==0)throw new TypeError(`The control-block length of ${ce.length} is incorrect!`);const oe=(ce.length-33)/32;if(oe>128)throw new TypeError(`The script path is too long. Got ${oe}, expected max 128.`);const Z=ce.slice(1,33);if(M.internalPubkey&&!M.internalPubkey.equals(Z))throw new TypeError("Internal pubkey mismatch");if(!(0,a.getEccLib)().isXOnlyPoint(Z))throw new TypeError("Invalid internalPubkey for p2tr witness");const ie=ce[0]&n.TAPLEAF_VERSION_MASK,s=J[J.length-2],d=(0,o.tapleafHash)({output:s,version:ie}),l=(0,o.rootHashFromPath)(ce,d),v=(0,o.tweakKey)(Z,l);if(!v)throw new TypeError("Invalid outputKey for p2tr witness");if(L.length&&!L.equals(v.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(v.parity!==(ce[0]&1))throw new Error("Incorrect parity")}}return Object.assign(D,M)}return p2tr.p2tr=I,p2tr}var hasRequiredPayments;function requirePayments(){return hasRequiredPayments||(hasRequiredPayments=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.p2tr=e.p2wsh=e.p2wpkh=e.p2sh=e.p2pkh=e.p2pk=e.p2ms=e.embed=void 0;const t=embed;Object.defineProperty(e,"embed",{enumerable:!0,get:function(){return t.p2data}});const r=p2ms$1;Object.defineProperty(e,"p2ms",{enumerable:!0,get:function(){return r.p2ms}});const n=p2pk$1;Object.defineProperty(e,"p2pk",{enumerable:!0,get:function(){return n.p2pk}});const a=p2pkh$1;Object.defineProperty(e,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});const o=p2sh$1;Object.defineProperty(e,"p2sh",{enumerable:!0,get:function(){return o.p2sh}});const u=p2wpkh$1;Object.defineProperty(e,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});const p=p2wsh$1;Object.defineProperty(e,"p2wsh",{enumerable:!0,get:function(){return p.p2wsh}});const b=requireP2tr();Object.defineProperty(e,"p2tr",{enumerable:!0,get:function(){return b.p2tr}})}(payments$2)),payments$2}var hasRequiredAddress;function requireAddress(){if(hasRequiredAddress)return address;hasRequiredAddress=1,Object.defineProperty(address,"__esModule",{value:!0}),address.toOutputScript=address.fromOutputScript=address.toBech32=address.toBase58Check=address.fromBech32=address.fromBase58Check=void 0;const e=networks,t=requirePayments(),r=requireScript(),n=types$4,a=dist,o=bs58check$3,u=40,p=2,b=16,m=2,y=80,A="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function I(D,L){const K=D.slice(2);if(K.length<p||K.length>u)throw new TypeError("Invalid program length for segwit address");const J=D[0]-y;if(J<m||J>b)throw new TypeError("Invalid version for segwit address");if(D[1]!==K.length)throw new TypeError("Invalid script for segwit address");return console.warn(A),B(K,J,L.bech32)}function M(D){const L=Buffer$2.from(o.decode(D));if(L.length<21)throw new TypeError(D+" is too short");if(L.length>21)throw new TypeError(D+" is too long");const K=L.readUInt8(0),J=L.slice(1);return{version:K,hash:J}}address.fromBase58Check=M;function C(D){let L,K;try{L=a.bech32.decode(D)}catch{}if(L){if(K=L.words[0],K!==0)throw new TypeError(D+" uses wrong encoding")}else if(L=a.bech32m.decode(D),K=L.words[0],K===0)throw new TypeError(D+" uses wrong encoding");const J=a.bech32.fromWords(L.words.slice(1));return{version:K,prefix:L.prefix,data:Buffer$2.from(J)}}address.fromBech32=C;function P(D,L){(0,n.typeforce)((0,n.tuple)(n.Hash160bit,n.UInt8),arguments);const K=Buffer$2.allocUnsafe(21);return K.writeUInt8(L,0),D.copy(K,1),o.encode(K)}address.toBase58Check=P;function B(D,L,K){const J=a.bech32.toWords(D);return J.unshift(L),L===0?a.bech32.encode(K,J):a.bech32m.encode(K,J)}address.toBech32=B;function k(D,L){L=L||e.bitcoin;try{return t.p2pkh({output:D,network:L}).address}catch{}try{return t.p2sh({output:D,network:L}).address}catch{}try{return t.p2wpkh({output:D,network:L}).address}catch{}try{return t.p2wsh({output:D,network:L}).address}catch{}try{return t.p2tr({output:D,network:L}).address}catch{}try{return I(D,L)}catch{}throw new Error(r.toASM(D)+" has no matching Address")}address.fromOutputScript=k;function N(D,L){L=L||e.bitcoin;let K,J;try{K=M(D)}catch{}if(K){if(K.version===L.pubKeyHash)return t.p2pkh({hash:K.hash}).output;if(K.version===L.scriptHash)return t.p2sh({hash:K.hash}).output}else{try{J=C(D)}catch{}if(J){if(J.prefix!==L.bech32)throw new Error(D+" has an invalid prefix");if(J.version===0){if(J.data.length===20)return t.p2wpkh({hash:J.data}).output;if(J.data.length===32)return t.p2wsh({hash:J.data}).output}else if(J.version===1){if(J.data.length===32)return t.p2tr({pubkey:J.data}).output}else if(J.version>=m&&J.version<=b&&J.data.length>=p&&J.data.length<=u)return console.warn(A),r.compile([J.version+y,J.data])}}throw new Error(D+" has no matching Script")}return address.toOutputScript=N,address}var block={},merkle={};Object.defineProperty(merkle,"__esModule",{value:!0}),merkle.fastMerkleRoot=void 0;function fastMerkleRoot(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if(typeof t!="function")throw TypeError("Expected digest Function");let r=e.length;const n=e.concat();for(;r>1;){let a=0;for(let o=0;o<r;o+=2,++a){const u=n[o],p=o+1===r?u:n[o+1],b=Buffer$2.concat([u,p]);n[a]=t(b)}r=a}return n[0]}merkle.fastMerkleRoot=fastMerkleRoot;var transaction={};Object.defineProperty(transaction,"__esModule",{value:!0}),transaction.Transaction=void 0;const bufferutils_1$2=bufferutils,bcrypto$1=crypto$1,bscript$2=requireScript(),script_1=requireScript(),types$1=types$4,{typeforce:typeforce$1}=types$1;function varSliceSize(e){const t=e.length;return bufferutils_1$2.varuint.encodingLength(t)+t}function vectorSize(e){const t=e.length;return bufferutils_1$2.varuint.encodingLength(t)+e.reduce((r,n)=>r+varSliceSize(n),0)}const EMPTY_BUFFER=Buffer$2.allocUnsafe(0),EMPTY_WITNESS=[],ZERO=Buffer$2.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),ONE=Buffer$2.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),VALUE_UINT64_MAX=Buffer$2.from("ffffffffffffffff","hex"),BLANK_OUTPUT={script:EMPTY_BUFFER,valueBuffer:VALUE_UINT64_MAX};function isOutput(e){return e.value!==void 0}class Transaction{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(t,r){const n=new bufferutils_1$2.BufferReader(t),a=new Transaction;a.version=n.readInt32();const o=n.readUInt8(),u=n.readUInt8();let p=!1;o===Transaction.ADVANCED_TRANSACTION_MARKER&&u===Transaction.ADVANCED_TRANSACTION_FLAG?p=!0:n.offset-=2;const b=n.readVarInt();for(let y=0;y<b;++y)a.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:EMPTY_WITNESS});const m=n.readVarInt();for(let y=0;y<m;++y)a.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(p){for(let y=0;y<b;++y)a.ins[y].witness=n.readVector();if(!a.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(a.locktime=n.readUInt32(),r)return a;if(n.offset!==t.length)throw new Error("Transaction has unexpected data");return a}static fromHex(t){return Transaction.fromBuffer(Buffer$2.from(t,"hex"),!1)}static isCoinbaseHash(t){typeforce$1(types$1.Hash256bit,t);for(let r=0;r<32;++r)if(t[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&Transaction.isCoinbaseHash(this.ins[0].hash)}addInput(t,r,n,a){return typeforce$1(types$1.tuple(types$1.Hash256bit,types$1.UInt32,types$1.maybe(types$1.UInt32),types$1.maybe(types$1.Buffer)),arguments),types$1.Null(n)&&(n=Transaction.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:r,script:a||EMPTY_BUFFER,sequence:n,witness:EMPTY_WITNESS})-1}addOutput(t,r){return typeforce$1(types$1.tuple(types$1.Buffer,types$1.Satoshi),arguments),this.outs.push({script:t,value:r})-1}hasWitnesses(){return this.ins.some(t=>t.witness.length!==0)}weight(){const t=this.byteLength(!1),r=this.byteLength(!0);return t*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(t=!0){const r=t&&this.hasWitnesses();return(r?10:8)+bufferutils_1$2.varuint.encodingLength(this.ins.length)+bufferutils_1$2.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,a)=>n+40+varSliceSize(a.script),0)+this.outs.reduce((n,a)=>n+8+varSliceSize(a.script),0)+(r?this.ins.reduce((n,a)=>n+vectorSize(a.witness),0):0)}clone(){const t=new Transaction;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),t.outs=this.outs.map(r=>({script:r.script,value:r.value})),t}hashForSignature(t,r,n){if(typeforce$1(types$1.tuple(types$1.UInt32,types$1.Buffer,types$1.Number),arguments),t>=this.ins.length)return ONE;const a=bscript$2.compile(bscript$2.decompile(r).filter(p=>p!==script_1.OPS.OP_CODESEPARATOR)),o=this.clone();if((n&31)===Transaction.SIGHASH_NONE)o.outs=[],o.ins.forEach((p,b)=>{b!==t&&(p.sequence=0)});else if((n&31)===Transaction.SIGHASH_SINGLE){if(t>=this.outs.length)return ONE;o.outs.length=t+1;for(let p=0;p<t;p++)o.outs[p]=BLANK_OUTPUT;o.ins.forEach((p,b)=>{b!==t&&(p.sequence=0)})}n&Transaction.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[t]],o.ins[0].script=a):(o.ins.forEach(p=>{p.script=EMPTY_BUFFER}),o.ins[t].script=a);const u=Buffer$2.allocUnsafe(o.byteLength(!1)+4);return u.writeInt32LE(n,u.length-4),o.__toBuffer(u,0,!1),bcrypto$1.hash256(u)}hashForWitnessV1(t,r,n,a,o,u){if(typeforce$1(types$1.tuple(types$1.UInt32,typeforce$1.arrayOf(types$1.Buffer),typeforce$1.arrayOf(types$1.Satoshi),types$1.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const p=a===Transaction.SIGHASH_DEFAULT?Transaction.SIGHASH_ALL:a&Transaction.SIGHASH_OUTPUT_MASK,b=(a&Transaction.SIGHASH_INPUT_MASK)===Transaction.SIGHASH_ANYONECANPAY,m=p===Transaction.SIGHASH_NONE,y=p===Transaction.SIGHASH_SINGLE;let A=EMPTY_BUFFER,I=EMPTY_BUFFER,M=EMPTY_BUFFER,C=EMPTY_BUFFER,P=EMPTY_BUFFER;if(!b){let D=bufferutils_1$2.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(L=>{D.writeSlice(L.hash),D.writeUInt32(L.index)}),A=bcrypto$1.sha256(D.end()),D=bufferutils_1$2.BufferWriter.withCapacity(8*this.ins.length),n.forEach(L=>D.writeUInt64(L)),I=bcrypto$1.sha256(D.end()),D=bufferutils_1$2.BufferWriter.withCapacity(r.map(varSliceSize).reduce((L,K)=>L+K)),r.forEach(L=>D.writeVarSlice(L)),M=bcrypto$1.sha256(D.end()),D=bufferutils_1$2.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(L=>D.writeUInt32(L.sequence)),C=bcrypto$1.sha256(D.end())}if(m||y){if(y&&t<this.outs.length){const D=this.outs[t],L=bufferutils_1$2.BufferWriter.withCapacity(8+varSliceSize(D.script));L.writeUInt64(D.value),L.writeVarSlice(D.script),P=bcrypto$1.sha256(L.end())}}else{const D=this.outs.map(K=>8+varSliceSize(K.script)).reduce((K,J)=>K+J),L=bufferutils_1$2.BufferWriter.withCapacity(D);this.outs.forEach(K=>{L.writeUInt64(K.value),L.writeVarSlice(K.script)}),P=bcrypto$1.sha256(L.end())}const B=(o?2:0)+(u?1:0),k=174-(b?49:0)-(m?32:0)+(u?32:0)+(o?37:0),N=bufferutils_1$2.BufferWriter.withCapacity(k);if(N.writeUInt8(a),N.writeInt32(this.version),N.writeUInt32(this.locktime),N.writeSlice(A),N.writeSlice(I),N.writeSlice(M),N.writeSlice(C),m||y||N.writeSlice(P),N.writeUInt8(B),b){const D=this.ins[t];N.writeSlice(D.hash),N.writeUInt32(D.index),N.writeUInt64(n[t]),N.writeVarSlice(r[t]),N.writeUInt32(D.sequence)}else N.writeUInt32(t);if(u){const D=bufferutils_1$2.BufferWriter.withCapacity(varSliceSize(u));D.writeVarSlice(u),N.writeSlice(bcrypto$1.sha256(D.end()))}return y&&N.writeSlice(P),o&&(N.writeSlice(o),N.writeUInt8(0),N.writeUInt32(4294967295)),bcrypto$1.taggedHash("TapSighash",Buffer$2.concat([Buffer$2.from([0]),N.end()]))}hashForWitnessV0(t,r,n,a){typeforce$1(types$1.tuple(types$1.UInt32,types$1.Buffer,types$1.Satoshi,types$1.UInt32),arguments);let o=Buffer$2.from([]),u,p=ZERO,b=ZERO,m=ZERO;if(a&Transaction.SIGHASH_ANYONECANPAY||(o=Buffer$2.allocUnsafe(36*this.ins.length),u=new bufferutils_1$2.BufferWriter(o,0),this.ins.forEach(A=>{u.writeSlice(A.hash),u.writeUInt32(A.index)}),b=bcrypto$1.hash256(o)),!(a&Transaction.SIGHASH_ANYONECANPAY)&&(a&31)!==Transaction.SIGHASH_SINGLE&&(a&31)!==Transaction.SIGHASH_NONE&&(o=Buffer$2.allocUnsafe(4*this.ins.length),u=new bufferutils_1$2.BufferWriter(o,0),this.ins.forEach(A=>{u.writeUInt32(A.sequence)}),m=bcrypto$1.hash256(o)),(a&31)!==Transaction.SIGHASH_SINGLE&&(a&31)!==Transaction.SIGHASH_NONE){const A=this.outs.reduce((I,M)=>I+8+varSliceSize(M.script),0);o=Buffer$2.allocUnsafe(A),u=new bufferutils_1$2.BufferWriter(o,0),this.outs.forEach(I=>{u.writeUInt64(I.value),u.writeVarSlice(I.script)}),p=bcrypto$1.hash256(o)}else if((a&31)===Transaction.SIGHASH_SINGLE&&t<this.outs.length){const A=this.outs[t];o=Buffer$2.allocUnsafe(8+varSliceSize(A.script)),u=new bufferutils_1$2.BufferWriter(o,0),u.writeUInt64(A.value),u.writeVarSlice(A.script),p=bcrypto$1.hash256(o)}o=Buffer$2.allocUnsafe(156+varSliceSize(r)),u=new bufferutils_1$2.BufferWriter(o,0);const y=this.ins[t];return u.writeInt32(this.version),u.writeSlice(b),u.writeSlice(m),u.writeSlice(y.hash),u.writeUInt32(y.index),u.writeVarSlice(r),u.writeUInt64(n),u.writeUInt32(y.sequence),u.writeSlice(p),u.writeUInt32(this.locktime),u.writeUInt32(a),bcrypto$1.hash256(o)}getHash(t){return t&&this.isCoinbase()?Buffer$2.alloc(32,0):bcrypto$1.hash256(this.__toBuffer(void 0,void 0,t))}getId(){return(0,bufferutils_1$2.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(t,r){return this.__toBuffer(t,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(t,r){typeforce$1(types$1.tuple(types$1.Number,types$1.Buffer),arguments),this.ins[t].script=r}setWitness(t,r){typeforce$1(types$1.tuple(types$1.Number,[types$1.Buffer]),arguments),this.ins[t].witness=r}__toBuffer(t,r,n=!1){t||(t=Buffer$2.allocUnsafe(this.byteLength(n)));const a=new bufferutils_1$2.BufferWriter(t,r||0);a.writeInt32(this.version);const o=n&&this.hasWitnesses();return o&&(a.writeUInt8(Transaction.ADVANCED_TRANSACTION_MARKER),a.writeUInt8(Transaction.ADVANCED_TRANSACTION_FLAG)),a.writeVarInt(this.ins.length),this.ins.forEach(u=>{a.writeSlice(u.hash),a.writeUInt32(u.index),a.writeVarSlice(u.script),a.writeUInt32(u.sequence)}),a.writeVarInt(this.outs.length),this.outs.forEach(u=>{isOutput(u)?a.writeUInt64(u.value):a.writeSlice(u.valueBuffer),a.writeVarSlice(u.script)}),o&&this.ins.forEach(u=>{a.writeVector(u.witness)}),a.writeUInt32(this.locktime),r!==void 0?t.slice(r,a.offset):t}}transaction.Transaction=Transaction,Transaction.DEFAULT_SEQUENCE=4294967295,Transaction.SIGHASH_DEFAULT=0,Transaction.SIGHASH_ALL=1,Transaction.SIGHASH_NONE=2,Transaction.SIGHASH_SINGLE=3,Transaction.SIGHASH_ANYONECANPAY=128,Transaction.SIGHASH_OUTPUT_MASK=3,Transaction.SIGHASH_INPUT_MASK=128,Transaction.ADVANCED_TRANSACTION_MARKER=0,Transaction.ADVANCED_TRANSACTION_FLAG=1,Object.defineProperty(block,"__esModule",{value:!0}),block.Block=void 0;const bufferutils_1$1=bufferutils,bcrypto=crypto$1,merkle_1=merkle,transaction_1$3=transaction,types=types$4,{typeforce}=types,errorMerkleNoTxes=new TypeError("Cannot compute merkle root for zero transactions"),errorWitnessNotSegwit=new TypeError("Cannot compute witness commit for non-segwit block");class Block{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");const r=new bufferutils_1$1.BufferReader(t),n=new Block;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),t.length===80)return n;const a=()=>{const p=transaction_1$3.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=p.byteLength(),p},o=r.readVarInt();n.transactions=[];for(let p=0;p<o;++p){const b=a();n.transactions.push(b)}const u=n.getWitnessCommit();return u&&(n.witnessCommit=u),n}static fromHex(t){return Block.fromBuffer(Buffer$2.from(t,"hex"))}static calculateTarget(t){const r=((t&4278190080)>>24)-3,n=t&8388607,a=Buffer$2.alloc(32,0);return a.writeUIntBE(n,29-r,3),a}static calculateMerkleRoot(t,r){if(typeforce([{getHash:types.Function}],t),t.length===0)throw errorMerkleNoTxes;if(r&&!txesHaveWitnessCommit(t))throw errorWitnessNotSegwit;const n=t.map(o=>o.getHash(r)),a=(0,merkle_1.fastMerkleRoot)(n,bcrypto.hash256);return r?bcrypto.hash256(Buffer$2.concat([a,t[0].ins[0].witness[0]])):a}getWitnessCommit(){if(!txesHaveWitnessCommit(this.transactions))return null;const t=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer$2.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(t.length===0)return null;const r=t[t.length-1];return r instanceof Buffer$2&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer$2&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return anyTxHasWitness(this.transactions)}weight(){const t=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return t*3+r}byteLength(t,r=!0){return t||!this.transactions?80:80+bufferutils_1$1.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,a)=>n+a.byteLength(r),0)}getHash(){return bcrypto.hash256(this.toBuffer(!0))}getId(){return(0,bufferutils_1$1.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const t=new Date(0);return t.setUTCSeconds(this.timestamp),t}toBuffer(t){const r=Buffer$2.allocUnsafe(this.byteLength(t)),n=new bufferutils_1$1.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),t||!this.transactions||(bufferutils_1$1.varuint.encode(this.transactions.length,r,n.offset),n.offset+=bufferutils_1$1.varuint.encode.bytes,this.transactions.forEach(a=>{const o=a.byteLength();a.toBuffer(r,n.offset),n.offset+=o})),r}toHex(t){return this.toBuffer(t).toString("hex")}checkTxRoots(){const t=this.hasWitnessCommit();return!t&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(t?this.__checkWitnessCommit():!0)}checkProofOfWork(){const t=(0,bufferutils_1$1.reverseBuffer)(this.getHash()),r=Block.calculateTarget(this.bits);return t.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw errorMerkleNoTxes;const t=Block.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(t)===0}__checkWitnessCommit(){if(!this.transactions)throw errorMerkleNoTxes;if(!this.hasWitnessCommit())throw errorWitnessNotSegwit;const t=Block.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(t)===0}}block.Block=Block;function txesHaveWitnessCommit(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}function anyTxHasWitness(e){return e instanceof Array&&e.some(t=>typeof t=="object"&&t.ins instanceof Array&&t.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}var psbt$1={},psbt={},combiner={},parser={},fromBuffer={},converter={},typeFields={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(e.GlobalTypes||(e.GlobalTypes={})),e.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(e.InputTypes||(e.InputTypes={})),e.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(e.OutputTypes||(e.OutputTypes={})),e.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]})(typeFields);var globalXpub$1={};Object.defineProperty(globalXpub$1,"__esModule",{value:!0});const typeFields_1$g=typeFields,range$2=e=>[...Array(e).keys()];function decode$d(e){if(e.key[0]!==typeFields_1$g.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(e.key.length!==79||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const n of range$2(e.value.length/4-1)){const a=e.value.readUInt32LE(n*4+4),o=!!(a&2147483648),u=a&2147483647;r.path+="/"+u.toString(10)+(o?"'":"")}return r}globalXpub$1.decode=decode$d;function encode$f(e){const t=Buffer$2.from([typeFields_1$g.GlobalTypes.GLOBAL_XPUB]),r=Buffer$2.concat([t,e.extendedPubkey]),n=e.path.split("/"),a=Buffer$2.allocUnsafe(n.length*4);e.masterFingerprint.copy(a,0);let o=4;return n.slice(1).forEach(u=>{const p=u.slice(-1)==="'";let b=2147483647&parseInt(p?u.slice(0,-1):u,10);p&&(b+=2147483648),a.writeUInt32LE(b,o),o+=4}),{key:r,value:a}}globalXpub$1.encode=encode$f,globalXpub$1.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function check$c(e){const t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return Buffer$2.isBuffer(t)&&t.length===78&&[2,3].indexOf(t[45])>-1&&Buffer$2.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}globalXpub$1.check=check$c;function canAddToArray$3(e,t,r){const n=t.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),e.filter(a=>a.extendedPubkey.equals(t.extendedPubkey)).length===0)}globalXpub$1.canAddToArray=canAddToArray$3;var unsignedTx$1={};Object.defineProperty(unsignedTx$1,"__esModule",{value:!0});const typeFields_1$f=typeFields;function encode$e(e){return{key:Buffer$2.from([typeFields_1$f.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}unsignedTx$1.encode=encode$e;var finalScriptSig$1={};Object.defineProperty(finalScriptSig$1,"__esModule",{value:!0});const typeFields_1$e=typeFields;function decode$c(e){if(e.key[0]!==typeFields_1$e.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value}finalScriptSig$1.decode=decode$c;function encode$d(e){return{key:Buffer$2.from([typeFields_1$e.InputTypes.FINAL_SCRIPTSIG]),value:e}}finalScriptSig$1.encode=encode$d,finalScriptSig$1.expected="Buffer";function check$b(e){return Buffer$2.isBuffer(e)}finalScriptSig$1.check=check$b;function canAdd$8(e,t){return!!e&&!!t&&e.finalScriptSig===void 0}finalScriptSig$1.canAdd=canAdd$8;var finalScriptWitness$1={};Object.defineProperty(finalScriptWitness$1,"__esModule",{value:!0});const typeFields_1$d=typeFields;function decode$b(e){if(e.key[0]!==typeFields_1$d.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value}finalScriptWitness$1.decode=decode$b;function encode$c(e){return{key:Buffer$2.from([typeFields_1$d.InputTypes.FINAL_SCRIPTWITNESS]),value:e}}finalScriptWitness$1.encode=encode$c,finalScriptWitness$1.expected="Buffer";function check$a(e){return Buffer$2.isBuffer(e)}finalScriptWitness$1.check=check$a;function canAdd$7(e,t){return!!e&&!!t&&e.finalScriptWitness===void 0}finalScriptWitness$1.canAdd=canAdd$7;var nonWitnessUtxo$1={};Object.defineProperty(nonWitnessUtxo$1,"__esModule",{value:!0});const typeFields_1$c=typeFields;function decode$a(e){if(e.key[0]!==typeFields_1$c.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value}nonWitnessUtxo$1.decode=decode$a;function encode$b(e){return{key:Buffer$2.from([typeFields_1$c.InputTypes.NON_WITNESS_UTXO]),value:e}}nonWitnessUtxo$1.encode=encode$b,nonWitnessUtxo$1.expected="Buffer";function check$9(e){return Buffer$2.isBuffer(e)}nonWitnessUtxo$1.check=check$9;function canAdd$6(e,t){return!!e&&!!t&&e.nonWitnessUtxo===void 0}nonWitnessUtxo$1.canAdd=canAdd$6;var partialSig$1={};Object.defineProperty(partialSig$1,"__esModule",{value:!0});const typeFields_1$b=typeFields;function decode$9(e){if(e.key[0]!==typeFields_1$b.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(!(e.key.length===34||e.key.length===66)||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}}partialSig$1.decode=decode$9;function encode$a(e){const t=Buffer$2.from([typeFields_1$b.InputTypes.PARTIAL_SIG]);return{key:Buffer$2.concat([t,e.pubkey]),value:e.signature}}partialSig$1.encode=encode$a,partialSig$1.expected="{ pubkey: Buffer; signature: Buffer; }";function check$8(e){return Buffer$2.isBuffer(e.pubkey)&&Buffer$2.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&isDerSigWithSighash(e.signature)}partialSig$1.check=check$8;function isDerSigWithSighash(e){if(!Buffer$2.isBuffer(e)||e.length<9||e[0]!==48||e.length!==e[1]+3||e[2]!==2)return!1;const t=e[3];if(t>33||t<1||e[3+t+1]!==2)return!1;const r=e[3+t+2];return!(r>33||r<1||e.length!==3+t+2+r+2)}function canAddToArray$2(e,t,r){const n=t.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),e.filter(a=>a.pubkey.equals(t.pubkey)).length===0)}partialSig$1.canAddToArray=canAddToArray$2;var porCommitment$1={};Object.defineProperty(porCommitment$1,"__esModule",{value:!0});const typeFields_1$a=typeFields;function decode$8(e){if(e.key[0]!==typeFields_1$a.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")}porCommitment$1.decode=decode$8;function encode$9(e){return{key:Buffer$2.from([typeFields_1$a.InputTypes.POR_COMMITMENT]),value:Buffer$2.from(e,"utf8")}}porCommitment$1.encode=encode$9,porCommitment$1.expected="string";function check$7(e){return typeof e=="string"}porCommitment$1.check=check$7;function canAdd$5(e,t){return!!e&&!!t&&e.porCommitment===void 0}porCommitment$1.canAdd=canAdd$5;var sighashType$1={};Object.defineProperty(sighashType$1,"__esModule",{value:!0});const typeFields_1$9=typeFields;function decode$7(e){if(e.key[0]!==typeFields_1$9.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)}sighashType$1.decode=decode$7;function encode$8(e){const t=Buffer$2.from([typeFields_1$9.InputTypes.SIGHASH_TYPE]),r=Buffer$2.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}}sighashType$1.encode=encode$8,sighashType$1.expected="number";function check$6(e){return typeof e=="number"}sighashType$1.check=check$6;function canAdd$4(e,t){return!!e&&!!t&&e.sighashType===void 0}sighashType$1.canAdd=canAdd$4;var tapKeySig$1={};Object.defineProperty(tapKeySig$1,"__esModule",{value:!0});const typeFields_1$8=typeFields;function decode$6(e){if(e.key[0]!==typeFields_1$8.InputTypes.TAP_KEY_SIG||e.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!check$5(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value}tapKeySig$1.decode=decode$6;function encode$7(e){return{key:Buffer$2.from([typeFields_1$8.InputTypes.TAP_KEY_SIG]),value:e}}tapKeySig$1.encode=encode$7,tapKeySig$1.expected="Buffer";function check$5(e){return Buffer$2.isBuffer(e)&&(e.length===64||e.length===65)}tapKeySig$1.check=check$5;function canAdd$3(e,t){return!!e&&!!t&&e.tapKeySig===void 0}tapKeySig$1.canAdd=canAdd$3;var tapLeafScript$1={};Object.defineProperty(tapLeafScript$1,"__esModule",{value:!0});const typeFields_1$7=typeFields;function decode$5(e){if(e.key[0]!==typeFields_1$7.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));const t=e.value[e.value.length-1];if((e.key[1]&254)!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));const r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}}tapLeafScript$1.decode=decode$5;function encode$6(e){const t=Buffer$2.from([typeFields_1$7.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer$2.from([e.leafVersion]);return{key:Buffer$2.concat([t,e.controlBlock]),value:Buffer$2.concat([e.script,r])}}tapLeafScript$1.encode=encode$6,tapLeafScript$1.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function check$4(e){return Buffer$2.isBuffer(e.controlBlock)&&(e.controlBlock.length-1)%32===0&&(e.controlBlock[0]&254)===e.leafVersion&&Buffer$2.isBuffer(e.script)}tapLeafScript$1.check=check$4;function canAddToArray$1(e,t,r){const n=t.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),e.filter(a=>a.controlBlock.equals(t.controlBlock)).length===0)}tapLeafScript$1.canAddToArray=canAddToArray$1;var tapMerkleRoot$1={};Object.defineProperty(tapMerkleRoot$1,"__esModule",{value:!0});const typeFields_1$6=typeFields;function decode$4(e){if(e.key[0]!==typeFields_1$6.InputTypes.TAP_MERKLE_ROOT||e.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!check$3(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value}tapMerkleRoot$1.decode=decode$4;function encode$5(e){return{key:Buffer$2.from([typeFields_1$6.InputTypes.TAP_MERKLE_ROOT]),value:e}}tapMerkleRoot$1.encode=encode$5,tapMerkleRoot$1.expected="Buffer";function check$3(e){return Buffer$2.isBuffer(e)&&e.length===32}tapMerkleRoot$1.check=check$3;function canAdd$2(e,t){return!!e&&!!t&&e.tapMerkleRoot===void 0}tapMerkleRoot$1.canAdd=canAdd$2;var tapScriptSig$1={};Object.defineProperty(tapScriptSig$1,"__esModule",{value:!0});const typeFields_1$5=typeFields;function decode$3(e){if(e.key[0]!==typeFields_1$5.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(e.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(e.value.length!==64&&e.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));const t=e.key.slice(1,33),r=e.key.slice(33);return{pubkey:t,leafHash:r,signature:e.value}}tapScriptSig$1.decode=decode$3;function encode$4(e){const t=Buffer$2.from([typeFields_1$5.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer$2.concat([t,e.pubkey,e.leafHash]),value:e.signature}}tapScriptSig$1.encode=encode$4,tapScriptSig$1.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function check$2(e){return Buffer$2.isBuffer(e.pubkey)&&Buffer$2.isBuffer(e.leafHash)&&Buffer$2.isBuffer(e.signature)&&e.pubkey.length===32&&e.leafHash.length===32&&(e.signature.length===64||e.signature.length===65)}tapScriptSig$1.check=check$2;function canAddToArray(e,t,r){const n=t.pubkey.toString("hex")+t.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),e.filter(a=>a.pubkey.equals(t.pubkey)&&a.leafHash.equals(t.leafHash)).length===0)}tapScriptSig$1.canAddToArray=canAddToArray;var witnessUtxo$1={},tools={},varint={};Object.defineProperty(varint,"__esModule",{value:!0});const MAX_SAFE_INTEGER=9007199254740991;function checkUInt53(e){if(e<0||e>MAX_SAFE_INTEGER||e%1!==0)throw new RangeError("value out of range")}function encode$3(e,t,r){if(checkUInt53(e),t||(t=Buffer$2.allocUnsafe(encodingLength(e))),!Buffer$2.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),e<253?(t.writeUInt8(e,r),Object.assign(encode$3,{bytes:1})):e<=65535?(t.writeUInt8(253,r),t.writeUInt16LE(e,r+1),Object.assign(encode$3,{bytes:3})):e<=4294967295?(t.writeUInt8(254,r),t.writeUInt32LE(e,r+1),Object.assign(encode$3,{bytes:5})):(t.writeUInt8(255,r),t.writeUInt32LE(e>>>0,r+1),t.writeUInt32LE(e/4294967296|0,r+5),Object.assign(encode$3,{bytes:9})),t}varint.encode=encode$3;function decode$2(e,t){if(!Buffer$2.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");t||(t=0);const r=e.readUInt8(t);if(r<253)return Object.assign(decode$2,{bytes:1}),r;if(r===253)return Object.assign(decode$2,{bytes:3}),e.readUInt16LE(t+1);if(r===254)return Object.assign(decode$2,{bytes:5}),e.readUInt32LE(t+1);{Object.assign(decode$2,{bytes:9});const n=e.readUInt32LE(t+1),a=e.readUInt32LE(t+5)*4294967296+n;return checkUInt53(a),a}}varint.decode=decode$2;function encodingLength(e){return checkUInt53(e),e<253?1:e<=65535?3:e<=4294967295?5:9}varint.encodingLength=encodingLength,Object.defineProperty(tools,"__esModule",{value:!0});const varuint$6=varint;tools.range=e=>[...Array(e).keys()];function reverseBuffer(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e}tools.reverseBuffer=reverseBuffer;function keyValsToBuffer(e){const t=e.map(keyValToBuffer);return t.push(Buffer$2.from([0])),Buffer$2.concat(t)}tools.keyValsToBuffer=keyValsToBuffer;function keyValToBuffer(e){const t=e.key.length,r=e.value.length,n=varuint$6.encodingLength(t),a=varuint$6.encodingLength(r),o=Buffer$2.allocUnsafe(n+t+a+r);return varuint$6.encode(t,o,0),e.key.copy(o,n),varuint$6.encode(r,o,n+t),e.value.copy(o,n+t+a),o}tools.keyValToBuffer=keyValToBuffer;function verifuint(e,t){if(typeof e!="number")throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function readUInt64LE(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,verifuint(n+r,9007199254740991),n+r}tools.readUInt64LE=readUInt64LE;function writeUInt64LE(e,t,r){return verifuint(t,9007199254740991),e.writeInt32LE(t&-1,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}tools.writeUInt64LE=writeUInt64LE,Object.defineProperty(witnessUtxo$1,"__esModule",{value:!0});const typeFields_1$4=typeFields,tools_1$2=tools,varuint$5=varint;function decode$1(e){if(e.key[0]!==typeFields_1$4.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));const t=tools_1$2.readUInt64LE(e.value,0);let r=8;const n=varuint$5.decode(e.value,r);r+=varuint$5.encodingLength(n);const a=e.value.slice(r);if(a.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:a,value:t}}witnessUtxo$1.decode=decode$1;function encode$2(e){const{script:t,value:r}=e,n=varuint$5.encodingLength(t.length),a=Buffer$2.allocUnsafe(8+n+t.length);return tools_1$2.writeUInt64LE(a,r,0),varuint$5.encode(t.length,a,8),t.copy(a,8+n),{key:Buffer$2.from([typeFields_1$4.InputTypes.WITNESS_UTXO]),value:a}}witnessUtxo$1.encode=encode$2,witnessUtxo$1.expected="{ script: Buffer; value: number; }";function check$1(e){return Buffer$2.isBuffer(e.script)&&typeof e.value=="number"}witnessUtxo$1.check=check$1;function canAdd$1(e,t){return!!e&&!!t&&e.witnessUtxo===void 0}witnessUtxo$1.canAdd=canAdd$1;var tapTree$1={};Object.defineProperty(tapTree$1,"__esModule",{value:!0});const typeFields_1$3=typeFields,varuint$4=varint;function decode(e){if(e.key[0]!==typeFields_1$3.OutputTypes.TAP_TREE||e.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0;const r=[];for(;t<e.value.length;){const n=e.value[t++],a=e.value[t++],o=varuint$4.decode(e.value,t);t+=varuint$4.encodingLength(o),r.push({depth:n,leafVersion:a,script:e.value.slice(t,t+o)}),t+=o}return{leaves:r}}tapTree$1.decode=decode;function encode$1(e){const t=Buffer$2.from([typeFields_1$3.OutputTypes.TAP_TREE]),r=[].concat(...e.leaves.map(n=>[Buffer$2.of(n.depth,n.leafVersion),varuint$4.encode(n.script.length),n.script]));return{key:t,value:Buffer$2.concat(r)}}tapTree$1.encode=encode$1,tapTree$1.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function check(e){return Array.isArray(e.leaves)&&e.leaves.every(t=>t.depth>=0&&t.depth<=128&&(t.leafVersion&254)===t.leafVersion&&Buffer$2.isBuffer(t.script))}tapTree$1.check=check;function canAdd(e,t){return!!e&&!!t&&e.tapTree===void 0}tapTree$1.canAdd=canAdd;var bip32Derivation$2={};Object.defineProperty(bip32Derivation$2,"__esModule",{value:!0});const range$1=e=>[...Array(e).keys()],isValidDERKey=e=>e.length===33&&[2,3].includes(e[0])||e.length===65&&e[0]===4;function makeConverter$4(e,t=isValidDERKey){function r(p){if(p.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+p.key.toString("hex"));const b=p.key.slice(1);if(!t(b))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+p.key.toString("hex"));if(p.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const m={masterFingerprint:p.value.slice(0,4),pubkey:b,path:"m"};for(const y of range$1(p.value.length/4-1)){const A=p.value.readUInt32LE(y*4+4),I=!!(A&2147483648),M=A&2147483647;m.path+="/"+M.toString(10)+(I?"'":"")}return m}function n(p){const b=Buffer$2.from([e]),m=Buffer$2.concat([b,p.pubkey]),y=p.path.split("/"),A=Buffer$2.allocUnsafe(y.length*4);p.masterFingerprint.copy(A,0);let I=4;return y.slice(1).forEach(M=>{const C=M.slice(-1)==="'";let P=2147483647&parseInt(C?M.slice(0,-1):M,10);C&&(P+=2147483648),A.writeUInt32LE(P,I),I+=4}),{key:m,value:A}}const a="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function o(p){return Buffer$2.isBuffer(p.pubkey)&&Buffer$2.isBuffer(p.masterFingerprint)&&typeof p.path=="string"&&t(p.pubkey)&&p.masterFingerprint.length===4}function u(p,b,m){const y=b.pubkey.toString("hex");return m.has(y)?!1:(m.add(y),p.filter(A=>A.pubkey.equals(b.pubkey)).length===0)}return{decode:r,encode:n,check:o,expected:a,canAddToArray:u}}bip32Derivation$2.makeConverter=makeConverter$4;var checkPubkey$1={};Object.defineProperty(checkPubkey$1,"__esModule",{value:!0});function makeChecker(e){return t;function t(r){let n;if(e.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}checkPubkey$1.makeChecker=makeChecker;var redeemScript$1={};Object.defineProperty(redeemScript$1,"__esModule",{value:!0});function makeConverter$3(e){function t(u){if(u.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+u.key.toString("hex"));return u.value}function r(u){return{key:Buffer$2.from([e]),value:u}}const n="Buffer";function a(u){return Buffer$2.isBuffer(u)}function o(u,p){return!!u&&!!p&&u.redeemScript===void 0}return{decode:t,encode:r,check:a,expected:n,canAdd:o}}redeemScript$1.makeConverter=makeConverter$3;var tapBip32Derivation$1={};Object.defineProperty(tapBip32Derivation$1,"__esModule",{value:!0});const varuint$3=varint,bip32Derivation$1=bip32Derivation$2,isValidBIP340Key=e=>e.length===32;function makeConverter$2(e){const t=bip32Derivation$1.makeConverter(e,isValidBIP340Key);function r(u){const p=varuint$3.decode(u.value),b=varuint$3.encodingLength(p),m=t.decode({key:u.key,value:u.value.slice(b+p*32)}),y=new Array(p);for(let A=0,I=b;A<p;A++,I+=32)y[A]=u.value.slice(I,I+32);return Object.assign({},m,{leafHashes:y})}function n(u){const p=t.encode(u),b=varuint$3.encodingLength(u.leafHashes.length),m=Buffer$2.allocUnsafe(b);varuint$3.encode(u.leafHashes.length,m);const y=Buffer$2.concat([m,...u.leafHashes,p.value]);return Object.assign({},p,{value:y})}const a="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function o(u){return Array.isArray(u.leafHashes)&&u.leafHashes.every(p=>Buffer$2.isBuffer(p)&&p.length===32)&&t.check(u)}return{decode:r,encode:n,check:o,expected:a,canAddToArray:t.canAddToArray}}tapBip32Derivation$1.makeConverter=makeConverter$2;var tapInternalKey$1={};Object.defineProperty(tapInternalKey$1,"__esModule",{value:!0});function makeConverter$1(e){function t(u){if(u.key[0]!==e||u.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+u.key.toString("hex"));if(u.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return u.value}function r(u){return{key:Buffer$2.from([e]),value:u}}const n="Buffer";function a(u){return Buffer$2.isBuffer(u)&&u.length===32}function o(u,p){return!!u&&!!p&&u.tapInternalKey===void 0}return{decode:t,encode:r,check:a,expected:n,canAdd:o}}tapInternalKey$1.makeConverter=makeConverter$1;var witnessScript$1={};Object.defineProperty(witnessScript$1,"__esModule",{value:!0});function makeConverter(e){function t(u){if(u.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+u.key.toString("hex"));return u.value}function r(u){return{key:Buffer$2.from([e]),value:u}}const n="Buffer";function a(u){return Buffer$2.isBuffer(u)}function o(u,p){return!!u&&!!p&&u.witnessScript===void 0}return{decode:t,encode:r,check:a,expected:n,canAdd:o}}witnessScript$1.makeConverter=makeConverter,Object.defineProperty(converter,"__esModule",{value:!0});const typeFields_1$2=typeFields,globalXpub=globalXpub$1,unsignedTx=unsignedTx$1,finalScriptSig=finalScriptSig$1,finalScriptWitness=finalScriptWitness$1,nonWitnessUtxo=nonWitnessUtxo$1,partialSig=partialSig$1,porCommitment=porCommitment$1,sighashType=sighashType$1,tapKeySig=tapKeySig$1,tapLeafScript=tapLeafScript$1,tapMerkleRoot=tapMerkleRoot$1,tapScriptSig=tapScriptSig$1,witnessUtxo=witnessUtxo$1,tapTree=tapTree$1,bip32Derivation=bip32Derivation$2,checkPubkey=checkPubkey$1,redeemScript=redeemScript$1,tapBip32Derivation=tapBip32Derivation$1,tapInternalKey=tapInternalKey$1,witnessScript=witnessScript$1,globals={unsignedTx,globalXpub,checkPubkey:checkPubkey.makeChecker([])};converter.globals=globals;const inputs={nonWitnessUtxo,partialSig,sighashType,finalScriptSig,finalScriptWitness,porCommitment,witnessUtxo,bip32Derivation:bip32Derivation.makeConverter(typeFields_1$2.InputTypes.BIP32_DERIVATION),redeemScript:redeemScript.makeConverter(typeFields_1$2.InputTypes.REDEEM_SCRIPT),witnessScript:witnessScript.makeConverter(typeFields_1$2.InputTypes.WITNESS_SCRIPT),checkPubkey:checkPubkey.makeChecker([typeFields_1$2.InputTypes.PARTIAL_SIG,typeFields_1$2.InputTypes.BIP32_DERIVATION]),tapKeySig,tapScriptSig,tapLeafScript,tapBip32Derivation:tapBip32Derivation.makeConverter(typeFields_1$2.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:tapInternalKey.makeConverter(typeFields_1$2.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot};converter.inputs=inputs;const outputs={bip32Derivation:bip32Derivation.makeConverter(typeFields_1$2.OutputTypes.BIP32_DERIVATION),redeemScript:redeemScript.makeConverter(typeFields_1$2.OutputTypes.REDEEM_SCRIPT),witnessScript:witnessScript.makeConverter(typeFields_1$2.OutputTypes.WITNESS_SCRIPT),checkPubkey:checkPubkey.makeChecker([typeFields_1$2.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:tapBip32Derivation.makeConverter(typeFields_1$2.OutputTypes.TAP_BIP32_DERIVATION),tapTree,tapInternalKey:tapInternalKey.makeConverter(typeFields_1$2.OutputTypes.TAP_INTERNAL_KEY)};converter.outputs=outputs,Object.defineProperty(fromBuffer,"__esModule",{value:!0});const convert$1=converter,tools_1$1=tools,varuint$2=varint,typeFields_1$1=typeFields;function psbtFromBuffer(e,t){let r=0;function n(){const B=varuint$2.decode(e,r);r+=varuint$2.encodingLength(B);const k=e.slice(r,r+B);return r+=B,k}function a(){const B=e.readUInt32BE(r);return r+=4,B}function o(){const B=e.readUInt8(r);return r+=1,B}function u(){const B=n(),k=n();return{key:B,value:k}}function p(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const B=e.readUInt8(r)===0;return B&&r++,B}if(a()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(o()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");const b=[],m={};for(;!p();){const B=u(),k=B.key.toString("hex");if(m[k])throw new Error("Format Error: Keys must be unique for global keymap: key "+k);m[k]=1,b.push(B)}const y=b.filter(B=>B.key[0]===typeFields_1$1.GlobalTypes.UNSIGNED_TX);if(y.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const A=t(y[0].value),{inputCount:I,outputCount:M}=A.getInputOutputCounts(),C=[],P=[];for(const B of tools_1$1.range(I)){const k={},N=[];for(;!p();){const D=u(),L=D.key.toString("hex");if(k[L])throw new Error("Format Error: Keys must be unique for each input: input index "+B+" key "+L);k[L]=1,N.push(D)}C.push(N)}for(const B of tools_1$1.range(M)){const k={},N=[];for(;!p();){const D=u(),L=D.key.toString("hex");if(k[L])throw new Error("Format Error: Keys must be unique for each output: output index "+B+" key "+L);k[L]=1,N.push(D)}P.push(N)}return psbtFromKeyVals(A,{globalMapKeyVals:b,inputKeyVals:C,outputKeyVals:P})}fromBuffer.psbtFromBuffer=psbtFromBuffer;function checkKeyBuffer(e,t,r){if(!t.equals(Buffer$2.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}fromBuffer.checkKeyBuffer=checkKeyBuffer;function psbtFromKeyVals(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){const a={unsignedTx:e};let o=0;for(const y of t)switch(y.key[0]){case typeFields_1$1.GlobalTypes.UNSIGNED_TX:if(checkKeyBuffer("global",y.key,typeFields_1$1.GlobalTypes.UNSIGNED_TX),o>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case typeFields_1$1.GlobalTypes.GLOBAL_XPUB:a.globalXpub===void 0&&(a.globalXpub=[]),a.globalXpub.push(convert$1.globals.globalXpub.decode(y));break;default:a.unknownKeyVals||(a.unknownKeyVals=[]),a.unknownKeyVals.push(y)}const u=r.length,p=n.length,b=[],m=[];for(const y of tools_1$1.range(u)){const A={};for(const I of r[y])switch(convert$1.inputs.checkPubkey(I),I.key[0]){case typeFields_1$1.InputTypes.NON_WITNESS_UTXO:if(checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.NON_WITNESS_UTXO),A.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");A.nonWitnessUtxo=convert$1.inputs.nonWitnessUtxo.decode(I);break;case typeFields_1$1.InputTypes.WITNESS_UTXO:if(checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.WITNESS_UTXO),A.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");A.witnessUtxo=convert$1.inputs.witnessUtxo.decode(I);break;case typeFields_1$1.InputTypes.PARTIAL_SIG:A.partialSig===void 0&&(A.partialSig=[]),A.partialSig.push(convert$1.inputs.partialSig.decode(I));break;case typeFields_1$1.InputTypes.SIGHASH_TYPE:if(checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.SIGHASH_TYPE),A.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");A.sighashType=convert$1.inputs.sighashType.decode(I);break;case typeFields_1$1.InputTypes.REDEEM_SCRIPT:if(checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.REDEEM_SCRIPT),A.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");A.redeemScript=convert$1.inputs.redeemScript.decode(I);break;case typeFields_1$1.InputTypes.WITNESS_SCRIPT:if(checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.WITNESS_SCRIPT),A.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");A.witnessScript=convert$1.inputs.witnessScript.decode(I);break;case typeFields_1$1.InputTypes.BIP32_DERIVATION:A.bip32Derivation===void 0&&(A.bip32Derivation=[]),A.bip32Derivation.push(convert$1.inputs.bip32Derivation.decode(I));break;case typeFields_1$1.InputTypes.FINAL_SCRIPTSIG:checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.FINAL_SCRIPTSIG),A.finalScriptSig=convert$1.inputs.finalScriptSig.decode(I);break;case typeFields_1$1.InputTypes.FINAL_SCRIPTWITNESS:checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.FINAL_SCRIPTWITNESS),A.finalScriptWitness=convert$1.inputs.finalScriptWitness.decode(I);break;case typeFields_1$1.InputTypes.POR_COMMITMENT:checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.POR_COMMITMENT),A.porCommitment=convert$1.inputs.porCommitment.decode(I);break;case typeFields_1$1.InputTypes.TAP_KEY_SIG:checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.TAP_KEY_SIG),A.tapKeySig=convert$1.inputs.tapKeySig.decode(I);break;case typeFields_1$1.InputTypes.TAP_SCRIPT_SIG:A.tapScriptSig===void 0&&(A.tapScriptSig=[]),A.tapScriptSig.push(convert$1.inputs.tapScriptSig.decode(I));break;case typeFields_1$1.InputTypes.TAP_LEAF_SCRIPT:A.tapLeafScript===void 0&&(A.tapLeafScript=[]),A.tapLeafScript.push(convert$1.inputs.tapLeafScript.decode(I));break;case typeFields_1$1.InputTypes.TAP_BIP32_DERIVATION:A.tapBip32Derivation===void 0&&(A.tapBip32Derivation=[]),A.tapBip32Derivation.push(convert$1.inputs.tapBip32Derivation.decode(I));break;case typeFields_1$1.InputTypes.TAP_INTERNAL_KEY:checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.TAP_INTERNAL_KEY),A.tapInternalKey=convert$1.inputs.tapInternalKey.decode(I);break;case typeFields_1$1.InputTypes.TAP_MERKLE_ROOT:checkKeyBuffer("input",I.key,typeFields_1$1.InputTypes.TAP_MERKLE_ROOT),A.tapMerkleRoot=convert$1.inputs.tapMerkleRoot.decode(I);break;default:A.unknownKeyVals||(A.unknownKeyVals=[]),A.unknownKeyVals.push(I)}b.push(A)}for(const y of tools_1$1.range(p)){const A={};for(const I of n[y])switch(convert$1.outputs.checkPubkey(I),I.key[0]){case typeFields_1$1.OutputTypes.REDEEM_SCRIPT:if(checkKeyBuffer("output",I.key,typeFields_1$1.OutputTypes.REDEEM_SCRIPT),A.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");A.redeemScript=convert$1.outputs.redeemScript.decode(I);break;case typeFields_1$1.OutputTypes.WITNESS_SCRIPT:if(checkKeyBuffer("output",I.key,typeFields_1$1.OutputTypes.WITNESS_SCRIPT),A.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");A.witnessScript=convert$1.outputs.witnessScript.decode(I);break;case typeFields_1$1.OutputTypes.BIP32_DERIVATION:A.bip32Derivation===void 0&&(A.bip32Derivation=[]),A.bip32Derivation.push(convert$1.outputs.bip32Derivation.decode(I));break;case typeFields_1$1.OutputTypes.TAP_INTERNAL_KEY:checkKeyBuffer("output",I.key,typeFields_1$1.OutputTypes.TAP_INTERNAL_KEY),A.tapInternalKey=convert$1.outputs.tapInternalKey.decode(I);break;case typeFields_1$1.OutputTypes.TAP_TREE:checkKeyBuffer("output",I.key,typeFields_1$1.OutputTypes.TAP_TREE),A.tapTree=convert$1.outputs.tapTree.decode(I);break;case typeFields_1$1.OutputTypes.TAP_BIP32_DERIVATION:A.tapBip32Derivation===void 0&&(A.tapBip32Derivation=[]),A.tapBip32Derivation.push(convert$1.outputs.tapBip32Derivation.decode(I));break;default:A.unknownKeyVals||(A.unknownKeyVals=[]),A.unknownKeyVals.push(I)}m.push(A)}return{globalMap:a,inputs:b,outputs:m}}fromBuffer.psbtFromKeyVals=psbtFromKeyVals;var toBuffer={};Object.defineProperty(toBuffer,"__esModule",{value:!0});const convert=converter,tools_1=tools;function psbtToBuffer({globalMap:e,inputs:t,outputs:r}){const{globalKeyVals:n,inputKeyVals:a,outputKeyVals:o}=psbtToKeyVals({globalMap:e,inputs:t,outputs:r}),u=tools_1.keyValsToBuffer(n),p=A=>A.length===0?[Buffer$2.from([0])]:A.map(tools_1.keyValsToBuffer),b=p(a),m=p(o),y=Buffer$2.allocUnsafe(5);return y.writeUIntBE(482972169471,0,5),Buffer$2.concat([y,u].concat(b,m))}toBuffer.psbtToBuffer=psbtToBuffer;const sortKeyVals=(e,t)=>e.key.compare(t.key);function keyValsFromMap(e,t){const r=new Set,n=Object.entries(e).reduce((o,[u,p])=>{if(u==="unknownKeyVals")return o;const b=t[u];if(b===void 0)return o;const m=(Array.isArray(p)?p:[p]).map(b.encode);return m.map(y=>y.key.toString("hex")).forEach(y=>{if(r.has(y))throw new Error("Serialize Error: Duplicate key: "+y);r.add(y)}),o.concat(m)},[]),a=e.unknownKeyVals?e.unknownKeyVals.filter(o=>!r.has(o.key.toString("hex"))):[];return n.concat(a).sort(sortKeyVals)}function psbtToKeyVals({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:keyValsFromMap(e,convert.globals),inputKeyVals:t.map(n=>keyValsFromMap(n,convert.inputs)),outputKeyVals:r.map(n=>keyValsFromMap(n,convert.outputs))}}toBuffer.psbtToKeyVals=psbtToKeyVals,function(e){function t(r){for(var n in r)e.hasOwnProperty(n)||(e[n]=r[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(fromBuffer),t(toBuffer)}(parser),Object.defineProperty(combiner,"__esModule",{value:!0});const parser_1$1=parser;function combine(e){const t=e[0],r=parser_1$1.psbtToKeyVals(t),n=e.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");const a=getTx(t);if(a===void 0)throw new Error("Combine: Self missing transaction");const o=getKeySet(r.globalKeyVals),u=r.inputKeyVals.map(getKeySet),p=r.outputKeyVals.map(getKeySet);for(const b of n){const m=getTx(b);if(m===void 0||!m.toBuffer().equals(a.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const y=parser_1$1.psbtToKeyVals(b);getKeySet(y.globalKeyVals).forEach(keyPusher(o,r.globalKeyVals,y.globalKeyVals)),y.inputKeyVals.map(getKeySet).forEach((A,I)=>A.forEach(keyPusher(u[I],r.inputKeyVals[I],y.inputKeyVals[I]))),y.outputKeyVals.map(getKeySet).forEach((A,I)=>A.forEach(keyPusher(p[I],r.outputKeyVals[I],y.outputKeyVals[I])))}return parser_1$1.psbtFromKeyVals(a,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}combiner.combine=combine;function keyPusher(e,t,r){return n=>{if(e.has(n))return;const a=r.filter(o=>o.key.toString("hex")===n)[0];t.push(a),e.add(n)}}function getTx(e){return e.globalMap.unsignedTx}function getKeySet(e){const t=new Set;return e.forEach(r=>{const n=r.key.toString("hex");if(t.has(n))throw new Error("Combine: KeyValue Map keys should be unique");t.add(n)}),t}var utils={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=converter;function r(M,C){const P=M[C];if(P===void 0)throw new Error(`No input #${C}`);return P}e.checkForInput=r;function n(M,C){const P=M[C];if(P===void 0)throw new Error(`No output #${C}`);return P}e.checkForOutput=n;function a(M,C,P){if(M.key[0]<P)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(C&&C.filter(B=>B.key.equals(M.key)).length!==0)throw new Error(`Duplicate Key: ${M.key.toString("hex")}`)}e.checkHasKey=a;function o(M){let C=0;return Object.keys(M).forEach(P=>{Number(isNaN(Number(P)))&&C++}),C}e.getEnumLength=o;function u(M,C){let P=!1;if(C.nonWitnessUtxo||C.witnessUtxo){const B=!!C.redeemScript,k=!!C.witnessScript,N=!B||!!C.finalScriptSig,D=!k||!!C.finalScriptWitness,L=!!C.finalScriptSig||!!C.finalScriptWitness;P=N&&D&&L}if(P===!1)throw new Error(`Input #${M} has too much or too little data to clean`)}e.inputCheckUncleanFinalized=u;function p(M,C,P,B){throw new Error(`Data for ${M} key ${C} is incorrect: Expected ${P} and got ${JSON.stringify(B)}`)}function b(M){return(C,P)=>{for(const B of Object.keys(C)){const k=C[B],{canAdd:N,canAddToArray:D,check:L,expected:K}=t[M+"s"][B]||{},J=!!D;if(L)if(J){if(!Array.isArray(k)||P[B]&&!Array.isArray(P[B]))throw new Error(`Key type ${B} must be an array`);k.every(L)||p(M,B,K,k);const ce=P[B]||[],oe=new Set;if(!k.every(Z=>D(ce,Z,oe)))throw new Error("Can not add duplicate data to array");P[B]=ce.concat(k)}else{if(L(k)||p(M,B,K,k),!N(P,k))throw new Error(`Can not add duplicate data to ${M}`);P[B]=k}}}}e.updateGlobal=b("global"),e.updateInput=b("input"),e.updateOutput=b("output");function m(M,C){const P=M.length-1,B=r(M,P);e.updateInput(C,B)}e.addInputAttributes=m;function y(M,C){const P=M.length-1,B=n(M,P);e.updateOutput(C,B)}e.addOutputAttributes=y;function A(M,C){if(!Buffer$2.isBuffer(C)||C.length<4)throw new Error("Set Version: Invalid Transaction");return C.writeUInt32LE(M,0),C}e.defaultVersionSetter=A;function I(M,C){if(!Buffer$2.isBuffer(C)||C.length<4)throw new Error("Set Locktime: Invalid Transaction");return C.writeUInt32LE(M,C.length-4),C}e.defaultLocktimeSetter=I})(utils),Object.defineProperty(psbt,"__esModule",{value:!0});const combiner_1=combiner,parser_1=parser,typeFields_1=typeFields,utils_1$1=utils;let Psbt$1=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const r=Buffer$2.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){const r=Buffer$2.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){const r=parser_1.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return parser_1.psbtToBuffer(this)}updateGlobal(e){return utils_1$1.updateGlobal(e,this.globalMap),this}updateInput(e,t){const r=utils_1$1.checkForInput(this.inputs,e);return utils_1$1.updateInput(t,r),this}updateOutput(e,t){const r=utils_1$1.checkForOutput(this.outputs,e);return utils_1$1.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return utils_1$1.checkHasKey(e,this.globalMap.unknownKeyVals,utils_1$1.getEnumLength(typeFields_1.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const r=utils_1$1.checkForInput(this.inputs,e);return utils_1$1.checkHasKey(t,r.unknownKeyVals,utils_1$1.getEnumLength(typeFields_1.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const r=utils_1$1.checkForOutput(this.outputs,e);return utils_1$1.checkHasKey(t,r.unknownKeyVals,utils_1$1.getEnumLength(typeFields_1.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach(n=>this.addUnknownKeyValToInput(r,n)),utils_1$1.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach(n=>this.addUnknownKeyValToOutput(r,n)),utils_1$1.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const t=utils_1$1.checkForInput(this.inputs,e);utils_1$1.inputCheckUncleanFinalized(e,t);for(const r of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(r)||delete t[r];return this}combine(...e){const t=combiner_1.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};psbt.Psbt=Psbt$1;var bip371={},psbtutils={};Object.defineProperty(psbtutils,"__esModule",{value:!0}),psbtutils.signatureBlocksAction=psbtutils.checkInputForSig=psbtutils.pubkeyInScript=psbtutils.pubkeyPositionInScript=psbtutils.witnessStackToScriptWitness=psbtutils.isP2TR=psbtutils.isP2SHScript=psbtutils.isP2WSHScript=psbtutils.isP2WPKH=psbtutils.isP2PKH=psbtutils.isP2PK=psbtutils.isP2MS=void 0;const varuint$1=varint,bscript$1=requireScript(),transaction_1$2=transaction,crypto_1=crypto$1,payments$1=requirePayments();function isPaymentFactory(e){return t=>{try{return e({output:t}),!0}catch{return!1}}}psbtutils.isP2MS=isPaymentFactory(payments$1.p2ms),psbtutils.isP2PK=isPaymentFactory(payments$1.p2pk),psbtutils.isP2PKH=isPaymentFactory(payments$1.p2pkh),psbtutils.isP2WPKH=isPaymentFactory(payments$1.p2wpkh),psbtutils.isP2WSHScript=isPaymentFactory(payments$1.p2wsh),psbtutils.isP2SHScript=isPaymentFactory(payments$1.p2sh),psbtutils.isP2TR=isPaymentFactory(payments$1.p2tr);function witnessStackToScriptWitness(e){let t=Buffer$2.allocUnsafe(0);function r(u){t=Buffer$2.concat([t,Buffer$2.from(u)])}function n(u){const p=t.length,b=varuint$1.encodingLength(u);t=Buffer$2.concat([t,Buffer$2.allocUnsafe(b)]),varuint$1.encode(u,t,p)}function a(u){n(u.length),r(u)}function o(u){n(u.length),u.forEach(a)}return o(e),t}psbtutils.witnessStackToScriptWitness=witnessStackToScriptWitness;function pubkeyPositionInScript(e,t){const r=(0,crypto_1.hash160)(e),n=e.slice(1,33),a=bscript$1.decompile(t);if(a===null)throw new Error("Unknown script error");return a.findIndex(o=>typeof o=="number"?!1:o.equals(e)||o.equals(r)||o.equals(n))}psbtutils.pubkeyPositionInScript=pubkeyPositionInScript;function pubkeyInScript(e,t){return pubkeyPositionInScript(e,t)!==-1}psbtutils.pubkeyInScript=pubkeyInScript;function checkInputForSig(e,t){return extractPartialSigs(e).some(r=>signatureBlocksAction(r,bscript$1.signature.decode,t))}psbtutils.checkInputForSig=checkInputForSig;function signatureBlocksAction(e,t,r){const{hashType:n}=t(e),a=[];switch(n&transaction_1$2.Transaction.SIGHASH_ANYONECANPAY&&a.push("addInput"),n&31){case transaction_1$2.Transaction.SIGHASH_ALL:break;case transaction_1$2.Transaction.SIGHASH_SINGLE:case transaction_1$2.Transaction.SIGHASH_NONE:a.push("addOutput"),a.push("setInputSequence");break}return a.indexOf(r)===-1}psbtutils.signatureBlocksAction=signatureBlocksAction;function extractPartialSigs(e){let t=[];if((e.partialSig||[]).length===0){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=getPsigsFromInputFinalScripts(e)}else t=e.partialSig;return t.map(r=>r.signature)}function getPsigsFromInputFinalScripts(e){const t=e.finalScriptSig?bscript$1.decompile(e.finalScriptSig)||[]:[],r=e.finalScriptWitness?bscript$1.decompile(e.finalScriptWitness)||[]:[];return t.concat(r).filter(n=>Buffer$2.isBuffer(n)&&bscript$1.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}Object.defineProperty(bip371,"__esModule",{value:!0}),bip371.checkTaprootInputForSigs=bip371.tapTreeFromList=bip371.tapTreeToList=bip371.tweakInternalPubKey=bip371.checkTaprootOutputFields=bip371.checkTaprootInputFields=bip371.isTaprootOutput=bip371.isTaprootInput=bip371.serializeTaprootSignature=bip371.tapScriptFinalizer=bip371.toXOnly=void 0;const types_1=types$4,transaction_1$1=transaction,psbtutils_1$1=psbtutils,bip341_1$1=bip341,payments_1=requirePayments(),psbtutils_2=psbtutils,toXOnly=e=>e.length===32?e:e.slice(1,33);bip371.toXOnly=toXOnly;function tapScriptFinalizer(e,t,r){const n=findTapLeafToFinalize(t,e,r);try{const a=sortSignatures(t,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,psbtutils_1$1.witnessStackToScriptWitness)(a)}}catch(a){throw new Error(`Can not finalize taproot input #${e}: ${a}`)}}bip371.tapScriptFinalizer=tapScriptFinalizer;function serializeTaprootSignature(e,t){const r=t?Buffer$2.from([t]):Buffer$2.from([]);return Buffer$2.concat([e,r])}bip371.serializeTaprootSignature=serializeTaprootSignature;function isTaprootInput(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,psbtutils_1$1.isP2TR)(e.witnessUtxo.script))}bip371.isTaprootInput=isTaprootInput;function isTaprootOutput(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,psbtutils_1$1.isP2TR)(t))}bip371.isTaprootOutput=isTaprootOutput;function checkTaprootInputFields(e,t,r){checkMixedTaprootAndNonTaprootInputFields(e,t,r),checkIfTapLeafInTree(e,t,r)}bip371.checkTaprootInputFields=checkTaprootInputFields;function checkTaprootOutputFields(e,t,r){checkMixedTaprootAndNonTaprootOutputFields(e,t,r),checkTaprootScriptPubkey(e,t)}bip371.checkTaprootOutputFields=checkTaprootOutputFields;function checkTaprootScriptPubkey(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const r=t.tapInternalKey||e.tapInternalKey,n=t.tapTree||e.tapTree;if(r){const{script:a}=e,o=getTaprootScripPubkey(r,n);if(a&&!a.equals(o))throw new Error("Error adding output. Script or address missmatch.")}}function getTaprootScripPubkey(e,t){const r=t&&tapTreeFromList(t.leaves),{output:n}=(0,payments_1.p2tr)({internalPubkey:e,scriptTree:r});return n}function tweakInternalPubKey(e,t){const r=t.tapInternalKey,n=r&&(0,bip341_1$1.tweakKey)(r,t.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${e}. Public key: ${r&&r.toString("hex")}`);return n.x}bip371.tweakInternalPubKey=tweakInternalPubKey;function tapTreeToList(e){if(!(0,types_1.isTaptree)(e))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return _tapTreeToList(e)}bip371.tapTreeToList=tapTreeToList;function tapTreeFromList(e=[]){return e.length===1&&e[0].depth===0?{output:e[0].script,version:e[0].leafVersion}:instertLeavesInTree(e)}bip371.tapTreeFromList=tapTreeFromList;function checkTaprootInputForSigs(e,t){return extractTaprootSigs(e).some(r=>(0,psbtutils_2.signatureBlocksAction)(r,decodeSchnorrSignature,t))}bip371.checkTaprootInputForSigs=checkTaprootInputForSigs;function decodeSchnorrSignature(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||transaction_1$1.Transaction.SIGHASH_DEFAULT}}function extractTaprootSigs(e){const t=[];if(e.tapKeySig&&t.push(e.tapKeySig),e.tapScriptSig&&t.push(...e.tapScriptSig.map(r=>r.signature)),!t.length){const r=getTapKeySigFromWithness(e.finalScriptWitness);r&&t.push(r)}return t}function getTapKeySigFromWithness(e){if(!e)return;const t=e.slice(2);if(t.length===64||t.length===65)return t}function _tapTreeToList(e,t=[],r=0){if(r>bip341_1$1.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return e?(0,types_1.isTapleaf)(e)?(t.push({depth:r,leafVersion:e.version||bip341_1$1.LEAF_VERSION_TAPSCRIPT,script:e.output}),t):(e[0]&&_tapTreeToList(e[0],t,r+1),e[1]&&_tapTreeToList(e[1],t,r+1),t):[]}function instertLeavesInTree(e){let t;for(const r of e)if(t=instertLeafInTree(r,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}function instertLeafInTree(e,t,r=0){if(r>bip341_1$1.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(e.depth===r)return t?void 0:{output:e.script,version:e.leafVersion};if((0,types_1.isTapleaf)(t))return;const n=instertLeafInTree(e,t&&t[0],r+1);if(n)return[n,t&&t[1]];const a=instertLeafInTree(e,t&&t[1],r+1);if(a)return[t&&t[0],a]}function checkMixedTaprootAndNonTaprootInputFields(e,t,r){const n=isTaprootInput(e)&&hasNonTaprootFields(t),a=hasNonTaprootFields(e)&&isTaprootInput(t),o=e===t&&isTaprootInput(t)&&hasNonTaprootFields(t);if(n||a||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function checkMixedTaprootAndNonTaprootOutputFields(e,t,r){const n=isTaprootOutput(e)&&hasNonTaprootFields(t),a=hasNonTaprootFields(e)&&isTaprootOutput(t),o=e===t&&isTaprootOutput(t)&&hasNonTaprootFields(t);if(n||a||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function checkIfTapLeafInTree(e,t,r){if(t.tapMerkleRoot){const n=(t.tapLeafScript||[]).every(o=>isTapLeafInTree(o,t.tapMerkleRoot)),a=(e.tapLeafScript||[]).every(o=>isTapLeafInTree(o,t.tapMerkleRoot));if(!n||!a)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot&&!(t.tapLeafScript||[]).every(n=>isTapLeafInTree(n,e.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function isTapLeafInTree(e,t){if(!t)return!0;const r=(0,bip341_1$1.tapleafHash)({output:e.script,version:e.leafVersion});return(0,bip341_1$1.rootHashFromPath)(e.controlBlock,r).equals(t)}function sortSignatures(e,t){const r=(0,bip341_1$1.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>addPubkeyPositionInScript(t.script,n)).sort((n,a)=>a.positionInScript-n.positionInScript).map(n=>n.signature)}function addPubkeyPositionInScript(e,t){return Object.assign({positionInScript:(0,psbtutils_1$1.pubkeyPositionInScript)(t.pubkey,e)},t)}function findTapLeafToFinalize(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const n=(e.tapLeafScript||[]).sort((a,o)=>a.controlBlock.length-o.controlBlock.length).find(a=>canFinalizeLeaf(a,e.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return n}function canFinalizeLeaf(e,t,r){const n=(0,bip341_1$1.tapleafHash)({output:e.script,version:e.leafVersion});return(!r||r.equals(n))&&t.find(a=>a.leafHash.equals(n))!==void 0}function hasNonTaprootFields(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}Object.defineProperty(psbt$1,"__esModule",{value:!0}),psbt$1.Psbt=void 0;const bip174_1=psbt,varuint=varint,utils_1=utils,address_1=requireAddress(),bufferutils_1=bufferutils,networks_1=networks,payments=requirePayments(),bip341_1=bip341,bscript=requireScript(),transaction_1=transaction,bip371_1=bip371,psbtutils_1=psbtutils,DEFAULT_OPTS={network:networks_1.bitcoin,maximumFeeRate:5e3};class Psbt{static fromBase64(t,r={}){const n=Buffer$2.from(t,"base64");return this.fromBuffer(n,r)}static fromHex(t,r={}){const n=Buffer$2.from(t,"hex");return this.fromBuffer(n,r)}static fromBuffer(t,r={}){const n=bip174_1.Psbt.fromBuffer(t,transactionFromBuffer),a=new Psbt(r,n);return checkTxForDupeIns(a.__CACHE.__TX,a.__CACHE),a}constructor(t={},r=new bip174_1.Psbt(new PsbtTransaction)){this.data=r,this.opts=Object.assign({},DEFAULT_OPTS,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);const n=(a,o,u,p)=>Object.defineProperty(a,o,{enumerable:u,writable:p});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(t){this.setVersion(t)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(t){this.setLocktime(t)}get txInputs(){return this.__CACHE.__TX.ins.map(t=>({hash:(0,bufferutils_1.cloneBuffer)(t.hash),index:t.index,sequence:t.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(t=>{let r;try{r=(0,address_1.fromOutputScript)(t.script,this.opts.network)}catch{}return{script:(0,bufferutils_1.cloneBuffer)(t.script),value:t.value,address:r}})}combine(...t){return this.data.combine(...t.map(r=>r.data)),this}clone(){const t=Psbt.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}setMaximumFeeRate(t){check32Bit(t),this.opts.maximumFeeRate=t}setVersion(t){check32Bit(t),checkInputsForPartialSig(this.data.inputs,"setVersion");const r=this.__CACHE;return r.__TX.version=t,r.__EXTRACTED_TX=void 0,this}setLocktime(t){check32Bit(t),checkInputsForPartialSig(this.data.inputs,"setLocktime");const r=this.__CACHE;return r.__TX.locktime=t,r.__EXTRACTED_TX=void 0,this}setInputSequence(t,r){check32Bit(r),checkInputsForPartialSig(this.data.inputs,"setInputSequence");const n=this.__CACHE;if(n.__TX.ins.length<=t)throw new Error("Input index too high");return n.__TX.ins[t].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(t){return t.forEach(r=>this.addInput(r)),this}addInput(t){if(arguments.length>1||!t||t.hash===void 0||t.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,bip371_1.checkTaprootInputFields)(t,t,"addInput"),checkInputsForPartialSig(this.data.inputs,"addInput"),t.witnessScript&&checkInvalidP2WSH(t.witnessScript);const r=this.__CACHE;this.data.addInput(t);const n=r.__TX.ins[r.__TX.ins.length-1];checkTxInputCache(r,n);const a=this.data.inputs.length-1,o=this.data.inputs[a];return o.nonWitnessUtxo&&addNonWitnessTxCache(this.__CACHE,o,a),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(t){return t.forEach(r=>this.addOutput(r)),this}addOutput(t){if(arguments.length>1||!t||t.value===void 0||t.address===void 0&&t.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");checkInputsForPartialSig(this.data.inputs,"addOutput");const{address:r}=t;if(typeof r=="string"){const{network:a}=this.opts,o=(0,address_1.toOutputScript)(r,a);t=Object.assign({},t,{script:o})}(0,bip371_1.checkTaprootOutputFields)(t,t,"addOutput");const n=this.__CACHE;return this.data.addOutput(t),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(t){if(!this.data.inputs.every(isFinalized))throw new Error("Not finalized");const r=this.__CACHE;if(t||checkFees(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;const n=r.__TX.clone();return inputFinalizeGetAmts(this.data.inputs,n,r,!0),n}getFeeRate(){return getTxCacheValue("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return getTxCacheValue("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,utils_1.checkForInput)(this.data.inputs,0),range(this.data.inputs.length).forEach(t=>this.finalizeInput(t)),this}finalizeInput(t,r){const n=(0,utils_1.checkForInput)(this.data.inputs,t);return(0,bip371_1.isTaprootInput)(n)?this._finalizeTaprootInput(t,n,void 0,r):this._finalizeInput(t,n,r)}finalizeTaprootInput(t,r,n=bip371_1.tapScriptFinalizer){const a=(0,utils_1.checkForInput)(this.data.inputs,t);if((0,bip371_1.isTaprootInput)(a))return this._finalizeTaprootInput(t,a,r,n);throw new Error(`Cannot finalize input #${t}. Not Taproot.`)}_finalizeInput(t,r,n=getFinalScripts){const{script:a,isP2SH:o,isP2WSH:u,isSegwit:p}=getScriptFromInput(t,r,this.__CACHE);if(!a)throw new Error(`No script found for input #${t}`);checkPartialSigSighashes(r);const{finalScriptSig:b,finalScriptWitness:m}=n(t,r,a,p,o,u);if(b&&this.data.updateInput(t,{finalScriptSig:b}),m&&this.data.updateInput(t,{finalScriptWitness:m}),!b&&!m)throw new Error(`Unknown error finalizing input #${t}`);return this.data.clearFinalizedInput(t),this}_finalizeTaprootInput(t,r,n,a=bip371_1.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${t}. Missing withness utxo.`);if(r.tapKeySig){const o=payments.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),u=(0,psbtutils_1.witnessStackToScriptWitness)(o.witness);this.data.updateInput(t,{finalScriptWitness:u})}else{const{finalScriptWitness:o}=a(t,r,n);this.data.updateInput(t,{finalScriptWitness:o})}return this.data.clearFinalizedInput(t),this}getInputType(t){const r=(0,utils_1.checkForInput)(this.data.inputs,t),n=getScriptFromUtxo(t,r,this.__CACHE),a=getMeaningfulScript(n,t,"input",r.redeemScript||redeemFromFinalScriptSig(r.finalScriptSig),r.witnessScript||redeemFromFinalWitnessScript(r.finalScriptWitness)),o=a.type==="raw"?"":a.type+"-",u=classifyScript(a.meaningfulScript);return o+u}inputHasPubkey(t,r){const n=(0,utils_1.checkForInput)(this.data.inputs,t);return pubkeyInInput(r,n,t,this.__CACHE)}inputHasHDKey(t,r){const n=(0,utils_1.checkForInput)(this.data.inputs,t),a=bip32DerivationIsMine(r);return!!n.bip32Derivation&&n.bip32Derivation.some(a)}outputHasPubkey(t,r){const n=(0,utils_1.checkForOutput)(this.data.outputs,t);return pubkeyInOutput(r,n,t,this.__CACHE)}outputHasHDKey(t,r){const n=(0,utils_1.checkForOutput)(this.data.outputs,t),a=bip32DerivationIsMine(r);return!!n.bip32Derivation&&n.bip32Derivation.some(a)}validateSignaturesOfAllInputs(t){return(0,utils_1.checkForInput)(this.data.inputs,0),range(this.data.inputs.length).map(r=>this.validateSignaturesOfInput(r,t)).reduce((r,n)=>n===!0&&r,!0)}validateSignaturesOfInput(t,r,n){const a=this.data.inputs[t];return(0,bip371_1.isTaprootInput)(a)?this.validateSignaturesOfTaprootInput(t,r,n):this._validateSignaturesOfInput(t,r,n)}_validateSignaturesOfInput(t,r,n){const a=this.data.inputs[t],o=(a||{}).partialSig;if(!a||!o||o.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");const u=n?o.filter(A=>A.pubkey.equals(n)):o;if(u.length<1)throw new Error("No signatures for this pubkey");const p=[];let b,m,y;for(const A of u){const I=bscript.signature.decode(A.signature),{hash:M,script:C}=y!==I.hashType?getHashForSig(t,Object.assign({},a,{sighashType:I.hashType}),this.__CACHE,!0):{hash:b,script:m};y=I.hashType,b=M,m=C,checkScriptForPubkey(A.pubkey,C,"verify"),p.push(r(A.pubkey,M,I.signature))}return p.every(A=>A===!0)}validateSignaturesOfTaprootInput(t,r,n){const a=this.data.inputs[t],o=(a||{}).tapKeySig,u=(a||{}).tapScriptSig;if(!a&&!o&&!(u&&!u.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,bip371_1.toXOnly)(n);const p=n?getTaprootHashesForSig(t,a,this.data.inputs,n,this.__CACHE):getAllTaprootHashesForSig(t,a,this.data.inputs,this.__CACHE);if(!p.length)throw new Error("No signatures for this pubkey");const b=p.find(y=>!y.leafHash);let m=0;if(o&&b){if(!r(b.pubkey,b.hash,trimTaprootSig(o)))return!1;m++}if(u)for(const y of u){const A=p.find(I=>y.pubkey.equals(I.pubkey));if(A){if(!r(y.pubkey,A.hash,trimTaprootSig(y.signature)))return!1;m++}}return m>0}signAllInputsHD(t,r=[transaction_1.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");const n=[];for(const a of range(this.data.inputs.length))try{this.signInputHD(a,t,r),n.push(!0)}catch{n.push(!1)}if(n.every(a=>a===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(t,r=[transaction_1.Transaction.SIGHASH_ALL]){return new Promise((n,a)=>{if(!t||!t.publicKey||!t.fingerprint)return a(new Error("Need HDSigner to sign input"));const o=[],u=[];for(const p of range(this.data.inputs.length))u.push(this.signInputHDAsync(p,t,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(u).then(()=>{if(o.every(p=>p===!1))return a(new Error("No inputs were signed"));n()})})}signInputHD(t,r,n=[transaction_1.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return getSignersFromHD(t,this.data.inputs,r).forEach(a=>this.signInput(t,a,n)),this}signInputHDAsync(t,r,n=[transaction_1.Transaction.SIGHASH_ALL]){return new Promise((a,o)=>{if(!r||!r.publicKey||!r.fingerprint)return o(new Error("Need HDSigner to sign input"));const u=getSignersFromHD(t,this.data.inputs,r).map(p=>this.signInputAsync(t,p,n));return Promise.all(u).then(()=>{a()}).catch(o)})}signAllInputs(t,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=[];for(const a of range(this.data.inputs.length))try{this.signInput(a,t,r),n.push(!0)}catch{n.push(!1)}if(n.every(a=>a===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(t,r){return new Promise((n,a)=>{if(!t||!t.publicKey)return a(new Error("Need Signer to sign input"));const o=[],u=[];for(const[p]of this.data.inputs.entries())u.push(this.signInputAsync(p,t,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(u).then(()=>{if(o.every(p=>p===!1))return a(new Error("No inputs were signed"));n()})})}signInput(t,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const a=(0,utils_1.checkForInput)(this.data.inputs,t);return(0,bip371_1.isTaprootInput)(a)?this._signTaprootInput(t,a,r,void 0,n):this._signInput(t,r,n)}signTaprootInput(t,r,n,a){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const o=(0,utils_1.checkForInput)(this.data.inputs,t);if((0,bip371_1.isTaprootInput)(o))return this._signTaprootInput(t,o,r,n,a);throw new Error(`Input #${t} is not of type Taproot.`)}_signInput(t,r,n=[transaction_1.Transaction.SIGHASH_ALL]){const{hash:a,sighashType:o}=getHashAndSighashType(this.data.inputs,t,r.publicKey,this.__CACHE,n),u=[{pubkey:r.publicKey,signature:bscript.signature.encode(r.sign(a),o)}];return this.data.updateInput(t,{partialSig:u}),this}_signTaprootInput(t,r,n,a,o=[transaction_1.Transaction.SIGHASH_DEFAULT]){const u=this.checkTaprootHashesForSig(t,r,n,a,o),p=u.filter(m=>!m.leafHash).map(m=>(0,bip371_1.serializeTaprootSignature)(n.signSchnorr(m.hash),r.sighashType))[0],b=u.filter(m=>!!m.leafHash).map(m=>({pubkey:(0,bip371_1.toXOnly)(n.publicKey),signature:(0,bip371_1.serializeTaprootSignature)(n.signSchnorr(m.hash),r.sighashType),leafHash:m.leafHash}));return p&&this.data.updateInput(t,{tapKeySig:p}),b.length&&this.data.updateInput(t,{tapScriptSig:b}),this}signInputAsync(t,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const a=(0,utils_1.checkForInput)(this.data.inputs,t);return(0,bip371_1.isTaprootInput)(a)?this._signTaprootInputAsync(t,a,r,void 0,n):this._signInputAsync(t,r,n)})}signTaprootInputAsync(t,r,n,a){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const o=(0,utils_1.checkForInput)(this.data.inputs,t);if((0,bip371_1.isTaprootInput)(o))return this._signTaprootInputAsync(t,o,r,n,a);throw new Error(`Input #${t} is not of type Taproot.`)})}_signInputAsync(t,r,n=[transaction_1.Transaction.SIGHASH_ALL]){const{hash:a,sighashType:o}=getHashAndSighashType(this.data.inputs,t,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(a)).then(u=>{const p=[{pubkey:r.publicKey,signature:bscript.signature.encode(u,o)}];this.data.updateInput(t,{partialSig:p})})}async _signTaprootInputAsync(t,r,n,a,o=[transaction_1.Transaction.SIGHASH_DEFAULT]){const u=this.checkTaprootHashesForSig(t,r,n,a,o),p=[],b=u.filter(y=>!y.leafHash)[0];if(b){const y=Promise.resolve(n.signSchnorr(b.hash)).then(A=>({tapKeySig:(0,bip371_1.serializeTaprootSignature)(A,r.sighashType)}));p.push(y)}const m=u.filter(y=>!!y.leafHash);if(m.length){const y=m.map(A=>Promise.resolve(n.signSchnorr(A.hash)).then(I=>({tapScriptSig:[{pubkey:(0,bip371_1.toXOnly)(n.publicKey),signature:(0,bip371_1.serializeTaprootSignature)(I,r.sighashType),leafHash:A.leafHash}]})));p.push(...y)}return Promise.all(p).then(y=>{y.forEach(A=>this.data.updateInput(t,A))})}checkTaprootHashesForSig(t,r,n,a,o){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${t}.`);const u=getTaprootHashesForSig(t,r,this.data.inputs,n.publicKey,this.__CACHE,a,o);if(!u||!u.length)throw new Error(`Can not sign for input #${t} with the key ${n.publicKey.toString("hex")}`);return u}toBuffer(){return checkCache(this.__CACHE),this.data.toBuffer()}toHex(){return checkCache(this.__CACHE),this.data.toHex()}toBase64(){return checkCache(this.__CACHE),this.data.toBase64()}updateGlobal(t){return this.data.updateGlobal(t),this}updateInput(t,r){return r.witnessScript&&checkInvalidP2WSH(r.witnessScript),(0,bip371_1.checkTaprootInputFields)(this.data.inputs[t],r,"updateInput"),this.data.updateInput(t,r),r.nonWitnessUtxo&&addNonWitnessTxCache(this.__CACHE,this.data.inputs[t],t),this}updateOutput(t,r){const n=this.data.outputs[t];return(0,bip371_1.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(t,r),this}addUnknownKeyValToGlobal(t){return this.data.addUnknownKeyValToGlobal(t),this}addUnknownKeyValToInput(t,r){return this.data.addUnknownKeyValToInput(t,r),this}addUnknownKeyValToOutput(t,r){return this.data.addUnknownKeyValToOutput(t,r),this}clearFinalizedInput(t){return this.data.clearFinalizedInput(t),this}}psbt$1.Psbt=Psbt;const transactionFromBuffer=e=>new PsbtTransaction(e);class PsbtTransaction{constructor(t=Buffer$2.from([2,0,0,0,0,0,0,0,0,0])){this.tx=transaction_1.Transaction.fromBuffer(t),checkTxEmpty(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(t){if(t.hash===void 0||t.index===void 0||!Buffer$2.isBuffer(t.hash)&&typeof t.hash!="string"||typeof t.index!="number")throw new Error("Error adding input.");const r=typeof t.hash=="string"?(0,bufferutils_1.reverseBuffer)(Buffer$2.from(t.hash,"hex")):t.hash;this.tx.addInput(r,t.index,t.sequence)}addOutput(t){if(t.script===void 0||t.value===void 0||!Buffer$2.isBuffer(t.script)||typeof t.value!="number")throw new Error("Error adding output.");this.tx.addOutput(t.script,t.value)}toBuffer(){return this.tx.toBuffer()}}function canFinalize(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return hasSigs(1,e.partialSig);case"multisig":const n=payments.p2ms({output:t});return hasSigs(n.m,e.partialSig,n.pubkeys);default:return!1}}function checkCache(e){if(e.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function hasSigs(e,t,r){if(!t)return!1;let n;if(r?n=r.map(a=>{const o=compressPubkey(a);return t.find(u=>u.pubkey.equals(o))}).filter(a=>!!a):n=t,n.length>e)throw new Error("Too many signatures");return n.length===e}function isFinalized(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function bip32DerivationIsMine(e){return t=>!(!t.masterFingerprint.equals(e.fingerprint)||!e.derivePath(t.path).publicKey.equals(t.pubkey))}function check32Bit(e){if(typeof e!="number"||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function checkFees(e,t,r){const n=t.__FEE_RATE||e.getFeeRate(),a=t.__EXTRACTED_TX.virtualSize(),o=n*a;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${a} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function checkInputsForPartialSig(e,t){e.forEach(r=>{if((0,bip371_1.isTaprootInput)(r)?(0,bip371_1.checkTaprootInputForSigs)(r,t):(0,psbtutils_1.checkInputForSig)(r,t))throw new Error("Can not modify transaction, signatures exist.")})}function checkPartialSigSighashes(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:r}=e;t.forEach(n=>{const{hashType:a}=bscript.signature.decode(n.signature);if(r!==a)throw new Error("Signature sighash does not match input sighash type")})}function checkScriptForPubkey(e,t,r){if(!(0,psbtutils_1.pubkeyInScript)(e,t))throw new Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function checkTxEmpty(e){if(!e.ins.every(t=>t.script&&t.script.length===0&&t.witness&&t.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function checkTxForDupeIns(e,t){e.ins.forEach(r=>{checkTxInputCache(t,r)})}function checkTxInputCache(e,t){const r=(0,bufferutils_1.reverseBuffer)(Buffer$2.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function scriptCheckerFactory(e,t){return(r,n,a,o)=>{const u=e({redeem:{output:a}}).output;if(!n.equals(u))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const checkRedeemScript=scriptCheckerFactory(payments.p2sh,"Redeem script"),checkWitnessScript=scriptCheckerFactory(payments.p2wsh,"Witness script");function getTxCacheValue(e,t,r,n){if(!r.every(isFinalized))throw new Error(`PSBT must be finalized to calculate ${t}`);if(e==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(e==="__FEE"&&n.__FEE)return n.__FEE;let a,o=!0;if(n.__EXTRACTED_TX?(a=n.__EXTRACTED_TX,o=!1):a=n.__TX.clone(),inputFinalizeGetAmts(r,a,n,o),e==="__FEE_RATE")return n.__FEE_RATE;if(e==="__FEE")return n.__FEE}function getFinalScripts(e,t,r,n,a,o){const u=classifyScript(r);if(!canFinalize(t,r,u))throw new Error(`Can not finalize input #${e}`);return prepareFinalScripts(r,u,t.partialSig,n,a,o)}function prepareFinalScripts(e,t,r,n,a,o){let u,p;const b=getPayment(e,t,r),m=o?payments.p2wsh({redeem:b}):null,y=a?payments.p2sh({redeem:m||b}):null;return n?(m?p=(0,psbtutils_1.witnessStackToScriptWitness)(m.witness):p=(0,psbtutils_1.witnessStackToScriptWitness)(b.witness),y&&(u=y.input)):y?u=y.input:u=b.input,{finalScriptSig:u,finalScriptWitness:p}}function getHashAndSighashType(e,t,r,n,a){const o=(0,utils_1.checkForInput)(e,t),{hash:u,sighashType:p,script:b}=getHashForSig(t,o,n,!1,a);return checkScriptForPubkey(r,b,"sign"),{hash:u,sighashType:p}}function getHashForSig(e,t,r,n,a){const o=r.__TX,u=t.sighashType||transaction_1.Transaction.SIGHASH_ALL;checkSighashTypeAllowed(u,a);let p,b;if(t.nonWitnessUtxo){const A=nonWitnessUtxoTxFromCache(r,t,e),I=o.ins[e].hash,M=A.getHash();if(!I.equals(M))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const C=o.ins[e].index;b=A.outs[C]}else if(t.witnessUtxo)b=t.witnessUtxo;else throw new Error("Need a Utxo input item for signing");const{meaningfulScript:m,type:y}=getMeaningfulScript(b.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(y)>=0)p=o.hashForWitnessV0(e,m,b.value,u);else if((0,psbtutils_1.isP2WPKH)(m)){const A=payments.p2pkh({hash:m.slice(2)}).output;p=o.hashForWitnessV0(e,A,b.value,u)}else{if(t.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${m.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),p=o.hashForSignature(e,m,u)}return{script:m,sighashType:u,hash:p}}function getAllTaprootHashesForSig(e,t,r,n){const a=[];if(t.tapInternalKey){const o=getPrevoutTaprootKey(e,t,n);o&&a.push(o)}if(t.tapScriptSig){const o=t.tapScriptSig.map(u=>u.pubkey);a.push(...o)}return a.map(o=>getTaprootHashesForSig(e,t,r,o,n)).flat()}function getPrevoutTaprootKey(e,t,r){const{script:n}=getScriptAndAmountFromUtxo(e,t,r);return(0,psbtutils_1.isP2TR)(n)?n.subarray(2,34):null}function trimTaprootSig(e){return e.length===64?e:e.subarray(0,64)}function getTaprootHashesForSig(e,t,r,n,a,o,u){const p=a.__TX,b=t.sighashType||transaction_1.Transaction.SIGHASH_DEFAULT;checkSighashTypeAllowed(b,u);const m=r.map((C,P)=>getScriptAndAmountFromUtxo(P,C,a)),y=m.map(C=>C.script),A=m.map(C=>C.value),I=[];if(t.tapInternalKey&&!o){const C=getPrevoutTaprootKey(e,t,a)||Buffer$2.from([]);if((0,bip371_1.toXOnly)(n).equals(C)){const P=p.hashForWitnessV1(e,y,A,b);I.push({pubkey:n,hash:P})}}const M=(t.tapLeafScript||[]).filter(C=>(0,psbtutils_1.pubkeyInScript)(n,C.script)).map(C=>{const P=(0,bip341_1.tapleafHash)({output:C.script,version:C.leafVersion});return Object.assign({hash:P},C)}).filter(C=>!o||o.equals(C.hash)).map(C=>{const P=p.hashForWitnessV1(e,y,A,b,C.hash);return{pubkey:n,hash:P,leafHash:C.hash}});return I.concat(M)}function checkSighashTypeAllowed(e,t){if(t&&t.indexOf(e)<0){const r=sighashTypeToString(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function getPayment(e,t,r){let n;switch(t){case"multisig":const a=getSortedSigs(e,r);n=payments.p2ms({output:e,signatures:a});break;case"pubkey":n=payments.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=payments.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=payments.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function getScriptFromInput(e,t,r){const n=r.__TX,a={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(a.isP2SH=!!t.redeemScript,a.isP2WSH=!!t.witnessScript,t.witnessScript)a.script=t.witnessScript;else if(t.redeemScript)a.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=nonWitnessUtxoTxFromCache(r,t,e),u=n.ins[e].index;a.script=o.outs[u].script}else t.witnessUtxo&&(a.script=t.witnessUtxo.script);return(t.witnessScript||(0,psbtutils_1.isP2WPKH)(a.script))&&(a.isSegwit=!0),a}function getSignersFromHD(e,t,r){const n=(0,utils_1.checkForInput)(t,e);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");const a=n.bip32Derivation.map(o=>{if(o.masterFingerprint.equals(r.fingerprint))return o}).filter(o=>!!o);if(a.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return a.map(o=>{const u=r.derivePath(o.path);if(!o.pubkey.equals(u.publicKey))throw new Error("pubkey did not match bip32Derivation");return u})}function getSortedSigs(e,t){return payments.p2ms({output:e}).pubkeys.map(r=>(t.filter(n=>n.pubkey.equals(r))[0]||{}).signature).filter(r=>!!r)}function scriptWitnessToWitnessStack(e){let t=0;function r(u){return t+=u,e.slice(t-u,t)}function n(){const u=varuint.decode(e,t);return t+=varuint.decode.bytes,u}function a(){return r(n())}function o(){const u=n(),p=[];for(let b=0;b<u;b++)p.push(a());return p}return o()}function sighashTypeToString(e){let t=e&transaction_1.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(e&31){case transaction_1.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case transaction_1.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case transaction_1.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE";break}return t}function addNonWitnessTxCache(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;const n=transaction_1.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const a=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const u=a.__NON_WITNESS_UTXO_BUF_CACHE[o],p=a.__NON_WITNESS_UTXO_TX_CACHE[o];if(u!==void 0)return u;{const b=p.toBuffer();return a.__NON_WITNESS_UTXO_BUF_CACHE[o]=b,b}},set(u){a.__NON_WITNESS_UTXO_BUF_CACHE[o]=u}})}function inputFinalizeGetAmts(e,t,r,n){let a=0;e.forEach((b,m)=>{if(n&&b.finalScriptSig&&(t.ins[m].script=b.finalScriptSig),n&&b.finalScriptWitness&&(t.ins[m].witness=scriptWitnessToWitnessStack(b.finalScriptWitness)),b.witnessUtxo)a+=b.witnessUtxo.value;else if(b.nonWitnessUtxo){const y=nonWitnessUtxoTxFromCache(r,b,m),A=t.ins[m].index,I=y.outs[A];a+=I.value}});const o=t.outs.reduce((b,m)=>b+m.value,0),u=a-o;if(u<0)throw new Error("Outputs are spending more than Inputs");const p=t.virtualSize();r.__FEE=u,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(u/p)}function nonWitnessUtxoTxFromCache(e,t,r){const n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||addNonWitnessTxCache(e,t,r),n[r]}function getScriptFromUtxo(e,t,r){const{script:n}=getScriptAndAmountFromUtxo(e,t,r);return n}function getScriptAndAmountFromUtxo(e,t,r){if(t.witnessUtxo!==void 0)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(t.nonWitnessUtxo!==void 0){const n=nonWitnessUtxoTxFromCache(r,t,e).outs[r.__TX.ins[e].index];return{script:n.script,value:n.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function pubkeyInInput(e,t,r,n){const a=getScriptFromUtxo(r,t,n),{meaningfulScript:o}=getMeaningfulScript(a,r,"input",t.redeemScript,t.witnessScript);return(0,psbtutils_1.pubkeyInScript)(e,o)}function pubkeyInOutput(e,t,r,n){const a=n.__TX.outs[r].script,{meaningfulScript:o}=getMeaningfulScript(a,r,"output",t.redeemScript,t.witnessScript);return(0,psbtutils_1.pubkeyInScript)(e,o)}function redeemFromFinalScriptSig(e){if(!e)return;const t=bscript.decompile(e);if(!t)return;const r=t[t.length-1];if(!(!Buffer$2.isBuffer(r)||isPubkeyLike(r)||isSigLike(r)||!bscript.decompile(r)))return r}function redeemFromFinalWitnessScript(e){if(!e)return;const t=scriptWitnessToWitnessStack(e),r=t[t.length-1];if(!(isPubkeyLike(r)||!bscript.decompile(r)))return r}function compressPubkey(e){if(e.length===65){const t=e[64]&1,r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}function isPubkeyLike(e){return e.length===33&&bscript.isCanonicalPubKey(e)}function isSigLike(e){return bscript.isCanonicalScriptSignature(e)}function getMeaningfulScript(e,t,r,n,a){const o=(0,psbtutils_1.isP2SHScript)(e),u=o&&n&&(0,psbtutils_1.isP2WSHScript)(n),p=(0,psbtutils_1.isP2WSHScript)(e);if(o&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((p||u)&&a===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let b;return u?(b=a,checkRedeemScript(t,e,n,r),checkWitnessScript(t,n,a,r),checkInvalidP2WSH(b)):p?(b=a,checkWitnessScript(t,e,a,r),checkInvalidP2WSH(b)):o?(b=n,checkRedeemScript(t,e,n,r)):b=e,{meaningfulScript:b,type:u?"p2sh-p2wsh":o?"p2sh":p?"p2wsh":"raw"}}function checkInvalidP2WSH(e){if((0,psbtutils_1.isP2WPKH)(e)||(0,psbtutils_1.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function classifyScript(e){return(0,psbtutils_1.isP2WPKH)(e)?"witnesspubkeyhash":(0,psbtutils_1.isP2PKH)(e)?"pubkeyhash":(0,psbtutils_1.isP2MS)(e)?"multisig":(0,psbtutils_1.isP2PK)(e)?"pubkey":"nonstandard"}function range(e){return[...Array(e).keys()]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initEccLib=e.Transaction=e.opcodes=e.Psbt=e.Block=e.script=e.payments=e.networks=e.crypto=e.address=void 0;const t=requireAddress();e.address=t;const r=crypto$1;e.crypto=r;const n=networks;e.networks=n;const a=requirePayments();e.payments=a;const o=requireScript();e.script=o;var u=block;Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return u.Block}});var p=psbt$1;Object.defineProperty(e,"Psbt",{enumerable:!0,get:function(){return p.Psbt}});var b=ops;Object.defineProperty(e,"opcodes",{enumerable:!0,get:function(){return b.OPS}});var m=transaction;Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return m.Transaction}});var y=ecc_lib;Object.defineProperty(e,"initEccLib",{enumerable:!0,get:function(){return y.initEccLib}})})(src);class BitcoinUtils{createPayload(t,r,n,a,o,u,p){a=JSON.parse(a),o=JSON.parse(o),p=p==="testnet"?src.networks.testnet:src.networks.bitcoin;const b=new src.Psbt({network:p});let m=0;a.map(async I=>{m+=I.value;const M=this.extractTxFromTxInfo(o[I.txid]);let C;M.outs[I.vout].script.includes("0014")?C={hash:I.txid,index:I.vout,witnessUtxo:{script:M.outs[I.vout].script,value:I.value}}:C={hash:I.txid,index:I.vout,nonWitnessUtxo:Buffer$2.from(M.toHex(),"hex")},b.addInput(C)}),b.addOutput({address:r,value:Number(n)});const y=(a.length*148+2*34+10)*(u+3),A=m-Number(n)-y;return A>0&&b.addOutput({address:t,value:A}),JSON.stringify(b.toHex())}signTransactionWithMPCSignature(t,r,n){const a=src.Psbt.fromHex(t);r=JSON.parse(r),n=Buffer$2.from(n,"hex");for(let o=0;o<r.length;o++){const u=p=>{const b=r[o].big_r,m=r[o].big_s;return this.reconstructSignature(b,m)};a.signInput(o,{publicKey:n,sign:u})}return a.finalizeAllInputs(),JSON.stringify(a.extractTransaction().toHex())}reconstructSignature(t,r){const n=t.slice(2).padStart(64,"0"),a=r.padStart(64,"0"),o=Buffer$2.from(n+a,"hex");if(o.length!==64)throw new Error("Invalid signature length.");return o}getReversedPayloadsToSignForMPC(t,r,n){r=JSON.parse(r),n=Buffer$2.from(n,"hex");const a=src.Psbt.fromHex(t);let o=[];const u=p=>{const b=Array.from(p).reverse();o.push(b);const m=new Uint8Array(64).fill(0),y=new Uint8Array(64).fill(0);return Buffer$2.from(m+y,"hex")};return r.map(async(p,b)=>{a.signInput(b,{publicKey:n,sign:u})}),JSON.stringify(o)}extractTxFromTxInfo(t){const r=t,n=new src.Transaction;return n.version=r.version,n.locktime=r.locktime,r.vin.forEach(a=>{const o=Buffer$2.from(a.txid,"hex").reverse(),u=a.vout,p=a.sequence,b=a.scriptsig?Buffer$2.from(a.scriptsig,"hex"):void 0;n.addInput(o,u,p,b)}),r.vout.forEach(a=>{const o=a.value,u=Buffer$2.from(a.scriptpubkey,"hex");n.addOutput(u,o)}),r.vin.forEach((a,o)=>{if(a.witness&&a.witness.length>0){const u=a.witness.map(p=>Buffer$2.from(p,"hex"));n.setWitness(o,u)}}),n}}const{encode,encodeForSigning,setTransactionFlagsToNumber}=xrpl;class XRPUtils{async createUnsignedTransaction(t){let r=JSON.parse(t);setTransactionFlagsToNumber(r);const n=encodeForSigning(r),a=await crypto.subtle.digest("SHA-512",Buffer$2.from(n,"hex")),o=new Uint8Array(a.slice(0,32));return JSON.stringify({payload:o,unsignedTx:r})}signTransactionWithMPCSignature(t,r){t=JSON.parse(t);const{big_r:n,big_s:a}=JSON.parse(r),o={r:new BN$7(Buffer$2.from(n.slice(2),"hex")),s:new BN$7(Buffer$2.from(a,"hex"))},u=signature$2.prototype.toDER.call(o);return t.TxnSignature=Buffer$2.from(u).toString("hex"),encode(t)}}function accountInfo(e){var u,p,b,m,y,A,I,M,C,P,B,k,N;const t=(p=(u=e.encryptedBalance)==null?void 0:u.aggregatedAmount)==null?void 0:p.value,r=(b=e.encryptedBalance)==null?void 0:b.numAggregated,n={selfAmount:unwrapValToHex((m=e.encryptedBalance)==null?void 0:m.selfAmount),startIndex:((y=e.encryptedBalance)==null?void 0:y.startIndex)!=null?unwrap((A=e.encryptedBalance)==null?void 0:A.startIndex):BigInt(0),incomingAmounts:unwrap(((I=e.encryptedBalance)==null?void 0:I.incomingAmounts)??[]).map(unwrapValToHex),...r&&{numAggregated:r},...t&&{aggregatedAmount:unwrapToHex(t)}},a={total:fromProto$1(unwrap({value:((M=e.schedule)==null?void 0:M.total.value)??BigInt(0)})),schedule:unwrap(((C=e.schedule)==null?void 0:C.schedules)??[]).map(trRelease)},o={type:AccountInfoType.Simple,accountAddress:fromBuffer$2(Uint8Array.from(e.address.value)),accountNonce:fromProto(unwrap(e.sequenceNumber)),accountAmount:fromMicroCcd(e.amount.value??BigInt(0)),accountIndex:BigInt(unwrap((P=e.index)==null?void 0:P.value)),accountThreshold:unwrap((B=e.threshold)==null?void 0:B.value),accountEncryptionKey:unwrapValToHex(e.encryptionKey),accountEncryptedAmount:n,accountReleaseSchedule:a,accountCredentials:mapRecord(e.creds,trCred)};return((k=e.stake)==null?void 0:k.delegator)!==void 0?{...o,type:AccountInfoType.Delegator,accountDelegation:trDelegator(e.stake.delegator)}:((N=e.stake)==null?void 0:N.baker)!==void 0?{...o,type:AccountInfoType.Baker,accountBaker:trBaker(e.stake.baker)}:o}function cryptographicParameters(e){return{onChainCommitmentKey:unwrapToHex(e.onChainCommitmentKey),bulletproofGenerators:unwrapToHex(e.bulletproofGenerators),genesisString:e.genesisString}}function accountTransactionSignatureToV2(e){function t(n){return{value:Array.from(Buffer$2.from(n,"hex"))}}function r(n){return{signatures:mapRecord(n,t)}}return{signatures:mapRecord(e,r)}}function unwrapToHex(e){return Buffer$2.from(unwrap(e)).toString("hex")}function unwrapValToHex(e){return unwrapToHex(unwrap(e).value)}function trDelegator(e){return{restakeEarnings:e.restakeEarnings,stakedAmount:fromMicroCcd(e.stakedAmount.value),delegationTarget:trDelegatorTarget(e.target),...e.pendingChange&&{pendingChange:trPendingChange(e.pendingChange)}}}function trDelegatorTarget(e){if(e.passive!==void 0)return{delegateType:DelegationTargetType.PassiveDelegation};if(e.baker!==void 0)return{delegateType:DelegationTargetType.Baker,bakerId:e.baker.value};throw Error('DelegatorTarget expected to be of type "passive" or "baker", but found '+e.target.oneofKind)}function trPendingChange(e){var r;const t=e;if(t.reduce!==void 0)return{newStake:(r=t.reduce.newStake)==null?void 0:r.value,effectiveTime:trTimestamp(t.reduce.effectiveTime),change:StakePendingChangeType.ReduceStake};if(t.remove!==void 0)return{effectiveTime:trTimestamp(t.remove),change:StakePendingChangeType.RemoveStake};throw Error('PendingChange expected to be of type "reduce" or "remove", but found '+t.oneofKind)}function trTimestamp(e){return new Date(Number(unwrap(e==null?void 0:e.value)))}function trBaker(e){var a,o;const t=e.bakerInfo,r={version:0,restakeEarnings:e.restakeEarnings,bakerId:t.bakerId.value,bakerAggregationVerifyKey:unwrapToHex(t==null?void 0:t.aggregationKey.value),bakerElectionVerifyKey:unwrapToHex(t==null?void 0:t.electionKey.value),bakerSignatureVerifyKey:unwrapToHex(t==null?void 0:t.signatureKey.value),stakedAmount:fromMicroCcd(e.stakedAmount.value),...e.pendingChange&&{pendingChange:trPendingChange(e.pendingChange)}};if(e.poolInfo===void 0)return r;const n={openStatus:trOpenStatus((a=e.poolInfo)==null?void 0:a.openStatus),metadataUrl:e.poolInfo.url,commissionRates:trCommissionRates((o=e.poolInfo)==null?void 0:o.commissionRates)};return{...r,version:1,bakerPoolInfo:n}}function trOpenStatus(e){switch(e){case OpenStatus.OPEN_FOR_ALL:return OpenStatusText.OpenForAll;case OpenStatus.CLOSED_FOR_NEW:return OpenStatusText.ClosedForNew;case OpenStatus.CLOSED_FOR_ALL:return OpenStatusText.ClosedForAll;default:return"unknown"}}function trCommissionRates(e){return{transactionCommission:trAmountFraction(e==null?void 0:e.transaction),bakingCommission:trAmountFraction(e==null?void 0:e.baking),finalizationCommission:trAmountFraction(e==null?void 0:e.finalization)}}function trAmountFraction(e){return e.partsPerHundredThousand/1e5}function trRelease(e){return{timestamp:trTimestamp(e.timestamp),amount:fromProto$1(unwrap(e.amount)),transactions:e.transactions.map(unwrapValToHex)}}function trCred(e){var u,p,b,m,y;const t=e.normal!==void 0,r=t?e.normal:e.initial,n={validTo:trDate(unwrap((u=r.policy)==null?void 0:u.validTo)),createdAt:trDate(unwrap((p=r.policy)==null?void 0:p.createdAt)),revealedAttributes:mapRecord((b=r.policy)==null?void 0:b.attributes,unwrapToHex,trAttKey)},a={ipIdentity:unwrap(((m=r.ipId)==null?void 0:m.value)??0),credentialPublicKeys:trCredKeys(unwrap(r.keys)),policy:n};let o;return t?o={type:"normal",contents:{...a,credId:unwrapValToHex(r.credId),revocationThreshold:unwrap((y=r.arThreshold)==null?void 0:y.value),arData:mapRecord(r.arData,trChainArData,String),commitments:trCommits(unwrap(r.commitments))}}:o={type:"initial",contents:{...a,regId:unwrapValToHex(r.credId)}},{v:0,value:o}}function trDate(e){return String(e.year)+String(e.month).padStart(2,"0")}function trCredKeys(e){var t;return{threshold:unwrap((t=e.threshold)==null?void 0:t.value),keys:mapRecord(e.keys,trVerifyKey)}}function mapRecord(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a=>a;const n={};for(const a in e)n[r(a)]=t(e[a]);return n}function trAttKey(e){return AttributesKeys[e]}function trVerifyKey(e){return{schemeId:"Ed25519",verifyKey:unwrapToHex(e.ed25519Key)}}function trChainArData(e){return{encIdCredPubShare:unwrapToHex(e.encIdCredPubShare)}}function trCommits(e){return{cmmPrf:unwrapValToHex(e.prf),cmmCredCounter:unwrapValToHex(e.credCounter),cmmIdCredSecSharingCoeff:e.idCredSecSharingCoeff.map(unwrapValToHex),cmmAttributes:mapRecord(e.attributes,unwrapValToHex,trAttKey),cmmMaxAccounts:unwrapValToHex(e.maxAccounts)}}function filterRecord(e,t){return Object.fromEntries(Object.entries(e).filter(r=>{let[n,a]=r;return t(n,a)}))}var url=new URL("virtual-webworker-1727126870592.js",import.meta.url),worker=new Worker(url,{type:"module"}),emitter=new EventEmitter$1;worker.addEventListener("message",({data:e})=>{emitter.emit(e.reqID,e)});var frontWorker_default={async runtask(e,t){return new Promise((r,n)=>{const a=String(Date.now())+String(Math.random());worker.postMessage({reqID:a,op:e,args:t}),emitter.once(a,o=>{o.status==="ok"?r(o.result):n(o.result)})})}};function createIdentityWorker(...e){return frontWorker_default.runtask("createIdentityWorker",e)}function createAccountWorker(...e){return frontWorker_default.runtask("createAccountWorker",e)}function recoverIdentityWorker(...e){return frontWorker_default.runtask("recoverIdentityWorker",e)}class ConcordiumBlockchain{async createIdentityRequestParams(t,r,n,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;n=JSON.parse(n),a=JSON.parse(a),o=parseInt(o);const u=ConcordiumHdWallet.fromSeedPhrase(t,r),p=n.ipInfo.ipIdentity,b=u.getIdCredSec(p,o).toString("hex"),m=u.getPrfKey(p,o).toString("hex"),y=u.getSignatureBlindingRandomness(p,o).toString("hex"),A={arsInfos:n.arsInfos,arThreshold:this.determineAnonymityRevokerThreshold(Object.keys(n.arsInfos).length),ipInfo:n.ipInfo,globalContext:a,idCredSec:b,prfKey:m,blindingRandomness:y},I=await createIdentityWorker(A);return JSON.stringify(I)}async createIdentityRecoveryParams(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;a=parseInt(a),n=JSON.parse(n),o=JSON.parse(o);const u=n.ipInfo.ipIdentity,p={idCredSec:ConcordiumHdWallet.fromSeedPhrase(t,r).getIdCredSec(u,a).toString("hex"),ipInfo:n.ipInfo,globalContext:o,timestamp:Math.floor(Date.now()/1e3)},b=await recoverIdentityWorker(p),m={baseUrl:n.metadata.recoveryStart,searchParams:{state:JSON.stringify({idRecoveryRequest:b})}};return JSON.stringify(m)}async createCredentialDeploymentTransaction(t,r,n,a,o,u,p){n=parseInt(n),a=parseInt(a),o=JSON.parse(o),u=JSON.parse(u),p=JSON.parse(p);const{idCredSec:b,prfKey:m,attributeRandomness:y,blindingRandomness:A,credentialPublicKeys:I}=this.createCredentialDeploymentKeysAndRandomness(t,r,u.ipInfo.ipIdentity,n,a),M={revealedAttributes:[],idObject:o,globalContext:p,credNumber:a,ipInfo:u.ipInfo,arsInfos:u.arsInfos,attributeRandomness:y,credentialPublicKeys:I,idCredSec:b,prfKey:m,sigRetrievelRandomness:A},C=this.getDefaultTransactionExpiry(),P=await createAccountWorker(M,C),B=this.getAccountSigningKey(t,r,P.unsignedCdi.ipIdentity,n,a),k=await signCredentialTransaction(P,B),N=serializeCredentialDeploymentPayload([k],P),D=this.getAccountAddressInBase58FromCredentialId(P.unsignedCdi.credId),L={payload:Array.from(N),expiry:P.expiry,accountAddress:D};return JSON.stringify(L,(K,J)=>typeof J=="bigint"?parseInt(J):J)}async createTransferTransactionParams(t,r,n,a,o){t=fromBase58(t),r=fromBase58(r),n=fromMicroCcd(BigInt(n)),o=create$k(parseInt(o));const u={amount:n,toAddress:r},p={expiry:this.getDefaultTransactionExpiry(),nonce:o,sender:t},b={type:AccountTransactionType.Transfer,payload:u,header:p},m=await signTransaction$5(b,buildBasicAccountSigner(a)),y=getAccountTransactionHandler(b.type),A=serializeAccountTransactionPayload(b),I=y.getBaseEnergyCost(b.payload),M=calculateEnergyCost(this.countSignatures(m),BigInt(A.length),I),C=this.getRawAccountTransaction(b.header,M,A,m);return JSON.stringify(C,(P,B)=>typeof B=="bigint"?parseInt(B):B)}async createDelegationTransactionParams(t,r,n,a,o,u){t=fromBase58(t),r=JSON.parse(r),o=JSON.parse(o),a=create$k(parseInt(a)),u=JSON.parse(u);const p={expiry:this.getDefaultTransactionExpiry(),nonce:a,sender:t},b={};r!==null&&(r=fromMicroCcd(BigInt(r)),b.stake=r),o!==null&&(b.restakeEarnings=o),Object.keys(u).length!==0&&(b.delegationTarget=u);const m={header:p,payload:b,type:AccountTransactionType.ConfigureDelegation},y=await signTransaction$5(m,buildBasicAccountSigner(n)),A=getAccountTransactionHandler(m.type),I=serializeAccountTransactionPayload(m),M=A.getBaseEnergyCost(m.payload),C=calculateEnergyCost(this.countSignatures(y),BigInt(I.length),M),P=this.getRawAccountTransaction(m.header,C,I,y);return JSON.stringify(P,(B,k)=>typeof k=="bigint"?parseInt(k):k)}async createBakerTransactionParams(t,r,n,a,o,u,p){t=fromBase58(t),n=create$k(parseInt(n)),a=JSON.parse(a),o=JSON.parse(o),u=JSON.parse(u),p=JSON.parse(p);const b={...u};a!==null&&(a=fromMicroCcd(BigInt(a)),b.stake=a),Object.keys(p).length===0&&(p=generateBakerKeys(t),b.keys=p),o!==null&&(b.restakeEarnings=o);const m={expiry:this.getDefaultTransactionExpiry(),nonce:n,sender:t},y={type:AccountTransactionType.ConfigureBaker,payload:b,header:m},A=await signTransaction$5(y,buildBasicAccountSigner(r)),I=getAccountTransactionHandler(y.type),M=serializeAccountTransactionPayload(y),C=I.getBaseEnergyCost(y.payload),P=calculateEnergyCost(this.countSignatures(A),BigInt(M.length),C),B=this.getRawAccountTransaction(y.header,P,M,A);return JSON.stringify({...B,bakerKeys:p},(k,N)=>typeof N=="bigint"?parseInt(N):N)}getRawAccountTransaction(t,r,n,a){const o=accountTransactionSignatureToV2(a);if(toDate(t.expiry)<new Date)throw new Error("A transaction expiry is not allowed to be in the past: "+TransactionExpiry.toDate(t.expiry));const u={sender:{value:Array.from(t.sender.decodedAddress)},sequenceNumber:toProto(t.nonce),energyAmount:toProto$2(r),expiry:toProto$1(t.expiry)};return{signature:o,header:u,payload:{rawPayload:Array.from(n)}}}getAccountSigningKey(t,r,n,a,o){return n=parseInt(n),a=parseInt(a),o=parseInt(o),ConcordiumHdWallet.fromSeedPhrase(t,r).getAccountSigningKey(n,a,o).toString("hex")}getAccountPublicKey(t,r,n,a,o){return n=parseInt(n),a=parseInt(a),o=parseInt(o),ConcordiumHdWallet.fromSeedPhrase(t,r).getAccountPublicKey(n,a,o).toString("hex")}getAccountAddressFromMnemonic(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,u=arguments.length>5?arguments[5]:void 0;n=parseInt(n),a=parseInt(a),o=parseInt(o),u=JSON.parse(u);const p=ConcordiumHdWallet.fromSeedPhrase(t,r).getCredentialId(n,a,o,u);return this.getAccountAddressInBase58FromCredentialId(p)}getAccountAddressInBase58FromCredentialId(t){return getAccountAddress(t).address}createCredentialDeploymentKeysAndRandomness(t,r,n,a,o){const u=ConcordiumHdWallet.fromSeedPhrase(t,r),p={keys:{0:{schemeId:"Ed25519",verifyKey:u.getAccountPublicKey(n,a,o).toString("hex")}},threshold:1},b=u.getPrfKey(n,a).toString("hex"),m=u.getIdCredSec(n,a).toString("hex"),y=u.getSignatureBlindingRandomness(n,a).toString("hex"),A=mapRecord(filterRecord(AttributesKeys,I=>isNaN(Number(I))),I=>u.getAttributeCommitmentRandomness(n,a,o,I).toString("hex"));return{prfKey:b,idCredSec:m,blindingRandomness:y,attributeRandomness:A,credentialPublicKeys:p}}accountInfoFromProtoFormat(t){return t=JSON.parse(t),JSON.stringify(accountInfo(t),(r,n)=>typeof n=="bigint"?parseInt(n):n)}transactionHashFromProtoFormat(t){t=JSON.parse(t);const r=fromBuffer$1(Buffer$2.from(t));return toHexString(r)}cryptographicParametersFromProtoFormat(t){return t=JSON.parse(t),JSON.stringify(cryptographicParameters(t),(r,n)=>typeof n=="bigint"?parseInt(n):n)}determineAnonymityRevokerThreshold(t){return Math.min(t-1,255)}getDefaultTransactionExpiry(){return fromDate(new Date(Date.now()+36e4))}countSignatures(t){let r=0n;const n=Object.values(t);for(const a of n){const o=BigInt(Object.keys(a).length);r+=o}return r}}window.ConcordiumBlockchain=new ConcordiumBlockchain,window.EVMUtils=new EVMUtils,window.BitcoinUtils=new BitcoinUtils,window.XRPUtils=new XRPUtils,window.generateAddressForNearMPC=generateAddressForNearMPC});
